var OH=Object.defineProperty;var MH=(e,t,n)=>t in e?OH(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ew=(e,t,n)=>MH(e,typeof t!="symbol"?t+"":t,n);function b8(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Lp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ia(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DH(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tw={exports:{}},Im={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T3;function RH(){if(T3)return Im;T3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var d in i)d!=="key"&&(s[d]=i[d])}else s=i;return i=s.ref,{$$typeof:e,type:r,key:l,ref:i!==void 0?i:null,props:s}}return Im.Fragment=t,Im.jsx=n,Im.jsxs=n,Im}var O3;function PH(){return O3||(O3=1,tw.exports=RH()),tw.exports}var a=PH(),nw={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M3;function IH(){if(M3)return Ut;M3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),v=Symbol.iterator;function S(re){return re===null||typeof re!="object"?null:(re=v&&re[v]||re["@@iterator"],typeof re=="function"?re:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,_={};function C(re,de,oe){this.props=re,this.context=de,this.refs=_,this.updater=oe||A}C.prototype.isReactComponent={},C.prototype.setState=function(re,de){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,de,"setState")},C.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function M(){}M.prototype=C.prototype;function P(re,de,oe){this.props=re,this.context=de,this.refs=_,this.updater=oe||A}var R=P.prototype=new M;R.constructor=P,T(R,C.prototype),R.isPureReactComponent=!0;var U=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},L=Object.prototype.hasOwnProperty;function F(re,de,oe,he,Re,Le){return oe=Le.ref,{$$typeof:e,type:re,key:de,ref:oe!==void 0?oe:null,props:Le}}function V(re,de){return F(re.type,de,void 0,void 0,void 0,re.props)}function z(re){return typeof re=="object"&&re!==null&&re.$$typeof===e}function H(re){var de={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(oe){return de[oe]})}var W=/\/+/g;function q(re,de){return typeof re=="object"&&re!==null&&re.key!=null?H(""+re.key):de.toString(36)}function Q(){}function te(re){switch(re.status){case"fulfilled":return re.value;case"rejected":throw re.reason;default:switch(typeof re.status=="string"?re.then(Q,Q):(re.status="pending",re.then(function(de){re.status==="pending"&&(re.status="fulfilled",re.value=de)},function(de){re.status==="pending"&&(re.status="rejected",re.reason=de)})),re.status){case"fulfilled":return re.value;case"rejected":throw re.reason}}throw re}function J(re,de,oe,he,Re){var Le=typeof re;(Le==="undefined"||Le==="boolean")&&(re=null);var le=!1;if(re===null)le=!0;else switch(Le){case"bigint":case"string":case"number":le=!0;break;case"object":switch(re.$$typeof){case e:case t:le=!0;break;case p:return le=re._init,J(le(re._payload),de,oe,he,Re)}}if(le)return Re=Re(re),le=he===""?"."+q(re,0):he,U(Re)?(oe="",le!=null&&(oe=le.replace(W,"$&/")+"/"),J(Re,de,oe,"",function(xe){return xe})):Re!=null&&(z(Re)&&(Re=V(Re,oe+(Re.key==null||re&&re.key===Re.key?"":(""+Re.key).replace(W,"$&/")+"/")+le)),de.push(Re)),1;le=0;var pe=he===""?".":he+":";if(U(re))for(var je=0;je<re.length;je++)he=re[je],Le=pe+q(he,je),le+=J(he,de,oe,Le,Re);else if(je=S(re),typeof je=="function")for(re=je.call(re),je=0;!(he=re.next()).done;)he=he.value,Le=pe+q(he,je++),le+=J(he,de,oe,Le,Re);else if(Le==="object"){if(typeof re.then=="function")return J(te(re),de,oe,he,Re);throw de=String(re),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.")}return le}function Y(re,de,oe){if(re==null)return re;var he=[],Re=0;return J(re,he,"","",function(Le){return de.call(oe,Le,Re++)}),he}function ne(re){if(re._status===-1){var de=re._result;de=de(),de.then(function(oe){(re._status===0||re._status===-1)&&(re._status=1,re._result=oe)},function(oe){(re._status===0||re._status===-1)&&(re._status=2,re._result=oe)}),re._status===-1&&(re._status=0,re._result=de)}if(re._status===1)return re._result.default;throw re._result}var se=typeof reportError=="function"?reportError:function(re){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var de=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof re=="object"&&re!==null&&typeof re.message=="string"?String(re.message):String(re),error:re});if(!window.dispatchEvent(de))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",re);return}console.error(re)};function me(){}return Ut.Children={map:Y,forEach:function(re,de,oe){Y(re,function(){de.apply(this,arguments)},oe)},count:function(re){var de=0;return Y(re,function(){de++}),de},toArray:function(re){return Y(re,function(de){return de})||[]},only:function(re){if(!z(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},Ut.Component=C,Ut.Fragment=n,Ut.Profiler=i,Ut.PureComponent=P,Ut.StrictMode=r,Ut.Suspense=m,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,Ut.__COMPILER_RUNTIME={__proto__:null,c:function(re){return B.H.useMemoCache(re)}},Ut.cache=function(re){return function(){return re.apply(null,arguments)}},Ut.cloneElement=function(re,de,oe){if(re==null)throw Error("The argument must be a React element, but you passed "+re+".");var he=T({},re.props),Re=re.key,Le=void 0;if(de!=null)for(le in de.ref!==void 0&&(Le=void 0),de.key!==void 0&&(Re=""+de.key),de)!L.call(de,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&de.ref===void 0||(he[le]=de[le]);var le=arguments.length-2;if(le===1)he.children=oe;else if(1<le){for(var pe=Array(le),je=0;je<le;je++)pe[je]=arguments[je+2];he.children=pe}return F(re.type,Re,void 0,void 0,Le,he)},Ut.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null},re.Provider=re,re.Consumer={$$typeof:s,_context:re},re},Ut.createElement=function(re,de,oe){var he,Re={},Le=null;if(de!=null)for(he in de.key!==void 0&&(Le=""+de.key),de)L.call(de,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Re[he]=de[he]);var le=arguments.length-2;if(le===1)Re.children=oe;else if(1<le){for(var pe=Array(le),je=0;je<le;je++)pe[je]=arguments[je+2];Re.children=pe}if(re&&re.defaultProps)for(he in le=re.defaultProps,le)Re[he]===void 0&&(Re[he]=le[he]);return F(re,Le,void 0,void 0,null,Re)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(re){return{$$typeof:d,render:re}},Ut.isValidElement=z,Ut.lazy=function(re){return{$$typeof:p,_payload:{_status:-1,_result:re},_init:ne}},Ut.memo=function(re,de){return{$$typeof:h,type:re,compare:de===void 0?null:de}},Ut.startTransition=function(re){var de=B.T,oe={};B.T=oe;try{var he=re(),Re=B.S;Re!==null&&Re(oe,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(me,se)}catch(Le){se(Le)}finally{B.T=de}},Ut.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},Ut.use=function(re){return B.H.use(re)},Ut.useActionState=function(re,de,oe){return B.H.useActionState(re,de,oe)},Ut.useCallback=function(re,de){return B.H.useCallback(re,de)},Ut.useContext=function(re){return B.H.useContext(re)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(re,de){return B.H.useDeferredValue(re,de)},Ut.useEffect=function(re,de,oe){var he=B.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return he.useEffect(re,de)},Ut.useId=function(){return B.H.useId()},Ut.useImperativeHandle=function(re,de,oe){return B.H.useImperativeHandle(re,de,oe)},Ut.useInsertionEffect=function(re,de){return B.H.useInsertionEffect(re,de)},Ut.useLayoutEffect=function(re,de){return B.H.useLayoutEffect(re,de)},Ut.useMemo=function(re,de){return B.H.useMemo(re,de)},Ut.useOptimistic=function(re,de){return B.H.useOptimistic(re,de)},Ut.useReducer=function(re,de,oe){return B.H.useReducer(re,de,oe)},Ut.useRef=function(re){return B.H.useRef(re)},Ut.useState=function(re){return B.H.useState(re)},Ut.useSyncExternalStore=function(re,de,oe){return B.H.useSyncExternalStore(re,de,oe)},Ut.useTransition=function(){return B.H.useTransition()},Ut.version="19.1.0",Ut}var D3;function bh(){return D3||(D3=1,nw.exports=IH()),nw.exports}var N=bh();const Je=Ia(N),w8=b8({__proto__:null,default:Je},[N]);var rw={exports:{}},km={},iw={exports:{}},aw={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R3;function kH(){return R3||(R3=1,function(e){function t(Y,ne){var se=Y.length;Y.push(ne);e:for(;0<se;){var me=se-1>>>1,re=Y[me];if(0<i(re,ne))Y[me]=ne,Y[se]=re,se=me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ne=Y[0],se=Y.pop();if(se!==ne){Y[0]=se;e:for(var me=0,re=Y.length,de=re>>>1;me<de;){var oe=2*(me+1)-1,he=Y[oe],Re=oe+1,Le=Y[Re];if(0>i(he,se))Re<re&&0>i(Le,he)?(Y[me]=Le,Y[Re]=se,me=Re):(Y[me]=he,Y[oe]=se,me=oe);else if(Re<re&&0>i(Le,se))Y[me]=Le,Y[Re]=se,me=Re;else break e}}return ne}function i(Y,ne){var se=Y.sortIndex-ne.sortIndex;return se!==0?se:Y.id-ne.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var m=[],h=[],p=1,v=null,S=3,A=!1,T=!1,_=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function U(Y){for(var ne=n(h);ne!==null;){if(ne.callback===null)r(h);else if(ne.startTime<=Y)r(h),ne.sortIndex=ne.expirationTime,t(m,ne);else break;ne=n(h)}}function B(Y){if(_=!1,U(Y),!T)if(n(m)!==null)T=!0,L||(L=!0,q());else{var ne=n(h);ne!==null&&J(B,ne.startTime-Y)}}var L=!1,F=-1,V=5,z=-1;function H(){return C?!0:!(e.unstable_now()-z<V)}function W(){if(C=!1,L){var Y=e.unstable_now();z=Y;var ne=!0;try{e:{T=!1,_&&(_=!1,P(F),F=-1),A=!0;var se=S;try{t:{for(U(Y),v=n(m);v!==null&&!(v.expirationTime>Y&&H());){var me=v.callback;if(typeof me=="function"){v.callback=null,S=v.priorityLevel;var re=me(v.expirationTime<=Y);if(Y=e.unstable_now(),typeof re=="function"){v.callback=re,U(Y),ne=!0;break t}v===n(m)&&r(m),U(Y)}else r(m);v=n(m)}if(v!==null)ne=!0;else{var de=n(h);de!==null&&J(B,de.startTime-Y),ne=!1}}break e}finally{v=null,S=se,A=!1}ne=void 0}}finally{ne?q():L=!1}}}var q;if(typeof R=="function")q=function(){R(W)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,te=Q.port2;Q.port1.onmessage=W,q=function(){te.postMessage(null)}}else q=function(){M(W,0)};function J(Y,ne){F=M(function(){Y(e.unstable_now())},ne)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Y){Y.callback=null},e.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},e.unstable_getCurrentPriorityLevel=function(){return S},e.unstable_next=function(Y){switch(S){case 1:case 2:case 3:var ne=3;break;default:ne=S}var se=S;S=ne;try{return Y()}finally{S=se}},e.unstable_requestPaint=function(){C=!0},e.unstable_runWithPriority=function(Y,ne){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var se=S;S=Y;try{return ne()}finally{S=se}},e.unstable_scheduleCallback=function(Y,ne,se){var me=e.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?me+se:me):se=me,Y){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=se+re,Y={id:p++,callback:ne,priorityLevel:Y,startTime:se,expirationTime:re,sortIndex:-1},se>me?(Y.sortIndex=se,t(h,Y),n(m)===null&&Y===n(h)&&(_?(P(F),F=-1):_=!0,J(B,se-me))):(Y.sortIndex=re,t(m,Y),T||A||(T=!0,L||(L=!0,q()))),Y},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(Y){var ne=S;return function(){var se=S;S=ne;try{return Y.apply(this,arguments)}finally{S=se}}}}(aw)),aw}var P3;function LH(){return P3||(P3=1,iw.exports=kH()),iw.exports}var sw={exports:{}},$i={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I3;function BH(){if(I3)return $i;I3=1;var e=bh();function t(m){var h="https://react.dev/errors/"+m;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+m+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(m,h,p){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:v==null?null:""+v,children:m,containerInfo:h,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,h){if(m==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return $i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,$i.createPortal=function(m,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return s(m,h,null,p)},$i.flushSync=function(m){var h=l.T,p=r.p;try{if(l.T=null,r.p=2,m)return m()}finally{l.T=h,r.p=p,r.d.f()}},$i.preconnect=function(m,h){typeof m=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(m,h))},$i.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},$i.preinit=function(m,h){if(typeof m=="string"&&h&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin),S=typeof h.integrity=="string"?h.integrity:void 0,A=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?r.d.S(m,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:v,integrity:S,fetchPriority:A}):p==="script"&&r.d.X(m,{crossOrigin:v,integrity:S,fetchPriority:A,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},$i.preinitModule=function(m,h){if(typeof m=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);r.d.M(m,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(m)},$i.preload=function(m,h){if(typeof m=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,v=d(p,h.crossOrigin);r.d.L(m,p,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},$i.preloadModule=function(m,h){if(typeof m=="string")if(h){var p=d(h.as,h.crossOrigin);r.d.m(m,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(m)},$i.requestFormReset=function(m){r.d.r(m)},$i.unstable_batchedUpdates=function(m,h){return m(h)},$i.useFormState=function(m,h,p){return l.H.useFormState(m,h,p)},$i.useFormStatus=function(){return l.H.useHostTransitionStatus()},$i.version="19.1.0",$i}var k3;function j8(){if(k3)return sw.exports;k3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sw.exports=BH(),sw.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L3;function FH(){if(L3)return km;L3=1;var e=LH(),t=bh(),n=j8();function r(o){var u="https://react.dev/errors/"+o;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function s(o){var u=o,x=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,(u.flags&4098)!==0&&(x=u.return),o=u.return;while(o)}return u.tag===3?x:null}function l(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function d(o){if(s(o)!==o)throw Error(r(188))}function m(o){var u=o.alternate;if(!u){if(u=s(o),u===null)throw Error(r(188));return u!==o?null:o}for(var x=o,w=u;;){var O=x.return;if(O===null)break;var I=O.alternate;if(I===null){if(w=O.return,w!==null){x=w;continue}break}if(O.child===I.child){for(I=O.child;I;){if(I===x)return d(O),o;if(I===w)return d(O),u;I=I.sibling}throw Error(r(188))}if(x.return!==w.return)x=O,w=I;else{for(var G=!1,ee=O.child;ee;){if(ee===x){G=!0,x=O,w=I;break}if(ee===w){G=!0,w=O,x=I;break}ee=ee.sibling}if(!G){for(ee=I.child;ee;){if(ee===x){G=!0,x=I,w=O;break}if(ee===w){G=!0,w=I,x=O;break}ee=ee.sibling}if(!G)throw Error(r(189))}}if(x.alternate!==w)throw Error(r(190))}if(x.tag!==3)throw Error(r(188));return x.stateNode.current===x?o:u}function h(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o;for(o=o.child;o!==null;){if(u=h(o),u!==null)return u;o=o.sibling}return null}var p=Object.assign,v=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),P=Symbol.for("react.consumer"),R=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),V=Symbol.for("react.lazy"),z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),W=Symbol.iterator;function q(o){return o===null||typeof o!="object"?null:(o=W&&o[W]||o["@@iterator"],typeof o=="function"?o:null)}var Q=Symbol.for("react.client.reference");function te(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Q?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case T:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case B:return"Suspense";case L:return"SuspenseList";case z:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case A:return"Portal";case R:return(o.displayName||"Context")+".Provider";case P:return(o._context.displayName||"Context")+".Consumer";case U:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case F:return u=o.displayName||null,u!==null?u:te(o.type)||"Memo";case V:u=o._payload,o=o._init;try{return te(o(u))}catch{}}return null}var J=Array.isArray,Y=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se={pending:!1,data:null,method:null,action:null},me=[],re=-1;function de(o){return{current:o}}function oe(o){0>re||(o.current=me[re],me[re]=null,re--)}function he(o,u){re++,me[re]=o.current,o.current=u}var Re=de(null),Le=de(null),le=de(null),pe=de(null);function je(o,u){switch(he(le,u),he(Le,o),he(Re,null),u.nodeType){case 9:case 11:o=(o=u.documentElement)&&(o=o.namespaceURI)?r3(o):0;break;default:if(o=u.tagName,u=u.namespaceURI)u=r3(u),o=i3(u,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}oe(Re),he(Re,o)}function xe(){oe(Re),oe(Le),oe(le)}function Fe(o){o.memoizedState!==null&&he(pe,o);var u=Re.current,x=i3(u,o.type);u!==x&&(he(Le,o),he(Re,x))}function Ce(o){Le.current===o&&(oe(Re),oe(Le)),pe.current===o&&(oe(pe),Om._currentValue=se)}var we=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,Ze=e.unstable_shouldYield,yt=e.unstable_requestPaint,Ke=e.unstable_now,xt=e.unstable_getCurrentPriorityLevel,tt=e.unstable_ImmediatePriority,or=e.unstable_UserBlockingPriority,it=e.unstable_NormalPriority,fn=e.unstable_LowPriority,$r=e.unstable_IdlePriority,lr=e.log,Ii=e.unstable_setDisableYieldValue,vn=null,zn=null;function cr(o){if(typeof lr=="function"&&Ii(o),zn&&typeof zn.setStrictMode=="function")try{zn.setStrictMode(vn,o)}catch{}}var Jt=Math.clz32?Math.clz32:us,ka=Math.log,Bs=Math.LN2;function us(o){return o>>>=0,o===0?32:31-(ka(o)/Bs|0)|0}var nn=256,Qe=4194304;function hn(o){var u=o&42;if(u!==0)return u;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function rn(o,u,x){var w=o.pendingLanes;if(w===0)return 0;var O=0,I=o.suspendedLanes,G=o.pingedLanes;o=o.warmLanes;var ee=w&134217727;return ee!==0?(w=ee&~I,w!==0?O=hn(w):(G&=ee,G!==0?O=hn(G):x||(x=ee&~o,x!==0&&(O=hn(x))))):(ee=w&~I,ee!==0?O=hn(ee):G!==0?O=hn(G):x||(x=w&~o,x!==0&&(O=hn(x)))),O===0?0:u!==0&&u!==O&&(u&I)===0&&(I=O&-O,x=u&-u,I>=x||I===32&&(x&4194048)!==0)?u:O}function wn(o,u){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&u)===0}function Fs(o,u){switch(o){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ea(){var o=nn;return nn<<=1,(nn&4194048)===0&&(nn=256),o}function mu(){var o=Qe;return Qe<<=1,(Qe&62914560)===0&&(Qe=4194304),o}function Gt(o){for(var u=[],x=0;31>x;x++)u.push(o);return u}function ki(o,u){o.pendingLanes|=u,u!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function gu(o,u,x,w,O,I){var G=o.pendingLanes;o.pendingLanes=x,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=x,o.entangledLanes&=x,o.errorRecoveryDisabledLanes&=x,o.shellSuspendCounter=0;var ee=o.entanglements,ce=o.expirationTimes,Ee=o.hiddenUpdates;for(x=G&~x;0<x;){var Be=31-Jt(x),Ve=1<<Be;ee[Be]=0,ce[Be]=-1;var Te=Ee[Be];if(Te!==null)for(Ee[Be]=null,Be=0;Be<Te.length;Be++){var Me=Te[Be];Me!==null&&(Me.lane&=-536870913)}x&=~Ve}w!==0&&Mt(o,w,0),I!==0&&O===0&&o.tag!==0&&(o.suspendedLanes|=I&~(G&~u))}function Mt(o,u,x){o.pendingLanes|=u,o.suspendedLanes&=~u;var w=31-Jt(u);o.entangledLanes|=u,o.entanglements[w]=o.entanglements[w]|1073741824|x&4194090}function dn(o,u){var x=o.entangledLanes|=u;for(o=o.entanglements;x;){var w=31-Jt(x),O=1<<w;O&u|o[w]&u&&(o[w]|=u),x&=~O}}function Qn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function sn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function va(){var o=ne.p;return o!==0?o:(o=window.event,o===void 0?32:S3(o.type))}function Zn(o,u){var x=ne.p;try{return ne.p=o,u()}finally{ne.p=x}}var mn=Math.random().toString(36).slice(2),ur="__reactFiber$"+mn,on="__reactProps$"+mn,jr="__reactContainer$"+mn,Or="__reactEvents$"+mn,Ni="__reactListeners$"+mn,ta="__reactHandles$"+mn,ot="__reactResources$"+mn,ds="__reactMarker$"+mn;function pu(o){delete o[ur],delete o[on],delete o[Or],delete o[Ni],delete o[ta]}function Mr(o){var u=o[ur];if(u)return u;for(var x=o.parentNode;x;){if(u=x[jr]||x[ur]){if(x=u.alternate,u.child!==null||x!==null&&x.child!==null)for(o=l3(o);o!==null;){if(x=o[ur])return x;o=l3(o)}return u}o=x,x=o.parentNode}return null}function La(o){if(o=o[ur]||o[jr]){var u=o.tag;if(u===5||u===6||u===13||u===26||u===27||u===3)return o}return null}function co(o){var u=o.tag;if(u===5||u===26||u===27||u===6)return o.stateNode;throw Error(r(33))}function Us(o){var u=o[ot];return u||(u=o[ot]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function An(o){o[ds]=!0}var Cg=new Set,Tg={};function fi(o,u){Sr(o,u),Sr(o+"Capture",u)}function Sr(o,u){for(Tg[o]=u,o=0;o<u.length;o++)Cg.add(u[o])}var Vn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),$h={},zs={};function Hh(o){return we.call(zs,o)?!0:we.call($h,o)?!1:Vn.test(o)?zs[o]=!0:($h[o]=!0,!1)}function $e(o,u,x){if(Hh(u))if(x===null)o.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":o.removeAttribute(u);return;case"boolean":var w=u.toLowerCase().slice(0,5);if(w!=="data-"&&w!=="aria-"){o.removeAttribute(u);return}}o.setAttribute(u,""+x)}}function kd(o,u,x){if(x===null)o.removeAttribute(u);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(u);return}o.setAttribute(u,""+x)}}function gn(o,u,x,w){if(w===null)o.removeAttribute(x);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(x);return}o.setAttributeNS(u,x,""+w)}}var uo,Og;function Kt(o){if(uo===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);uo=u&&u[1]||"",Og=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+uo+o+Og}var an=!1;function $t(o,u){if(!o||an)return"";an=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(u){var Ve=function(){throw Error()};if(Object.defineProperty(Ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ve,[])}catch(Me){var Te=Me}Reflect.construct(o,[],Ve)}else{try{Ve.call()}catch(Me){Te=Me}o.call(Ve.prototype)}}else{try{throw Error()}catch(Me){Te=Me}(Ve=o())&&typeof Ve.catch=="function"&&Ve.catch(function(){})}}catch(Me){if(Me&&Te&&typeof Me.stack=="string")return[Me.stack,Te.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var O=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,"name");O&&O.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var I=w.DetermineComponentFrameRoot(),G=I[0],ee=I[1];if(G&&ee){var ce=G.split(`
`),Ee=ee.split(`
`);for(O=w=0;w<ce.length&&!ce[w].includes("DetermineComponentFrameRoot");)w++;for(;O<Ee.length&&!Ee[O].includes("DetermineComponentFrameRoot");)O++;if(w===ce.length||O===Ee.length)for(w=ce.length-1,O=Ee.length-1;1<=w&&0<=O&&ce[w]!==Ee[O];)O--;for(;1<=w&&0<=O;w--,O--)if(ce[w]!==Ee[O]){if(w!==1||O!==1)do if(w--,O--,0>O||ce[w]!==Ee[O]){var Be=`
`+ce[w].replace(" at new "," at ");return o.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",o.displayName)),Be}while(1<=w&&0<=O);break}}}finally{an=!1,Error.prepareStackTrace=x}return(x=o?o.displayName||o.name:"")?Kt(x):""}function qh(o){switch(o.tag){case 26:case 27:case 5:return Kt(o.type);case 16:return Kt("Lazy");case 13:return Kt("Suspense");case 19:return Kt("SuspenseList");case 0:case 15:return $t(o.type,!1);case 11:return $t(o.type.render,!1);case 1:return $t(o.type,!0);case 31:return Kt("Activity");default:return""}}function Ld(o){try{var u="";do u+=qh(o),o=o.return;while(o);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function Li(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Nr(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function fo(o){var u=Nr(o)?"checked":"value",x=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),w=""+o[u];if(!o.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var O=x.get,I=x.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return O.call(this)},set:function(G){w=""+G,I.call(this,G)}}),Object.defineProperty(o,u,{enumerable:x.enumerable}),{getValue:function(){return w},setValue:function(G){w=""+G},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Bd(o){o._valueTracker||(o._valueTracker=fo(o))}function Jn(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var x=u.getValue(),w="";return o&&(w=Nr(o)?o.checked?"true":"false":o.value),o=w,o!==x?(u.setValue(o),!0):!1}function Ba(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var sy=/[\n"\\]/g;function ei(o){return o.replace(sy,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function jn(o,u,x,w,O,I,G,ee){o.name="",G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?o.type=G:o.removeAttribute("type"),u!=null?G==="number"?(u===0&&o.value===""||o.value!=u)&&(o.value=""+Li(u)):o.value!==""+Li(u)&&(o.value=""+Li(u)):G!=="submit"&&G!=="reset"||o.removeAttribute("value"),u!=null?Ne(o,G,Li(u)):x!=null?Ne(o,G,Li(x)):w!=null&&o.removeAttribute("value"),O==null&&I!=null&&(o.defaultChecked=!!I),O!=null&&(o.checked=O&&typeof O!="function"&&typeof O!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.name=""+Li(ee):o.removeAttribute("name")}function ti(o,u,x,w,O,I,G,ee){if(I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(o.type=I),u!=null||x!=null){if(!(I!=="submit"&&I!=="reset"||u!=null))return;x=x!=null?""+Li(x):"",u=u!=null?""+Li(u):x,ee||u===o.value||(o.value=u),o.defaultValue=u}w=w??O,w=typeof w!="function"&&typeof w!="symbol"&&!!w,o.checked=ee?o.checked:!!w,o.defaultChecked=!!w,G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"&&(o.name=G)}function Ne(o,u,x){u==="number"&&Ba(o.ownerDocument)===o||o.defaultValue===""+x||(o.defaultValue=""+x)}function ie(o,u,x,w){if(o=o.options,u){u={};for(var O=0;O<x.length;O++)u["$"+x[O]]=!0;for(x=0;x<o.length;x++)O=u.hasOwnProperty("$"+o[x].value),o[x].selected!==O&&(o[x].selected=O),O&&w&&(o[x].defaultSelected=!0)}else{for(x=""+Li(x),u=null,O=0;O<o.length;O++){if(o[O].value===x){o[O].selected=!0,w&&(o[O].defaultSelected=!0);return}u!==null||o[O].disabled||(u=o[O])}u!==null&&(u.selected=!0)}}function vt(o,u,x){if(u!=null&&(u=""+Li(u),u!==o.value&&(o.value=u),x==null)){o.defaultValue!==u&&(o.defaultValue=u);return}o.defaultValue=x!=null?""+Li(x):""}function Dr(o,u,x,w){if(u==null){if(w!=null){if(x!=null)throw Error(r(92));if(J(w)){if(1<w.length)throw Error(r(93));w=w[0]}x=w}x==null&&(x=""),u=x}x=Li(u),o.defaultValue=x,w=o.textContent,w===x&&w!==""&&w!==null&&(o.value=w)}function ni(o,u){if(u){var x=o.firstChild;if(x&&x===o.lastChild&&x.nodeType===3){x.nodeValue=u;return}}o.textContent=u}var oy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fd(o,u,x){var w=u.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?w?o.setProperty(u,""):u==="float"?o.cssFloat="":o[u]="":w?o.setProperty(u,x):typeof x!="number"||x===0||oy.has(u)?u==="float"?o.cssFloat=x:o[u]=(""+x).trim():o[u]=x+"px"}function na(o,u,x){if(u!=null&&typeof u!="object")throw Error(r(62));if(o=o.style,x!=null){for(var w in x)!x.hasOwnProperty(w)||u!=null&&u.hasOwnProperty(w)||(w.indexOf("--")===0?o.setProperty(w,""):w==="float"?o.cssFloat="":o[w]="");for(var O in u)w=u[O],u.hasOwnProperty(O)&&x[O]!==w&&Fd(o,O,w)}else for(var I in u)u.hasOwnProperty(I)&&Fd(o,I,u[I])}function bt(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yn=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Mg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ud(o){return Mg.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}var xu=null;function Jl(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ho=null,ec=null;function Rr(o){var u=La(o);if(u&&(o=u.stateNode)){var x=o[on]||null;e:switch(o=u.stateNode,u.type){case"input":if(jn(o,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),u=x.name,x.type==="radio"&&u!=null){for(x=o;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+ei(""+u)+'"][type="radio"]'),u=0;u<x.length;u++){var w=x[u];if(w!==o&&w.form===o.form){var O=w[on]||null;if(!O)throw Error(r(90));jn(w,O.value,O.defaultValue,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name)}}for(u=0;u<x.length;u++)w=x[u],w.form===o.form&&Jn(w)}break e;case"textarea":vt(o,x.value,x.defaultValue);break e;case"select":u=x.value,u!=null&&ie(o,!!x.multiple,u,!1)}}}var nl=!1;function Vs(o,u,x){if(nl)return o(u,x);nl=!0;try{var w=o(u);return w}finally{if(nl=!1,(ho!==null||ec!==null)&&(pp(),ho&&(u=ho,o=ec,ec=ho=null,Rr(u),o)))for(u=0;u<o.length;u++)Rr(o[u])}}function jt(o,u){var x=o.stateNode;if(x===null)return null;var w=x[on]||null;if(w===null)return null;x=w[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(w=!w.disabled)||(o=o.type,w=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!w;break e;default:o=!1}if(o)return null;if(x&&typeof x!="function")throw Error(r(231,u,typeof x));return x}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),It=!1;if($s)try{var dr={};Object.defineProperty(dr,"passive",{get:function(){It=!0}}),window.addEventListener("test",dr,dr),window.removeEventListener("test",dr,dr)}catch{It=!1}var mo=null,vu=null,yu=null;function go(){if(yu)return yu;var o,u=vu,x=u.length,w,O="value"in mo?mo.value:mo.textContent,I=O.length;for(o=0;o<x&&u[o]===O[o];o++);var G=x-o;for(w=1;w<=G&&u[x-w]===O[I-w];w++);return yu=O.slice(o,1<w?1-w:void 0)}function zd(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function po(){return!0}function tc(){return!1}function Hr(o){function u(x,w,O,I,G){this._reactName=x,this._targetInst=O,this.type=w,this.nativeEvent=I,this.target=G,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(x=o[ee],this[ee]=x?x(I):I[ee]);return this.isDefaultPrevented=(I.defaultPrevented!=null?I.defaultPrevented:I.returnValue===!1)?po:tc,this.isPropagationStopped=tc,this}return p(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),u}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Hr(xo),Hs=p({},xo,{view:0,detail:0}),Bi=Hr(Hs),Vd,$d,nc,Hd=p({},Hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==nc&&(nc&&o.type==="mousemove"?(Vd=o.screenX-nc.screenX,$d=o.screenY-nc.screenY):$d=Vd=0,nc=o),Vd)},movementY:function(o){return"movementY"in o?o.movementY:$d}}),Dg=Hr(Hd),ly=p({},Hd,{dataTransfer:0}),Sn=Hr(ly),Rg=p({},Hs,{relatedTarget:0}),rc=Hr(Rg),yo=p({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),cy=Hr(yo),De=p({},xo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Ft=Hr(De),ri=p({},xo,{data:0}),bu=Hr(ri),Pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fy(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=dy[o])?!!u[o]:!1}function wu(){return fy}var Pr=p({},Hs,{key:function(o){if(o.key){var u=Pg[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=zd(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?uy[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wu,charCode:function(o){return o.type==="keypress"?zd(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?zd(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Yh=Hr(Pr),er=p({},Hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ju=Hr(er),rl=p({},Hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wu}),En=Hr(rl),Nt=p({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),hy=Hr(Nt),Ln=p({},Hd,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),il=Hr(Ln),ic=p({},xo,{newState:0,oldState:0}),my=Hr(ic),fs=[9,13,27,32],Su=$s&&"CompositionEvent"in window,ac=null;$s&&"documentMode"in document&&(ac=document.documentMode);var Wh=$s&&"TextEvent"in window&&!ac,Gh=$s&&(!Su||ac&&8<ac&&11>=ac),Kh=" ",Ig=!1;function al(o,u){switch(o){case"keyup":return fs.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var sc=!1;function Nu(o,u){switch(o){case"compositionend":return qd(u);case"keypress":return u.which!==32?null:(Ig=!0,Kh);case"textInput":return o=u.data,o===Kh&&Ig?null:o;default:return null}}function gy(o,u){if(sc)return o==="compositionend"||!Su&&al(o,u)?(o=go(),yu=vu=mo=null,sc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Gh&&u.locale!=="ko"?null:u.data;default:return null}}var bo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Au(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!bo[o.type]:u==="textarea"}function ra(o,u,x,w){ho?ec?ec.push(w):ec=[w]:ho=w,u=jp(u,"onChange"),0<u.length&&(x=new vo("onChange","change",null,x,w),o.push({event:x,listeners:u}))}var oc=null,Fi=null;function py(o){Z4(o,0)}function lc(o){var u=co(o);if(Jn(u))return o}function kg(o,u){if(o==="change")return u}var Xh=!1;if($s){var ya;if($s){var Qh="oninput"in document;if(!Qh){var Yd=document.createElement("div");Yd.setAttribute("oninput","return;"),Qh=typeof Yd.oninput=="function"}ya=Qh}else ya=!1;Xh=ya&&(!document.documentMode||9<document.documentMode)}function cc(){oc&&(oc.detachEvent("onpropertychange",en),Fi=oc=null)}function en(o){if(o.propertyName==="value"&&lc(Fi)){var u=[];ra(u,Fi,o,Jl(o)),Vs(py,u)}}function Wd(o,u,x){o==="focusin"?(cc(),oc=u,Fi=x,oc.attachEvent("onpropertychange",en)):o==="focusout"&&cc()}function K(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lc(Fi)}function c(o,u){if(o==="click")return lc(u)}function f(o,u){if(o==="input"||o==="change")return lc(u)}function g(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var y=typeof Object.is=="function"?Object.is:g;function b(o,u){if(y(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var x=Object.keys(o),w=Object.keys(u);if(x.length!==w.length)return!1;for(w=0;w<x.length;w++){var O=x[w];if(!we.call(u,O)||!y(o[O],u[O]))return!1}return!0}function j(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function E(o,u){var x=j(o);o=0;for(var w;x;){if(x.nodeType===3){if(w=o+x.textContent.length,o<=u&&w>=u)return{node:x,offset:u-o};o=w}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=j(x)}}function D(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?D(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function k(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var u=Ba(o.document);u instanceof o.HTMLIFrameElement;){try{var x=typeof u.contentWindow.location.href=="string"}catch{x=!1}if(x)o=u.contentWindow;else break;u=Ba(o.document)}return u}function $(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}var X=$s&&"documentMode"in document&&11>=document.documentMode,Z=null,ae=null,ue=null,fe=!1;function Se(o,u,x){var w=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;fe||Z==null||Z!==Ba(w)||(w=Z,"selectionStart"in w&&$(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),ue&&b(ue,w)||(ue=w,w=jp(ae,"onSelect"),0<w.length&&(u=new vo("onSelect","select",null,u,x),o.push({event:u,listeners:w}),u.target=Z)))}function Oe(o,u){var x={};return x[o.toLowerCase()]=u.toLowerCase(),x["Webkit"+o]="webkit"+u,x["Moz"+o]="moz"+u,x}var Ye={animationend:Oe("Animation","AnimationEnd"),animationiteration:Oe("Animation","AnimationIteration"),animationstart:Oe("Animation","AnimationStart"),transitionrun:Oe("Transition","TransitionRun"),transitionstart:Oe("Transition","TransitionStart"),transitioncancel:Oe("Transition","TransitionCancel"),transitionend:Oe("Transition","TransitionEnd")},Xe={},qe={};$s&&(qe=document.createElement("div").style,"AnimationEvent"in window||(delete Ye.animationend.animation,delete Ye.animationiteration.animation,delete Ye.animationstart.animation),"TransitionEvent"in window||delete Ye.transitionend.transition);function kt(o){if(Xe[o])return Xe[o];if(!Ye[o])return o;var u=Ye[o],x;for(x in u)if(u.hasOwnProperty(x)&&x in qe)return Xe[o]=u[x];return o}var Rt=kt("animationend"),Ai=kt("animationiteration"),ba=kt("animationstart"),Ui=kt("transitionrun"),_n=kt("transitionstart"),ii=kt("transitioncancel"),zi=kt("transitionend"),sl=new Map,wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wo.push("scrollEnd");function Fa(o,u){sl.set(o,u),fi(u,[o])}var Lg=new WeakMap;function hs(o,u){if(typeof o=="object"&&o!==null){var x=Lg.get(o);return x!==void 0?x:(u={value:o,source:u,stack:Ld(u)},Lg.set(o,u),u)}return{value:o,source:u,stack:Ld(u)}}var ms=[],Gd=0,xy=0;function Bg(){for(var o=Gd,u=xy=Gd=0;u<o;){var x=ms[u];ms[u++]=null;var w=ms[u];ms[u++]=null;var O=ms[u];ms[u++]=null;var I=ms[u];if(ms[u++]=null,w!==null&&O!==null){var G=w.pending;G===null?O.next=O:(O.next=G.next,G.next=O),w.pending=O}I!==0&&kC(x,O,I)}}function Fg(o,u,x,w){ms[Gd++]=o,ms[Gd++]=u,ms[Gd++]=x,ms[Gd++]=w,xy|=w,o.lanes|=w,o=o.alternate,o!==null&&(o.lanes|=w)}function vy(o,u,x,w){return Fg(o,u,x,w),Ug(o)}function Kd(o,u){return Fg(o,null,null,u),Ug(o)}function kC(o,u,x){o.lanes|=x;var w=o.alternate;w!==null&&(w.lanes|=x);for(var O=!1,I=o.return;I!==null;)I.childLanes|=x,w=I.alternate,w!==null&&(w.childLanes|=x),I.tag===22&&(o=I.stateNode,o===null||o._visibility&1||(O=!0)),o=I,I=I.return;return o.tag===3?(I=o.stateNode,O&&u!==null&&(O=31-Jt(x),o=I.hiddenUpdates,w=o[O],w===null?o[O]=[u]:w.push(u),u.lane=x|536870912),I):null}function Ug(o){if(50<jm)throw jm=0,Nb=null,Error(r(185));for(var u=o.return;u!==null;)o=u,u=o.return;return o.tag===3?o.stateNode:null}var Xd={};function g$(o,u,x,w){this.tag=o,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ua(o,u,x,w){return new g$(o,u,x,w)}function yy(o){return o=o.prototype,!(!o||!o.isReactComponent)}function ol(o,u){var x=o.alternate;return x===null?(x=Ua(o.tag,u,o.key,o.mode),x.elementType=o.elementType,x.type=o.type,x.stateNode=o.stateNode,x.alternate=o,o.alternate=x):(x.pendingProps=u,x.type=o.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=o.flags&65011712,x.childLanes=o.childLanes,x.lanes=o.lanes,x.child=o.child,x.memoizedProps=o.memoizedProps,x.memoizedState=o.memoizedState,x.updateQueue=o.updateQueue,u=o.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=o.sibling,x.index=o.index,x.ref=o.ref,x.refCleanup=o.refCleanup,x}function LC(o,u){o.flags&=65011714;var x=o.alternate;return x===null?(o.childLanes=0,o.lanes=u,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=x.childLanes,o.lanes=x.lanes,o.child=x.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=x.memoizedProps,o.memoizedState=x.memoizedState,o.updateQueue=x.updateQueue,o.type=x.type,u=x.dependencies,o.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),o}function zg(o,u,x,w,O,I){var G=0;if(w=o,typeof o=="function")yy(o)&&(G=1);else if(typeof o=="string")G=xH(o,x,Re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case z:return o=Ua(31,x,u,O),o.elementType=z,o.lanes=I,o;case T:return Eu(x.children,O,I,u);case _:G=8,O|=24;break;case C:return o=Ua(12,x,u,O|2),o.elementType=C,o.lanes=I,o;case B:return o=Ua(13,x,u,O),o.elementType=B,o.lanes=I,o;case L:return o=Ua(19,x,u,O),o.elementType=L,o.lanes=I,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case M:case R:G=10;break e;case P:G=9;break e;case U:G=11;break e;case F:G=14;break e;case V:G=16,w=null;break e}G=29,x=Error(r(130,o===null?"null":typeof o,"")),w=null}return u=Ua(G,x,u,O),u.elementType=o,u.type=w,u.lanes=I,u}function Eu(o,u,x,w){return o=Ua(7,o,w,u),o.lanes=x,o}function by(o,u,x){return o=Ua(6,o,null,u),o.lanes=x,o}function wy(o,u,x){return u=Ua(4,o.children!==null?o.children:[],o.key,u),u.lanes=x,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}var Qd=[],Zd=0,Vg=null,$g=0,gs=[],ps=0,_u=null,ll=1,cl="";function Cu(o,u){Qd[Zd++]=$g,Qd[Zd++]=Vg,Vg=o,$g=u}function BC(o,u,x){gs[ps++]=ll,gs[ps++]=cl,gs[ps++]=_u,_u=o;var w=ll;o=cl;var O=32-Jt(w)-1;w&=~(1<<O),x+=1;var I=32-Jt(u)+O;if(30<I){var G=O-O%5;I=(w&(1<<G)-1).toString(32),w>>=G,O-=G,ll=1<<32-Jt(u)+O|x<<O|w,cl=I+o}else ll=1<<I|x<<O|w,cl=o}function jy(o){o.return!==null&&(Cu(o,1),BC(o,1,0))}function Sy(o){for(;o===Vg;)Vg=Qd[--Zd],Qd[Zd]=null,$g=Qd[--Zd],Qd[Zd]=null;for(;o===_u;)_u=gs[--ps],gs[ps]=null,cl=gs[--ps],gs[ps]=null,ll=gs[--ps],gs[ps]=null}var ia=null,Ar=null,yn=!1,Tu=null,jo=!1,Ny=Error(r(519));function Ou(o){var u=Error(r(418,""));throw em(hs(u,o)),Ny}function FC(o){var u=o.stateNode,x=o.type,w=o.memoizedProps;switch(u[ur]=o,u[on]=w,x){case"dialog":Qt("cancel",u),Qt("close",u);break;case"iframe":case"object":case"embed":Qt("load",u);break;case"video":case"audio":for(x=0;x<Nm.length;x++)Qt(Nm[x],u);break;case"source":Qt("error",u);break;case"img":case"image":case"link":Qt("error",u),Qt("load",u);break;case"details":Qt("toggle",u);break;case"input":Qt("invalid",u),ti(u,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0),Bd(u);break;case"select":Qt("invalid",u);break;case"textarea":Qt("invalid",u),Dr(u,w.value,w.defaultValue,w.children),Bd(u)}x=w.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||u.textContent===""+x||w.suppressHydrationWarning===!0||n3(u.textContent,x)?(w.popover!=null&&(Qt("beforetoggle",u),Qt("toggle",u)),w.onScroll!=null&&Qt("scroll",u),w.onScrollEnd!=null&&Qt("scrollend",u),w.onClick!=null&&(u.onclick=Sp),u=!0):u=!1,u||Ou(o)}function UC(o){for(ia=o.return;ia;)switch(ia.tag){case 5:case 13:jo=!1;return;case 27:case 3:jo=!0;return;default:ia=ia.return}}function Zh(o){if(o!==ia)return!1;if(!yn)return UC(o),yn=!0,!1;var u=o.tag,x;if((x=u!==3&&u!==27)&&((x=u===5)&&(x=o.type,x=!(x!=="form"&&x!=="button")||Ub(o.type,o.memoizedProps)),x=!x),x&&Ar&&Ou(o),UC(o),u===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8)if(x=o.data,x==="/$"){if(u===0){Ar=Ys(o.nextSibling);break e}u--}else x!=="$"&&x!=="$!"&&x!=="$?"||u++;o=o.nextSibling}Ar=null}}else u===27?(u=Ar,Ac(o.type)?(o=Hb,Hb=null,Ar=o):Ar=u):Ar=ia?Ys(o.stateNode.nextSibling):null;return!0}function Jh(){Ar=ia=null,yn=!1}function zC(){var o=Tu;return o!==null&&(Sa===null?Sa=o:Sa.push.apply(Sa,o),Tu=null),o}function em(o){Tu===null?Tu=[o]:Tu.push(o)}var Ay=de(null),Mu=null,ul=null;function uc(o,u,x){he(Ay,u._currentValue),u._currentValue=x}function dl(o){o._currentValue=Ay.current,oe(Ay)}function Ey(o,u,x){for(;o!==null;){var w=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,w!==null&&(w.childLanes|=u)):w!==null&&(w.childLanes&u)!==u&&(w.childLanes|=u),o===x)break;o=o.return}}function _y(o,u,x,w){var O=o.child;for(O!==null&&(O.return=o);O!==null;){var I=O.dependencies;if(I!==null){var G=O.child;I=I.firstContext;e:for(;I!==null;){var ee=I;I=O;for(var ce=0;ce<u.length;ce++)if(ee.context===u[ce]){I.lanes|=x,ee=I.alternate,ee!==null&&(ee.lanes|=x),Ey(I.return,x,o),w||(G=null);break e}I=ee.next}}else if(O.tag===18){if(G=O.return,G===null)throw Error(r(341));G.lanes|=x,I=G.alternate,I!==null&&(I.lanes|=x),Ey(G,x,o),G=null}else G=O.child;if(G!==null)G.return=O;else for(G=O;G!==null;){if(G===o){G=null;break}if(O=G.sibling,O!==null){O.return=G.return,G=O;break}G=G.return}O=G}}function tm(o,u,x,w){o=null;for(var O=u,I=!1;O!==null;){if(!I){if((O.flags&524288)!==0)I=!0;else if((O.flags&262144)!==0)break}if(O.tag===10){var G=O.alternate;if(G===null)throw Error(r(387));if(G=G.memoizedProps,G!==null){var ee=O.type;y(O.pendingProps.value,G.value)||(o!==null?o.push(ee):o=[ee])}}else if(O===pe.current){if(G=O.alternate,G===null)throw Error(r(387));G.memoizedState.memoizedState!==O.memoizedState.memoizedState&&(o!==null?o.push(Om):o=[Om])}O=O.return}o!==null&&_y(u,o,x,w),u.flags|=262144}function Hg(o){for(o=o.firstContext;o!==null;){if(!y(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Du(o){Mu=o,ul=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Vi(o){return VC(Mu,o)}function qg(o,u){return Mu===null&&Du(o),VC(o,u)}function VC(o,u){var x=u._currentValue;if(u={context:u,memoizedValue:x,next:null},ul===null){if(o===null)throw Error(r(308));ul=u,o.dependencies={lanes:0,firstContext:u},o.flags|=524288}else ul=ul.next=u;return x}var p$=typeof AbortController<"u"?AbortController:function(){var o=[],u=this.signal={aborted:!1,addEventListener:function(x,w){o.push(w)}};this.abort=function(){u.aborted=!0,o.forEach(function(x){return x()})}},x$=e.unstable_scheduleCallback,v$=e.unstable_NormalPriority,ai={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cy(){return{controller:new p$,data:new Map,refCount:0}}function nm(o){o.refCount--,o.refCount===0&&x$(v$,function(){o.controller.abort()})}var rm=null,Ty=0,Jd=0,ef=null;function y$(o,u){if(rm===null){var x=rm=[];Ty=0,Jd=Mb(),ef={status:"pending",value:void 0,then:function(w){x.push(w)}}}return Ty++,u.then($C,$C),u}function $C(){if(--Ty===0&&rm!==null){ef!==null&&(ef.status="fulfilled");var o=rm;rm=null,Jd=0,ef=null;for(var u=0;u<o.length;u++)(0,o[u])()}}function b$(o,u){var x=[],w={status:"pending",value:null,reason:null,then:function(O){x.push(O)}};return o.then(function(){w.status="fulfilled",w.value=u;for(var O=0;O<x.length;O++)(0,x[O])(u)},function(O){for(w.status="rejected",w.reason=O,O=0;O<x.length;O++)(0,x[O])(void 0)}),w}var HC=Y.S;Y.S=function(o,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&y$(o,u),HC!==null&&HC(o,u)};var Ru=de(null);function Oy(){var o=Ru.current;return o!==null?o:$n.pooledCache}function Yg(o,u){u===null?he(Ru,Ru.current):he(Ru,u.pool)}function qC(){var o=Oy();return o===null?null:{parent:ai._currentValue,pool:o}}var im=Error(r(460)),YC=Error(r(474)),Wg=Error(r(542)),My={then:function(){}};function WC(o){return o=o.status,o==="fulfilled"||o==="rejected"}function Gg(){}function GC(o,u,x){switch(x=o[x],x===void 0?o.push(u):x!==u&&(u.then(Gg,Gg),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,XC(o),o;default:if(typeof u.status=="string")u.then(Gg,Gg);else{if(o=$n,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=u,o.status="pending",o.then(function(w){if(u.status==="pending"){var O=u;O.status="fulfilled",O.value=w}},function(w){if(u.status==="pending"){var O=u;O.status="rejected",O.reason=w}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw o=u.reason,XC(o),o}throw am=u,im}}var am=null;function KC(){if(am===null)throw Error(r(459));var o=am;return am=null,o}function XC(o){if(o===im||o===Wg)throw Error(r(483))}var dc=!1;function Dy(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ry(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function fc(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function hc(o,u,x){var w=o.updateQueue;if(w===null)return null;if(w=w.shared,(Cn&2)!==0){var O=w.pending;return O===null?u.next=u:(u.next=O.next,O.next=u),w.pending=u,u=Ug(o),kC(o,null,x),u}return Fg(o,w,u,x),Ug(o)}function sm(o,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194048)!==0)){var w=u.lanes;w&=o.pendingLanes,x|=w,u.lanes=x,dn(o,x)}}function Py(o,u){var x=o.updateQueue,w=o.alternate;if(w!==null&&(w=w.updateQueue,x===w)){var O=null,I=null;if(x=x.firstBaseUpdate,x!==null){do{var G={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};I===null?O=I=G:I=I.next=G,x=x.next}while(x!==null);I===null?O=I=u:I=I.next=u}else O=I=u;x={baseState:w.baseState,firstBaseUpdate:O,lastBaseUpdate:I,shared:w.shared,callbacks:w.callbacks},o.updateQueue=x;return}o=x.lastBaseUpdate,o===null?x.firstBaseUpdate=u:o.next=u,x.lastBaseUpdate=u}var Iy=!1;function om(){if(Iy){var o=ef;if(o!==null)throw o}}function lm(o,u,x,w){Iy=!1;var O=o.updateQueue;dc=!1;var I=O.firstBaseUpdate,G=O.lastBaseUpdate,ee=O.shared.pending;if(ee!==null){O.shared.pending=null;var ce=ee,Ee=ce.next;ce.next=null,G===null?I=Ee:G.next=Ee,G=ce;var Be=o.alternate;Be!==null&&(Be=Be.updateQueue,ee=Be.lastBaseUpdate,ee!==G&&(ee===null?Be.firstBaseUpdate=Ee:ee.next=Ee,Be.lastBaseUpdate=ce))}if(I!==null){var Ve=O.baseState;G=0,Be=Ee=ce=null,ee=I;do{var Te=ee.lane&-536870913,Me=Te!==ee.lane;if(Me?(ln&Te)===Te:(w&Te)===Te){Te!==0&&Te===Jd&&(Iy=!0),Be!==null&&(Be=Be.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var Tt=o,Et=ee;Te=u;var kn=x;switch(Et.tag){case 1:if(Tt=Et.payload,typeof Tt=="function"){Ve=Tt.call(kn,Ve,Te);break e}Ve=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=Et.payload,Te=typeof Tt=="function"?Tt.call(kn,Ve,Te):Tt,Te==null)break e;Ve=p({},Ve,Te);break e;case 2:dc=!0}}Te=ee.callback,Te!==null&&(o.flags|=64,Me&&(o.flags|=8192),Me=O.callbacks,Me===null?O.callbacks=[Te]:Me.push(Te))}else Me={lane:Te,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Be===null?(Ee=Be=Me,ce=Ve):Be=Be.next=Me,G|=Te;if(ee=ee.next,ee===null){if(ee=O.shared.pending,ee===null)break;Me=ee,ee=Me.next,Me.next=null,O.lastBaseUpdate=Me,O.shared.pending=null}}while(!0);Be===null&&(ce=Ve),O.baseState=ce,O.firstBaseUpdate=Ee,O.lastBaseUpdate=Be,I===null&&(O.shared.lanes=0),wc|=G,o.lanes=G,o.memoizedState=Ve}}function QC(o,u){if(typeof o!="function")throw Error(r(191,o));o.call(u)}function ZC(o,u){var x=o.callbacks;if(x!==null)for(o.callbacks=null,o=0;o<x.length;o++)QC(x[o],u)}var tf=de(null),Kg=de(0);function JC(o,u){o=vl,he(Kg,o),he(tf,u),vl=o|u.baseLanes}function ky(){he(Kg,vl),he(tf,tf.current)}function Ly(){vl=Kg.current,oe(tf),oe(Kg)}var mc=0,Ht=null,Pn=null,qr=null,Xg=!1,nf=!1,Pu=!1,Qg=0,cm=0,rf=null,w$=0;function Ir(){throw Error(r(321))}function By(o,u){if(u===null)return!1;for(var x=0;x<u.length&&x<o.length;x++)if(!y(o[x],u[x]))return!1;return!0}function Fy(o,u,x,w,O,I){return mc=I,Ht=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Y.H=o===null||o.memoizedState===null?kT:LT,Pu=!1,I=x(w,O),Pu=!1,nf&&(I=tT(u,x,w,O)),eT(o),I}function eT(o){Y.H=rp;var u=Pn!==null&&Pn.next!==null;if(mc=0,qr=Pn=Ht=null,Xg=!1,cm=0,rf=null,u)throw Error(r(300));o===null||hi||(o=o.dependencies,o!==null&&Hg(o)&&(hi=!0))}function tT(o,u,x,w){Ht=o;var O=0;do{if(nf&&(rf=null),cm=0,nf=!1,25<=O)throw Error(r(301));if(O+=1,qr=Pn=null,o.updateQueue!=null){var I=o.updateQueue;I.lastEffect=null,I.events=null,I.stores=null,I.memoCache!=null&&(I.memoCache.index=0)}Y.H=C$,I=u(x,w)}while(nf);return I}function j$(){var o=Y.H,u=o.useState()[0];return u=typeof u.then=="function"?um(u):u,o=o.useState()[0],(Pn!==null?Pn.memoizedState:null)!==o&&(Ht.flags|=1024),u}function Uy(){var o=Qg!==0;return Qg=0,o}function zy(o,u,x){u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~x}function Vy(o){if(Xg){for(o=o.memoizedState;o!==null;){var u=o.queue;u!==null&&(u.pending=null),o=o.next}Xg=!1}mc=0,qr=Pn=Ht=null,nf=!1,cm=Qg=0,rf=null}function wa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?Ht.memoizedState=qr=o:qr=qr.next=o,qr}function Yr(){if(Pn===null){var o=Ht.alternate;o=o!==null?o.memoizedState:null}else o=Pn.next;var u=qr===null?Ht.memoizedState:qr.next;if(u!==null)qr=u,Pn=o;else{if(o===null)throw Ht.alternate===null?Error(r(467)):Error(r(310));Pn=o,o={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},qr===null?Ht.memoizedState=qr=o:qr=qr.next=o}return qr}function $y(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function um(o){var u=cm;return cm+=1,rf===null&&(rf=[]),o=GC(rf,o,u),u=Ht,(qr===null?u.memoizedState:qr.next)===null&&(u=u.alternate,Y.H=u===null||u.memoizedState===null?kT:LT),o}function Zg(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return um(o);if(o.$$typeof===R)return Vi(o)}throw Error(r(438,String(o)))}function Hy(o){var u=null,x=Ht.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var w=Ht.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(u={data:w.data.map(function(O){return O.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=$y(),Ht.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(o),w=0;w<o;w++)x[w]=H;return u.index++,x}function fl(o,u){return typeof u=="function"?u(o):u}function Jg(o){var u=Yr();return qy(u,Pn,o)}function qy(o,u,x){var w=o.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=x;var O=o.baseQueue,I=w.pending;if(I!==null){if(O!==null){var G=O.next;O.next=I.next,I.next=G}u.baseQueue=O=I,w.pending=null}if(I=o.baseState,O===null)o.memoizedState=I;else{u=O.next;var ee=G=null,ce=null,Ee=u,Be=!1;do{var Ve=Ee.lane&-536870913;if(Ve!==Ee.lane?(ln&Ve)===Ve:(mc&Ve)===Ve){var Te=Ee.revertLane;if(Te===0)ce!==null&&(ce=ce.next={lane:0,revertLane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),Ve===Jd&&(Be=!0);else if((mc&Te)===Te){Ee=Ee.next,Te===Jd&&(Be=!0);continue}else Ve={lane:0,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ce===null?(ee=ce=Ve,G=I):ce=ce.next=Ve,Ht.lanes|=Te,wc|=Te;Ve=Ee.action,Pu&&x(I,Ve),I=Ee.hasEagerState?Ee.eagerState:x(I,Ve)}else Te={lane:Ve,revertLane:Ee.revertLane,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null},ce===null?(ee=ce=Te,G=I):ce=ce.next=Te,Ht.lanes|=Ve,wc|=Ve;Ee=Ee.next}while(Ee!==null&&Ee!==u);if(ce===null?G=I:ce.next=ee,!y(I,o.memoizedState)&&(hi=!0,Be&&(x=ef,x!==null)))throw x;o.memoizedState=I,o.baseState=G,o.baseQueue=ce,w.lastRenderedState=I}return O===null&&(w.lanes=0),[o.memoizedState,w.dispatch]}function Yy(o){var u=Yr(),x=u.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=o;var w=x.dispatch,O=x.pending,I=u.memoizedState;if(O!==null){x.pending=null;var G=O=O.next;do I=o(I,G.action),G=G.next;while(G!==O);y(I,u.memoizedState)||(hi=!0),u.memoizedState=I,u.baseQueue===null&&(u.baseState=I),x.lastRenderedState=I}return[I,w]}function nT(o,u,x){var w=Ht,O=Yr(),I=yn;if(I){if(x===void 0)throw Error(r(407));x=x()}else x=u();var G=!y((Pn||O).memoizedState,x);G&&(O.memoizedState=x,hi=!0),O=O.queue;var ee=aT.bind(null,w,O,o);if(dm(2048,8,ee,[o]),O.getSnapshot!==u||G||qr!==null&&qr.memoizedState.tag&1){if(w.flags|=2048,af(9,ep(),iT.bind(null,w,O,x,u),null),$n===null)throw Error(r(349));I||(mc&124)!==0||rT(w,u,x)}return x}function rT(o,u,x){o.flags|=16384,o={getSnapshot:u,value:x},u=Ht.updateQueue,u===null?(u=$y(),Ht.updateQueue=u,u.stores=[o]):(x=u.stores,x===null?u.stores=[o]:x.push(o))}function iT(o,u,x,w){u.value=x,u.getSnapshot=w,sT(u)&&oT(o)}function aT(o,u,x){return x(function(){sT(u)&&oT(o)})}function sT(o){var u=o.getSnapshot;o=o.value;try{var x=u();return!y(o,x)}catch{return!0}}function oT(o){var u=Kd(o,2);u!==null&&qa(u,o,2)}function Wy(o){var u=wa();if(typeof o=="function"){var x=o;if(o=x(),Pu){cr(!0);try{x()}finally{cr(!1)}}}return u.memoizedState=u.baseState=o,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:o},u}function lT(o,u,x,w){return o.baseState=x,qy(o,Pn,typeof w=="function"?w:fl)}function S$(o,u,x,w,O){if(np(o))throw Error(r(485));if(o=u.action,o!==null){var I={payload:O,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(G){I.listeners.push(G)}};Y.T!==null?x(!0):I.isTransition=!1,w(I),x=u.pending,x===null?(I.next=u.pending=I,cT(u,I)):(I.next=x.next,u.pending=x.next=I)}}function cT(o,u){var x=u.action,w=u.payload,O=o.state;if(u.isTransition){var I=Y.T,G={};Y.T=G;try{var ee=x(O,w),ce=Y.S;ce!==null&&ce(G,ee),uT(o,u,ee)}catch(Ee){Gy(o,u,Ee)}finally{Y.T=I}}else try{I=x(O,w),uT(o,u,I)}catch(Ee){Gy(o,u,Ee)}}function uT(o,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(w){dT(o,u,w)},function(w){return Gy(o,u,w)}):dT(o,u,x)}function dT(o,u,x){u.status="fulfilled",u.value=x,fT(u),o.state=x,u=o.pending,u!==null&&(x=u.next,x===u?o.pending=null:(x=x.next,u.next=x,cT(o,x)))}function Gy(o,u,x){var w=o.pending;if(o.pending=null,w!==null){w=w.next;do u.status="rejected",u.reason=x,fT(u),u=u.next;while(u!==w)}o.action=null}function fT(o){o=o.listeners;for(var u=0;u<o.length;u++)(0,o[u])()}function hT(o,u){return u}function mT(o,u){if(yn){var x=$n.formState;if(x!==null){e:{var w=Ht;if(yn){if(Ar){t:{for(var O=Ar,I=jo;O.nodeType!==8;){if(!I){O=null;break t}if(O=Ys(O.nextSibling),O===null){O=null;break t}}I=O.data,O=I==="F!"||I==="F"?O:null}if(O){Ar=Ys(O.nextSibling),w=O.data==="F!";break e}}Ou(w)}w=!1}w&&(u=x[0])}}return x=wa(),x.memoizedState=x.baseState=u,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hT,lastRenderedState:u},x.queue=w,x=RT.bind(null,Ht,w),w.dispatch=x,w=Wy(!1),I=Jy.bind(null,Ht,!1,w.queue),w=wa(),O={state:u,dispatch:null,action:o,pending:null},w.queue=O,x=S$.bind(null,Ht,O,I,x),O.dispatch=x,w.memoizedState=o,[u,x,!1]}function gT(o){var u=Yr();return pT(u,Pn,o)}function pT(o,u,x){if(u=qy(o,u,hT)[0],o=Jg(fl)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var w=um(u)}catch(G){throw G===im?Wg:G}else w=u;u=Yr();var O=u.queue,I=O.dispatch;return x!==u.memoizedState&&(Ht.flags|=2048,af(9,ep(),N$.bind(null,O,x),null)),[w,I,o]}function N$(o,u){o.action=u}function xT(o){var u=Yr(),x=Pn;if(x!==null)return pT(u,x,o);Yr(),u=u.memoizedState,x=Yr();var w=x.queue.dispatch;return x.memoizedState=o,[u,w,!1]}function af(o,u,x,w){return o={tag:o,create:x,deps:w,inst:u,next:null},u=Ht.updateQueue,u===null&&(u=$y(),Ht.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=o.next=o:(w=x.next,x.next=o,o.next=w,u.lastEffect=o),o}function ep(){return{destroy:void 0,resource:void 0}}function vT(){return Yr().memoizedState}function tp(o,u,x,w){var O=wa();w=w===void 0?null:w,Ht.flags|=o,O.memoizedState=af(1|u,ep(),x,w)}function dm(o,u,x,w){var O=Yr();w=w===void 0?null:w;var I=O.memoizedState.inst;Pn!==null&&w!==null&&By(w,Pn.memoizedState.deps)?O.memoizedState=af(u,I,x,w):(Ht.flags|=o,O.memoizedState=af(1|u,I,x,w))}function yT(o,u){tp(8390656,8,o,u)}function bT(o,u){dm(2048,8,o,u)}function wT(o,u){return dm(4,2,o,u)}function jT(o,u){return dm(4,4,o,u)}function ST(o,u){if(typeof u=="function"){o=o();var x=u(o);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function NT(o,u,x){x=x!=null?x.concat([o]):null,dm(4,4,ST.bind(null,u,o),x)}function Ky(){}function AT(o,u){var x=Yr();u=u===void 0?null:u;var w=x.memoizedState;return u!==null&&By(u,w[1])?w[0]:(x.memoizedState=[o,u],o)}function ET(o,u){var x=Yr();u=u===void 0?null:u;var w=x.memoizedState;if(u!==null&&By(u,w[1]))return w[0];if(w=o(),Pu){cr(!0);try{o()}finally{cr(!1)}}return x.memoizedState=[w,u],w}function Xy(o,u,x){return x===void 0||(mc&1073741824)!==0?o.memoizedState=u:(o.memoizedState=x,o=T4(),Ht.lanes|=o,wc|=o,x)}function _T(o,u,x,w){return y(x,u)?x:tf.current!==null?(o=Xy(o,x,w),y(o,u)||(hi=!0),o):(mc&42)===0?(hi=!0,o.memoizedState=x):(o=T4(),Ht.lanes|=o,wc|=o,u)}function CT(o,u,x,w,O){var I=ne.p;ne.p=I!==0&&8>I?I:8;var G=Y.T,ee={};Y.T=ee,Jy(o,!1,u,x);try{var ce=O(),Ee=Y.S;if(Ee!==null&&Ee(ee,ce),ce!==null&&typeof ce=="object"&&typeof ce.then=="function"){var Be=b$(ce,w);fm(o,u,Be,Ha(o))}else fm(o,u,w,Ha(o))}catch(Ve){fm(o,u,{then:function(){},status:"rejected",reason:Ve},Ha())}finally{ne.p=I,Y.T=G}}function A$(){}function Qy(o,u,x,w){if(o.tag!==5)throw Error(r(476));var O=TT(o).queue;CT(o,O,u,se,x===null?A$:function(){return OT(o),x(w)})}function TT(o){var u=o.memoizedState;if(u!==null)return u;u={memoizedState:se,baseState:se,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:se},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fl,lastRenderedState:x},next:null},o.memoizedState=u,o=o.alternate,o!==null&&(o.memoizedState=u),u}function OT(o){var u=TT(o).next.queue;fm(o,u,{},Ha())}function Zy(){return Vi(Om)}function MT(){return Yr().memoizedState}function DT(){return Yr().memoizedState}function E$(o){for(var u=o.return;u!==null;){switch(u.tag){case 24:case 3:var x=Ha();o=fc(x);var w=hc(u,o,x);w!==null&&(qa(w,u,x),sm(w,u,x)),u={cache:Cy()},o.payload=u;return}u=u.return}}function _$(o,u,x){var w=Ha();x={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},np(o)?PT(u,x):(x=vy(o,u,x,w),x!==null&&(qa(x,o,w),IT(x,u,w)))}function RT(o,u,x){var w=Ha();fm(o,u,x,w)}function fm(o,u,x,w){var O={lane:w,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(np(o))PT(u,O);else{var I=o.alternate;if(o.lanes===0&&(I===null||I.lanes===0)&&(I=u.lastRenderedReducer,I!==null))try{var G=u.lastRenderedState,ee=I(G,x);if(O.hasEagerState=!0,O.eagerState=ee,y(ee,G))return Fg(o,u,O,0),$n===null&&Bg(),!1}catch{}finally{}if(x=vy(o,u,O,w),x!==null)return qa(x,o,w),IT(x,u,w),!0}return!1}function Jy(o,u,x,w){if(w={lane:2,revertLane:Mb(),action:w,hasEagerState:!1,eagerState:null,next:null},np(o)){if(u)throw Error(r(479))}else u=vy(o,x,w,2),u!==null&&qa(u,o,2)}function np(o){var u=o.alternate;return o===Ht||u!==null&&u===Ht}function PT(o,u){nf=Xg=!0;var x=o.pending;x===null?u.next=u:(u.next=x.next,x.next=u),o.pending=u}function IT(o,u,x){if((x&4194048)!==0){var w=u.lanes;w&=o.pendingLanes,x|=w,u.lanes=x,dn(o,x)}}var rp={readContext:Vi,use:Zg,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useLayoutEffect:Ir,useInsertionEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useSyncExternalStore:Ir,useId:Ir,useHostTransitionStatus:Ir,useFormState:Ir,useActionState:Ir,useOptimistic:Ir,useMemoCache:Ir,useCacheRefresh:Ir},kT={readContext:Vi,use:Zg,useCallback:function(o,u){return wa().memoizedState=[o,u===void 0?null:u],o},useContext:Vi,useEffect:yT,useImperativeHandle:function(o,u,x){x=x!=null?x.concat([o]):null,tp(4194308,4,ST.bind(null,u,o),x)},useLayoutEffect:function(o,u){return tp(4194308,4,o,u)},useInsertionEffect:function(o,u){tp(4,2,o,u)},useMemo:function(o,u){var x=wa();u=u===void 0?null:u;var w=o();if(Pu){cr(!0);try{o()}finally{cr(!1)}}return x.memoizedState=[w,u],w},useReducer:function(o,u,x){var w=wa();if(x!==void 0){var O=x(u);if(Pu){cr(!0);try{x(u)}finally{cr(!1)}}}else O=u;return w.memoizedState=w.baseState=O,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:O},w.queue=o,o=o.dispatch=_$.bind(null,Ht,o),[w.memoizedState,o]},useRef:function(o){var u=wa();return o={current:o},u.memoizedState=o},useState:function(o){o=Wy(o);var u=o.queue,x=RT.bind(null,Ht,u);return u.dispatch=x,[o.memoizedState,x]},useDebugValue:Ky,useDeferredValue:function(o,u){var x=wa();return Xy(x,o,u)},useTransition:function(){var o=Wy(!1);return o=CT.bind(null,Ht,o.queue,!0,!1),wa().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,u,x){var w=Ht,O=wa();if(yn){if(x===void 0)throw Error(r(407));x=x()}else{if(x=u(),$n===null)throw Error(r(349));(ln&124)!==0||rT(w,u,x)}O.memoizedState=x;var I={value:x,getSnapshot:u};return O.queue=I,yT(aT.bind(null,w,I,o),[o]),w.flags|=2048,af(9,ep(),iT.bind(null,w,I,x,u),null),x},useId:function(){var o=wa(),u=$n.identifierPrefix;if(yn){var x=cl,w=ll;x=(w&~(1<<32-Jt(w)-1)).toString(32)+x,u="«"+u+"R"+x,x=Qg++,0<x&&(u+="H"+x.toString(32)),u+="»"}else x=w$++,u="«"+u+"r"+x.toString(32)+"»";return o.memoizedState=u},useHostTransitionStatus:Zy,useFormState:mT,useActionState:mT,useOptimistic:function(o){var u=wa();u.memoizedState=u.baseState=o;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=Jy.bind(null,Ht,!0,x),x.dispatch=u,[o,u]},useMemoCache:Hy,useCacheRefresh:function(){return wa().memoizedState=E$.bind(null,Ht)}},LT={readContext:Vi,use:Zg,useCallback:AT,useContext:Vi,useEffect:bT,useImperativeHandle:NT,useInsertionEffect:wT,useLayoutEffect:jT,useMemo:ET,useReducer:Jg,useRef:vT,useState:function(){return Jg(fl)},useDebugValue:Ky,useDeferredValue:function(o,u){var x=Yr();return _T(x,Pn.memoizedState,o,u)},useTransition:function(){var o=Jg(fl)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:um(o),u]},useSyncExternalStore:nT,useId:MT,useHostTransitionStatus:Zy,useFormState:gT,useActionState:gT,useOptimistic:function(o,u){var x=Yr();return lT(x,Pn,o,u)},useMemoCache:Hy,useCacheRefresh:DT},C$={readContext:Vi,use:Zg,useCallback:AT,useContext:Vi,useEffect:bT,useImperativeHandle:NT,useInsertionEffect:wT,useLayoutEffect:jT,useMemo:ET,useReducer:Yy,useRef:vT,useState:function(){return Yy(fl)},useDebugValue:Ky,useDeferredValue:function(o,u){var x=Yr();return Pn===null?Xy(x,o,u):_T(x,Pn.memoizedState,o,u)},useTransition:function(){var o=Yy(fl)[0],u=Yr().memoizedState;return[typeof o=="boolean"?o:um(o),u]},useSyncExternalStore:nT,useId:MT,useHostTransitionStatus:Zy,useFormState:xT,useActionState:xT,useOptimistic:function(o,u){var x=Yr();return Pn!==null?lT(x,Pn,o,u):(x.baseState=o,[o,x.queue.dispatch])},useMemoCache:Hy,useCacheRefresh:DT},sf=null,hm=0;function ip(o){var u=hm;return hm+=1,sf===null&&(sf=[]),GC(sf,o,u)}function mm(o,u){u=u.props.ref,o.ref=u!==void 0?u:null}function ap(o,u){throw u.$$typeof===v?Error(r(525)):(o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o)))}function BT(o){var u=o._init;return u(o._payload)}function FT(o){function u(be,ge){if(o){var Ae=be.deletions;Ae===null?(be.deletions=[ge],be.flags|=16):Ae.push(ge)}}function x(be,ge){if(!o)return null;for(;ge!==null;)u(be,ge),ge=ge.sibling;return null}function w(be){for(var ge=new Map;be!==null;)be.key!==null?ge.set(be.key,be):ge.set(be.index,be),be=be.sibling;return ge}function O(be,ge){return be=ol(be,ge),be.index=0,be.sibling=null,be}function I(be,ge,Ae){return be.index=Ae,o?(Ae=be.alternate,Ae!==null?(Ae=Ae.index,Ae<ge?(be.flags|=67108866,ge):Ae):(be.flags|=67108866,ge)):(be.flags|=1048576,ge)}function G(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function ee(be,ge,Ae,ze){return ge===null||ge.tag!==6?(ge=by(Ae,be.mode,ze),ge.return=be,ge):(ge=O(ge,Ae),ge.return=be,ge)}function ce(be,ge,Ae,ze){var dt=Ae.type;return dt===T?Be(be,ge,Ae.props.children,ze,Ae.key):ge!==null&&(ge.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===V&&BT(dt)===ge.type)?(ge=O(ge,Ae.props),mm(ge,Ae),ge.return=be,ge):(ge=zg(Ae.type,Ae.key,Ae.props,null,be.mode,ze),mm(ge,Ae),ge.return=be,ge)}function Ee(be,ge,Ae,ze){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ae.containerInfo||ge.stateNode.implementation!==Ae.implementation?(ge=wy(Ae,be.mode,ze),ge.return=be,ge):(ge=O(ge,Ae.children||[]),ge.return=be,ge)}function Be(be,ge,Ae,ze,dt){return ge===null||ge.tag!==7?(ge=Eu(Ae,be.mode,ze,dt),ge.return=be,ge):(ge=O(ge,Ae),ge.return=be,ge)}function Ve(be,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=by(""+ge,be.mode,Ae),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case S:return Ae=zg(ge.type,ge.key,ge.props,null,be.mode,Ae),mm(Ae,ge),Ae.return=be,Ae;case A:return ge=wy(ge,be.mode,Ae),ge.return=be,ge;case V:var ze=ge._init;return ge=ze(ge._payload),Ve(be,ge,Ae)}if(J(ge)||q(ge))return ge=Eu(ge,be.mode,Ae,null),ge.return=be,ge;if(typeof ge.then=="function")return Ve(be,ip(ge),Ae);if(ge.$$typeof===R)return Ve(be,qg(be,ge),Ae);ap(be,ge)}return null}function Te(be,ge,Ae,ze){var dt=ge!==null?ge.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return dt!==null?null:ee(be,ge,""+Ae,ze);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case S:return Ae.key===dt?ce(be,ge,Ae,ze):null;case A:return Ae.key===dt?Ee(be,ge,Ae,ze):null;case V:return dt=Ae._init,Ae=dt(Ae._payload),Te(be,ge,Ae,ze)}if(J(Ae)||q(Ae))return dt!==null?null:Be(be,ge,Ae,ze,null);if(typeof Ae.then=="function")return Te(be,ge,ip(Ae),ze);if(Ae.$$typeof===R)return Te(be,ge,qg(be,Ae),ze);ap(be,Ae)}return null}function Me(be,ge,Ae,ze,dt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return be=be.get(Ae)||null,ee(ge,be,""+ze,dt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case S:return be=be.get(ze.key===null?Ae:ze.key)||null,ce(ge,be,ze,dt);case A:return be=be.get(ze.key===null?Ae:ze.key)||null,Ee(ge,be,ze,dt);case V:var Wt=ze._init;return ze=Wt(ze._payload),Me(be,ge,Ae,ze,dt)}if(J(ze)||q(ze))return be=be.get(Ae)||null,Be(ge,be,ze,dt,null);if(typeof ze.then=="function")return Me(be,ge,Ae,ip(ze),dt);if(ze.$$typeof===R)return Me(be,ge,Ae,qg(ge,ze),dt);ap(ge,ze)}return null}function Tt(be,ge,Ae,ze){for(var dt=null,Wt=null,wt=ge,_t=ge=0,gi=null;wt!==null&&_t<Ae.length;_t++){wt.index>_t?(gi=wt,wt=null):gi=wt.sibling;var pn=Te(be,wt,Ae[_t],ze);if(pn===null){wt===null&&(wt=gi);break}o&&wt&&pn.alternate===null&&u(be,wt),ge=I(pn,ge,_t),Wt===null?dt=pn:Wt.sibling=pn,Wt=pn,wt=gi}if(_t===Ae.length)return x(be,wt),yn&&Cu(be,_t),dt;if(wt===null){for(;_t<Ae.length;_t++)wt=Ve(be,Ae[_t],ze),wt!==null&&(ge=I(wt,ge,_t),Wt===null?dt=wt:Wt.sibling=wt,Wt=wt);return yn&&Cu(be,_t),dt}for(wt=w(wt);_t<Ae.length;_t++)gi=Me(wt,be,_t,Ae[_t],ze),gi!==null&&(o&&gi.alternate!==null&&wt.delete(gi.key===null?_t:gi.key),ge=I(gi,ge,_t),Wt===null?dt=gi:Wt.sibling=gi,Wt=gi);return o&&wt.forEach(function(Oc){return u(be,Oc)}),yn&&Cu(be,_t),dt}function Et(be,ge,Ae,ze){if(Ae==null)throw Error(r(151));for(var dt=null,Wt=null,wt=ge,_t=ge=0,gi=null,pn=Ae.next();wt!==null&&!pn.done;_t++,pn=Ae.next()){wt.index>_t?(gi=wt,wt=null):gi=wt.sibling;var Oc=Te(be,wt,pn.value,ze);if(Oc===null){wt===null&&(wt=gi);break}o&&wt&&Oc.alternate===null&&u(be,wt),ge=I(Oc,ge,_t),Wt===null?dt=Oc:Wt.sibling=Oc,Wt=Oc,wt=gi}if(pn.done)return x(be,wt),yn&&Cu(be,_t),dt;if(wt===null){for(;!pn.done;_t++,pn=Ae.next())pn=Ve(be,pn.value,ze),pn!==null&&(ge=I(pn,ge,_t),Wt===null?dt=pn:Wt.sibling=pn,Wt=pn);return yn&&Cu(be,_t),dt}for(wt=w(wt);!pn.done;_t++,pn=Ae.next())pn=Me(wt,be,_t,pn.value,ze),pn!==null&&(o&&pn.alternate!==null&&wt.delete(pn.key===null?_t:pn.key),ge=I(pn,ge,_t),Wt===null?dt=pn:Wt.sibling=pn,Wt=pn);return o&&wt.forEach(function(TH){return u(be,TH)}),yn&&Cu(be,_t),dt}function kn(be,ge,Ae,ze){if(typeof Ae=="object"&&Ae!==null&&Ae.type===T&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case S:e:{for(var dt=Ae.key;ge!==null;){if(ge.key===dt){if(dt=Ae.type,dt===T){if(ge.tag===7){x(be,ge.sibling),ze=O(ge,Ae.props.children),ze.return=be,be=ze;break e}}else if(ge.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===V&&BT(dt)===ge.type){x(be,ge.sibling),ze=O(ge,Ae.props),mm(ze,Ae),ze.return=be,be=ze;break e}x(be,ge);break}else u(be,ge);ge=ge.sibling}Ae.type===T?(ze=Eu(Ae.props.children,be.mode,ze,Ae.key),ze.return=be,be=ze):(ze=zg(Ae.type,Ae.key,Ae.props,null,be.mode,ze),mm(ze,Ae),ze.return=be,be=ze)}return G(be);case A:e:{for(dt=Ae.key;ge!==null;){if(ge.key===dt)if(ge.tag===4&&ge.stateNode.containerInfo===Ae.containerInfo&&ge.stateNode.implementation===Ae.implementation){x(be,ge.sibling),ze=O(ge,Ae.children||[]),ze.return=be,be=ze;break e}else{x(be,ge);break}else u(be,ge);ge=ge.sibling}ze=wy(Ae,be.mode,ze),ze.return=be,be=ze}return G(be);case V:return dt=Ae._init,Ae=dt(Ae._payload),kn(be,ge,Ae,ze)}if(J(Ae))return Tt(be,ge,Ae,ze);if(q(Ae)){if(dt=q(Ae),typeof dt!="function")throw Error(r(150));return Ae=dt.call(Ae),Et(be,ge,Ae,ze)}if(typeof Ae.then=="function")return kn(be,ge,ip(Ae),ze);if(Ae.$$typeof===R)return kn(be,ge,qg(be,Ae),ze);ap(be,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ge!==null&&ge.tag===6?(x(be,ge.sibling),ze=O(ge,Ae),ze.return=be,be=ze):(x(be,ge),ze=by(Ae,be.mode,ze),ze.return=be,be=ze),G(be)):x(be,ge)}return function(be,ge,Ae,ze){try{hm=0;var dt=kn(be,ge,Ae,ze);return sf=null,dt}catch(wt){if(wt===im||wt===Wg)throw wt;var Wt=Ua(29,wt,null,be.mode);return Wt.lanes=ze,Wt.return=be,Wt}finally{}}}var of=FT(!0),UT=FT(!1),xs=de(null),So=null;function gc(o){var u=o.alternate;he(si,si.current&1),he(xs,o),So===null&&(u===null||tf.current!==null||u.memoizedState!==null)&&(So=o)}function zT(o){if(o.tag===22){if(he(si,si.current),he(xs,o),So===null){var u=o.alternate;u!==null&&u.memoizedState!==null&&(So=o)}}else pc()}function pc(){he(si,si.current),he(xs,xs.current)}function hl(o){oe(xs),So===o&&(So=null),oe(si)}var si=de(0);function sp(o){for(var u=o;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||x.data==="$?"||$b(x)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function eb(o,u,x,w){u=o.memoizedState,x=x(w,u),x=x==null?u:p({},u,x),o.memoizedState=x,o.lanes===0&&(o.updateQueue.baseState=x)}var tb={enqueueSetState:function(o,u,x){o=o._reactInternals;var w=Ha(),O=fc(w);O.payload=u,x!=null&&(O.callback=x),u=hc(o,O,w),u!==null&&(qa(u,o,w),sm(u,o,w))},enqueueReplaceState:function(o,u,x){o=o._reactInternals;var w=Ha(),O=fc(w);O.tag=1,O.payload=u,x!=null&&(O.callback=x),u=hc(o,O,w),u!==null&&(qa(u,o,w),sm(u,o,w))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var x=Ha(),w=fc(x);w.tag=2,u!=null&&(w.callback=u),u=hc(o,w,x),u!==null&&(qa(u,o,x),sm(u,o,x))}};function VT(o,u,x,w,O,I,G){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(w,I,G):u.prototype&&u.prototype.isPureReactComponent?!b(x,w)||!b(O,I):!0}function $T(o,u,x,w){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,w),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,w),u.state!==o&&tb.enqueueReplaceState(u,u.state,null)}function Iu(o,u){var x=u;if("ref"in u){x={};for(var w in u)w!=="ref"&&(x[w]=u[w])}if(o=o.defaultProps){x===u&&(x=p({},x));for(var O in o)x[O]===void 0&&(x[O]=o[O])}return x}var op=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)};function HT(o){op(o)}function qT(o){console.error(o)}function YT(o){op(o)}function lp(o,u){try{var x=o.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(w){setTimeout(function(){throw w})}}function WT(o,u,x){try{var w=o.onCaughtError;w(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(O){setTimeout(function(){throw O})}}function nb(o,u,x){return x=fc(x),x.tag=3,x.payload={element:null},x.callback=function(){lp(o,u)},x}function GT(o){return o=fc(o),o.tag=3,o}function KT(o,u,x,w){var O=x.type.getDerivedStateFromError;if(typeof O=="function"){var I=w.value;o.payload=function(){return O(I)},o.callback=function(){WT(u,x,w)}}var G=x.stateNode;G!==null&&typeof G.componentDidCatch=="function"&&(o.callback=function(){WT(u,x,w),typeof O!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var ee=w.stack;this.componentDidCatch(w.value,{componentStack:ee!==null?ee:""})})}function T$(o,u,x,w,O){if(x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){if(u=x.alternate,u!==null&&tm(u,x,O,!0),x=xs.current,x!==null){switch(x.tag){case 13:return So===null?Eb():x.alternate===null&&Er===0&&(Er=3),x.flags&=-257,x.flags|=65536,x.lanes=O,w===My?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([w]):u.add(w),Cb(o,w,O)),!1;case 22:return x.flags|=65536,w===My?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([w])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([w]):x.add(w)),Cb(o,w,O)),!1}throw Error(r(435,x.tag))}return Cb(o,w,O),Eb(),!1}if(yn)return u=xs.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=O,w!==Ny&&(o=Error(r(422),{cause:w}),em(hs(o,x)))):(w!==Ny&&(u=Error(r(423),{cause:w}),em(hs(u,x))),o=o.current.alternate,o.flags|=65536,O&=-O,o.lanes|=O,w=hs(w,x),O=nb(o.stateNode,w,O),Py(o,O),Er!==4&&(Er=2)),!1;var I=Error(r(520),{cause:w});if(I=hs(I,x),wm===null?wm=[I]:wm.push(I),Er!==4&&(Er=2),u===null)return!0;w=hs(w,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,o=O&-O,x.lanes|=o,o=nb(x.stateNode,w,o),Py(x,o),!1;case 1:if(u=x.type,I=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(jc===null||!jc.has(I))))return x.flags|=65536,O&=-O,x.lanes|=O,O=GT(O),KT(O,o,x,w),Py(x,O),!1}x=x.return}while(x!==null);return!1}var XT=Error(r(461)),hi=!1;function Ei(o,u,x,w){u.child=o===null?UT(u,null,x,w):of(u,o.child,x,w)}function QT(o,u,x,w,O){x=x.render;var I=u.ref;if("ref"in w){var G={};for(var ee in w)ee!=="ref"&&(G[ee]=w[ee])}else G=w;return Du(u),w=Fy(o,u,x,G,I,O),ee=Uy(),o!==null&&!hi?(zy(o,u,O),ml(o,u,O)):(yn&&ee&&jy(u),u.flags|=1,Ei(o,u,w,O),u.child)}function ZT(o,u,x,w,O){if(o===null){var I=x.type;return typeof I=="function"&&!yy(I)&&I.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=I,JT(o,u,I,w,O)):(o=zg(x.type,null,w,u,u.mode,O),o.ref=u.ref,o.return=u,u.child=o)}if(I=o.child,!ub(o,O)){var G=I.memoizedProps;if(x=x.compare,x=x!==null?x:b,x(G,w)&&o.ref===u.ref)return ml(o,u,O)}return u.flags|=1,o=ol(I,w),o.ref=u.ref,o.return=u,u.child=o}function JT(o,u,x,w,O){if(o!==null){var I=o.memoizedProps;if(b(I,w)&&o.ref===u.ref)if(hi=!1,u.pendingProps=w=I,ub(o,O))(o.flags&131072)!==0&&(hi=!0);else return u.lanes=o.lanes,ml(o,u,O)}return rb(o,u,x,w,O)}function e4(o,u,x){var w=u.pendingProps,O=w.children,I=o!==null?o.memoizedState:null;if(w.mode==="hidden"){if((u.flags&128)!==0){if(w=I!==null?I.baseLanes|x:x,o!==null){for(O=u.child=o.child,I=0;O!==null;)I=I|O.lanes|O.childLanes,O=O.sibling;u.childLanes=I&~w}else u.childLanes=0,u.child=null;return t4(o,u,w,x)}if((x&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},o!==null&&Yg(u,I!==null?I.cachePool:null),I!==null?JC(u,I):ky(),zT(u);else return u.lanes=u.childLanes=536870912,t4(o,u,I!==null?I.baseLanes|x:x,x)}else I!==null?(Yg(u,I.cachePool),JC(u,I),pc(),u.memoizedState=null):(o!==null&&Yg(u,null),ky(),pc());return Ei(o,u,O,x),u.child}function t4(o,u,x,w){var O=Oy();return O=O===null?null:{parent:ai._currentValue,pool:O},u.memoizedState={baseLanes:x,cachePool:O},o!==null&&Yg(u,null),ky(),zT(u),o!==null&&tm(o,u,w,!0),null}function cp(o,u){var x=u.ref;if(x===null)o!==null&&o.ref!==null&&(u.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(r(284));(o===null||o.ref!==x)&&(u.flags|=4194816)}}function rb(o,u,x,w,O){return Du(u),x=Fy(o,u,x,w,void 0,O),w=Uy(),o!==null&&!hi?(zy(o,u,O),ml(o,u,O)):(yn&&w&&jy(u),u.flags|=1,Ei(o,u,x,O),u.child)}function n4(o,u,x,w,O,I){return Du(u),u.updateQueue=null,x=tT(u,w,x,O),eT(o),w=Uy(),o!==null&&!hi?(zy(o,u,I),ml(o,u,I)):(yn&&w&&jy(u),u.flags|=1,Ei(o,u,x,I),u.child)}function r4(o,u,x,w,O){if(Du(u),u.stateNode===null){var I=Xd,G=x.contextType;typeof G=="object"&&G!==null&&(I=Vi(G)),I=new x(w,I),u.memoizedState=I.state!==null&&I.state!==void 0?I.state:null,I.updater=tb,u.stateNode=I,I._reactInternals=u,I=u.stateNode,I.props=w,I.state=u.memoizedState,I.refs={},Dy(u),G=x.contextType,I.context=typeof G=="object"&&G!==null?Vi(G):Xd,I.state=u.memoizedState,G=x.getDerivedStateFromProps,typeof G=="function"&&(eb(u,x,G,w),I.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof I.getSnapshotBeforeUpdate=="function"||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(G=I.state,typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount(),G!==I.state&&tb.enqueueReplaceState(I,I.state,null),lm(u,w,I,O),om(),I.state=u.memoizedState),typeof I.componentDidMount=="function"&&(u.flags|=4194308),w=!0}else if(o===null){I=u.stateNode;var ee=u.memoizedProps,ce=Iu(x,ee);I.props=ce;var Ee=I.context,Be=x.contextType;G=Xd,typeof Be=="object"&&Be!==null&&(G=Vi(Be));var Ve=x.getDerivedStateFromProps;Be=typeof Ve=="function"||typeof I.getSnapshotBeforeUpdate=="function",ee=u.pendingProps!==ee,Be||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(ee||Ee!==G)&&$T(u,I,w,G),dc=!1;var Te=u.memoizedState;I.state=Te,lm(u,w,I,O),om(),Ee=u.memoizedState,ee||Te!==Ee||dc?(typeof Ve=="function"&&(eb(u,x,Ve,w),Ee=u.memoizedState),(ce=dc||VT(u,x,ce,w,Te,Ee,G))?(Be||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(u.flags|=4194308)):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=w,u.memoizedState=Ee),I.props=w,I.state=Ee,I.context=G,w=ce):(typeof I.componentDidMount=="function"&&(u.flags|=4194308),w=!1)}else{I=u.stateNode,Ry(o,u),G=u.memoizedProps,Be=Iu(x,G),I.props=Be,Ve=u.pendingProps,Te=I.context,Ee=x.contextType,ce=Xd,typeof Ee=="object"&&Ee!==null&&(ce=Vi(Ee)),ee=x.getDerivedStateFromProps,(Ee=typeof ee=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==Ve||Te!==ce)&&$T(u,I,w,ce),dc=!1,Te=u.memoizedState,I.state=Te,lm(u,w,I,O),om();var Me=u.memoizedState;G!==Ve||Te!==Me||dc||o!==null&&o.dependencies!==null&&Hg(o.dependencies)?(typeof ee=="function"&&(eb(u,x,ee,w),Me=u.memoizedState),(Be=dc||VT(u,x,Be,w,Te,Me,ce)||o!==null&&o.dependencies!==null&&Hg(o.dependencies))?(Ee||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(w,Me,ce),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(w,Me,ce)),typeof I.componentDidUpdate=="function"&&(u.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===o.memoizedProps&&Te===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Te===o.memoizedState||(u.flags|=1024),u.memoizedProps=w,u.memoizedState=Me),I.props=w,I.state=Me,I.context=ce,w=Be):(typeof I.componentDidUpdate!="function"||G===o.memoizedProps&&Te===o.memoizedState||(u.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===o.memoizedProps&&Te===o.memoizedState||(u.flags|=1024),w=!1)}return I=w,cp(o,u),w=(u.flags&128)!==0,I||w?(I=u.stateNode,x=w&&typeof x.getDerivedStateFromError!="function"?null:I.render(),u.flags|=1,o!==null&&w?(u.child=of(u,o.child,null,O),u.child=of(u,null,x,O)):Ei(o,u,x,O),u.memoizedState=I.state,o=u.child):o=ml(o,u,O),o}function i4(o,u,x,w){return Jh(),u.flags|=256,Ei(o,u,x,w),u.child}var ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ab(o){return{baseLanes:o,cachePool:qC()}}function sb(o,u,x){return o=o!==null?o.childLanes&~x:0,u&&(o|=vs),o}function a4(o,u,x){var w=u.pendingProps,O=!1,I=(u.flags&128)!==0,G;if((G=I)||(G=o!==null&&o.memoizedState===null?!1:(si.current&2)!==0),G&&(O=!0,u.flags&=-129),G=(u.flags&32)!==0,u.flags&=-33,o===null){if(yn){if(O?gc(u):pc(),yn){var ee=Ar,ce;if(ce=ee){e:{for(ce=ee,ee=jo;ce.nodeType!==8;){if(!ee){ee=null;break e}if(ce=Ys(ce.nextSibling),ce===null){ee=null;break e}}ee=ce}ee!==null?(u.memoizedState={dehydrated:ee,treeContext:_u!==null?{id:ll,overflow:cl}:null,retryLane:536870912,hydrationErrors:null},ce=Ua(18,null,null,0),ce.stateNode=ee,ce.return=u,u.child=ce,ia=u,Ar=null,ce=!0):ce=!1}ce||Ou(u)}if(ee=u.memoizedState,ee!==null&&(ee=ee.dehydrated,ee!==null))return $b(ee)?u.lanes=32:u.lanes=536870912,null;hl(u)}return ee=w.children,w=w.fallback,O?(pc(),O=u.mode,ee=up({mode:"hidden",children:ee},O),w=Eu(w,O,x,null),ee.return=u,w.return=u,ee.sibling=w,u.child=ee,O=u.child,O.memoizedState=ab(x),O.childLanes=sb(o,G,x),u.memoizedState=ib,w):(gc(u),ob(u,ee))}if(ce=o.memoizedState,ce!==null&&(ee=ce.dehydrated,ee!==null)){if(I)u.flags&256?(gc(u),u.flags&=-257,u=lb(o,u,x)):u.memoizedState!==null?(pc(),u.child=o.child,u.flags|=128,u=null):(pc(),O=w.fallback,ee=u.mode,w=up({mode:"visible",children:w.children},ee),O=Eu(O,ee,x,null),O.flags|=2,w.return=u,O.return=u,w.sibling=O,u.child=w,of(u,o.child,null,x),w=u.child,w.memoizedState=ab(x),w.childLanes=sb(o,G,x),u.memoizedState=ib,u=O);else if(gc(u),$b(ee)){if(G=ee.nextSibling&&ee.nextSibling.dataset,G)var Ee=G.dgst;G=Ee,w=Error(r(419)),w.stack="",w.digest=G,em({value:w,source:null,stack:null}),u=lb(o,u,x)}else if(hi||tm(o,u,x,!1),G=(x&o.childLanes)!==0,hi||G){if(G=$n,G!==null&&(w=x&-x,w=(w&42)!==0?1:Qn(w),w=(w&(G.suspendedLanes|x))!==0?0:w,w!==0&&w!==ce.retryLane))throw ce.retryLane=w,Kd(o,w),qa(G,o,w),XT;ee.data==="$?"||Eb(),u=lb(o,u,x)}else ee.data==="$?"?(u.flags|=192,u.child=o.child,u=null):(o=ce.treeContext,Ar=Ys(ee.nextSibling),ia=u,yn=!0,Tu=null,jo=!1,o!==null&&(gs[ps++]=ll,gs[ps++]=cl,gs[ps++]=_u,ll=o.id,cl=o.overflow,_u=u),u=ob(u,w.children),u.flags|=4096);return u}return O?(pc(),O=w.fallback,ee=u.mode,ce=o.child,Ee=ce.sibling,w=ol(ce,{mode:"hidden",children:w.children}),w.subtreeFlags=ce.subtreeFlags&65011712,Ee!==null?O=ol(Ee,O):(O=Eu(O,ee,x,null),O.flags|=2),O.return=u,w.return=u,w.sibling=O,u.child=w,w=O,O=u.child,ee=o.child.memoizedState,ee===null?ee=ab(x):(ce=ee.cachePool,ce!==null?(Ee=ai._currentValue,ce=ce.parent!==Ee?{parent:Ee,pool:Ee}:ce):ce=qC(),ee={baseLanes:ee.baseLanes|x,cachePool:ce}),O.memoizedState=ee,O.childLanes=sb(o,G,x),u.memoizedState=ib,w):(gc(u),x=o.child,o=x.sibling,x=ol(x,{mode:"visible",children:w.children}),x.return=u,x.sibling=null,o!==null&&(G=u.deletions,G===null?(u.deletions=[o],u.flags|=16):G.push(o)),u.child=x,u.memoizedState=null,x)}function ob(o,u){return u=up({mode:"visible",children:u},o.mode),u.return=o,o.child=u}function up(o,u){return o=Ua(22,o,null,u),o.lanes=0,o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},o}function lb(o,u,x){return of(u,o.child,null,x),o=ob(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function s4(o,u,x){o.lanes|=u;var w=o.alternate;w!==null&&(w.lanes|=u),Ey(o.return,u,x)}function cb(o,u,x,w,O){var I=o.memoizedState;I===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:w,tail:x,tailMode:O}:(I.isBackwards=u,I.rendering=null,I.renderingStartTime=0,I.last=w,I.tail=x,I.tailMode=O)}function o4(o,u,x){var w=u.pendingProps,O=w.revealOrder,I=w.tail;if(Ei(o,u,w.children,x),w=si.current,(w&2)!==0)w=w&1|2,u.flags|=128;else{if(o!==null&&(o.flags&128)!==0)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&s4(o,x,u);else if(o.tag===19)s4(o,x,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}w&=1}switch(he(si,w),O){case"forwards":for(x=u.child,O=null;x!==null;)o=x.alternate,o!==null&&sp(o)===null&&(O=x),x=x.sibling;x=O,x===null?(O=u.child,u.child=null):(O=x.sibling,x.sibling=null),cb(u,!1,O,x,I);break;case"backwards":for(x=null,O=u.child,u.child=null;O!==null;){if(o=O.alternate,o!==null&&sp(o)===null){u.child=O;break}o=O.sibling,O.sibling=x,x=O,O=o}cb(u,!0,x,null,I);break;case"together":cb(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function ml(o,u,x){if(o!==null&&(u.dependencies=o.dependencies),wc|=u.lanes,(x&u.childLanes)===0)if(o!==null){if(tm(o,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,x=ol(o,o.pendingProps),u.child=x,x.return=u;o.sibling!==null;)o=o.sibling,x=x.sibling=ol(o,o.pendingProps),x.return=u;x.sibling=null}return u.child}function ub(o,u){return(o.lanes&u)!==0?!0:(o=o.dependencies,!!(o!==null&&Hg(o)))}function O$(o,u,x){switch(u.tag){case 3:je(u,u.stateNode.containerInfo),uc(u,ai,o.memoizedState.cache),Jh();break;case 27:case 5:Fe(u);break;case 4:je(u,u.stateNode.containerInfo);break;case 10:uc(u,u.type,u.memoizedProps.value);break;case 13:var w=u.memoizedState;if(w!==null)return w.dehydrated!==null?(gc(u),u.flags|=128,null):(x&u.child.childLanes)!==0?a4(o,u,x):(gc(u),o=ml(o,u,x),o!==null?o.sibling:null);gc(u);break;case 19:var O=(o.flags&128)!==0;if(w=(x&u.childLanes)!==0,w||(tm(o,u,x,!1),w=(x&u.childLanes)!==0),O){if(w)return o4(o,u,x);u.flags|=128}if(O=u.memoizedState,O!==null&&(O.rendering=null,O.tail=null,O.lastEffect=null),he(si,si.current),w)break;return null;case 22:case 23:return u.lanes=0,e4(o,u,x);case 24:uc(u,ai,o.memoizedState.cache)}return ml(o,u,x)}function l4(o,u,x){if(o!==null)if(o.memoizedProps!==u.pendingProps)hi=!0;else{if(!ub(o,x)&&(u.flags&128)===0)return hi=!1,O$(o,u,x);hi=(o.flags&131072)!==0}else hi=!1,yn&&(u.flags&1048576)!==0&&BC(u,$g,u.index);switch(u.lanes=0,u.tag){case 16:e:{o=u.pendingProps;var w=u.elementType,O=w._init;if(w=O(w._payload),u.type=w,typeof w=="function")yy(w)?(o=Iu(w,o),u.tag=1,u=r4(null,u,w,o,x)):(u.tag=0,u=rb(null,u,w,o,x));else{if(w!=null){if(O=w.$$typeof,O===U){u.tag=11,u=QT(null,u,w,o,x);break e}else if(O===F){u.tag=14,u=ZT(null,u,w,o,x);break e}}throw u=te(w)||w,Error(r(306,u,""))}}return u;case 0:return rb(o,u,u.type,u.pendingProps,x);case 1:return w=u.type,O=Iu(w,u.pendingProps),r4(o,u,w,O,x);case 3:e:{if(je(u,u.stateNode.containerInfo),o===null)throw Error(r(387));w=u.pendingProps;var I=u.memoizedState;O=I.element,Ry(o,u),lm(u,w,null,x);var G=u.memoizedState;if(w=G.cache,uc(u,ai,w),w!==I.cache&&_y(u,[ai],x,!0),om(),w=G.element,I.isDehydrated)if(I={element:w,isDehydrated:!1,cache:G.cache},u.updateQueue.baseState=I,u.memoizedState=I,u.flags&256){u=i4(o,u,w,x);break e}else if(w!==O){O=hs(Error(r(424)),u),em(O),u=i4(o,u,w,x);break e}else{switch(o=u.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(Ar=Ys(o.firstChild),ia=u,yn=!0,Tu=null,jo=!0,x=UT(u,null,w,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Jh(),w===O){u=ml(o,u,x);break e}Ei(o,u,w,x)}u=u.child}return u;case 26:return cp(o,u),o===null?(x=f3(u.type,null,u.pendingProps,null))?u.memoizedState=x:yn||(x=u.type,o=u.pendingProps,w=Np(le.current).createElement(x),w[ur]=u,w[on]=o,Ci(w,x,o),An(w),u.stateNode=w):u.memoizedState=f3(u.type,o.memoizedProps,u.pendingProps,o.memoizedState),null;case 27:return Fe(u),o===null&&yn&&(w=u.stateNode=c3(u.type,u.pendingProps,le.current),ia=u,jo=!0,O=Ar,Ac(u.type)?(Hb=O,Ar=Ys(w.firstChild)):Ar=O),Ei(o,u,u.pendingProps.children,x),cp(o,u),o===null&&(u.flags|=4194304),u.child;case 5:return o===null&&yn&&((O=w=Ar)&&(w=iH(w,u.type,u.pendingProps,jo),w!==null?(u.stateNode=w,ia=u,Ar=Ys(w.firstChild),jo=!1,O=!0):O=!1),O||Ou(u)),Fe(u),O=u.type,I=u.pendingProps,G=o!==null?o.memoizedProps:null,w=I.children,Ub(O,I)?w=null:G!==null&&Ub(O,G)&&(u.flags|=32),u.memoizedState!==null&&(O=Fy(o,u,j$,null,null,x),Om._currentValue=O),cp(o,u),Ei(o,u,w,x),u.child;case 6:return o===null&&yn&&((o=x=Ar)&&(x=aH(x,u.pendingProps,jo),x!==null?(u.stateNode=x,ia=u,Ar=null,o=!0):o=!1),o||Ou(u)),null;case 13:return a4(o,u,x);case 4:return je(u,u.stateNode.containerInfo),w=u.pendingProps,o===null?u.child=of(u,null,w,x):Ei(o,u,w,x),u.child;case 11:return QT(o,u,u.type,u.pendingProps,x);case 7:return Ei(o,u,u.pendingProps,x),u.child;case 8:return Ei(o,u,u.pendingProps.children,x),u.child;case 12:return Ei(o,u,u.pendingProps.children,x),u.child;case 10:return w=u.pendingProps,uc(u,u.type,w.value),Ei(o,u,w.children,x),u.child;case 9:return O=u.type._context,w=u.pendingProps.children,Du(u),O=Vi(O),w=w(O),u.flags|=1,Ei(o,u,w,x),u.child;case 14:return ZT(o,u,u.type,u.pendingProps,x);case 15:return JT(o,u,u.type,u.pendingProps,x);case 19:return o4(o,u,x);case 31:return w=u.pendingProps,x=u.mode,w={mode:w.mode,children:w.children},o===null?(x=up(w,x),x.ref=u.ref,u.child=x,x.return=u,u=x):(x=ol(o.child,w),x.ref=u.ref,u.child=x,x.return=u,u=x),u;case 22:return e4(o,u,x);case 24:return Du(u),w=Vi(ai),o===null?(O=Oy(),O===null&&(O=$n,I=Cy(),O.pooledCache=I,I.refCount++,I!==null&&(O.pooledCacheLanes|=x),O=I),u.memoizedState={parent:w,cache:O},Dy(u),uc(u,ai,O)):((o.lanes&x)!==0&&(Ry(o,u),lm(u,null,null,x),om()),O=o.memoizedState,I=u.memoizedState,O.parent!==w?(O={parent:w,cache:w},u.memoizedState=O,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=O),uc(u,ai,w)):(w=I.cache,uc(u,ai,w),w!==O.cache&&_y(u,[ai],x,!0))),Ei(o,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function gl(o){o.flags|=4}function c4(o,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!x3(u)){if(u=xs.current,u!==null&&((ln&4194048)===ln?So!==null:(ln&62914560)!==ln&&(ln&536870912)===0||u!==So))throw am=My,YC;o.flags|=8192}}function dp(o,u){u!==null&&(o.flags|=4),o.flags&16384&&(u=o.tag!==22?mu():536870912,o.lanes|=u,df|=u)}function gm(o,u){if(!yn)switch(o.tailMode){case"hidden":u=o.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?o.tail=null:x.sibling=null;break;case"collapsed":x=o.tail;for(var w=null;x!==null;)x.alternate!==null&&(w=x),x=x.sibling;w===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:w.sibling=null}}function fr(o){var u=o.alternate!==null&&o.alternate.child===o.child,x=0,w=0;if(u)for(var O=o.child;O!==null;)x|=O.lanes|O.childLanes,w|=O.subtreeFlags&65011712,w|=O.flags&65011712,O.return=o,O=O.sibling;else for(O=o.child;O!==null;)x|=O.lanes|O.childLanes,w|=O.subtreeFlags,w|=O.flags,O.return=o,O=O.sibling;return o.subtreeFlags|=w,o.childLanes=x,u}function M$(o,u,x){var w=u.pendingProps;switch(Sy(u),u.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(u),null;case 1:return fr(u),null;case 3:return x=u.stateNode,w=null,o!==null&&(w=o.memoizedState.cache),u.memoizedState.cache!==w&&(u.flags|=2048),dl(ai),xe(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(o===null||o.child===null)&&(Zh(u)?gl(u):o===null||o.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,zC())),fr(u),null;case 26:return x=u.memoizedState,o===null?(gl(u),x!==null?(fr(u),c4(u,x)):(fr(u),u.flags&=-16777217)):x?x!==o.memoizedState?(gl(u),fr(u),c4(u,x)):(fr(u),u.flags&=-16777217):(o.memoizedProps!==w&&gl(u),fr(u),u.flags&=-16777217),null;case 27:Ce(u),x=le.current;var O=u.type;if(o!==null&&u.stateNode!=null)o.memoizedProps!==w&&gl(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return fr(u),null}o=Re.current,Zh(u)?FC(u):(o=c3(O,w,x),u.stateNode=o,gl(u))}return fr(u),null;case 5:if(Ce(u),x=u.type,o!==null&&u.stateNode!=null)o.memoizedProps!==w&&gl(u);else{if(!w){if(u.stateNode===null)throw Error(r(166));return fr(u),null}if(o=Re.current,Zh(u))FC(u);else{switch(O=Np(le.current),o){case 1:o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case 2:o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;default:switch(x){case"svg":o=O.createElementNS("http://www.w3.org/2000/svg",x);break;case"math":o=O.createElementNS("http://www.w3.org/1998/Math/MathML",x);break;case"script":o=O.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof w.is=="string"?O.createElement("select",{is:w.is}):O.createElement("select"),w.multiple?o.multiple=!0:w.size&&(o.size=w.size);break;default:o=typeof w.is=="string"?O.createElement(x,{is:w.is}):O.createElement(x)}}o[ur]=u,o[on]=w;e:for(O=u.child;O!==null;){if(O.tag===5||O.tag===6)o.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===u)break e;for(;O.sibling===null;){if(O.return===null||O.return===u)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}u.stateNode=o;e:switch(Ci(o,x,w),x){case"button":case"input":case"select":case"textarea":o=!!w.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&gl(u)}}return fr(u),u.flags&=-16777217,null;case 6:if(o&&u.stateNode!=null)o.memoizedProps!==w&&gl(u);else{if(typeof w!="string"&&u.stateNode===null)throw Error(r(166));if(o=le.current,Zh(u)){if(o=u.stateNode,x=u.memoizedProps,w=null,O=ia,O!==null)switch(O.tag){case 27:case 5:w=O.memoizedProps}o[ur]=u,o=!!(o.nodeValue===x||w!==null&&w.suppressHydrationWarning===!0||n3(o.nodeValue,x)),o||Ou(u)}else o=Np(o).createTextNode(w),o[ur]=u,u.stateNode=o}return fr(u),null;case 13:if(w=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(O=Zh(u),w!==null&&w.dehydrated!==null){if(o===null){if(!O)throw Error(r(318));if(O=u.memoizedState,O=O!==null?O.dehydrated:null,!O)throw Error(r(317));O[ur]=u}else Jh(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;fr(u),O=!1}else O=zC(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=O),O=!0;if(!O)return u.flags&256?(hl(u),u):(hl(u),null)}if(hl(u),(u.flags&128)!==0)return u.lanes=x,u;if(x=w!==null,o=o!==null&&o.memoizedState!==null,x){w=u.child,O=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(O=w.alternate.memoizedState.cachePool.pool);var I=null;w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(I=w.memoizedState.cachePool.pool),I!==O&&(w.flags|=2048)}return x!==o&&x&&(u.child.flags|=8192),dp(u,u.updateQueue),fr(u),null;case 4:return xe(),o===null&&Ib(u.stateNode.containerInfo),fr(u),null;case 10:return dl(u.type),fr(u),null;case 19:if(oe(si),O=u.memoizedState,O===null)return fr(u),null;if(w=(u.flags&128)!==0,I=O.rendering,I===null)if(w)gm(O,!1);else{if(Er!==0||o!==null&&(o.flags&128)!==0)for(o=u.child;o!==null;){if(I=sp(o),I!==null){for(u.flags|=128,gm(O,!1),o=I.updateQueue,u.updateQueue=o,dp(u,o),u.subtreeFlags=0,o=x,x=u.child;x!==null;)LC(x,o),x=x.sibling;return he(si,si.current&1|2),u.child}o=o.sibling}O.tail!==null&&Ke()>mp&&(u.flags|=128,w=!0,gm(O,!1),u.lanes=4194304)}else{if(!w)if(o=sp(I),o!==null){if(u.flags|=128,w=!0,o=o.updateQueue,u.updateQueue=o,dp(u,o),gm(O,!0),O.tail===null&&O.tailMode==="hidden"&&!I.alternate&&!yn)return fr(u),null}else 2*Ke()-O.renderingStartTime>mp&&x!==536870912&&(u.flags|=128,w=!0,gm(O,!1),u.lanes=4194304);O.isBackwards?(I.sibling=u.child,u.child=I):(o=O.last,o!==null?o.sibling=I:u.child=I,O.last=I)}return O.tail!==null?(u=O.tail,O.rendering=u,O.tail=u.sibling,O.renderingStartTime=Ke(),u.sibling=null,o=si.current,he(si,w?o&1|2:o&1),u):(fr(u),null);case 22:case 23:return hl(u),Ly(),w=u.memoizedState!==null,o!==null?o.memoizedState!==null!==w&&(u.flags|=8192):w&&(u.flags|=8192),w?(x&536870912)!==0&&(u.flags&128)===0&&(fr(u),u.subtreeFlags&6&&(u.flags|=8192)):fr(u),x=u.updateQueue,x!==null&&dp(u,x.retryQueue),x=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),w=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(w=u.memoizedState.cachePool.pool),w!==x&&(u.flags|=2048),o!==null&&oe(Ru),null;case 24:return x=null,o!==null&&(x=o.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),dl(ai),fr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function D$(o,u){switch(Sy(u),u.tag){case 1:return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return dl(ai),xe(),o=u.flags,(o&65536)!==0&&(o&128)===0?(u.flags=o&-65537|128,u):null;case 26:case 27:case 5:return Ce(u),null;case 13:if(hl(u),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Jh()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return oe(si),null;case 4:return xe(),null;case 10:return dl(u.type),null;case 22:case 23:return hl(u),Ly(),o!==null&&oe(Ru),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 24:return dl(ai),null;case 25:return null;default:return null}}function u4(o,u){switch(Sy(u),u.tag){case 3:dl(ai),xe();break;case 26:case 27:case 5:Ce(u);break;case 4:xe();break;case 13:hl(u);break;case 19:oe(si);break;case 10:dl(u.type);break;case 22:case 23:hl(u),Ly(),o!==null&&oe(Ru);break;case 24:dl(ai)}}function pm(o,u){try{var x=u.updateQueue,w=x!==null?x.lastEffect:null;if(w!==null){var O=w.next;x=O;do{if((x.tag&o)===o){w=void 0;var I=x.create,G=x.inst;w=I(),G.destroy=w}x=x.next}while(x!==O)}}catch(ee){Bn(u,u.return,ee)}}function xc(o,u,x){try{var w=u.updateQueue,O=w!==null?w.lastEffect:null;if(O!==null){var I=O.next;w=I;do{if((w.tag&o)===o){var G=w.inst,ee=G.destroy;if(ee!==void 0){G.destroy=void 0,O=u;var ce=x,Ee=ee;try{Ee()}catch(Be){Bn(O,ce,Be)}}}w=w.next}while(w!==I)}}catch(Be){Bn(u,u.return,Be)}}function d4(o){var u=o.updateQueue;if(u!==null){var x=o.stateNode;try{ZC(u,x)}catch(w){Bn(o,o.return,w)}}}function f4(o,u,x){x.props=Iu(o.type,o.memoizedProps),x.state=o.memoizedState;try{x.componentWillUnmount()}catch(w){Bn(o,u,w)}}function xm(o,u){try{var x=o.ref;if(x!==null){switch(o.tag){case 26:case 27:case 5:var w=o.stateNode;break;case 30:w=o.stateNode;break;default:w=o.stateNode}typeof x=="function"?o.refCleanup=x(w):x.current=w}}catch(O){Bn(o,u,O)}}function No(o,u){var x=o.ref,w=o.refCleanup;if(x!==null)if(typeof w=="function")try{w()}catch(O){Bn(o,u,O)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(O){Bn(o,u,O)}else x.current=null}function h4(o){var u=o.type,x=o.memoizedProps,w=o.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":x.autoFocus&&w.focus();break e;case"img":x.src?w.src=x.src:x.srcSet&&(w.srcset=x.srcSet)}}catch(O){Bn(o,o.return,O)}}function db(o,u,x){try{var w=o.stateNode;J$(w,o.type,x,u),w[on]=u}catch(O){Bn(o,o.return,O)}}function m4(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Ac(o.type)||o.tag===4}function fb(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||m4(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Ac(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function hb(o,u,x){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(o,u):(u=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,u.appendChild(o),x=x._reactRootContainer,x!=null||u.onclick!==null||(u.onclick=Sp));else if(w!==4&&(w===27&&Ac(o.type)&&(x=o.stateNode,u=null),o=o.child,o!==null))for(hb(o,u,x),o=o.sibling;o!==null;)hb(o,u,x),o=o.sibling}function fp(o,u,x){var w=o.tag;if(w===5||w===6)o=o.stateNode,u?x.insertBefore(o,u):x.appendChild(o);else if(w!==4&&(w===27&&Ac(o.type)&&(x=o.stateNode),o=o.child,o!==null))for(fp(o,u,x),o=o.sibling;o!==null;)fp(o,u,x),o=o.sibling}function g4(o){var u=o.stateNode,x=o.memoizedProps;try{for(var w=o.type,O=u.attributes;O.length;)u.removeAttributeNode(O[0]);Ci(u,w,x),u[ur]=o,u[on]=x}catch(I){Bn(o,o.return,I)}}var pl=!1,kr=!1,mb=!1,p4=typeof WeakSet=="function"?WeakSet:Set,mi=null;function R$(o,u){if(o=o.containerInfo,Bb=Op,o=k(o),$(o)){if("selectionStart"in o)var x={start:o.selectionStart,end:o.selectionEnd};else e:{x=(x=o.ownerDocument)&&x.defaultView||window;var w=x.getSelection&&x.getSelection();if(w&&w.rangeCount!==0){x=w.anchorNode;var O=w.anchorOffset,I=w.focusNode;w=w.focusOffset;try{x.nodeType,I.nodeType}catch{x=null;break e}var G=0,ee=-1,ce=-1,Ee=0,Be=0,Ve=o,Te=null;t:for(;;){for(var Me;Ve!==x||O!==0&&Ve.nodeType!==3||(ee=G+O),Ve!==I||w!==0&&Ve.nodeType!==3||(ce=G+w),Ve.nodeType===3&&(G+=Ve.nodeValue.length),(Me=Ve.firstChild)!==null;)Te=Ve,Ve=Me;for(;;){if(Ve===o)break t;if(Te===x&&++Ee===O&&(ee=G),Te===I&&++Be===w&&(ce=G),(Me=Ve.nextSibling)!==null)break;Ve=Te,Te=Ve.parentNode}Ve=Me}x=ee===-1||ce===-1?null:{start:ee,end:ce}}else x=null}x=x||{start:0,end:0}}else x=null;for(Fb={focusedElem:o,selectionRange:x},Op=!1,mi=u;mi!==null;)if(u=mi,o=u.child,(u.subtreeFlags&1024)!==0&&o!==null)o.return=u,mi=o;else for(;mi!==null;){switch(u=mi,I=u.alternate,o=u.flags,u.tag){case 0:break;case 11:case 15:break;case 1:if((o&1024)!==0&&I!==null){o=void 0,x=u,O=I.memoizedProps,I=I.memoizedState,w=x.stateNode;try{var Tt=Iu(x.type,O,x.elementType===x.type);o=w.getSnapshotBeforeUpdate(Tt,I),w.__reactInternalSnapshotBeforeUpdate=o}catch(Et){Bn(x,x.return,Et)}}break;case 3:if((o&1024)!==0){if(o=u.stateNode.containerInfo,x=o.nodeType,x===9)Vb(o);else if(x===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":Vb(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=u.sibling,o!==null){o.return=u.return,mi=o;break}mi=u.return}}function x4(o,u,x){var w=x.flags;switch(x.tag){case 0:case 11:case 15:vc(o,x),w&4&&pm(5,x);break;case 1:if(vc(o,x),w&4)if(o=x.stateNode,u===null)try{o.componentDidMount()}catch(G){Bn(x,x.return,G)}else{var O=Iu(x.type,u.memoizedProps);u=u.memoizedState;try{o.componentDidUpdate(O,u,o.__reactInternalSnapshotBeforeUpdate)}catch(G){Bn(x,x.return,G)}}w&64&&d4(x),w&512&&xm(x,x.return);break;case 3:if(vc(o,x),w&64&&(o=x.updateQueue,o!==null)){if(u=null,x.child!==null)switch(x.child.tag){case 27:case 5:u=x.child.stateNode;break;case 1:u=x.child.stateNode}try{ZC(o,u)}catch(G){Bn(x,x.return,G)}}break;case 27:u===null&&w&4&&g4(x);case 26:case 5:vc(o,x),u===null&&w&4&&h4(x),w&512&&xm(x,x.return);break;case 12:vc(o,x);break;case 13:vc(o,x),w&4&&b4(o,x),w&64&&(o=x.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(x=V$.bind(null,x),sH(o,x))));break;case 22:if(w=x.memoizedState!==null||pl,!w){u=u!==null&&u.memoizedState!==null||kr,O=pl;var I=kr;pl=w,(kr=u)&&!I?yc(o,x,(x.subtreeFlags&8772)!==0):vc(o,x),pl=O,kr=I}break;case 30:break;default:vc(o,x)}}function v4(o){var u=o.alternate;u!==null&&(o.alternate=null,v4(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&pu(u)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var tr=null,ja=!1;function xl(o,u,x){for(x=x.child;x!==null;)y4(o,u,x),x=x.sibling}function y4(o,u,x){if(zn&&typeof zn.onCommitFiberUnmount=="function")try{zn.onCommitFiberUnmount(vn,x)}catch{}switch(x.tag){case 26:kr||No(x,u),xl(o,u,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:kr||No(x,u);var w=tr,O=ja;Ac(x.type)&&(tr=x.stateNode,ja=!1),xl(o,u,x),Em(x.stateNode),tr=w,ja=O;break;case 5:kr||No(x,u);case 6:if(w=tr,O=ja,tr=null,xl(o,u,x),tr=w,ja=O,tr!==null)if(ja)try{(tr.nodeType===9?tr.body:tr.nodeName==="HTML"?tr.ownerDocument.body:tr).removeChild(x.stateNode)}catch(I){Bn(x,u,I)}else try{tr.removeChild(x.stateNode)}catch(I){Bn(x,u,I)}break;case 18:tr!==null&&(ja?(o=tr,o3(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,x.stateNode),Pm(o)):o3(tr,x.stateNode));break;case 4:w=tr,O=ja,tr=x.stateNode.containerInfo,ja=!0,xl(o,u,x),tr=w,ja=O;break;case 0:case 11:case 14:case 15:kr||xc(2,x,u),kr||xc(4,x,u),xl(o,u,x);break;case 1:kr||(No(x,u),w=x.stateNode,typeof w.componentWillUnmount=="function"&&f4(x,u,w)),xl(o,u,x);break;case 21:xl(o,u,x);break;case 22:kr=(w=kr)||x.memoizedState!==null,xl(o,u,x),kr=w;break;default:xl(o,u,x)}}function b4(o,u){if(u.memoizedState===null&&(o=u.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Pm(o)}catch(x){Bn(u,u.return,x)}}function P$(o){switch(o.tag){case 13:case 19:var u=o.stateNode;return u===null&&(u=o.stateNode=new p4),u;case 22:return o=o.stateNode,u=o._retryCache,u===null&&(u=o._retryCache=new p4),u;default:throw Error(r(435,o.tag))}}function gb(o,u){var x=P$(o);u.forEach(function(w){var O=$$.bind(null,o,w);x.has(w)||(x.add(w),w.then(O,O))})}function za(o,u){var x=u.deletions;if(x!==null)for(var w=0;w<x.length;w++){var O=x[w],I=o,G=u,ee=G;e:for(;ee!==null;){switch(ee.tag){case 27:if(Ac(ee.type)){tr=ee.stateNode,ja=!1;break e}break;case 5:tr=ee.stateNode,ja=!1;break e;case 3:case 4:tr=ee.stateNode.containerInfo,ja=!0;break e}ee=ee.return}if(tr===null)throw Error(r(160));y4(I,G,O),tr=null,ja=!1,I=O.alternate,I!==null&&(I.return=null),O.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)w4(u,o),u=u.sibling}var qs=null;function w4(o,u){var x=o.alternate,w=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:za(u,o),Va(o),w&4&&(xc(3,o,o.return),pm(3,o),xc(5,o,o.return));break;case 1:za(u,o),Va(o),w&512&&(kr||x===null||No(x,x.return)),w&64&&pl&&(o=o.updateQueue,o!==null&&(w=o.callbacks,w!==null&&(x=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=x===null?w:x.concat(w))));break;case 26:var O=qs;if(za(u,o),Va(o),w&512&&(kr||x===null||No(x,x.return)),w&4){var I=x!==null?x.memoizedState:null;if(w=o.memoizedState,x===null)if(w===null)if(o.stateNode===null){e:{w=o.type,x=o.memoizedProps,O=O.ownerDocument||O;t:switch(w){case"title":I=O.getElementsByTagName("title")[0],(!I||I[ds]||I[ur]||I.namespaceURI==="http://www.w3.org/2000/svg"||I.hasAttribute("itemprop"))&&(I=O.createElement(w),O.head.insertBefore(I,O.querySelector("head > title"))),Ci(I,w,x),I[ur]=o,An(I),w=I;break e;case"link":var G=g3("link","href",O).get(w+(x.href||""));if(G){for(var ee=0;ee<G.length;ee++)if(I=G[ee],I.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&I.getAttribute("rel")===(x.rel==null?null:x.rel)&&I.getAttribute("title")===(x.title==null?null:x.title)&&I.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){G.splice(ee,1);break t}}I=O.createElement(w),Ci(I,w,x),O.head.appendChild(I);break;case"meta":if(G=g3("meta","content",O).get(w+(x.content||""))){for(ee=0;ee<G.length;ee++)if(I=G[ee],I.getAttribute("content")===(x.content==null?null:""+x.content)&&I.getAttribute("name")===(x.name==null?null:x.name)&&I.getAttribute("property")===(x.property==null?null:x.property)&&I.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&I.getAttribute("charset")===(x.charSet==null?null:x.charSet)){G.splice(ee,1);break t}}I=O.createElement(w),Ci(I,w,x),O.head.appendChild(I);break;default:throw Error(r(468,w))}I[ur]=o,An(I),w=I}o.stateNode=w}else p3(O,o.type,o.stateNode);else o.stateNode=m3(O,w,o.memoizedProps);else I!==w?(I===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):I.count--,w===null?p3(O,o.type,o.stateNode):m3(O,w,o.memoizedProps)):w===null&&o.stateNode!==null&&db(o,o.memoizedProps,x.memoizedProps)}break;case 27:za(u,o),Va(o),w&512&&(kr||x===null||No(x,x.return)),x!==null&&w&4&&db(o,o.memoizedProps,x.memoizedProps);break;case 5:if(za(u,o),Va(o),w&512&&(kr||x===null||No(x,x.return)),o.flags&32){O=o.stateNode;try{ni(O,"")}catch(Me){Bn(o,o.return,Me)}}w&4&&o.stateNode!=null&&(O=o.memoizedProps,db(o,O,x!==null?x.memoizedProps:O)),w&1024&&(mb=!0);break;case 6:if(za(u,o),Va(o),w&4){if(o.stateNode===null)throw Error(r(162));w=o.memoizedProps,x=o.stateNode;try{x.nodeValue=w}catch(Me){Bn(o,o.return,Me)}}break;case 3:if(_p=null,O=qs,qs=Ap(u.containerInfo),za(u,o),qs=O,Va(o),w&4&&x!==null&&x.memoizedState.isDehydrated)try{Pm(u.containerInfo)}catch(Me){Bn(o,o.return,Me)}mb&&(mb=!1,j4(o));break;case 4:w=qs,qs=Ap(o.stateNode.containerInfo),za(u,o),Va(o),qs=w;break;case 12:za(u,o),Va(o);break;case 13:za(u,o),Va(o),o.child.flags&8192&&o.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(wb=Ke()),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,gb(o,w)));break;case 22:O=o.memoizedState!==null;var ce=x!==null&&x.memoizedState!==null,Ee=pl,Be=kr;if(pl=Ee||O,kr=Be||ce,za(u,o),kr=Be,pl=Ee,Va(o),w&8192)e:for(u=o.stateNode,u._visibility=O?u._visibility&-2:u._visibility|1,O&&(x===null||ce||pl||kr||ku(o)),x=null,u=o;;){if(u.tag===5||u.tag===26){if(x===null){ce=x=u;try{if(I=ce.stateNode,O)G=I.style,typeof G.setProperty=="function"?G.setProperty("display","none","important"):G.display="none";else{ee=ce.stateNode;var Ve=ce.memoizedProps.style,Te=Ve!=null&&Ve.hasOwnProperty("display")?Ve.display:null;ee.style.display=Te==null||typeof Te=="boolean"?"":(""+Te).trim()}}catch(Me){Bn(ce,ce.return,Me)}}}else if(u.tag===6){if(x===null){ce=u;try{ce.stateNode.nodeValue=O?"":ce.memoizedProps}catch(Me){Bn(ce,ce.return,Me)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===o)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break e;for(;u.sibling===null;){if(u.return===null||u.return===o)break e;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}w&4&&(w=o.updateQueue,w!==null&&(x=w.retryQueue,x!==null&&(w.retryQueue=null,gb(o,x))));break;case 19:za(u,o),Va(o),w&4&&(w=o.updateQueue,w!==null&&(o.updateQueue=null,gb(o,w)));break;case 30:break;case 21:break;default:za(u,o),Va(o)}}function Va(o){var u=o.flags;if(u&2){try{for(var x,w=o.return;w!==null;){if(m4(w)){x=w;break}w=w.return}if(x==null)throw Error(r(160));switch(x.tag){case 27:var O=x.stateNode,I=fb(o);fp(o,I,O);break;case 5:var G=x.stateNode;x.flags&32&&(ni(G,""),x.flags&=-33);var ee=fb(o);fp(o,ee,G);break;case 3:case 4:var ce=x.stateNode.containerInfo,Ee=fb(o);hb(o,Ee,ce);break;default:throw Error(r(161))}}catch(Be){Bn(o,o.return,Be)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function j4(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var u=o;j4(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),o=o.sibling}}function vc(o,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)x4(o,u.alternate,u),u=u.sibling}function ku(o){for(o=o.child;o!==null;){var u=o;switch(u.tag){case 0:case 11:case 14:case 15:xc(4,u,u.return),ku(u);break;case 1:No(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&f4(u,u.return,x),ku(u);break;case 27:Em(u.stateNode);case 26:case 5:No(u,u.return),ku(u);break;case 22:u.memoizedState===null&&ku(u);break;case 30:ku(u);break;default:ku(u)}o=o.sibling}}function yc(o,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var w=u.alternate,O=o,I=u,G=I.flags;switch(I.tag){case 0:case 11:case 15:yc(O,I,x),pm(4,I);break;case 1:if(yc(O,I,x),w=I,O=w.stateNode,typeof O.componentDidMount=="function")try{O.componentDidMount()}catch(Ee){Bn(w,w.return,Ee)}if(w=I,O=w.updateQueue,O!==null){var ee=w.stateNode;try{var ce=O.shared.hiddenCallbacks;if(ce!==null)for(O.shared.hiddenCallbacks=null,O=0;O<ce.length;O++)QC(ce[O],ee)}catch(Ee){Bn(w,w.return,Ee)}}x&&G&64&&d4(I),xm(I,I.return);break;case 27:g4(I);case 26:case 5:yc(O,I,x),x&&w===null&&G&4&&h4(I),xm(I,I.return);break;case 12:yc(O,I,x);break;case 13:yc(O,I,x),x&&G&4&&b4(O,I);break;case 22:I.memoizedState===null&&yc(O,I,x),xm(I,I.return);break;case 30:break;default:yc(O,I,x)}u=u.sibling}}function pb(o,u){var x=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(x=o.memoizedState.cachePool.pool),o=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(o=u.memoizedState.cachePool.pool),o!==x&&(o!=null&&o.refCount++,x!=null&&nm(x))}function xb(o,u){o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&nm(o))}function Ao(o,u,x,w){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)S4(o,u,x,w),u=u.sibling}function S4(o,u,x,w){var O=u.flags;switch(u.tag){case 0:case 11:case 15:Ao(o,u,x,w),O&2048&&pm(9,u);break;case 1:Ao(o,u,x,w);break;case 3:Ao(o,u,x,w),O&2048&&(o=null,u.alternate!==null&&(o=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==o&&(u.refCount++,o!=null&&nm(o)));break;case 12:if(O&2048){Ao(o,u,x,w),o=u.stateNode;try{var I=u.memoizedProps,G=I.id,ee=I.onPostCommit;typeof ee=="function"&&ee(G,u.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(ce){Bn(u,u.return,ce)}}else Ao(o,u,x,w);break;case 13:Ao(o,u,x,w);break;case 23:break;case 22:I=u.stateNode,G=u.alternate,u.memoizedState!==null?I._visibility&2?Ao(o,u,x,w):vm(o,u):I._visibility&2?Ao(o,u,x,w):(I._visibility|=2,lf(o,u,x,w,(u.subtreeFlags&10256)!==0)),O&2048&&pb(G,u);break;case 24:Ao(o,u,x,w),O&2048&&xb(u.alternate,u);break;default:Ao(o,u,x,w)}}function lf(o,u,x,w,O){for(O=O&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var I=o,G=u,ee=x,ce=w,Ee=G.flags;switch(G.tag){case 0:case 11:case 15:lf(I,G,ee,ce,O),pm(8,G);break;case 23:break;case 22:var Be=G.stateNode;G.memoizedState!==null?Be._visibility&2?lf(I,G,ee,ce,O):vm(I,G):(Be._visibility|=2,lf(I,G,ee,ce,O)),O&&Ee&2048&&pb(G.alternate,G);break;case 24:lf(I,G,ee,ce,O),O&&Ee&2048&&xb(G.alternate,G);break;default:lf(I,G,ee,ce,O)}u=u.sibling}}function vm(o,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=o,w=u,O=w.flags;switch(w.tag){case 22:vm(x,w),O&2048&&pb(w.alternate,w);break;case 24:vm(x,w),O&2048&&xb(w.alternate,w);break;default:vm(x,w)}u=u.sibling}}var ym=8192;function cf(o){if(o.subtreeFlags&ym)for(o=o.child;o!==null;)N4(o),o=o.sibling}function N4(o){switch(o.tag){case 26:cf(o),o.flags&ym&&o.memoizedState!==null&&yH(qs,o.memoizedState,o.memoizedProps);break;case 5:cf(o);break;case 3:case 4:var u=qs;qs=Ap(o.stateNode.containerInfo),cf(o),qs=u;break;case 22:o.memoizedState===null&&(u=o.alternate,u!==null&&u.memoizedState!==null?(u=ym,ym=16777216,cf(o),ym=u):cf(o));break;default:cf(o)}}function A4(o){var u=o.alternate;if(u!==null&&(o=u.child,o!==null)){u.child=null;do u=o.sibling,o.sibling=null,o=u;while(o!==null)}}function bm(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var w=u[x];mi=w,_4(w,o)}A4(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)E4(o),o=o.sibling}function E4(o){switch(o.tag){case 0:case 11:case 15:bm(o),o.flags&2048&&xc(9,o,o.return);break;case 3:bm(o);break;case 12:bm(o);break;case 22:var u=o.stateNode;o.memoizedState!==null&&u._visibility&2&&(o.return===null||o.return.tag!==13)?(u._visibility&=-3,hp(o)):bm(o);break;default:bm(o)}}function hp(o){var u=o.deletions;if((o.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var w=u[x];mi=w,_4(w,o)}A4(o)}for(o=o.child;o!==null;){switch(u=o,u.tag){case 0:case 11:case 15:xc(8,u,u.return),hp(u);break;case 22:x=u.stateNode,x._visibility&2&&(x._visibility&=-3,hp(u));break;default:hp(u)}o=o.sibling}}function _4(o,u){for(;mi!==null;){var x=mi;switch(x.tag){case 0:case 11:case 15:xc(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var w=x.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:nm(x.memoizedState.cache)}if(w=x.child,w!==null)w.return=x,mi=w;else e:for(x=o;mi!==null;){w=mi;var O=w.sibling,I=w.return;if(v4(w),w===x){mi=null;break e}if(O!==null){O.return=I,mi=O;break e}mi=I}}}var I$={getCacheForType:function(o){var u=Vi(ai),x=u.data.get(o);return x===void 0&&(x=o(),u.data.set(o,x)),x}},k$=typeof WeakMap=="function"?WeakMap:Map,Cn=0,$n=null,Xt=null,ln=0,Tn=0,$a=null,bc=!1,uf=!1,vb=!1,vl=0,Er=0,wc=0,Lu=0,yb=0,vs=0,df=0,wm=null,Sa=null,bb=!1,wb=0,mp=1/0,gp=null,jc=null,_i=0,Sc=null,ff=null,hf=0,jb=0,Sb=null,C4=null,jm=0,Nb=null;function Ha(){if((Cn&2)!==0&&ln!==0)return ln&-ln;if(Y.T!==null){var o=Jd;return o!==0?o:Mb()}return va()}function T4(){vs===0&&(vs=(ln&536870912)===0||yn?ea():536870912);var o=xs.current;return o!==null&&(o.flags|=32),vs}function qa(o,u,x){(o===$n&&(Tn===2||Tn===9)||o.cancelPendingCommit!==null)&&(mf(o,0),Nc(o,ln,vs,!1)),ki(o,x),((Cn&2)===0||o!==$n)&&(o===$n&&((Cn&2)===0&&(Lu|=x),Er===4&&Nc(o,ln,vs,!1)),Eo(o))}function O4(o,u,x){if((Cn&6)!==0)throw Error(r(327));var w=!x&&(u&124)===0&&(u&o.expiredLanes)===0||wn(o,u),O=w?F$(o,u):_b(o,u,!0),I=w;do{if(O===0){uf&&!w&&Nc(o,u,0,!1);break}else{if(x=o.current.alternate,I&&!L$(x)){O=_b(o,u,!1),I=!1;continue}if(O===2){if(I=u,o.errorRecoveryDisabledLanes&I)var G=0;else G=o.pendingLanes&-536870913,G=G!==0?G:G&536870912?536870912:0;if(G!==0){u=G;e:{var ee=o;O=wm;var ce=ee.current.memoizedState.isDehydrated;if(ce&&(mf(ee,G).flags|=256),G=_b(ee,G,!1),G!==2){if(vb&&!ce){ee.errorRecoveryDisabledLanes|=I,Lu|=I,O=4;break e}I=Sa,Sa=O,I!==null&&(Sa===null?Sa=I:Sa.push.apply(Sa,I))}O=G}if(I=!1,O!==2)continue}}if(O===1){mf(o,0),Nc(o,u,0,!0);break}e:{switch(w=o,I=O,I){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:Nc(w,u,vs,!bc);break e;case 2:Sa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(O=wb+300-Ke(),10<O)){if(Nc(w,u,vs,!bc),rn(w,0,!0)!==0)break e;w.timeoutHandle=a3(M4.bind(null,w,x,Sa,gp,bb,u,vs,Lu,df,bc,I,2,-0,0),O);break e}M4(w,x,Sa,gp,bb,u,vs,Lu,df,bc,I,0,-0,0)}}break}while(!0);Eo(o)}function M4(o,u,x,w,O,I,G,ee,ce,Ee,Be,Ve,Te,Me){if(o.timeoutHandle=-1,Ve=u.subtreeFlags,(Ve&8192||(Ve&16785408)===16785408)&&(Tm={stylesheets:null,count:0,unsuspend:vH},N4(u),Ve=bH(),Ve!==null)){o.cancelPendingCommit=Ve(B4.bind(null,o,u,I,x,w,O,G,ee,ce,Be,1,Te,Me)),Nc(o,I,G,!Ee);return}B4(o,u,I,x,w,O,G,ee,ce)}function L$(o){for(var u=o;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var w=0;w<x.length;w++){var O=x[w],I=O.getSnapshot;O=O.value;try{if(!y(I(),O))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Nc(o,u,x,w){u&=~yb,u&=~Lu,o.suspendedLanes|=u,o.pingedLanes&=~u,w&&(o.warmLanes|=u),w=o.expirationTimes;for(var O=u;0<O;){var I=31-Jt(O),G=1<<I;w[I]=-1,O&=~G}x!==0&&Mt(o,x,u)}function pp(){return(Cn&6)===0?(Sm(0),!1):!0}function Ab(){if(Xt!==null){if(Tn===0)var o=Xt.return;else o=Xt,ul=Mu=null,Vy(o),sf=null,hm=0,o=Xt;for(;o!==null;)u4(o.alternate,o),o=o.return;Xt=null}}function mf(o,u){var x=o.timeoutHandle;x!==-1&&(o.timeoutHandle=-1,tH(x)),x=o.cancelPendingCommit,x!==null&&(o.cancelPendingCommit=null,x()),Ab(),$n=o,Xt=x=ol(o.current,null),ln=u,Tn=0,$a=null,bc=!1,uf=wn(o,u),vb=!1,df=vs=yb=Lu=wc=Er=0,Sa=wm=null,bb=!1,(u&8)!==0&&(u|=u&32);var w=o.entangledLanes;if(w!==0)for(o=o.entanglements,w&=u;0<w;){var O=31-Jt(w),I=1<<O;u|=o[O],w&=~I}return vl=u,Bg(),x}function D4(o,u){Ht=null,Y.H=rp,u===im||u===Wg?(u=KC(),Tn=3):u===YC?(u=KC(),Tn=4):Tn=u===XT?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,$a=u,Xt===null&&(Er=1,lp(o,hs(u,o.current)))}function R4(){var o=Y.H;return Y.H=rp,o===null?rp:o}function P4(){var o=Y.A;return Y.A=I$,o}function Eb(){Er=4,bc||(ln&4194048)!==ln&&xs.current!==null||(uf=!0),(wc&134217727)===0&&(Lu&134217727)===0||$n===null||Nc($n,ln,vs,!1)}function _b(o,u,x){var w=Cn;Cn|=2;var O=R4(),I=P4();($n!==o||ln!==u)&&(gp=null,mf(o,u)),u=!1;var G=Er;e:do try{if(Tn!==0&&Xt!==null){var ee=Xt,ce=$a;switch(Tn){case 8:Ab(),G=6;break e;case 3:case 2:case 9:case 6:xs.current===null&&(u=!0);var Ee=Tn;if(Tn=0,$a=null,gf(o,ee,ce,Ee),x&&uf){G=0;break e}break;default:Ee=Tn,Tn=0,$a=null,gf(o,ee,ce,Ee)}}B$(),G=Er;break}catch(Be){D4(o,Be)}while(!0);return u&&o.shellSuspendCounter++,ul=Mu=null,Cn=w,Y.H=O,Y.A=I,Xt===null&&($n=null,ln=0,Bg()),G}function B$(){for(;Xt!==null;)I4(Xt)}function F$(o,u){var x=Cn;Cn|=2;var w=R4(),O=P4();$n!==o||ln!==u?(gp=null,mp=Ke()+500,mf(o,u)):uf=wn(o,u);e:do try{if(Tn!==0&&Xt!==null){u=Xt;var I=$a;t:switch(Tn){case 1:Tn=0,$a=null,gf(o,u,I,1);break;case 2:case 9:if(WC(I)){Tn=0,$a=null,k4(u);break}u=function(){Tn!==2&&Tn!==9||$n!==o||(Tn=7),Eo(o)},I.then(u,u);break e;case 3:Tn=7;break e;case 4:Tn=5;break e;case 7:WC(I)?(Tn=0,$a=null,k4(u)):(Tn=0,$a=null,gf(o,u,I,7));break;case 5:var G=null;switch(Xt.tag){case 26:G=Xt.memoizedState;case 5:case 27:var ee=Xt;if(!G||x3(G)){Tn=0,$a=null;var ce=ee.sibling;if(ce!==null)Xt=ce;else{var Ee=ee.return;Ee!==null?(Xt=Ee,xp(Ee)):Xt=null}break t}}Tn=0,$a=null,gf(o,u,I,5);break;case 6:Tn=0,$a=null,gf(o,u,I,6);break;case 8:Ab(),Er=6;break e;default:throw Error(r(462))}}U$();break}catch(Be){D4(o,Be)}while(!0);return ul=Mu=null,Y.H=w,Y.A=O,Cn=x,Xt!==null?0:($n=null,ln=0,Bg(),Er)}function U$(){for(;Xt!==null&&!Ze();)I4(Xt)}function I4(o){var u=l4(o.alternate,o,vl);o.memoizedProps=o.pendingProps,u===null?xp(o):Xt=u}function k4(o){var u=o,x=u.alternate;switch(u.tag){case 15:case 0:u=n4(x,u,u.pendingProps,u.type,void 0,ln);break;case 11:u=n4(x,u,u.pendingProps,u.type.render,u.ref,ln);break;case 5:Vy(u);default:u4(x,u),u=Xt=LC(u,vl),u=l4(x,u,vl)}o.memoizedProps=o.pendingProps,u===null?xp(o):Xt=u}function gf(o,u,x,w){ul=Mu=null,Vy(u),sf=null,hm=0;var O=u.return;try{if(T$(o,O,u,x,ln)){Er=1,lp(o,hs(x,o.current)),Xt=null;return}}catch(I){if(O!==null)throw Xt=O,I;Er=1,lp(o,hs(x,o.current)),Xt=null;return}u.flags&32768?(yn||w===1?o=!0:uf||(ln&536870912)!==0?o=!1:(bc=o=!0,(w===2||w===9||w===3||w===6)&&(w=xs.current,w!==null&&w.tag===13&&(w.flags|=16384))),L4(u,o)):xp(u)}function xp(o){var u=o;do{if((u.flags&32768)!==0){L4(u,bc);return}o=u.return;var x=M$(u.alternate,u,vl);if(x!==null){Xt=x;return}if(u=u.sibling,u!==null){Xt=u;return}Xt=u=o}while(u!==null);Er===0&&(Er=5)}function L4(o,u){do{var x=D$(o.alternate,o);if(x!==null){x.flags&=32767,Xt=x;return}if(x=o.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(o=o.sibling,o!==null)){Xt=o;return}Xt=o=x}while(o!==null);Er=6,Xt=null}function B4(o,u,x,w,O,I,G,ee,ce){o.cancelPendingCommit=null;do vp();while(_i!==0);if((Cn&6)!==0)throw Error(r(327));if(u!==null){if(u===o.current)throw Error(r(177));if(I=u.lanes|u.childLanes,I|=xy,gu(o,x,I,G,ee,ce),o===$n&&(Xt=$n=null,ln=0),ff=u,Sc=o,hf=x,jb=I,Sb=O,C4=w,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,H$(it,function(){return $4(),null})):(o.callbackNode=null,o.callbackPriority=0),w=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||w){w=Y.T,Y.T=null,O=ne.p,ne.p=2,G=Cn,Cn|=4;try{R$(o,u,x)}finally{Cn=G,ne.p=O,Y.T=w}}_i=1,F4(),U4(),z4()}}function F4(){if(_i===1){_i=0;var o=Sc,u=ff,x=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||x){x=Y.T,Y.T=null;var w=ne.p;ne.p=2;var O=Cn;Cn|=4;try{w4(u,o);var I=Fb,G=k(o.containerInfo),ee=I.focusedElem,ce=I.selectionRange;if(G!==ee&&ee&&ee.ownerDocument&&D(ee.ownerDocument.documentElement,ee)){if(ce!==null&&$(ee)){var Ee=ce.start,Be=ce.end;if(Be===void 0&&(Be=Ee),"selectionStart"in ee)ee.selectionStart=Ee,ee.selectionEnd=Math.min(Be,ee.value.length);else{var Ve=ee.ownerDocument||document,Te=Ve&&Ve.defaultView||window;if(Te.getSelection){var Me=Te.getSelection(),Tt=ee.textContent.length,Et=Math.min(ce.start,Tt),kn=ce.end===void 0?Et:Math.min(ce.end,Tt);!Me.extend&&Et>kn&&(G=kn,kn=Et,Et=G);var be=E(ee,Et),ge=E(ee,kn);if(be&&ge&&(Me.rangeCount!==1||Me.anchorNode!==be.node||Me.anchorOffset!==be.offset||Me.focusNode!==ge.node||Me.focusOffset!==ge.offset)){var Ae=Ve.createRange();Ae.setStart(be.node,be.offset),Me.removeAllRanges(),Et>kn?(Me.addRange(Ae),Me.extend(ge.node,ge.offset)):(Ae.setEnd(ge.node,ge.offset),Me.addRange(Ae))}}}}for(Ve=[],Me=ee;Me=Me.parentNode;)Me.nodeType===1&&Ve.push({element:Me,left:Me.scrollLeft,top:Me.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<Ve.length;ee++){var ze=Ve[ee];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Op=!!Bb,Fb=Bb=null}finally{Cn=O,ne.p=w,Y.T=x}}o.current=u,_i=2}}function U4(){if(_i===2){_i=0;var o=Sc,u=ff,x=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||x){x=Y.T,Y.T=null;var w=ne.p;ne.p=2;var O=Cn;Cn|=4;try{x4(o,u.alternate,u)}finally{Cn=O,ne.p=w,Y.T=x}}_i=3}}function z4(){if(_i===4||_i===3){_i=0,yt();var o=Sc,u=ff,x=hf,w=C4;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?_i=5:(_i=0,ff=Sc=null,V4(o,o.pendingLanes));var O=o.pendingLanes;if(O===0&&(jc=null),sn(x),u=u.stateNode,zn&&typeof zn.onCommitFiberRoot=="function")try{zn.onCommitFiberRoot(vn,u,void 0,(u.current.flags&128)===128)}catch{}if(w!==null){u=Y.T,O=ne.p,ne.p=2,Y.T=null;try{for(var I=o.onRecoverableError,G=0;G<w.length;G++){var ee=w[G];I(ee.value,{componentStack:ee.stack})}}finally{Y.T=u,ne.p=O}}(hf&3)!==0&&vp(),Eo(o),O=o.pendingLanes,(x&4194090)!==0&&(O&42)!==0?o===Nb?jm++:(jm=0,Nb=o):jm=0,Sm(0)}}function V4(o,u){(o.pooledCacheLanes&=u)===0&&(u=o.pooledCache,u!=null&&(o.pooledCache=null,nm(u)))}function vp(o){return F4(),U4(),z4(),$4()}function $4(){if(_i!==5)return!1;var o=Sc,u=jb;jb=0;var x=sn(hf),w=Y.T,O=ne.p;try{ne.p=32>x?32:x,Y.T=null,x=Sb,Sb=null;var I=Sc,G=hf;if(_i=0,ff=Sc=null,hf=0,(Cn&6)!==0)throw Error(r(331));var ee=Cn;if(Cn|=4,E4(I.current),S4(I,I.current,G,x),Cn=ee,Sm(0,!1),zn&&typeof zn.onPostCommitFiberRoot=="function")try{zn.onPostCommitFiberRoot(vn,I)}catch{}return!0}finally{ne.p=O,Y.T=w,V4(o,u)}}function H4(o,u,x){u=hs(x,u),u=nb(o.stateNode,u,2),o=hc(o,u,2),o!==null&&(ki(o,2),Eo(o))}function Bn(o,u,x){if(o.tag===3)H4(o,o,x);else for(;u!==null;){if(u.tag===3){H4(u,o,x);break}else if(u.tag===1){var w=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(jc===null||!jc.has(w))){o=hs(x,o),x=GT(2),w=hc(u,x,2),w!==null&&(KT(x,w,u,o),ki(w,2),Eo(w));break}}u=u.return}}function Cb(o,u,x){var w=o.pingCache;if(w===null){w=o.pingCache=new k$;var O=new Set;w.set(u,O)}else O=w.get(u),O===void 0&&(O=new Set,w.set(u,O));O.has(x)||(vb=!0,O.add(x),o=z$.bind(null,o,u,x),u.then(o,o))}function z$(o,u,x){var w=o.pingCache;w!==null&&w.delete(u),o.pingedLanes|=o.suspendedLanes&x,o.warmLanes&=~x,$n===o&&(ln&x)===x&&(Er===4||Er===3&&(ln&62914560)===ln&&300>Ke()-wb?(Cn&2)===0&&mf(o,0):yb|=x,df===ln&&(df=0)),Eo(o)}function q4(o,u){u===0&&(u=mu()),o=Kd(o,u),o!==null&&(ki(o,u),Eo(o))}function V$(o){var u=o.memoizedState,x=0;u!==null&&(x=u.retryLane),q4(o,x)}function $$(o,u){var x=0;switch(o.tag){case 13:var w=o.stateNode,O=o.memoizedState;O!==null&&(x=O.retryLane);break;case 19:w=o.stateNode;break;case 22:w=o.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(u),q4(o,x)}function H$(o,u){return We(o,u)}var yp=null,pf=null,Tb=!1,bp=!1,Ob=!1,Bu=0;function Eo(o){o!==pf&&o.next===null&&(pf===null?yp=pf=o:pf=pf.next=o),bp=!0,Tb||(Tb=!0,Y$())}function Sm(o,u){if(!Ob&&bp){Ob=!0;do for(var x=!1,w=yp;w!==null;){if(o!==0){var O=w.pendingLanes;if(O===0)var I=0;else{var G=w.suspendedLanes,ee=w.pingedLanes;I=(1<<31-Jt(42|o)+1)-1,I&=O&~(G&~ee),I=I&201326741?I&201326741|1:I?I|2:0}I!==0&&(x=!0,K4(w,I))}else I=ln,I=rn(w,w===$n?I:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(I&3)===0||wn(w,I)||(x=!0,K4(w,I));w=w.next}while(x);Ob=!1}}function q$(){Y4()}function Y4(){bp=Tb=!1;var o=0;Bu!==0&&(eH()&&(o=Bu),Bu=0);for(var u=Ke(),x=null,w=yp;w!==null;){var O=w.next,I=W4(w,u);I===0?(w.next=null,x===null?yp=O:x.next=O,O===null&&(pf=x)):(x=w,(o!==0||(I&3)!==0)&&(bp=!0)),w=O}Sm(o)}function W4(o,u){for(var x=o.suspendedLanes,w=o.pingedLanes,O=o.expirationTimes,I=o.pendingLanes&-62914561;0<I;){var G=31-Jt(I),ee=1<<G,ce=O[G];ce===-1?((ee&x)===0||(ee&w)!==0)&&(O[G]=Fs(ee,u)):ce<=u&&(o.expiredLanes|=ee),I&=~ee}if(u=$n,x=ln,x=rn(o,o===u?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w=o.callbackNode,x===0||o===u&&(Tn===2||Tn===9)||o.cancelPendingCommit!==null)return w!==null&&w!==null&&Ue(w),o.callbackNode=null,o.callbackPriority=0;if((x&3)===0||wn(o,x)){if(u=x&-x,u===o.callbackPriority)return u;switch(w!==null&&Ue(w),sn(x)){case 2:case 8:x=or;break;case 32:x=it;break;case 268435456:x=$r;break;default:x=it}return w=G4.bind(null,o),x=We(x,w),o.callbackPriority=u,o.callbackNode=x,u}return w!==null&&w!==null&&Ue(w),o.callbackPriority=2,o.callbackNode=null,2}function G4(o,u){if(_i!==0&&_i!==5)return o.callbackNode=null,o.callbackPriority=0,null;var x=o.callbackNode;if(vp()&&o.callbackNode!==x)return null;var w=ln;return w=rn(o,o===$n?w:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),w===0?null:(O4(o,w,u),W4(o,Ke()),o.callbackNode!=null&&o.callbackNode===x?G4.bind(null,o):null)}function K4(o,u){if(vp())return null;O4(o,u,!0)}function Y$(){nH(function(){(Cn&6)!==0?We(tt,q$):Y4()})}function Mb(){return Bu===0&&(Bu=ea()),Bu}function X4(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:Ud(""+o)}function Q4(o,u){var x=u.ownerDocument.createElement("input");return x.name=u.name,x.value=u.value,o.id&&x.setAttribute("form",o.id),u.parentNode.insertBefore(x,u),o=new FormData(o),x.parentNode.removeChild(x),o}function W$(o,u,x,w,O){if(u==="submit"&&x&&x.stateNode===O){var I=X4((O[on]||null).action),G=w.submitter;G&&(u=(u=G[on]||null)?X4(u.formAction):G.getAttribute("formAction"),u!==null&&(I=u,G=null));var ee=new vo("action","action",null,w,O);o.push({event:ee,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Bu!==0){var ce=G?Q4(O,G):new FormData(O);Qy(x,{pending:!0,data:ce,method:O.method,action:I},null,ce)}}else typeof I=="function"&&(ee.preventDefault(),ce=G?Q4(O,G):new FormData(O),Qy(x,{pending:!0,data:ce,method:O.method,action:I},I,ce))},currentTarget:O}]})}}for(var Db=0;Db<wo.length;Db++){var Rb=wo[Db],G$=Rb.toLowerCase(),K$=Rb[0].toUpperCase()+Rb.slice(1);Fa(G$,"on"+K$)}Fa(Rt,"onAnimationEnd"),Fa(Ai,"onAnimationIteration"),Fa(ba,"onAnimationStart"),Fa("dblclick","onDoubleClick"),Fa("focusin","onFocus"),Fa("focusout","onBlur"),Fa(Ui,"onTransitionRun"),Fa(_n,"onTransitionStart"),Fa(ii,"onTransitionCancel"),Fa(zi,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X$=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nm));function Z4(o,u){u=(u&4)!==0;for(var x=0;x<o.length;x++){var w=o[x],O=w.event;w=w.listeners;e:{var I=void 0;if(u)for(var G=w.length-1;0<=G;G--){var ee=w[G],ce=ee.instance,Ee=ee.currentTarget;if(ee=ee.listener,ce!==I&&O.isPropagationStopped())break e;I=ee,O.currentTarget=Ee;try{I(O)}catch(Be){op(Be)}O.currentTarget=null,I=ce}else for(G=0;G<w.length;G++){if(ee=w[G],ce=ee.instance,Ee=ee.currentTarget,ee=ee.listener,ce!==I&&O.isPropagationStopped())break e;I=ee,O.currentTarget=Ee;try{I(O)}catch(Be){op(Be)}O.currentTarget=null,I=ce}}}}function Qt(o,u){var x=u[Or];x===void 0&&(x=u[Or]=new Set);var w=o+"__bubble";x.has(w)||(J4(u,o,2,!1),x.add(w))}function Pb(o,u,x){var w=0;u&&(w|=4),J4(x,o,w,u)}var wp="_reactListening"+Math.random().toString(36).slice(2);function Ib(o){if(!o[wp]){o[wp]=!0,Cg.forEach(function(x){x!=="selectionchange"&&(X$.has(x)||Pb(x,!1,o),Pb(x,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[wp]||(u[wp]=!0,Pb("selectionchange",!1,u))}}function J4(o,u,x,w){switch(S3(u)){case 2:var O=SH;break;case 8:O=NH;break;default:O=Kb}x=O.bind(null,u,x,o),O=void 0,!It||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(O=!0),w?O!==void 0?o.addEventListener(u,x,{capture:!0,passive:O}):o.addEventListener(u,x,!0):O!==void 0?o.addEventListener(u,x,{passive:O}):o.addEventListener(u,x,!1)}function kb(o,u,x,w,O){var I=w;if((u&1)===0&&(u&2)===0&&w!==null)e:for(;;){if(w===null)return;var G=w.tag;if(G===3||G===4){var ee=w.stateNode.containerInfo;if(ee===O)break;if(G===4)for(G=w.return;G!==null;){var ce=G.tag;if((ce===3||ce===4)&&G.stateNode.containerInfo===O)return;G=G.return}for(;ee!==null;){if(G=Mr(ee),G===null)return;if(ce=G.tag,ce===5||ce===6||ce===26||ce===27){w=I=G;continue e}ee=ee.parentNode}}w=w.return}Vs(function(){var Ee=I,Be=Jl(x),Ve=[];e:{var Te=sl.get(o);if(Te!==void 0){var Me=vo,Tt=o;switch(o){case"keypress":if(zd(x)===0)break e;case"keydown":case"keyup":Me=Yh;break;case"focusin":Tt="focus",Me=rc;break;case"focusout":Tt="blur",Me=rc;break;case"beforeblur":case"afterblur":Me=rc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=Dg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=En;break;case Rt:case Ai:case ba:Me=cy;break;case zi:Me=hy;break;case"scroll":case"scrollend":Me=Bi;break;case"wheel":Me=il;break;case"copy":case"cut":case"paste":Me=Ft;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=ju;break;case"toggle":case"beforetoggle":Me=my}var Et=(u&4)!==0,kn=!Et&&(o==="scroll"||o==="scrollend"),be=Et?Te!==null?Te+"Capture":null:Te;Et=[];for(var ge=Ee,Ae;ge!==null;){var ze=ge;if(Ae=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||Ae===null||be===null||(ze=jt(ge,be),ze!=null&&Et.push(Am(ge,ze,Ae))),kn)break;ge=ge.return}0<Et.length&&(Te=new Me(Te,Tt,null,x,Be),Ve.push({event:Te,listeners:Et}))}}if((u&7)===0){e:{if(Te=o==="mouseover"||o==="pointerover",Me=o==="mouseout"||o==="pointerout",Te&&x!==xu&&(Tt=x.relatedTarget||x.fromElement)&&(Mr(Tt)||Tt[jr]))break e;if((Me||Te)&&(Te=Be.window===Be?Be:(Te=Be.ownerDocument)?Te.defaultView||Te.parentWindow:window,Me?(Tt=x.relatedTarget||x.toElement,Me=Ee,Tt=Tt?Mr(Tt):null,Tt!==null&&(kn=s(Tt),Et=Tt.tag,Tt!==kn||Et!==5&&Et!==27&&Et!==6)&&(Tt=null)):(Me=null,Tt=Ee),Me!==Tt)){if(Et=Dg,ze="onMouseLeave",be="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(Et=ju,ze="onPointerLeave",be="onPointerEnter",ge="pointer"),kn=Me==null?Te:co(Me),Ae=Tt==null?Te:co(Tt),Te=new Et(ze,ge+"leave",Me,x,Be),Te.target=kn,Te.relatedTarget=Ae,ze=null,Mr(Be)===Ee&&(Et=new Et(be,ge+"enter",Tt,x,Be),Et.target=Ae,Et.relatedTarget=kn,ze=Et),kn=ze,Me&&Tt)t:{for(Et=Me,be=Tt,ge=0,Ae=Et;Ae;Ae=xf(Ae))ge++;for(Ae=0,ze=be;ze;ze=xf(ze))Ae++;for(;0<ge-Ae;)Et=xf(Et),ge--;for(;0<Ae-ge;)be=xf(be),Ae--;for(;ge--;){if(Et===be||be!==null&&Et===be.alternate)break t;Et=xf(Et),be=xf(be)}Et=null}else Et=null;Me!==null&&e3(Ve,Te,Me,Et,!1),Tt!==null&&kn!==null&&e3(Ve,kn,Tt,Et,!0)}}e:{if(Te=Ee?co(Ee):window,Me=Te.nodeName&&Te.nodeName.toLowerCase(),Me==="select"||Me==="input"&&Te.type==="file")var dt=kg;else if(Au(Te))if(Xh)dt=f;else{dt=K;var Wt=Wd}else Me=Te.nodeName,!Me||Me.toLowerCase()!=="input"||Te.type!=="checkbox"&&Te.type!=="radio"?Ee&&bt(Ee.elementType)&&(dt=kg):dt=c;if(dt&&(dt=dt(o,Ee))){ra(Ve,dt,x,Be);break e}Wt&&Wt(o,Te,Ee),o==="focusout"&&Ee&&Te.type==="number"&&Ee.memoizedProps.value!=null&&Ne(Te,"number",Te.value)}switch(Wt=Ee?co(Ee):window,o){case"focusin":(Au(Wt)||Wt.contentEditable==="true")&&(Z=Wt,ae=Ee,ue=null);break;case"focusout":ue=ae=Z=null;break;case"mousedown":fe=!0;break;case"contextmenu":case"mouseup":case"dragend":fe=!1,Se(Ve,x,Be);break;case"selectionchange":if(X)break;case"keydown":case"keyup":Se(Ve,x,Be)}var wt;if(Su)e:{switch(o){case"compositionstart":var _t="onCompositionStart";break e;case"compositionend":_t="onCompositionEnd";break e;case"compositionupdate":_t="onCompositionUpdate";break e}_t=void 0}else sc?al(o,x)&&(_t="onCompositionEnd"):o==="keydown"&&x.keyCode===229&&(_t="onCompositionStart");_t&&(Gh&&x.locale!=="ko"&&(sc||_t!=="onCompositionStart"?_t==="onCompositionEnd"&&sc&&(wt=go()):(mo=Be,vu="value"in mo?mo.value:mo.textContent,sc=!0)),Wt=jp(Ee,_t),0<Wt.length&&(_t=new bu(_t,o,null,x,Be),Ve.push({event:_t,listeners:Wt}),wt?_t.data=wt:(wt=qd(x),wt!==null&&(_t.data=wt)))),(wt=Wh?Nu(o,x):gy(o,x))&&(_t=jp(Ee,"onBeforeInput"),0<_t.length&&(Wt=new bu("onBeforeInput","beforeinput",null,x,Be),Ve.push({event:Wt,listeners:_t}),Wt.data=wt)),W$(Ve,o,Ee,x,Be)}Z4(Ve,u)})}function Am(o,u,x){return{instance:o,listener:u,currentTarget:x}}function jp(o,u){for(var x=u+"Capture",w=[];o!==null;){var O=o,I=O.stateNode;if(O=O.tag,O!==5&&O!==26&&O!==27||I===null||(O=jt(o,x),O!=null&&w.unshift(Am(o,O,I)),O=jt(o,u),O!=null&&w.push(Am(o,O,I))),o.tag===3)return w;o=o.return}return[]}function xf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function e3(o,u,x,w,O){for(var I=u._reactName,G=[];x!==null&&x!==w;){var ee=x,ce=ee.alternate,Ee=ee.stateNode;if(ee=ee.tag,ce!==null&&ce===w)break;ee!==5&&ee!==26&&ee!==27||Ee===null||(ce=Ee,O?(Ee=jt(x,I),Ee!=null&&G.unshift(Am(x,Ee,ce))):O||(Ee=jt(x,I),Ee!=null&&G.push(Am(x,Ee,ce)))),x=x.return}G.length!==0&&o.push({event:u,listeners:G})}var Q$=/\r\n?/g,Z$=/\u0000|\uFFFD/g;function t3(o){return(typeof o=="string"?o:""+o).replace(Q$,`
`).replace(Z$,"")}function n3(o,u){return u=t3(u),t3(o)===u}function Sp(){}function In(o,u,x,w,O,I){switch(x){case"children":typeof w=="string"?u==="body"||u==="textarea"&&w===""||ni(o,w):(typeof w=="number"||typeof w=="bigint")&&u!=="body"&&ni(o,""+w);break;case"className":kd(o,"class",w);break;case"tabIndex":kd(o,"tabindex",w);break;case"dir":case"role":case"viewBox":case"width":case"height":kd(o,x,w);break;case"style":na(o,w,I);break;case"data":if(u!=="object"){kd(o,"data",w);break}case"src":case"href":if(w===""&&(u!=="a"||x!=="href")){o.removeAttribute(x);break}if(w==null||typeof w=="function"||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(x);break}w=Ud(""+w),o.setAttribute(x,w);break;case"action":case"formAction":if(typeof w=="function"){o.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof I=="function"&&(x==="formAction"?(u!=="input"&&In(o,u,"name",O.name,O,null),In(o,u,"formEncType",O.formEncType,O,null),In(o,u,"formMethod",O.formMethod,O,null),In(o,u,"formTarget",O.formTarget,O,null)):(In(o,u,"encType",O.encType,O,null),In(o,u,"method",O.method,O,null),In(o,u,"target",O.target,O,null)));if(w==null||typeof w=="symbol"||typeof w=="boolean"){o.removeAttribute(x);break}w=Ud(""+w),o.setAttribute(x,w);break;case"onClick":w!=null&&(o.onclick=Sp);break;case"onScroll":w!=null&&Qt("scroll",o);break;case"onScrollEnd":w!=null&&Qt("scrollend",o);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(O.children!=null)throw Error(r(60));o.innerHTML=x}}break;case"multiple":o.multiple=w&&typeof w!="function"&&typeof w!="symbol";break;case"muted":o.muted=w&&typeof w!="function"&&typeof w!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(w==null||typeof w=="function"||typeof w=="boolean"||typeof w=="symbol"){o.removeAttribute("xlink:href");break}x=Ud(""+w),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,""+w):o.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":w&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,""):o.removeAttribute(x);break;case"capture":case"download":w===!0?o.setAttribute(x,""):w!==!1&&w!=null&&typeof w!="function"&&typeof w!="symbol"?o.setAttribute(x,w):o.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":w!=null&&typeof w!="function"&&typeof w!="symbol"&&!isNaN(w)&&1<=w?o.setAttribute(x,w):o.removeAttribute(x);break;case"rowSpan":case"start":w==null||typeof w=="function"||typeof w=="symbol"||isNaN(w)?o.removeAttribute(x):o.setAttribute(x,w);break;case"popover":Qt("beforetoggle",o),Qt("toggle",o),$e(o,"popover",w);break;case"xlinkActuate":gn(o,"http://www.w3.org/1999/xlink","xlink:actuate",w);break;case"xlinkArcrole":gn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",w);break;case"xlinkRole":gn(o,"http://www.w3.org/1999/xlink","xlink:role",w);break;case"xlinkShow":gn(o,"http://www.w3.org/1999/xlink","xlink:show",w);break;case"xlinkTitle":gn(o,"http://www.w3.org/1999/xlink","xlink:title",w);break;case"xlinkType":gn(o,"http://www.w3.org/1999/xlink","xlink:type",w);break;case"xmlBase":gn(o,"http://www.w3.org/XML/1998/namespace","xml:base",w);break;case"xmlLang":gn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",w);break;case"xmlSpace":gn(o,"http://www.w3.org/XML/1998/namespace","xml:space",w);break;case"is":$e(o,"is",w);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=Yn.get(x)||x,$e(o,x,w))}}function Lb(o,u,x,w,O,I){switch(x){case"style":na(o,w,I);break;case"dangerouslySetInnerHTML":if(w!=null){if(typeof w!="object"||!("__html"in w))throw Error(r(61));if(x=w.__html,x!=null){if(O.children!=null)throw Error(r(60));o.innerHTML=x}}break;case"children":typeof w=="string"?ni(o,w):(typeof w=="number"||typeof w=="bigint")&&ni(o,""+w);break;case"onScroll":w!=null&&Qt("scroll",o);break;case"onScrollEnd":w!=null&&Qt("scrollend",o);break;case"onClick":w!=null&&(o.onclick=Sp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Tg.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(O=x.endsWith("Capture"),u=x.slice(2,O?x.length-7:void 0),I=o[on]||null,I=I!=null?I[x]:null,typeof I=="function"&&o.removeEventListener(u,I,O),typeof w=="function")){typeof I!="function"&&I!==null&&(x in o?o[x]=null:o.hasAttribute(x)&&o.removeAttribute(x)),o.addEventListener(u,w,O);break e}x in o?o[x]=w:w===!0?o.setAttribute(x,""):$e(o,x,w)}}}function Ci(o,u,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Qt("error",o),Qt("load",o);var w=!1,O=!1,I;for(I in x)if(x.hasOwnProperty(I)){var G=x[I];if(G!=null)switch(I){case"src":w=!0;break;case"srcSet":O=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:In(o,u,I,G,x,null)}}O&&In(o,u,"srcSet",x.srcSet,x,null),w&&In(o,u,"src",x.src,x,null);return;case"input":Qt("invalid",o);var ee=I=G=O=null,ce=null,Ee=null;for(w in x)if(x.hasOwnProperty(w)){var Be=x[w];if(Be!=null)switch(w){case"name":O=Be;break;case"type":G=Be;break;case"checked":ce=Be;break;case"defaultChecked":Ee=Be;break;case"value":I=Be;break;case"defaultValue":ee=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(r(137,u));break;default:In(o,u,w,Be,x,null)}}ti(o,I,ee,ce,Ee,G,O,!1),Bd(o);return;case"select":Qt("invalid",o),w=G=I=null;for(O in x)if(x.hasOwnProperty(O)&&(ee=x[O],ee!=null))switch(O){case"value":I=ee;break;case"defaultValue":G=ee;break;case"multiple":w=ee;default:In(o,u,O,ee,x,null)}u=I,x=G,o.multiple=!!w,u!=null?ie(o,!!w,u,!1):x!=null&&ie(o,!!w,x,!0);return;case"textarea":Qt("invalid",o),I=O=w=null;for(G in x)if(x.hasOwnProperty(G)&&(ee=x[G],ee!=null))switch(G){case"value":w=ee;break;case"defaultValue":O=ee;break;case"children":I=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(91));break;default:In(o,u,G,ee,x,null)}Dr(o,w,O,I),Bd(o);return;case"option":for(ce in x)if(x.hasOwnProperty(ce)&&(w=x[ce],w!=null))switch(ce){case"selected":o.selected=w&&typeof w!="function"&&typeof w!="symbol";break;default:In(o,u,ce,w,x,null)}return;case"dialog":Qt("beforetoggle",o),Qt("toggle",o),Qt("cancel",o),Qt("close",o);break;case"iframe":case"object":Qt("load",o);break;case"video":case"audio":for(w=0;w<Nm.length;w++)Qt(Nm[w],o);break;case"image":Qt("error",o),Qt("load",o);break;case"details":Qt("toggle",o);break;case"embed":case"source":case"link":Qt("error",o),Qt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ee in x)if(x.hasOwnProperty(Ee)&&(w=x[Ee],w!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:In(o,u,Ee,w,x,null)}return;default:if(bt(u)){for(Be in x)x.hasOwnProperty(Be)&&(w=x[Be],w!==void 0&&Lb(o,u,Be,w,x,void 0));return}}for(ee in x)x.hasOwnProperty(ee)&&(w=x[ee],w!=null&&In(o,u,ee,w,x,null))}function J$(o,u,x,w){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var O=null,I=null,G=null,ee=null,ce=null,Ee=null,Be=null;for(Me in x){var Ve=x[Me];if(x.hasOwnProperty(Me)&&Ve!=null)switch(Me){case"checked":break;case"value":break;case"defaultValue":ce=Ve;default:w.hasOwnProperty(Me)||In(o,u,Me,null,w,Ve)}}for(var Te in w){var Me=w[Te];if(Ve=x[Te],w.hasOwnProperty(Te)&&(Me!=null||Ve!=null))switch(Te){case"type":I=Me;break;case"name":O=Me;break;case"checked":Ee=Me;break;case"defaultChecked":Be=Me;break;case"value":G=Me;break;case"defaultValue":ee=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,u));break;default:Me!==Ve&&In(o,u,Te,Me,w,Ve)}}jn(o,G,ee,ce,Ee,Be,I,O);return;case"select":Me=G=ee=Te=null;for(I in x)if(ce=x[I],x.hasOwnProperty(I)&&ce!=null)switch(I){case"value":break;case"multiple":Me=ce;default:w.hasOwnProperty(I)||In(o,u,I,null,w,ce)}for(O in w)if(I=w[O],ce=x[O],w.hasOwnProperty(O)&&(I!=null||ce!=null))switch(O){case"value":Te=I;break;case"defaultValue":ee=I;break;case"multiple":G=I;default:I!==ce&&In(o,u,O,I,w,ce)}u=ee,x=G,w=Me,Te!=null?ie(o,!!x,Te,!1):!!w!=!!x&&(u!=null?ie(o,!!x,u,!0):ie(o,!!x,x?[]:"",!1));return;case"textarea":Me=Te=null;for(ee in x)if(O=x[ee],x.hasOwnProperty(ee)&&O!=null&&!w.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:In(o,u,ee,null,w,O)}for(G in w)if(O=w[G],I=x[G],w.hasOwnProperty(G)&&(O!=null||I!=null))switch(G){case"value":Te=O;break;case"defaultValue":Me=O;break;case"children":break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:O!==I&&In(o,u,G,O,w,I)}vt(o,Te,Me);return;case"option":for(var Tt in x)if(Te=x[Tt],x.hasOwnProperty(Tt)&&Te!=null&&!w.hasOwnProperty(Tt))switch(Tt){case"selected":o.selected=!1;break;default:In(o,u,Tt,null,w,Te)}for(ce in w)if(Te=w[ce],Me=x[ce],w.hasOwnProperty(ce)&&Te!==Me&&(Te!=null||Me!=null))switch(ce){case"selected":o.selected=Te&&typeof Te!="function"&&typeof Te!="symbol";break;default:In(o,u,ce,Te,w,Me)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in x)Te=x[Et],x.hasOwnProperty(Et)&&Te!=null&&!w.hasOwnProperty(Et)&&In(o,u,Et,null,w,Te);for(Ee in w)if(Te=w[Ee],Me=x[Ee],w.hasOwnProperty(Ee)&&Te!==Me&&(Te!=null||Me!=null))switch(Ee){case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,u));break;default:In(o,u,Ee,Te,w,Me)}return;default:if(bt(u)){for(var kn in x)Te=x[kn],x.hasOwnProperty(kn)&&Te!==void 0&&!w.hasOwnProperty(kn)&&Lb(o,u,kn,void 0,w,Te);for(Be in w)Te=w[Be],Me=x[Be],!w.hasOwnProperty(Be)||Te===Me||Te===void 0&&Me===void 0||Lb(o,u,Be,Te,w,Me);return}}for(var be in x)Te=x[be],x.hasOwnProperty(be)&&Te!=null&&!w.hasOwnProperty(be)&&In(o,u,be,null,w,Te);for(Ve in w)Te=w[Ve],Me=x[Ve],!w.hasOwnProperty(Ve)||Te===Me||Te==null&&Me==null||In(o,u,Ve,Te,w,Me)}var Bb=null,Fb=null;function Np(o){return o.nodeType===9?o:o.ownerDocument}function r3(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i3(o,u){if(o===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&u==="foreignObject"?0:o}function Ub(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var zb=null;function eH(){var o=window.event;return o&&o.type==="popstate"?o===zb?!1:(zb=o,!0):(zb=null,!1)}var a3=typeof setTimeout=="function"?setTimeout:void 0,tH=typeof clearTimeout=="function"?clearTimeout:void 0,s3=typeof Promise=="function"?Promise:void 0,nH=typeof queueMicrotask=="function"?queueMicrotask:typeof s3<"u"?function(o){return s3.resolve(null).then(o).catch(rH)}:a3;function rH(o){setTimeout(function(){throw o})}function Ac(o){return o==="head"}function o3(o,u){var x=u,w=0,O=0;do{var I=x.nextSibling;if(o.removeChild(x),I&&I.nodeType===8)if(x=I.data,x==="/$"){if(0<w&&8>w){x=w;var G=o.ownerDocument;if(x&1&&Em(G.documentElement),x&2&&Em(G.body),x&4)for(x=G.head,Em(x),G=x.firstChild;G;){var ee=G.nextSibling,ce=G.nodeName;G[ds]||ce==="SCRIPT"||ce==="STYLE"||ce==="LINK"&&G.rel.toLowerCase()==="stylesheet"||x.removeChild(G),G=ee}}if(O===0){o.removeChild(I),Pm(u);return}O--}else x==="$"||x==="$?"||x==="$!"?O++:w=x.charCodeAt(0)-48;else w=0;x=I}while(x);Pm(u)}function Vb(o){var u=o.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var x=u;switch(u=u.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Vb(x),pu(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}o.removeChild(x)}}function iH(o,u,x,w){for(;o.nodeType===1;){var O=x;if(o.nodeName.toLowerCase()!==u.toLowerCase()){if(!w&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(w){if(!o[ds])switch(u){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(I=o.getAttribute("rel"),I==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(I!==O.rel||o.getAttribute("href")!==(O.href==null||O.href===""?null:O.href)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin)||o.getAttribute("title")!==(O.title==null?null:O.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(I=o.getAttribute("src"),(I!==(O.src==null?null:O.src)||o.getAttribute("type")!==(O.type==null?null:O.type)||o.getAttribute("crossorigin")!==(O.crossOrigin==null?null:O.crossOrigin))&&I&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(u==="input"&&o.type==="hidden"){var I=O.name==null?null:""+O.name;if(O.type==="hidden"&&o.getAttribute("name")===I)return o}else return o;if(o=Ys(o.nextSibling),o===null)break}return null}function aH(o,u,x){if(u==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!x||(o=Ys(o.nextSibling),o===null))return null;return o}function $b(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState==="complete"}function sH(o,u){var x=o.ownerDocument;if(o.data!=="$?"||x.readyState==="complete")u();else{var w=function(){u(),x.removeEventListener("DOMContentLoaded",w)};x.addEventListener("DOMContentLoaded",w),o._reactRetry=w}}function Ys(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?"||u==="F!"||u==="F")break;if(u==="/$")return null}}return o}var Hb=null;function l3(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var x=o.data;if(x==="$"||x==="$!"||x==="$?"){if(u===0)return o;u--}else x==="/$"&&u++}o=o.previousSibling}return null}function c3(o,u,x){switch(u=Np(x),o){case"html":if(o=u.documentElement,!o)throw Error(r(452));return o;case"head":if(o=u.head,!o)throw Error(r(453));return o;case"body":if(o=u.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function Em(o){for(var u=o.attributes;u.length;)o.removeAttributeNode(u[0]);pu(o)}var ys=new Map,u3=new Set;function Ap(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var yl=ne.d;ne.d={f:oH,r:lH,D:cH,C:uH,L:dH,m:fH,X:mH,S:hH,M:gH};function oH(){var o=yl.f(),u=pp();return o||u}function lH(o){var u=La(o);u!==null&&u.tag===5&&u.type==="form"?OT(u):yl.r(o)}var vf=typeof document>"u"?null:document;function d3(o,u,x){var w=vf;if(w&&typeof u=="string"&&u){var O=ei(u);O='link[rel="'+o+'"][href="'+O+'"]',typeof x=="string"&&(O+='[crossorigin="'+x+'"]'),u3.has(O)||(u3.add(O),o={rel:o,crossOrigin:x,href:u},w.querySelector(O)===null&&(u=w.createElement("link"),Ci(u,"link",o),An(u),w.head.appendChild(u)))}}function cH(o){yl.D(o),d3("dns-prefetch",o,null)}function uH(o,u){yl.C(o,u),d3("preconnect",o,u)}function dH(o,u,x){yl.L(o,u,x);var w=vf;if(w&&o&&u){var O='link[rel="preload"][as="'+ei(u)+'"]';u==="image"&&x&&x.imageSrcSet?(O+='[imagesrcset="'+ei(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(O+='[imagesizes="'+ei(x.imageSizes)+'"]')):O+='[href="'+ei(o)+'"]';var I=O;switch(u){case"style":I=yf(o);break;case"script":I=bf(o)}ys.has(I)||(o=p({rel:"preload",href:u==="image"&&x&&x.imageSrcSet?void 0:o,as:u},x),ys.set(I,o),w.querySelector(O)!==null||u==="style"&&w.querySelector(_m(I))||u==="script"&&w.querySelector(Cm(I))||(u=w.createElement("link"),Ci(u,"link",o),An(u),w.head.appendChild(u)))}}function fH(o,u){yl.m(o,u);var x=vf;if(x&&o){var w=u&&typeof u.as=="string"?u.as:"script",O='link[rel="modulepreload"][as="'+ei(w)+'"][href="'+ei(o)+'"]',I=O;switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":I=bf(o)}if(!ys.has(I)&&(o=p({rel:"modulepreload",href:o},u),ys.set(I,o),x.querySelector(O)===null)){switch(w){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(Cm(I)))return}w=x.createElement("link"),Ci(w,"link",o),An(w),x.head.appendChild(w)}}}function hH(o,u,x){yl.S(o,u,x);var w=vf;if(w&&o){var O=Us(w).hoistableStyles,I=yf(o);u=u||"default";var G=O.get(I);if(!G){var ee={loading:0,preload:null};if(G=w.querySelector(_m(I)))ee.loading=5;else{o=p({rel:"stylesheet",href:o,"data-precedence":u},x),(x=ys.get(I))&&qb(o,x);var ce=G=w.createElement("link");An(ce),Ci(ce,"link",o),ce._p=new Promise(function(Ee,Be){ce.onload=Ee,ce.onerror=Be}),ce.addEventListener("load",function(){ee.loading|=1}),ce.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,Ep(G,u,w)}G={type:"stylesheet",instance:G,count:1,state:ee},O.set(I,G)}}}function mH(o,u){yl.X(o,u);var x=vf;if(x&&o){var w=Us(x).hoistableScripts,O=bf(o),I=w.get(O);I||(I=x.querySelector(Cm(O)),I||(o=p({src:o,async:!0},u),(u=ys.get(O))&&Yb(o,u),I=x.createElement("script"),An(I),Ci(I,"link",o),x.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},w.set(O,I))}}function gH(o,u){yl.M(o,u);var x=vf;if(x&&o){var w=Us(x).hoistableScripts,O=bf(o),I=w.get(O);I||(I=x.querySelector(Cm(O)),I||(o=p({src:o,async:!0,type:"module"},u),(u=ys.get(O))&&Yb(o,u),I=x.createElement("script"),An(I),Ci(I,"link",o),x.head.appendChild(I)),I={type:"script",instance:I,count:1,state:null},w.set(O,I))}}function f3(o,u,x,w){var O=(O=le.current)?Ap(O):null;if(!O)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(u=yf(x.href),x=Us(O).hoistableStyles,w=x.get(u),w||(w={type:"style",instance:null,count:0,state:null},x.set(u,w)),w):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){o=yf(x.href);var I=Us(O).hoistableStyles,G=I.get(o);if(G||(O=O.ownerDocument||O,G={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},I.set(o,G),(I=O.querySelector(_m(o)))&&!I._p&&(G.instance=I,G.state.loading=5),ys.has(o)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},ys.set(o,x),I||pH(O,o,x,G.state))),u&&w===null)throw Error(r(528,""));return G}if(u&&w!==null)throw Error(r(529,""));return null;case"script":return u=x.async,x=x.src,typeof x=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=bf(x),x=Us(O).hoistableScripts,w=x.get(u),w||(w={type:"script",instance:null,count:0,state:null},x.set(u,w)),w):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function yf(o){return'href="'+ei(o)+'"'}function _m(o){return'link[rel="stylesheet"]['+o+"]"}function h3(o){return p({},o,{"data-precedence":o.precedence,precedence:null})}function pH(o,u,x,w){o.querySelector('link[rel="preload"][as="style"]['+u+"]")?w.loading=1:(u=o.createElement("link"),w.preload=u,u.addEventListener("load",function(){return w.loading|=1}),u.addEventListener("error",function(){return w.loading|=2}),Ci(u,"link",x),An(u),o.head.appendChild(u))}function bf(o){return'[src="'+ei(o)+'"]'}function Cm(o){return"script[async]"+o}function m3(o,u,x){if(u.count++,u.instance===null)switch(u.type){case"style":var w=o.querySelector('style[data-href~="'+ei(x.href)+'"]');if(w)return u.instance=w,An(w),w;var O=p({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return w=(o.ownerDocument||o).createElement("style"),An(w),Ci(w,"style",O),Ep(w,x.precedence,o),u.instance=w;case"stylesheet":O=yf(x.href);var I=o.querySelector(_m(O));if(I)return u.state.loading|=4,u.instance=I,An(I),I;w=h3(x),(O=ys.get(O))&&qb(w,O),I=(o.ownerDocument||o).createElement("link"),An(I);var G=I;return G._p=new Promise(function(ee,ce){G.onload=ee,G.onerror=ce}),Ci(I,"link",w),u.state.loading|=4,Ep(I,x.precedence,o),u.instance=I;case"script":return I=bf(x.src),(O=o.querySelector(Cm(I)))?(u.instance=O,An(O),O):(w=x,(O=ys.get(I))&&(w=p({},x),Yb(w,O)),o=o.ownerDocument||o,O=o.createElement("script"),An(O),Ci(O,"link",w),o.head.appendChild(O),u.instance=O);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(w=u.instance,u.state.loading|=4,Ep(w,x.precedence,o));return u.instance}function Ep(o,u,x){for(var w=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),O=w.length?w[w.length-1]:null,I=O,G=0;G<w.length;G++){var ee=w[G];if(ee.dataset.precedence===u)I=ee;else if(I!==O)break}I?I.parentNode.insertBefore(o,I.nextSibling):(u=x.nodeType===9?x.head:x,u.insertBefore(o,u.firstChild))}function qb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.title==null&&(o.title=u.title)}function Yb(o,u){o.crossOrigin==null&&(o.crossOrigin=u.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=u.referrerPolicy),o.integrity==null&&(o.integrity=u.integrity)}var _p=null;function g3(o,u,x){if(_p===null){var w=new Map,O=_p=new Map;O.set(x,w)}else O=_p,w=O.get(x),w||(w=new Map,O.set(x,w));if(w.has(o))return w;for(w.set(o,null),x=x.getElementsByTagName(o),O=0;O<x.length;O++){var I=x[O];if(!(I[ds]||I[ur]||o==="link"&&I.getAttribute("rel")==="stylesheet")&&I.namespaceURI!=="http://www.w3.org/2000/svg"){var G=I.getAttribute(u)||"";G=o+G;var ee=w.get(G);ee?ee.push(I):w.set(G,[I])}}return w}function p3(o,u,x){o=o.ownerDocument||o,o.head.insertBefore(x,u==="title"?o.querySelector("head > title"):null)}function xH(o,u,x){if(x===1||u.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return o=u.disabled,typeof u.precedence=="string"&&o==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function x3(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}var Tm=null;function vH(){}function yH(o,u,x){if(Tm===null)throw Error(r(475));var w=Tm;if(u.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(u.state.loading&4)===0){if(u.instance===null){var O=yf(x.href),I=o.querySelector(_m(O));if(I){o=I._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(w.count++,w=Cp.bind(w),o.then(w,w)),u.state.loading|=4,u.instance=I,An(I);return}I=o.ownerDocument||o,x=h3(x),(O=ys.get(O))&&qb(x,O),I=I.createElement("link"),An(I);var G=I;G._p=new Promise(function(ee,ce){G.onload=ee,G.onerror=ce}),Ci(I,"link",x),u.instance=I}w.stylesheets===null&&(w.stylesheets=new Map),w.stylesheets.set(u,o),(o=u.state.preload)&&(u.state.loading&3)===0&&(w.count++,u=Cp.bind(w),o.addEventListener("load",u),o.addEventListener("error",u))}}function bH(){if(Tm===null)throw Error(r(475));var o=Tm;return o.stylesheets&&o.count===0&&Wb(o,o.stylesheets),0<o.count?function(u){var x=setTimeout(function(){if(o.stylesheets&&Wb(o,o.stylesheets),o.unsuspend){var w=o.unsuspend;o.unsuspend=null,w()}},6e4);return o.unsuspend=u,function(){o.unsuspend=null,clearTimeout(x)}}:null}function Cp(){if(this.count--,this.count===0){if(this.stylesheets)Wb(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var Tp=null;function Wb(o,u){o.stylesheets=null,o.unsuspend!==null&&(o.count++,Tp=new Map,u.forEach(wH,o),Tp=null,Cp.call(o))}function wH(o,u){if(!(u.state.loading&4)){var x=Tp.get(o);if(x)var w=x.get(null);else{x=new Map,Tp.set(o,x);for(var O=o.querySelectorAll("link[data-precedence],style[data-precedence]"),I=0;I<O.length;I++){var G=O[I];(G.nodeName==="LINK"||G.getAttribute("media")!=="not all")&&(x.set(G.dataset.precedence,G),w=G)}w&&x.set(null,w)}O=u.instance,G=O.getAttribute("data-precedence"),I=x.get(G)||w,I===w&&x.set(null,O),x.set(G,O),this.count++,w=Cp.bind(this),O.addEventListener("load",w),O.addEventListener("error",w),I?I.parentNode.insertBefore(O,I.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(O,o.firstChild)),u.state.loading|=4}}var Om={$$typeof:R,Provider:null,Consumer:null,_currentValue:se,_currentValue2:se,_threadCount:0};function jH(o,u,x,w,O,I,G,ee){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gt(0),this.hiddenUpdates=Gt(null),this.identifierPrefix=w,this.onUncaughtError=O,this.onCaughtError=I,this.onRecoverableError=G,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ee,this.incompleteTransitions=new Map}function v3(o,u,x,w,O,I,G,ee,ce,Ee,Be,Ve){return o=new jH(o,u,x,G,ee,ce,Ee,Ve),u=1,I===!0&&(u|=24),I=Ua(3,null,null,u),o.current=I,I.stateNode=o,u=Cy(),u.refCount++,o.pooledCache=u,u.refCount++,I.memoizedState={element:w,isDehydrated:x,cache:u},Dy(I),o}function y3(o){return o?(o=Xd,o):Xd}function b3(o,u,x,w,O,I){O=y3(O),w.context===null?w.context=O:w.pendingContext=O,w=fc(u),w.payload={element:x},I=I===void 0?null:I,I!==null&&(w.callback=I),x=hc(o,w,u),x!==null&&(qa(x,o,u),sm(x,o,u))}function w3(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var x=o.retryLane;o.retryLane=x!==0&&x<u?x:u}}function Gb(o,u){w3(o,u),(o=o.alternate)&&w3(o,u)}function j3(o){if(o.tag===13){var u=Kd(o,67108864);u!==null&&qa(u,o,67108864),Gb(o,67108864)}}var Op=!0;function SH(o,u,x,w){var O=Y.T;Y.T=null;var I=ne.p;try{ne.p=2,Kb(o,u,x,w)}finally{ne.p=I,Y.T=O}}function NH(o,u,x,w){var O=Y.T;Y.T=null;var I=ne.p;try{ne.p=8,Kb(o,u,x,w)}finally{ne.p=I,Y.T=O}}function Kb(o,u,x,w){if(Op){var O=Xb(w);if(O===null)kb(o,u,w,Mp,x),N3(o,w);else if(EH(O,o,u,x,w))w.stopPropagation();else if(N3(o,w),u&4&&-1<AH.indexOf(o)){for(;O!==null;){var I=La(O);if(I!==null)switch(I.tag){case 3:if(I=I.stateNode,I.current.memoizedState.isDehydrated){var G=hn(I.pendingLanes);if(G!==0){var ee=I;for(ee.pendingLanes|=2,ee.entangledLanes|=2;G;){var ce=1<<31-Jt(G);ee.entanglements[1]|=ce,G&=~ce}Eo(I),(Cn&6)===0&&(mp=Ke()+500,Sm(0))}}break;case 13:ee=Kd(I,2),ee!==null&&qa(ee,I,2),pp(),Gb(I,2)}if(I=Xb(w),I===null&&kb(o,u,w,Mp,x),I===O)break;O=I}O!==null&&w.stopPropagation()}else kb(o,u,w,null,x)}}function Xb(o){return o=Jl(o),Qb(o)}var Mp=null;function Qb(o){if(Mp=null,o=Mr(o),o!==null){var u=s(o);if(u===null)o=null;else{var x=u.tag;if(x===13){if(o=l(u),o!==null)return o;o=null}else if(x===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null)}}return Mp=o,null}function S3(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xt()){case tt:return 2;case or:return 8;case it:case fn:return 32;case $r:return 268435456;default:return 32}default:return 32}}var Zb=!1,Ec=null,_c=null,Cc=null,Mm=new Map,Dm=new Map,Tc=[],AH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N3(o,u){switch(o){case"focusin":case"focusout":Ec=null;break;case"dragenter":case"dragleave":_c=null;break;case"mouseover":case"mouseout":Cc=null;break;case"pointerover":case"pointerout":Mm.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dm.delete(u.pointerId)}}function Rm(o,u,x,w,O,I){return o===null||o.nativeEvent!==I?(o={blockedOn:u,domEventName:x,eventSystemFlags:w,nativeEvent:I,targetContainers:[O]},u!==null&&(u=La(u),u!==null&&j3(u)),o):(o.eventSystemFlags|=w,u=o.targetContainers,O!==null&&u.indexOf(O)===-1&&u.push(O),o)}function EH(o,u,x,w,O){switch(u){case"focusin":return Ec=Rm(Ec,o,u,x,w,O),!0;case"dragenter":return _c=Rm(_c,o,u,x,w,O),!0;case"mouseover":return Cc=Rm(Cc,o,u,x,w,O),!0;case"pointerover":var I=O.pointerId;return Mm.set(I,Rm(Mm.get(I)||null,o,u,x,w,O)),!0;case"gotpointercapture":return I=O.pointerId,Dm.set(I,Rm(Dm.get(I)||null,o,u,x,w,O)),!0}return!1}function A3(o){var u=Mr(o.target);if(u!==null){var x=s(u);if(x!==null){if(u=x.tag,u===13){if(u=l(x),u!==null){o.blockedOn=u,Zn(o.priority,function(){if(x.tag===13){var w=Ha();w=Qn(w);var O=Kd(x,w);O!==null&&qa(O,x,w),Gb(x,w)}});return}}else if(u===3&&x.stateNode.current.memoizedState.isDehydrated){o.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Dp(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var x=Xb(o.nativeEvent);if(x===null){x=o.nativeEvent;var w=new x.constructor(x.type,x);xu=w,x.target.dispatchEvent(w),xu=null}else return u=La(x),u!==null&&j3(u),o.blockedOn=x,!1;u.shift()}return!0}function E3(o,u,x){Dp(o)&&x.delete(u)}function _H(){Zb=!1,Ec!==null&&Dp(Ec)&&(Ec=null),_c!==null&&Dp(_c)&&(_c=null),Cc!==null&&Dp(Cc)&&(Cc=null),Mm.forEach(E3),Dm.forEach(E3)}function Rp(o,u){o.blockedOn===u&&(o.blockedOn=null,Zb||(Zb=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_H)))}var Pp=null;function _3(o){Pp!==o&&(Pp=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Pp===o&&(Pp=null);for(var u=0;u<o.length;u+=3){var x=o[u],w=o[u+1],O=o[u+2];if(typeof w!="function"){if(Qb(w||x)===null)continue;break}var I=La(x);I!==null&&(o.splice(u,3),u-=3,Qy(I,{pending:!0,data:O,method:x.method,action:w},w,O))}}))}function Pm(o){function u(ce){return Rp(ce,o)}Ec!==null&&Rp(Ec,o),_c!==null&&Rp(_c,o),Cc!==null&&Rp(Cc,o),Mm.forEach(u),Dm.forEach(u);for(var x=0;x<Tc.length;x++){var w=Tc[x];w.blockedOn===o&&(w.blockedOn=null)}for(;0<Tc.length&&(x=Tc[0],x.blockedOn===null);)A3(x),x.blockedOn===null&&Tc.shift();if(x=(o.ownerDocument||o).$$reactFormReplay,x!=null)for(w=0;w<x.length;w+=3){var O=x[w],I=x[w+1],G=O[on]||null;if(typeof I=="function")G||_3(x);else if(G){var ee=null;if(I&&I.hasAttribute("formAction")){if(O=I,G=I[on]||null)ee=G.formAction;else if(Qb(O)!==null)continue}else ee=G.action;typeof ee=="function"?x[w+1]=ee:(x.splice(w,3),w-=3),_3(x)}}}function Jb(o){this._internalRoot=o}Ip.prototype.render=Jb.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));var x=u.current,w=Ha();b3(x,w,o,u,null,null)},Ip.prototype.unmount=Jb.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;b3(o.current,2,null,o,null,null),pp(),u[jr]=null}};function Ip(o){this._internalRoot=o}Ip.prototype.unstable_scheduleHydration=function(o){if(o){var u=va();o={blockedOn:null,target:o,priority:u};for(var x=0;x<Tc.length&&u!==0&&u<Tc[x].priority;x++);Tc.splice(x,0,o),x===0&&A3(o)}};var C3=t.version;if(C3!=="19.1.0")throw Error(r(527,C3,"19.1.0"));ne.findDOMNode=function(o){var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=m(u),o=o!==null?h(o):null,o=o===null?null:o.stateNode,o};var CH={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kp.isDisabled&&kp.supportsFiber)try{vn=kp.inject(CH),zn=kp}catch{}}return km.createRoot=function(o,u){if(!i(o))throw Error(r(299));var x=!1,w="",O=HT,I=qT,G=YT,ee=null;return u!=null&&(u.unstable_strictMode===!0&&(x=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onUncaughtError!==void 0&&(O=u.onUncaughtError),u.onCaughtError!==void 0&&(I=u.onCaughtError),u.onRecoverableError!==void 0&&(G=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(ee=u.unstable_transitionCallbacks)),u=v3(o,1,!1,null,null,x,w,O,I,G,ee,null),o[jr]=u.current,Ib(o),new Jb(u)},km.hydrateRoot=function(o,u,x){if(!i(o))throw Error(r(299));var w=!1,O="",I=HT,G=qT,ee=YT,ce=null,Ee=null;return x!=null&&(x.unstable_strictMode===!0&&(w=!0),x.identifierPrefix!==void 0&&(O=x.identifierPrefix),x.onUncaughtError!==void 0&&(I=x.onUncaughtError),x.onCaughtError!==void 0&&(G=x.onCaughtError),x.onRecoverableError!==void 0&&(ee=x.onRecoverableError),x.unstable_transitionCallbacks!==void 0&&(ce=x.unstable_transitionCallbacks),x.formState!==void 0&&(Ee=x.formState)),u=v3(o,1,!0,u,x??null,w,O,I,G,ee,ce,Ee),u.context=y3(null),x=u.current,w=Ha(),w=Qn(w),O=fc(w),O.callback=null,hc(x,O,w),x=w,u.current.lanes=x,ki(u,x),Eo(u),o[jr]=u.current,Ib(o),new Ip(u)},km.version="19.1.0",km}var B3;function UH(){if(B3)return rw.exports;B3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),rw.exports=FH(),rw.exports}var zH=UH();const VH="modulepreload",$H=function(e){return"/"+e},F3={},dd=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(h){return Promise.all(h.map(p=>Promise.resolve(p).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),m=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(h=>{if(h=$H(h),h in F3)return;F3[h]=!0;const p=h.endsWith(".css"),v=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${v}`))return;const S=document.createElement("link");if(S.rel=p?"stylesheet":VH,p||(S.as="script"),S.crossOrigin="",S.href=h,m&&S.setAttribute("nonce",m),document.head.appendChild(S),p)return new Promise((A,T)=>{S.addEventListener("load",A),S.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&s(d.reason);return t().catch(s)})},HH=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dd(async()=>{const{default:r}=await Promise.resolve().then(()=>wh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ZN extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class qH extends ZN{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class U3 extends ZN{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class z3 extends ZN{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xj;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xj||(Xj={}));var YH=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};class WH{constructor(t,{headers:n={},customFetch:r,region:i=Xj.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=HH(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return YH(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:l}=n;let d={},{region:m}=n;m||(m=this.region);const h=new URL(`${this.url}/${t}`);m&&m!=="any"&&(d["x-region"]=m,h.searchParams.set("forceFunctionRegion",m));let p;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",p=l):typeof l=="string"?(d["Content-Type"]="text/plain",p=l):typeof FormData<"u"&&l instanceof FormData?p=l:(d["Content-Type"]="application/json",p=JSON.stringify(l)));const v=yield this.fetch(h.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),i),body:p}).catch(_=>{throw new qH(_)}),S=v.headers.get("x-relay-error");if(S&&S==="true")throw new U3(v);if(!v.ok)throw new z3(v);let A=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return A==="application/json"?T=yield v.json():A==="application/octet-stream"?T=yield v.blob():A==="text/event-stream"?T=v:A==="multipart/form-data"?T=yield v.formData():T=yield v.text(),{data:T,error:null,response:v}}catch(i){return{data:null,error:i,response:i instanceof z3||i instanceof U3?i.context:void 0}}})}}var pi={},wf={},jf={},Sf={},Nf={},Af={},GH=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ah=GH();const KH=ah.fetch,S8=ah.fetch.bind(ah),N8=ah.Headers,XH=ah.Request,QH=ah.Response,wh=Object.freeze(Object.defineProperty({__proto__:null,Headers:N8,Request:XH,Response:QH,default:S8,fetch:KH},Symbol.toStringTag,{value:"Module"})),ZH=DH(wh);var Bp={},V3;function A8(){if(V3)return Bp;V3=1,Object.defineProperty(Bp,"__esModule",{value:!0});class e extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return Bp.default=e,Bp}var $3;function E8(){if($3)return Af;$3=1;var e=Af&&Af.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(Af,"__esModule",{value:!0});const t=e(ZH),n=e(A8());class r{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,l){return this.headers=Object.assign({},this.headers),this.headers[s]=l,this}then(s,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const d=this.fetch;let m=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var p,v,S;let A=null,T=null,_=null,C=h.status,M=h.statusText;if(h.ok){if(this.method!=="HEAD"){const B=await h.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?T=B:T=JSON.parse(B))}const R=(p=this.headers.Prefer)===null||p===void 0?void 0:p.match(/count=(exact|planned|estimated)/),U=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");R&&U&&U.length>1&&(_=parseInt(U[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(T)&&(T.length>1?(A={code:"PGRST116",details:`Results contain ${T.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},T=null,_=null,C=406,M="Not Acceptable"):T.length===1?T=T[0]:T=null)}else{const R=await h.text();try{A=JSON.parse(R),Array.isArray(A)&&h.status===404&&(T=[],A=null,C=200,M="OK")}catch{h.status===404&&R===""?(C=204,M="No Content"):A={message:R}}if(A&&this.isMaybeSingle&&(!((S=A==null?void 0:A.details)===null||S===void 0)&&S.includes("0 rows"))&&(A=null,C=200,M="OK"),A&&this.shouldThrowOnError)throw new n.default(A)}return{error:A,data:T,count:_,status:C,statusText:M}});return this.shouldThrowOnError||(m=m.catch(h=>{var p,v,S;return{error:{message:`${(p=h==null?void 0:h.name)!==null&&p!==void 0?p:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(v=h==null?void 0:h.stack)!==null&&v!==void 0?v:""}`,hint:"",code:`${(S=h==null?void 0:h.code)!==null&&S!==void 0?S:""}`},data:null,count:null,status:0,statusText:""}})),m.then(s,l)}returns(){return this}overrideTypes(){return this}}return Af.default=r,Af}var H3;function _8(){if(H3)return Nf;H3=1;var e=Nf&&Nf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nf,"__esModule",{value:!0});const t=e(E8());class n extends t.default{select(i){let s=!1;const l=(i??"*").split("").map(d=>/\s/.test(d)&&!s?"":(d==='"'&&(s=!s),d)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:l,foreignTable:d,referencedTable:m=d}={}){const h=m?`${m}.order`:"order",p=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${p?`${p},`:""}${i}.${s?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:l=s}={}){const d=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${i}`),this}range(i,s,{foreignTable:l,referencedTable:d=l}={}){const m=typeof d>"u"?"offset":`${d}.offset`,h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(m,`${i}`),this.url.searchParams.set(h,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:l=!1,buffers:d=!1,wal:m=!1,format:h="text"}={}){var p;const v=[i?"analyze":null,s?"verbose":null,l?"settings":null,d?"buffers":null,m?"wal":null].filter(Boolean).join("|"),S=(p=this.headers.Accept)!==null&&p!==void 0?p:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${h}; for="${S}"; options=${v};`,h==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Nf.default=n,Nf}var q3;function JN(){if(q3)return Sf;q3=1;var e=Sf&&Sf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Sf,"__esModule",{value:!0});const t=e(_8());class n extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const l=Array.from(new Set(s)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:l,type:d}={}){let m="";d==="plain"?m="pl":d==="phrase"?m="ph":d==="websearch"&&(m="w");const h=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${m}fts${h}.${s}`),this}match(i){return Object.entries(i).forEach(([s,l])=>{this.url.searchParams.append(s,`eq.${l}`)}),this}not(i,s,l){return this.url.searchParams.append(i,`not.${s}.${l}`),this}or(i,{foreignTable:s,referencedTable:l=s}={}){const d=l?`${l}.or`:"or";return this.url.searchParams.append(d,`(${i})`),this}filter(i,s,l){return this.url.searchParams.append(i,`${s}.${l}`),this}}return Sf.default=n,Sf}var Y3;function C8(){if(Y3)return jf;Y3=1;var e=jf&&jf.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(jf,"__esModule",{value:!0});const t=e(JN());class n{constructor(i,{headers:s={},schema:l,fetch:d}){this.url=i,this.headers=s,this.schema=l,this.fetch=d}select(i,{head:s=!1,count:l}={}){const d=s?"HEAD":"GET";let m=!1;const h=(i??"*").split("").map(p=>/\s/.test(p)&&!m?"":(p==='"'&&(m=!m),p)).join("");return this.url.searchParams.set("select",h),l&&(this.headers.Prefer=`count=${l}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:l=!0}={}){const d="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),s&&m.push(`count=${s}`),l||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(i)){const h=i.reduce((p,v)=>p.concat(Object.keys(v)),[]);if(h.length>0){const p=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",p.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:l=!1,count:d,defaultToNull:m=!0}={}){const h="POST",p=[`resolution=${l?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&p.push(this.headers.Prefer),d&&p.push(`count=${d}`),m||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(i)){const v=i.reduce((S,A)=>S.concat(Object.keys(A)),[]);if(v.length>0){const S=[...new Set(v)].map(A=>`"${A}"`);this.url.searchParams.set("columns",S.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const l="PATCH",d=[];return this.headers.Prefer&&d.push(this.headers.Prefer),s&&d.push(`count=${s}`),this.headers.Prefer=d.join(","),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",l=[];return i&&l.push(`count=${i}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return jf.default=n,jf}var Lm={},Bm={},W3;function JH(){return W3||(W3=1,Object.defineProperty(Bm,"__esModule",{value:!0}),Bm.version=void 0,Bm.version="0.0.0-automated"),Bm}var G3;function eq(){if(G3)return Lm;G3=1,Object.defineProperty(Lm,"__esModule",{value:!0}),Lm.DEFAULT_HEADERS=void 0;const e=JH();return Lm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Lm}var K3;function tq(){if(K3)return wf;K3=1;var e=wf&&wf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(wf,"__esModule",{value:!0});const t=e(C8()),n=e(JN()),r=eq();class i{constructor(l,{headers:d={},schema:m,fetch:h}={}){this.url=l,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),d),this.schemaName=m,this.fetch=h}from(l){const d=new URL(`${this.url}/${l}`);return new t.default(d,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,d={},{head:m=!1,get:h=!1,count:p}={}){let v;const S=new URL(`${this.url}/rpc/${l}`);let A;m||h?(v=m?"HEAD":"GET",Object.entries(d).filter(([_,C])=>C!==void 0).map(([_,C])=>[_,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([_,C])=>{S.searchParams.append(_,C)})):(v="POST",A=d);const T=Object.assign({},this.headers);return p&&(T.Prefer=`count=${p}`),new n.default({method:v,url:S,headers:T,schema:this.schemaName,body:A,fetch:this.fetch,allowEmpty:!1})}}return wf.default=i,wf}var X3;function nq(){if(X3)return pi;X3=1;var e=pi&&pi.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(pi,"__esModule",{value:!0}),pi.PostgrestError=pi.PostgrestBuilder=pi.PostgrestTransformBuilder=pi.PostgrestFilterBuilder=pi.PostgrestQueryBuilder=pi.PostgrestClient=void 0;const t=e(tq());pi.PostgrestClient=t.default;const n=e(C8());pi.PostgrestQueryBuilder=n.default;const r=e(JN());pi.PostgrestFilterBuilder=r.default;const i=e(_8());pi.PostgrestTransformBuilder=i.default;const s=e(E8());pi.PostgrestBuilder=s.default;const l=e(A8());return pi.PostgrestError=l.default,pi.default={PostgrestClient:t.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:l.default},pi}var rq=nq();const iq=Ia(rq),{PostgrestClient:aq,PostgrestQueryBuilder:SEe,PostgrestFilterBuilder:NEe,PostgrestTransformBuilder:AEe,PostgrestBuilder:EEe,PostgrestError:_Ee}=iq;function sq(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const oq=sq(),lq="2.11.15",cq=`realtime-js/${lq}`,uq="1.0.0",T8=1e4,dq=1e3;var o0;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(o0||(o0={}));var Hi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Hi||(Hi={}));var Zs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zs||(Zs={}));var Qj;(function(e){e.websocket="websocket"})(Qj||(Qj={}));var Ku;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ku||(Ku={}));class fq{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2);let l=this.HEADER_LENGTH+2;const d=r.decode(t.slice(l,l+i));l=l+i;const m=r.decode(t.slice(l,l+s));l=l+s;const h=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:d,event:m,payload:h}}}class O8{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Hn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Hn||(Hn={}));const Q3=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((s,l)=>(s[l]=hq(l,e,t,i),s),{})},hq=(e,t,n,r)=>{const i=t.find(d=>d.name===e),s=i==null?void 0:i.type,l=n[e];return s&&!r.includes(s)?M8(s,l):Zj(l)},M8=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return xq(t,n)}switch(e){case Hn.bool:return mq(t);case Hn.float4:case Hn.float8:case Hn.int2:case Hn.int4:case Hn.int8:case Hn.numeric:case Hn.oid:return gq(t);case Hn.json:case Hn.jsonb:return pq(t);case Hn.timestamp:return vq(t);case Hn.abstime:case Hn.date:case Hn.daterange:case Hn.int4range:case Hn.int8range:case Hn.money:case Hn.reltime:case Hn.text:case Hn.time:case Hn.timestamptz:case Hn.timetz:case Hn.tsrange:case Hn.tstzrange:return Zj(t);default:return Zj(t)}},Zj=e=>e,mq=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},gq=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pq=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},xq=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const l=e.slice(1,n);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(d=>M8(t,d))}return e},vq=e=>typeof e=="string"?e.replace(" ","T"):e,D8=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class ow{constructor(t,n,r={},i=T8){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Z3;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Z3||(Z3={}));class l0{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=l0.syncState(this.state,i,s,l),this.pendingDiffs.forEach(m=>{this.state=l0.syncDiff(this.state,m,s,l)}),this.pendingDiffs=[],d()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=l0.syncDiff(this.state,i,s,l),d())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),l=this.transformState(n),d={},m={};return this.map(s,(h,p)=>{l[h]||(m[h]=p)}),this.map(l,(h,p)=>{const v=s[h];if(v){const S=p.map(C=>C.presence_ref),A=v.map(C=>C.presence_ref),T=p.filter(C=>A.indexOf(C.presence_ref)<0),_=v.filter(C=>S.indexOf(C.presence_ref)<0);T.length>0&&(d[h]=T),_.length>0&&(m[h]=_)}else d[h]=p}),this.syncDiff(s,{joins:d,leaves:m},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:l}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(d,m)=>{var h;const p=(h=t[d])!==null&&h!==void 0?h:[];if(t[d]=this.cloneDeep(m),p.length>0){const v=t[d].map(A=>A.presence_ref),S=p.filter(A=>v.indexOf(A.presence_ref)<0);t[d].unshift(...S)}r(d,p,m)}),this.map(l,(d,m)=>{let h=t[d];if(!h)return;const p=m.map(v=>v.presence_ref);h=h.filter(v=>p.indexOf(v.presence_ref)<0),t[d]=h,i(d,h,m),h.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var J3;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(J3||(J3={}));var eO;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(eO||(eO={}));var jl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(jl||(jl={}));class eA{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=Hi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ow(this,Zs.join,this.params,this.timeout),this.rejoinTimer=new O8(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Hi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Hi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Hi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zs.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new l0(this),this.broadcastEndpointURL=D8(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Hi.closed){const{config:{broadcast:s,presence:l,private:d}}=this.params;this._onError(p=>t==null?void 0:t(jl.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(jl.CLOSED));const m={},h={broadcast:s,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&i!==void 0?i:[],private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(jl.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,A=(v=S==null?void 0:S.length)!==null&&v!==void 0?v:0,T=[];for(let _=0;_<A;_++){const C=S[_],{filter:{event:M,schema:P,table:R,filter:U}}=C,B=p&&p[_];if(B&&B.event===M&&B.schema===P&&B.table===R&&B.filter===U)T.push(Object.assign(Object.assign({},C),{id:B.id}));else{this.unsubscribe(),this.state=Hi.errored,t==null||t(jl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(jl.SUBSCRIBED);return}}).receive("error",p=>{this.state=Hi.errored,t==null||t(jl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(jl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this._on(t,n,r)}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:l}=t,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=h.body)===null||i===void 0?void 0:i.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,d,m;const h=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(d=(l=this.params)===null||l===void 0?void 0:l.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&s("ok"),h.receive("ok",()=>s("ok")),h.receive("error",()=>s("error")),h.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Hi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new ow(this,Zs.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),l}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ow(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const l=t.toLocaleLowerCase(),{close:d,error:m,leave:h,join:p}=Zs;if(r&&[d,m,h,p].indexOf(l)>=0&&r!==this._joinRef())return;let S=this._onMessage(l,n,r);if(n&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(A=>{var T,_,C;return((T=A.filter)===null||T===void 0?void 0:T.event)==="*"||((C=(_=A.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===l}).map(A=>A.callback(S,r)):(s=this.bindings[l])===null||s===void 0||s.filter(A=>{var T,_,C,M,P,R;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in A){const U=A.id,B=(T=A.filter)===null||T===void 0?void 0:T.event;return U&&((_=n.ids)===null||_===void 0?void 0:_.includes(U))&&(B==="*"||(B==null?void 0:B.toLocaleLowerCase())===((C=n.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const U=(P=(M=A==null?void 0:A.filter)===null||M===void 0?void 0:M.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return U==="*"||U===((R=n==null?void 0:n.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return A.type.toLocaleLowerCase()===l}).map(A=>{if(typeof S=="object"&&"ids"in S){const T=S.data,{schema:_,table:C,commit_timestamp:M,type:P,errors:R}=T;S=Object.assign(Object.assign({},{schema:_,table:C,commit_timestamp:M,eventType:P,new:{},old:{},errors:R}),this._getPayloadRecords(T))}A.callback(S,r)})}_isClosed(){return this.state===Hi.closed}_isJoined(){return this.state===Hi.joined}_isJoining(){return this.state===Hi.joining}_isLeaving(){return this.state===Hi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&eA.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zs.close,{},t)}_onError(t){this._on(Zs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Hi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Q3(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Q3(t.columns,t.old_record)),n}}const tO=()=>{},yq=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bq{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=T8,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tO,this.ref=0,this.logger=tO,this.conn=null,this.sendBuffer=[],this.serializer=new fq,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let l;return s?l=s:typeof fetch>"u"?l=(...d)=>dd(async()=>{const{default:m}=await Promise.resolve().then(()=>wh);return{default:m}},void 0).then(({default:m})=>m(...d)):l=fetch,(...d)=>l(...d)},this.endPoint=`${t}/${Qj.websocket}`,this.httpEndpoint=D8(t),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const i=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(s,l)=>l(JSON.stringify(s)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new O8(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oq),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uq}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case o0.connecting:return Ku.Connecting;case o0.open:return Ku.Open;case o0.closing:return Ku.Closing;default:return Ku.Closed}}isConnected(){return this.connectionState()===Ku.Open}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new eA(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,l=()=>{this.encode(t,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let n=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:cq};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Zs.access_token,{access_token:n})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(dq,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:s,ref:l}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,s),Array.from(this.channels).filter(d=>d._isMember(r)).forEach(d=>d._trigger(i,s,l)),this.stateChangeCallbacks.message.forEach(d=>d(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([yq],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class tA extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class wq extends tA{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Jj extends tA{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var jq=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};const R8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dd(async()=>{const{default:r}=await Promise.resolve().then(()=>wh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Sq=()=>jq(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield dd(()=>Promise.resolve().then(()=>wh),void 0)).Response:Response}),eS=e=>{if(Array.isArray(e))return e.map(n=>eS(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=eS(r)}),t},Nq=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ad=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};const lw=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Aq=(e,t,n)=>Ad(void 0,void 0,void 0,function*(){const r=yield Sq();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(i=>{const s=e.status||500,l=(i==null?void 0:i.statusCode)||s+"";t(new wq(lw(i),s,l))}).catch(i=>{t(new Jj(lw(i),i))}):t(new Jj(lw(e),e))}),Eq=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?i:(Nq(r)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n))};function K0(e,t,n,r,i,s){return Ad(this,void 0,void 0,function*(){return new Promise((l,d)=>{e(n,Eq(t,r,i,s)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>l(m)).catch(m=>Aq(m,d,r))})})}function Dx(e,t,n,r){return Ad(this,void 0,void 0,function*(){return K0(e,"GET",t,n,r)})}function Sl(e,t,n,r,i){return Ad(this,void 0,void 0,function*(){return K0(e,"POST",t,r,i,n)})}function tS(e,t,n,r,i){return Ad(this,void 0,void 0,function*(){return K0(e,"PUT",t,r,i,n)})}function _q(e,t,n,r){return Ad(this,void 0,void 0,function*(){return K0(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function P8(e,t,n,r,i){return Ad(this,void 0,void 0,function*(){return K0(e,"DELETE",t,r,i,n)})}var Na=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};const Cq={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nO={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Tq{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=R8(i)}uploadOrUpdate(t,n,r,i){return Na(this,void 0,void 0,function*(){try{let s;const l=Object.assign(Object.assign({},nO),i);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const m=l.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),m&&s.append("metadata",this.encodeMetadata(m)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.append("cacheControl",l.cacheControl),m&&s.append("metadata",this.encodeMetadata(m))):(s=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType,m&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),i!=null&&i.headers&&(d=Object.assign(Object.assign({},d),i.headers));const h=this._removeEmptyFolders(n),p=this._getFinalPath(h),v=yield(t=="PUT"?tS:Sl)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:d},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:v.Id,fullPath:v.Key},error:null}}catch(s){if(xi(s))return{data:null,error:s};throw s}})}upload(t,n,r){return Na(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Na(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),l=this._getFinalPath(s),d=new URL(this.url+`/object/upload/sign/${l}`);d.searchParams.set("token",n);try{let m;const h=Object.assign({upsert:nO.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",h.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",h.cacheControl)):(m=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType);const v=yield tS(this.fetch,d.toString(),m,{headers:p});return{data:{path:s,fullPath:v.Key},error:null}}catch(m){if(xi(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(t,n){return Na(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Sl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+s.url),d=l.searchParams.get("token");if(!d)throw new tA("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:d},error:null}}catch(r){if(xi(r))return{data:null,error:r};throw r}})}update(t,n,r){return Na(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Na(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(xi(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Na(this,void 0,void 0,function*(){try{return{data:{path:(yield Sl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(xi(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Na(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Sl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${l}`)},{data:s,error:null}}catch(i){if(xi(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Na(this,void 0,void 0,function*(){try{const i=yield Sl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${s}`):null})),error:null}}catch(i){if(xi(i))return{data:null,error:i};throw i}})}download(t,n){return Na(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),l=s?`?${s}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield Dx(this.fetch,`${this.url}/${i}/${d}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(xi(d))return{data:null,error:d};throw d}})}info(t){return Na(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Dx(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:eS(r),error:null}}catch(r){if(xi(r))return{data:null,error:r};throw r}})}exists(t){return Na(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield _q(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(xi(r)&&r instanceof Jj){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const d=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});m!==""&&i.push(m);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${r}${h}`)}}}remove(t){return Na(this,void 0,void 0,function*(){try{return{data:yield P8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(xi(n))return{data:null,error:n};throw n}})}list(t,n,r){return Na(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Cq),n),{prefix:t||""});return{data:yield Sl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(xi(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Oq="2.10.4",Mq={"X-Client-Info":`storage-js/${Oq}`};var Ef=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};class Dq{constructor(t,n={},r,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Mq),n),this.fetch=R8(r)}listBuckets(){return Ef(this,void 0,void 0,function*(){try{return{data:yield Dx(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xi(t))return{data:null,error:t};throw t}})}getBucket(t){return Ef(this,void 0,void 0,function*(){try{return{data:yield Dx(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(xi(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ef(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xi(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return Ef(this,void 0,void 0,function*(){try{return{data:yield tS(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(xi(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ef(this,void 0,void 0,function*(){try{return{data:yield Sl(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(xi(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ef(this,void 0,void 0,function*(){try{return{data:yield P8(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(xi(n))return{data:null,error:n};throw n}})}}class Rq extends Dq{constructor(t,n={},r,i){super(t,n,r,i)}from(t){return new Tq(this.url,this.headers,t,this.fetch)}}const Pq="2.53.0";let e0="";typeof Deno<"u"?e0="deno":typeof document<"u"?e0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?e0="react-native":e0="node";const Iq={"X-Client-Info":`supabase-js-${e0}/${Pq}`},kq={headers:Iq},Lq={schema:"public"},Bq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fq={};var Uq=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};const zq=e=>{let t;return e?t=e:typeof fetch>"u"?t=S8:t=fetch,(...n)=>t(...n)},Vq=()=>typeof Headers>"u"?N8:Headers,$q=(e,t,n)=>{const r=zq(n),i=Vq();return(s,l)=>Uq(void 0,void 0,void 0,function*(){var d;const m=(d=yield t())!==null&&d!==void 0?d:e;let h=new i(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${m}`),r(s,Object.assign(Object.assign({},l),{headers:h}))})};var Hq=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};function qq(e){return e.endsWith("/")?e:e+"/"}function Yq(e,t){var n,r;const{db:i,auth:s,realtime:l,global:d}=e,{db:m,auth:h,realtime:p,global:v}=t,S={db:Object.assign(Object.assign({},m),i),auth:Object.assign(Object.assign({},h),s),realtime:Object.assign(Object.assign({},p),l),storage:{},global:Object.assign(Object.assign(Object.assign({},v),d),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Hq(this,void 0,void 0,function*(){return""})};return e.accessToken?S.accessToken=e.accessToken:delete S.accessToken,S}const I8="2.71.1",zf=30*1e3,nS=3,cw=nS*zf,Wq="http://localhost:9999",Gq="supabase.auth.token",Kq={"X-Client-Info":`gotrue-js/${I8}`},rS="X-Supabase-Api-Version",k8={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Xq=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qq=10*60*1e3;class nA extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Bt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zq extends nA{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jq(e){return Bt(e)&&e.name==="AuthApiError"}class L8 extends nA{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class iu extends nA{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class Fc extends iu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eY(e){return Bt(e)&&e.name==="AuthSessionMissingError"}class Fp extends iu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Up extends iu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class zp extends iu{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tY(e){return Bt(e)&&e.name==="AuthImplicitGrantRedirectError"}class rO extends iu{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iS extends iu{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function uw(e){return Bt(e)&&e.name==="AuthRetryableFetchError"}class iO extends iu{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class aS extends iu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Rx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),aO=` 	
\r=`.split(""),nY=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<aO.length;t+=1)e[aO[t].charCodeAt(0)]=-2;for(let t=0;t<Rx.length;t+=1)e[Rx[t].charCodeAt(0)]=t;return e})();function sO(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rx[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Rx[r]),t.queuedBits-=6}}function B8(e,t,n){const r=nY[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function oO(e){const t=[],n=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{aY(l,r,n)};for(let l=0;l<e.length;l+=1)B8(e.charCodeAt(l),i,s);return t.join("")}function rY(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iY(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}rY(r,t)}}function aY(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function sY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)B8(e.charCodeAt(i),n,r);return new Uint8Array(t)}function oY(e){const t=[];return iY(e,n=>t.push(n)),new Uint8Array(t)}function lY(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>sO(i,n,r)),sO(null,n,r),t.join("")}function cY(e){return Math.round(Date.now()/1e3)+e}function uY(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Gs=()=>typeof window<"u"&&typeof document<"u",Fu={tested:!1,writable:!1},F8=()=>{if(!Gs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fu.tested)return Fu.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fu.tested=!0,Fu.writable=!0}catch{Fu.tested=!0,Fu.writable=!1}return Fu.writable};function dY(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const U8=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>dd(async()=>{const{default:r}=await Promise.resolve().then(()=>wh);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},fY=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Vf=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Uu=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mc=async(e,t)=>{await e.removeItem(t)};class Fv{constructor(){this.promise=new Fv.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Fv.promiseConstructor=Promise;function dw(e){const t=e.split(".");if(t.length!==3)throw new aS("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Xq.test(t[r]))throw new aS("JWT not in base64url format");return{header:JSON.parse(oO(t[0])),payload:JSON.parse(oO(t[1])),signature:sY(t[2]),raw:{header:t[0],payload:t[1]}}}async function hY(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mY(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){r(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function gY(e){return("0"+e.toString(16)).substr(-2)}function pY(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,gY).join("")}async function xY(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function vY(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await xY(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _f(e,t,n=!1){const r=pY();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Vf(e,`${t}-code-verifier`,i);const s=await vY(r);return[s,r===s?"plain":"s256"]}const yY=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bY(e){const t=e.headers.get(rS);if(!t||!t.match(yY))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wY(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jY(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const SY=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cf(e){if(!SY.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fw(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lO(e){return JSON.parse(JSON.stringify(e))}var NY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const $u=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AY=[502,503,504];async function cO(e){var t;if(!fY(e))throw new iS($u(e),0);if(AY.includes(e.status))throw new iS($u(e),e.status);let n;try{n=await e.json()}catch(s){throw new L8($u(s),s)}let r;const i=bY(e);if(i&&i.getTime()>=k8["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new iO($u(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Fc}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new iO($u(n),e.status,n.weak_password.reasons);throw new Zq($u(n),e.status||500,r)}const EY=(e,t,n,r)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Zt(e,t,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[rS]||(s[rS]=k8["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const d=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",m=await _Y(e,t,n+d,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function _Y(e,t,n,r,i,s){const l=EY(t,r,i,s);let d;try{d=await e(n,Object.assign({},l))}catch(m){throw console.error(m),new iS($u(m),0)}if(d.ok||await cO(d),r!=null&&r.noResolveJson)return d;try{return await d.json()}catch(m){await cO(m)}}function wl(e){var t;let n=null;MY(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=cY(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function uO(e){const t=wl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $c(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CY(e){return{data:e,error:null}}function TY(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,l=NY(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},m=Object.assign({},l);return{data:{properties:d,user:m},error:null}}function OY(e){return e}function MY(e){return e.access_token&&e.refresh_token&&e.expires_in}const hw=["global","local","others"];var DY=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};class RY{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=U8(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=hw[0]){if(hw.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hw.join(", ")}`);try{return await Zt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await Zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$c})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=DY(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TY,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Bt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$c})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,l,d,m;try{const h={nextPage:null,lastPage:0,total:0},p=await Zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:OY});if(p.error)throw p.error;const v=await p.json(),S=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,A=(m=(d=p.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return A.length>0&&(A.forEach(T=>{const _=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(T.split(";")[1].split("=")[1]);h[`${C}Page`]=_}),h.total=parseInt(S)),{data:Object.assign(Object.assign({},v),h),error:null}}catch(h){if(Bt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){Cf(t);try{return await Zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$c})}catch(n){if(Bt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Cf(t);try{return await Zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$c})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Cf(t);try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$c})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Cf(t.userId);try{const{data:n,error:r}=await Zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Cf(t.userId),Cf(t.id);try{return{data:await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}}function dO(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function PY(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Tf={debug:!!(globalThis&&F8()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z8 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IY extends z8{}async function kY(e,t,n){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Tf.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IY(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tf.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}PY();const LY={url:Wq,storageKey:Gq,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Kq,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function fO(e,t,n){return await n()}const Of={};class y0{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=y0.nextInstanceID,y0.nextInstanceID+=1,this.instanceID>0&&Gs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},LY),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new RY({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=U8(i.fetch),this.lock=i.lock||fO,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Gs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=kY:this.lock=fO,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:F8()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=dO(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=dO(this.memoryStorage)),Gs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Of[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Of[this.storageKey]=Object.assign(Object.assign({},Of[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Of[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Of[this.storageKey]=Object.assign(Object.assign({},Of[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${I8}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=dY(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Gs()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tY(s)){const m=(t=s.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:l,redirectType:d}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",d),await this._saveSession(l),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Bt(n)?{error:n}:{error:new L8("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:wl}),{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const m=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(s){if(Bt(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:p,password:v,options:S}=t;let A=null,T=null;this.flowType==="pkce"&&([A,T]=await _f(this.storage,this.storageKey)),s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:p,password:v,data:(n=S==null?void 0:S.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:A,code_challenge_method:T},xform:wl})}else if("phone"in t){const{phone:p,password:v,options:S}=t;s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:v,data:(r=S==null?void 0:S.data)!==null&&r!==void 0?r:{},channel:(i=S==null?void 0:S.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:wl})}else throw new Up("You must provide either an email or phone number and a password");const{data:l,error:d}=s;if(d||!l)return{data:{user:null,session:null},error:d};const m=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(s){if(Bt(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:l,options:d}=t;n=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:uO})}else if("phone"in t){const{phone:s,password:l,options:d}=t;n=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:uO})}else throw new Up("You must provide either an email or phone number and a password");const{data:r,error:i}=n;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Fp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(Bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,i,s,l,d,m,h,p,v,S,A;let T,_;if("message"in t)T=t.message,_=t.signature;else{const{chain:C,wallet:M,statement:P,options:R}=t;let U;if(Gs())if(typeof M=="object")U=M;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))U=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof M!="object"||!(R!=null&&R.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=M}const B=new URL((n=R==null?void 0:R.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in U&&U.signIn){const L=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},R==null?void 0:R.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),P?{statement:P}:null));let F;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")F=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)F=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)T=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),_=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${B.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(i=(r=R==null?void 0:R.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=R==null?void 0:R.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${R.signInWithSolana.notBefore}`]:[],...!((l=R==null?void 0:R.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${R.signInWithSolana.expirationTime}`]:[],...!((d=R==null?void 0:R.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${R.signInWithSolana.chainId}`]:[],...!((m=R==null?void 0:R.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${R.signInWithSolana.nonce}`]:[],...!((h=R==null?void 0:R.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${R.signInWithSolana.requestId}`]:[],...!((v=(p=R==null?void 0:R.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||v===void 0)&&v.length?["Resources",...R.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const L=await U.signMessage(new TextEncoder().encode(T),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=L}}try{const{data:C,error:M}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:lY(_)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(A=t.options)===null||A===void 0?void 0:A.captchaToken}}:null),xform:wl});if(M)throw M;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new Fp}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:M})}catch(C){if(Bt(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const n=await Uu(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:l}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:wl});if(await Mc(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Fp}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(Bt(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:l}=t,d=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:wl}),{data:m,error:h}=d;return h?{data:{user:null,session:null},error:h}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Fp}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:h})}catch(n){if(Bt(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,i,s,l;try{if("email"in t){const{email:d,options:m}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await _f(this.storage,this.storageKey));const{error:v}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in t){const{phone:d,options:m}=t,{data:h,error:p}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(i=m==null?void 0:m.data)!==null&&i!==void 0?i:{},create_user:(s=m==null?void 0:m.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(l=m==null?void 0:m.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p}}throw new Up("You must provide either an email or phone number.")}catch(d){if(Bt(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:d}=await Zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:wl});if(d)throw d;if(!l)throw new Error("An error occurred on token verification.");const m=l.session,h=l.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:h,session:m},error:null}}catch(i){if(Bt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var n,r,i;try{let s=null,l=null;return this.flowType==="pkce"&&([s,l]=await _f(this.storage,this.storageKey)),await Zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:l}),headers:this.headers,xform:CY})}catch(s){if(Bt(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Fc;const{error:i}=await Zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Bt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:l}=await Zt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:l,error:d}=await Zt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:d}}throw new Up("You must provide either an email or phone number and a type")}catch(n){if(Bt(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Uu(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<cw:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await Uu(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=fw()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(m,h,p)=>(!l&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,h,p))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$c}):await this._useSession(async n=>{var r,i,s;const{data:l,error:d}=n;if(d)throw d;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fc}:await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:$c})})}catch(n){if(Bt(n))return eY(n)&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new Fc;const l=i.session;let d=null,m=null;this.flowType==="pkce"&&t.email!=null&&([d,m]=await _f(this.storage,this.storageKey));const{data:h,error:p}=await Zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:m}),jwt:l.access_token,xform:$c});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(Bt(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fc;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:l}=dw(t.access_token);if(l.exp&&(r=l.exp,i=r<=n),i){const{session:d,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!d)return{data:{user:null,session:null},error:null};s=d}else{const{data:d,error:m}=await this._getUser(t.access_token);if(m)throw m;s={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(n){if(Bt(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:l,error:d}=n;if(d)throw d;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Fc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Bt(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Gs())throw new zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new rO("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new rO("No code detected.");const{data:P,error:R}=await this._exchangeCodeForSession(t.code);if(R)throw R;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:d,expires_at:m,token_type:h}=t;if(!s||!d||!l||!h)throw new zp("No session defined in URL");const p=Math.round(Date.now()/1e3),v=parseInt(d);let S=p+v;m&&(S=parseInt(m));const A=S-p;A*1e3<=zf&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${A}s, should have been closer to ${v}s`);const T=S-v;p-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,S,p):p-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,S,p);const{data:_,error:C}=await this._getUser(s);if(C)throw C;const M={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:v,expires_at:S,refresh_token:l,token_type:h,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:M,redirectType:t.type},error:null}}catch(r){if(Bt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Uu(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{error:s};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:d}=await this.admin.signOut(l,t);if(d&&!(Jq(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=uY(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:l}=n;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await _f(this.storage,this.storageKey,!0));try{return await Zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(Bt(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var l,d,m,h,p;const{data:v,error:S}=s;if(S)throw S;const A=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await Zt(this.fetch,"GET",A,{headers:this.headers,jwt:(p=(h=v.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Gs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Bt(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)throw l;return await Zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await mY(async i=>(i>0&&await hY(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:wl})),(i,s)=>{const l=200*Math.pow(2,i);return s&&uw(s)&&Date.now()+l-r<zf})}catch(r){if(this._debug(n,"error",r),Bt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Gs()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Uu(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Uu(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Vf(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:fw()}else if(i&&!i.user&&!i.user){const l=await Uu(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Mc(this.storage,this.storageKey+"-user"),await Vf(this.storage,this.storageKey,i)):i.user=fw()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<cw;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${cw}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),uw(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:d}=await this._getUser(i.access_token);!d&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Fc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Fv;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new Fc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const d={session:s.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(s){if(this._debug(i,"error",s),Bt(s)){const l={session:null,error:s};return uw(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(m){s.push(m)}});if(await Promise.all(l),s.length>0){for(let d=0;d<s.length;d+=1)console.error(s[d]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Vf(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=lO(i);await Vf(this.storage,this.storageKey,s)}else{const i=lO(n);await Vf(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Mc(this.storage,this.storageKey),await Mc(this.storage,this.storageKey+"-code-verifier"),await Mc(this.storage,this.storageKey+"-user"),this.userStorage&&await Mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Gs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zf);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/zf);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${zf}ms, refresh threshold is ${nS} ticks`),i<=nS&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z8)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,l]=await _f(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(d.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:l}=n;if(l)return{data:null,error:l};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:m,error:h}=await Zt(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(t.factorType==="totp"&&(!((i=m==null?void 0:m.totp)===null||i===void 0)&&i.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return{data:null,error:s};const{data:l,error:d}=await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:d})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?{data:null,error:s}:await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Bt(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),s=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=dw(i.access_token);let d=null;l.aal&&(d=l.aal);let m=d;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const p=l.amr||[];return{data:{currentLevel:d,nextLevel:m,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(d=>d.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(d=>d.kid===t),r&&this.jwks_cached_at+Qq>i)return r;const{data:s,error:l}=await Zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(d=>d.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:A,error:T}=await this.getSession();if(T||!A.session)return{data:null,error:T};r=A.session.access_token}const{header:i,payload:s,signature:l,raw:{header:d,payload:m}}=dw(r);n!=null&&n.allowExpired||wY(s.exp);const h=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!h){const{error:A}=await this.getUser(r);if(A)throw A;return{data:{claims:s,header:i,signature:l},error:null}}const p=jY(i.alg),v=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,v,l,oY(`${d}.${m}`)))throw new aS("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(r){if(Bt(r))return{data:null,error:r};throw r}}}y0.nextInstanceID=0;const BY=y0;class FY extends BY{constructor(t){super(t)}}var UY=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})};class zY{constructor(t,n,r){var i,s,l;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=qq(t),m=new URL(d);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const h=`sb-${m.hostname.split(".")[0]}-auth-token`,p={db:Lq,realtime:Fq,auth:Object.assign(Object.assign({},Bq),{storageKey:h}),global:kq},v=Yq(r??{},p);this.storageKey=(i=v.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=v.global.headers)!==null&&s!==void 0?s:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(S,A)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(A)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=v.auth)!==null&&l!==void 0?l:{},this.headers,v.global.fetch),this.fetch=$q(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.rest=new aq(new URL("rest/v1",m).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new Rq(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new WH(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return UY(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:s,flowType:l,lock:d,debug:m},h,p){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new FY({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:s,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:l,lock:d,debug:m,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new bq(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const VY=(e,t,n)=>new zY(e,t,n);function $Y(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}$Y()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const HY="https://zedwbdksnduazpdveoab.supabase.co",qY="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InplZHdiZGtzbmR1YXpwZHZlb2FiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQwMDcwNDIsImV4cCI6MjA2OTU4MzA0Mn0.LjhdIRxPhAM0JTUdX9YdxHaSkffoDLV4RBkglKFksxI",rt=VY(HY,qY),V8=N.createContext(void 0);function YY({children:e}){const[t,n]=N.useState(null),[r,i]=N.useState(null),[s,l]=N.useState(null),[d,m]=N.useState(!0);N.useEffect(()=>{rt.auth.getSession().then(({data:{session:M}})=>{l(M),n((M==null?void 0:M.user)??null),M!=null&&M.user?h(M.user.id):m(!1)});const{data:{subscription:C}}=rt.auth.onAuthStateChange(async(M,P)=>{l(P),n((P==null?void 0:P.user)??null),P!=null&&P.user?await h(P.user.id):(i(null),m(!1))});return()=>C.unsubscribe()},[]);const h=async C=>{try{const{data:M,error:P}=await rt.from("profiles").select("*").eq("id",C).single();if(P)throw P;i(M)}catch(M){console.error("Error fetching profile:",M)}finally{m(!1)}},_={user:t,profile:r,session:s,loading:d,signUp:async(C,M,P)=>{const{data:R,error:U}=await rt.auth.signUp({email:C,password:M,options:{data:P}});return{data:R,error:U}},signIn:async(C,M,P=!1)=>{const{data:R,error:U}=await rt.auth.signInWithPassword({email:C,password:M});return P&&R.session?localStorage.setItem("tickets_remember_me","true"):localStorage.removeItem("tickets_remember_me"),{data:R,error:U}},signOut:async()=>{await rt.auth.signOut()},updateProfile:async C=>{if(!t)return;const{error:M}=await rt.from("profiles").update(C).eq("id",t.id);M||i(P=>P?{...P,...C}:null)},refreshProfile:async()=>{t&&await h(t.id)}};return a.jsx(V8.Provider,{value:_,children:e})}function cn(){const e=N.useContext(V8);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function WY(){const e=cn();return N.useEffect(()=>{!e.loading&&!e.user&&(window.location.href="/login")},[e.loading,e.user]),e}function rA(e){const t=WY();return N.useEffect(()=>{!t.loading&&t.profile&&!e.includes(t.profile.user_type)&&(window.location.href=`/${t.profile.user_type}`)},[t.loading,t.profile,e]),t}const GY={en:{"common.loading":"Loading...","common.error":"An error occurred","common.success":"Success","common.cancel":"Cancel","common.confirm":"Confirm","common.save":"Save","common.edit":"Edit","common.delete":"Delete","common.back":"Back","common.next":"Next","common.previous":"Previous","common.search":"Search","common.filter":"Filter","common.amount":"Amount","common.date":"Date","common.status":"Status","common.description":"Description","common.balance":"Balance","common.currency":"SYP","auth.login":"Login","auth.register":"Register","auth.logout":"Logout","auth.email":"Email","auth.password":"Password","auth.confirmPassword":"Confirm Password","auth.fullName":"Full Name","auth.phoneNumber":"Phone Number","auth.forgotPassword":"Forgot Password?","auth.dontHaveAccount":"Don't have an account?","auth.alreadyHaveAccount":"Already have an account?","auth.signUp":"Sign Up","auth.signIn":"Sign In","auth.role":"I am a","auth.passenger":"Passenger","auth.driver":"Driver","auth.merchant":"Merchant","auth.eventAdmin":"Event Organizer","auth.accountType":"Account Type","auth.getStartedDescription":"Get started with your digital wallet in minutes","auth.fullNamePlaceholder":"Your full name","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"Create a strong password","auth.confirmPasswordPlaceholder":"Confirm your password","auth.signInHere":"Sign in here","auth.signUpHere":"Sign up for free","auth.accessDescription":"Access your digital wallet and manage your payments","auth.enterPasswordPlaceholder":"Enter your password","auth.rememberMe":"Remember me","common.optional":"Optional","features.digitalWallet":"Digital wallet access","features.qrPayments":"QR code payments","features.eventTickets":"Event ticket purchases","features.transactionHistory":"Transaction history","features.driverDashboard":"Driver dashboard","features.earningsTracking":"Earnings tracking","features.qrGeneration":"QR code generation","features.tripManagement":"Trip management","features.businessDashboard":"Business dashboard","features.paymentProcessing":"Payment processing","features.analyticsInsights":"Analytics & insights","features.customerManagement":"Customer management","features.eventCreation":"Event creation","features.ticketManagement":"Ticket management","features.attendeeAnalytics":"Attendee analytics","features.revenueTracking":"Revenue tracking","registration.personalAccountFeatures":"Personal Account Features","registration.driverAccountFeatures":"Driver Account Features","registration.businessAccountFeatures":"Business Account Features","registration.eventOrganizerFeatures":"Event Organizer Features","registration.whyChooseTickets":"Why Choose Tickets?","registration.bankGradeSecurity":"Bank-grade security & encryption","registration.instantTransactions":"Instant transactions & real-time updates","registration.customerSupport":"24/7 customer support","registration.lowFees":"Low fees & transparent pricing","registration.soc2Certified":"SOC 2 Certified","registration.iso27001":"ISO 27001","registration.pciCompliant":"PCI Compliant","registration.joinRevolution":"Join the digital payment revolution","registration.backToHome":"Back to Home","login.welcomeBack":"Welcome back","login.secure":"Secure","login.encrypted":"Encrypted","login.private":"Private","nav.dashboard":"Dashboard","nav.wallet":"Wallet","nav.transactions":"Transactions","nav.scanner":"QR Scanner","nav.events":"Events","nav.tickets":"My Tickets","nav.earnings":"Earnings","nav.trips":"Trips","nav.verification":"Verification","nav.qrcode":"QR Code","nav.business":"Business","nav.management":"Management","nav.analytics":"Analytics","nav.users":"Users","nav.disputes":"Disputes","nav.verificationReview":"Driver Verification","nav.support":"Support","nav.settings":"Settings","nav.profile":"Profile","wallet.title":"Digital Wallet","wallet.balance":"Current Balance","wallet.recharge":"Recharge Wallet","wallet.rechargeAmount":"Recharge Amount","wallet.paymentMethod":"Payment Method","wallet.mtnCash":"MTN Cash","wallet.syriatelCash":"Syriatel Cash","wallet.shamCash":"ShamCash","wallet.fatora":"Fatora","wallet.stripe":"Credit Card","wallet.rechargeSuccess":"Wallet recharged successfully","wallet.insufficientBalance":"Insufficient balance","transactions.title":"Transaction History","transactions.recent":"Recent Transactions","transactions.payment":"Payment","transactions.recharge":"Recharge","transactions.refund":"Refund","transactions.withdrawal":"Withdrawal","transactions.pending":"Pending","transactions.completed":"Completed","transactions.failed":"Failed","transactions.cancelled":"Cancelled","transactions.to":"To","transactions.from":"From","scanner.title":"QR Code Scanner","scanner.scanToPayDriver":"Scan driver QR to pay for transport","scanner.scanToPayMerchant":"Scan merchant QR to make payment","scanner.scanning":"Scanning...","scanner.paymentSuccess":"Payment successful","scanner.paymentFailed":"Payment failed","scanner.quantity":"Number of tickets","events.title":"Events","events.upcoming":"Upcoming Events","events.myEvents":"My Events","events.createEvent":"Create Event","events.eventTitle":"Event Title","events.eventDescription":"Event Description","events.eventLocation":"Location","events.eventDate":"Date","events.eventPrice":"Ticket Price","events.availableTickets":"Available Tickets","events.buyTicket":"Buy Ticket","events.ticketPurchased":"Ticket purchased successfully","driver.title":"Driver Dashboard","driver.earnings":"Earnings","driver.todayEarnings":"Today's Earnings","driver.weekEarnings":"Week Earnings","driver.monthEarnings":"Month Earnings","driver.generateQR":"Generate QR Code","driver.activeTrip":"Active Trip","driver.startTrip":"Start Trip","driver.endTrip":"End Trip","driver.route":"Route","driver.ticketFee":"Ticket Fee","driver.passengerCount":"Passengers","driver.analytics":"Driver Analytics","driver.performance":"Performance","driver.efficiency":"Efficiency","driver.monthlyComparison":"Monthly Comparison","driver.hourlyPerformance":"Hourly Performance","driver.locationPerformance":"Location Performance","driver.ratingDistribution":"Rating Distribution","driver.performanceMetrics":"Performance Metrics","driver.earningsBreakdown":"Earnings Breakdown","driver.todaySnapshot":"Today's Snapshot","driver.exportAnalytics":"Export Analytics","driver.earningsTrend":"Earnings Trend","driver.dailyAverage":"Daily Average","driver.weeklyAverage":"Weekly Average","driver.monthlyAverage":"Monthly Average","driver.totalNetEarnings":"Total Net Earnings","driver.averagePerTrip":"Average per Trip","driver.totalDistance":"Total Distance","driver.totalDuration":"Total Duration","driver.earningsPerHour":"Earnings per Hour","driver.earningsPerKm":"Earnings per KM","driver.cancellationRate":"Cancellation Rate","driver.overallRating":"Overall Rating","driver.efficiencyRating":"Efficiency Rating","driver.excellent":"Excellent","driver.verification.title":"Driver Verification","driver.verification.description":"Complete your driver verification to start earning with Tickets","driver.verification.status.title":"Verification Status","driver.verification.status.not_submitted":"Not Submitted","driver.verification.status.pending":"Under Review","driver.verification.status.approved":"Approved","driver.verification.status.rejected":"Rejected","driver.verification.progress":"Progress","driver.verification.driverInfo":"Driver Information","driver.verification.driverInfoDesc":"Provide your driver and vehicle details","driver.verification.licenseNumber":"License Number","driver.verification.licenseNumberPlaceholder":"Enter your driving license number","driver.verification.licenseExpiry":"License Expiry Date","driver.verification.vehicleType":"Vehicle Type","driver.verification.selectVehicleType":"Select vehicle type","driver.verification.vehicleModel":"Vehicle Model","driver.verification.vehicleModelPlaceholder":"e.g., Toyota Hiace 2020","driver.verification.vehiclePlate":"Vehicle Plate Number","driver.verification.vehiclePlatePlaceholder":"e.g., 123456 Damascus","driver.verification.routeName":"Route Name","driver.verification.routeNamePlaceholder":"e.g., Damascus-Aleppo","driver.verification.routeDescription":"Route Description","driver.verification.routeDescriptionPlaceholder":"Describe your regular routes and stops","driver.verification.documents":"Required Documents","driver.verification.documentsDesc":"Upload clear photos or scans of your documents","driver.verification.documentTypes.license_front":"Driver License (Front)","driver.verification.documentTypes.license_back":"Driver License (Back)","driver.verification.documentTypes.vehicle_registration":"Vehicle Registration","driver.verification.documentTypes.vehicle_photo":"Vehicle Photo","driver.verification.viewDocument":"View Document","driver.verification.submit":"Submit for Review","driver.verification.invalidFileType":"Please upload images (JPG, PNG) or PDF files only","driver.verification.fileTooLarge":"File size must be less than 5MB","driver.verification.documentUploaded":"Document uploaded successfully","driver.verification.uploadFailed":"Failed to upload document. Please try again.","driver.verification.fillRequired":"Please fill in all required fields","driver.verification.uploadAllDocuments":"Please upload all required documents","driver.verification.submitted":"Verification submitted successfully! You will be notified when reviewed.","driver.verification.rejectedMessage":"Your verification was rejected. Please review the feedback and resubmit.","driver.verification.approvedMessage":"Congratulations! Your driver verification has been approved. You can now start accepting passengers.","driver.verification.vehicleTypes.bus":"Bus","driver.verification.vehicleTypes.microbus":"Microbus","driver.verification.vehicleTypes.taxi":"Taxi","driver.verification.vehicleTypes.private_car":"Private Car","driver.verification.vehicleTypes.motorcycle":"Motorcycle","driver.verification.vehicleTypes.truck":"Truck","common.saving":"Saving...","merchant.title":"Merchant Dashboard","merchant.business":"Business Information","merchant.businessName":"Business Name","merchant.businessCategory":"Category","merchant.generateQR":"Generate Payment QR","merchant.qrAmount":"Payment Amount","admin.title":"Admin Dashboard","admin.userManagement":"User Management","admin.systemAnalytics":"System Analytics","admin.totalUsers":"Total Users","admin.totalTransactions":"Total Transactions","admin.totalRevenue":"Total Revenue","admin.disputes":"Disputes","app.name":"Tickets","app.subtitle":"Digital Wallet & Payment System","app.welcome":"Welcome to Tickets","app.description":"Your digital wallet for seamless payments, event tickets, and transportation in Syria.","onboard.welcome":"Welcome to Tickets!","onboard.step1.title":"Digital Wallet","onboard.step1.desc":"Securely store and manage your money digitally","onboard.step2.title":"QR Payments","onboard.step2.desc":"Pay for transportation and purchases instantly","onboard.step3.title":"Event Tickets","onboard.step3.desc":"Buy and manage event tickets digitally","onboard.getStarted":"Get Started","onboard.skip":"Skip Tour"},ar:{"common.loading":"جارٍ التحميل...","common.error":"حدث خطأ","common.success":"نجح","common.cancel":"إلغاء","common.confirm":"تأكيد","common.save":"حفظ","common.edit":"تعديل","common.delete":"حذف","common.back":"رجوع","common.next":"التالي","common.previous":"السابق","common.search":"بحث","common.filter":"تصفية","common.amount":"المبلغ","common.date":"التاريخ","common.status":"الحالة","common.description":"الوصف","common.balance":"الرصيد","common.currency":"ل.س","auth.login":"تسجيل الدخول","auth.register":"إنشاء حساب","auth.logout":"تسجيل الخروج","auth.email":"البريد الإلكتروني","auth.password":"كلمة المرور","auth.confirmPassword":"تأكيد كلمة المرور","auth.fullName":"الاسم الكامل","auth.phoneNumber":"رقم الهاتف","auth.forgotPassword":"نسيت كلمة المرور؟","auth.dontHaveAccount":"ليس لديك حساب؟","auth.alreadyHaveAccount":"لديك حساب بالفعل؟","auth.signUp":"إنشاء حساب","auth.signIn":"تسجيل الدخول","auth.role":"أنا","auth.passenger":"راكب","auth.driver":"سائق","auth.merchant":"تاجر","auth.eventAdmin":"منظم فعاليات","auth.accountType":"نوع الحساب","auth.getStartedDescription":"ابدأ مع محفظتك الرقمية في دقائق","auth.fullNamePlaceholder":"اسمك الكامل","auth.emailPlaceholder":"your@email.com","auth.phoneNumberPlaceholder":"XXX XXX XXX","auth.createPasswordPlaceholder":"أنشئ كلمة مرور قوية","auth.confirmPasswordPlaceholder":"أكد كلمة المرور","auth.signInHere":"سجل دخولك هنا","auth.signUpHere":"أنشئ حساباً مجانياً","auth.accessDescription":"ادخل إلى محفظتك الرقمية وأدر مدفوعاتك","auth.enterPasswordPlaceholder":"أدخل كلمة المرور","auth.rememberMe":"تذكرني","common.optional":"اختياري","features.digitalWallet":"الوصول للمحفظة الرقمية","features.qrPayments":"مدفوعات رمز QR","features.eventTickets":"شراء تذاكر الفعاليات","features.transactionHistory":"تاريخ المعاملات","features.driverDashboard":"لوحة تحكم السائق","features.earningsTracking":"تتبع الأرباح","features.qrGeneration":"إنشاء رمز QR","features.tripManagement":"إدارة الرحلات","features.businessDashboard":"لوحة تحكم العمل","features.paymentProcessing":"معالجة المدفوعات","features.analyticsInsights":"التحليلات والرؤى","features.customerManagement":"إدارة العملاء","features.eventCreation":"إنشاء الفعاليات","features.ticketManagement":"إدارة التذاكر","features.attendeeAnalytics":"تحليلات الحضور","features.revenueTracking":"تتبع الإيرادات","registration.personalAccountFeatures":"ميزات الحساب الشخصي","registration.driverAccountFeatures":"ميزات حساب السائق","registration.businessAccountFeatures":"ميزات حساب العمل","registration.eventOrganizerFeatures":"ميزات منظم الفعاليات","registration.whyChooseTickets":"لماذا تختار تذاكر؟","registration.bankGradeSecurity":"أمان وتشفير بمستوى البنوك","registration.instantTransactions":"معاملات فورية وتحديثات في الوقت الفعلي","registration.customerSupport":"دعم عملاء 24/7","registration.lowFees":"رسوم منخفضة وتسعير شفاف","registration.soc2Certified":"معتمد SOC 2","registration.iso27001":"ISO 27001","registration.pciCompliant":"متوافق مع PCI","registration.joinRevolution":"انضم إلى ثورة الدفع الرقمي","registration.backToHome":"عودة إلى الرئيسية","login.welcomeBack":"مرحباً بعودتك","login.secure":"آمن","login.encrypted":"مشفر","login.private":"خاص","nav.dashboard":"لوحة التحكم","nav.wallet":"المحفظة","nav.transactions":"المعاملات","nav.scanner":"ماسح QR","nav.events":"الفعاليات","nav.tickets":"تذاكري","nav.earnings":"الأرباح","nav.trips":"الرحلات","nav.verification":"التوثيق","nav.qrcode":"رمز QR","nav.business":"العمل","nav.management":"الإدارة","nav.analytics":"التحليلات","nav.users":"المستخدمون","nav.disputes":"النزاعات","nav.verificationReview":"توثيق السائقين","nav.support":"الدعم","nav.settings":"الإعدادات","nav.profile":"الملف الشخصي","wallet.title":"المحفظة الرقمية","wallet.balance":"الرصيد الحالي","wallet.recharge":"شحن المحفظة","wallet.rechargeAmount":"مبلغ الشحن","wallet.paymentMethod":"طريقة الدفع","wallet.mtnCash":"إم تي إن كاش","wallet.syriatelCash":"سيرياتيل كاش","wallet.shamCash":"شام كاش","wallet.fatora":"فاتورة","wallet.stripe":"بطاقة ائتمانية","wallet.rechargeSuccess":"تم شحن المحفظة بنجاح","wallet.insufficientBalance":"رصيد غير كافٍ","transactions.title":"سجل المعاملات","transactions.recent":"المعاملات الأخيرة","transactions.payment":"دفع","transactions.recharge":"شحن","transactions.refund":"استرداد","transactions.withdrawal":"سحب","transactions.pending":"معلق","transactions.completed":"مكتمل","transactions.failed":"فاشل","transactions.cancelled":"ملغى","transactions.to":"إلى","transactions.from":"من","scanner.title":"ماسح رمز QR","scanner.scanToPayDriver":"امسح رمز السائق للدفع","scanner.scanToPayMerchant":"امسح رمز التاجر للدفع","scanner.scanning":"جارٍ المسح...","scanner.paymentSuccess":"تم الدفع بنجاح","scanner.paymentFailed":"فشل الدفع","scanner.quantity":"عدد التذاكر","events.title":"الفعاليات","events.upcoming":"الفعاليات القادمة","events.myEvents":"فعالياتي","events.createEvent":"إنشاء فعالية","events.eventTitle":"عنوان الفعالية","events.eventDescription":"وصف الفعالية","events.eventLocation":"المكان","events.eventDate":"التاريخ","events.eventPrice":"سعر التذكرة","events.availableTickets":"التذاكر المتاحة","events.buyTicket":"شراء تذكرة","events.ticketPurchased":"تم شراء التذكرة بنجاح","driver.title":"لوحة تحكم السائق","driver.earnings":"الأرباح","driver.todayEarnings":"أرباح اليوم","driver.weekEarnings":"أرباح الأسبوع","driver.monthEarnings":"أرباح الشهر","driver.generateQR":"إنشاء رمز QR","driver.activeTrip":"الرحلة النشطة","driver.startTrip":"بدء الرحلة","driver.endTrip":"إنهاء الرحلة","driver.route":"المسار","driver.ticketFee":"أجرة التذكرة","driver.passengerCount":"الركاب","driver.analytics":"تحليلات السائق","driver.performance":"الأداء","driver.efficiency":"الكفاءة","driver.monthlyComparison":"مقارنة شهرية","driver.hourlyPerformance":"الأداء بالساعة","driver.locationPerformance":"أداء المواقع","driver.ratingDistribution":"توزيع التقييمات","driver.performanceMetrics":"مقاييس الأداء","driver.earningsBreakdown":"تفصيل الأرباح","driver.todaySnapshot":"لقطة اليوم","driver.exportAnalytics":"تصدير التحليلات","driver.earningsTrend":"اتجاه الأرباح","driver.dailyAverage":"المعدل اليومي","driver.weeklyAverage":"المعدل الأسبوعي","driver.monthlyAverage":"المعدل الشهري","driver.totalNetEarnings":"إجمالي الأرباح الصافية","driver.averagePerTrip":"المعدل لكل رحلة","driver.totalDistance":"إجمالي المسافة","driver.totalDuration":"إجمالي المدة","driver.earningsPerHour":"الأرباح لكل ساعة","driver.earningsPerKm":"الأرباح لكل كيلومتر","driver.cancellationRate":"معدل الإلغاء","driver.overallRating":"التقييم العام","driver.efficiencyRating":"تقييم الكفاءة","driver.excellent":"ممتاز","driver.verification.title":"توثيق السائق","driver.verification.description":"أكمل توثيق السائق لتبدأ الربح مع تذاكر","driver.verification.status.title":"حالة التوثيق","driver.verification.status.not_submitted":"لم يتم التقديم","driver.verification.status.pending":"قيد المراجعة","driver.verification.status.approved":"موافق عليه","driver.verification.status.rejected":"مرفوض","driver.verification.progress":"التقدم","driver.verification.driverInfo":"معلومات السائق","driver.verification.driverInfoDesc":"قدم تفاصيل السائق والمركبة","driver.verification.licenseNumber":"رقم رخصة القيادة","driver.verification.licenseNumberPlaceholder":"أدخل رقم رخصة القيادة","driver.verification.licenseExpiry":"تاريخ انتهاء الرخصة","driver.verification.vehicleType":"نوع المركبة","driver.verification.selectVehicleType":"اختر نوع المركبة","driver.verification.vehicleModel":"موديل المركبة","driver.verification.vehicleModelPlaceholder":"مثال: تويوتا هايس 2020","driver.verification.vehiclePlate":"رقم لوحة المركبة","driver.verification.vehiclePlatePlaceholder":"مثال: 123456 دمشق","driver.verification.routeName":"اسم المسار","driver.verification.routeNamePlaceholder":"مثال: دمشق-حلب","driver.verification.routeDescription":"وصف المسار","driver.verification.routeDescriptionPlaceholder":"اصف مساراتك ومحطاتك المعتادة","driver.verification.documents":"الوثائق المطلوبة","driver.verification.documentsDesc":"ارفع صور واضحة أو مسح ضوئي لوثائقك","driver.verification.documentTypes.license_front":"رخصة القيادة (الوجه الأمامي)","driver.verification.documentTypes.license_back":"رخصة القيادة (الوجه الخلفي)","driver.verification.documentTypes.vehicle_registration":"تسجيل المركبة","driver.verification.documentTypes.vehicle_photo":"صورة المركبة","driver.verification.viewDocument":"عرض الوثيقة","driver.verification.submit":"تقديم للمراجعة","driver.verification.invalidFileType":"يرجى رفع ملفات صور (JPG, PNG) أو PDF فقط","driver.verification.fileTooLarge":"يجب أن يكون حجم الملف أقل من 5 ميجابايت","driver.verification.documentUploaded":"تم رفع الوثيقة بنجاح","driver.verification.uploadFailed":"فشل في رفع الوثيقة. يرجى المحاولة مرة أخرى.","driver.verification.fillRequired":"يرجى ملء جميع الحقول المطلوبة","driver.verification.uploadAllDocuments":"يرجى رفع جميع الوثائق المطلوبة","driver.verification.submitted":"تم تقديم التوثيق بنجاح! سيتم إشعارك عند المراجعة.","driver.verification.rejectedMessage":"تم رفض توثيقك. يرجى مراجعة الملاحظات وإعادة التقديم.","driver.verification.approvedMessage":"تهانينا! تم الموافقة على توثيق السائق. يمكنك الآن البدء في قبول الركاب.","driver.verification.vehicleTypes.bus":"باص","driver.verification.vehicleTypes.microbus":"ميكروباص","driver.verification.vehicleTypes.taxi":"تاكسي","driver.verification.vehicleTypes.private_car":"سيارة خاصة","driver.verification.vehicleTypes.motorcycle":"دراجة نارية","driver.verification.vehicleTypes.truck":"شاحنة","common.saving":"جارٍ الحفظ...","merchant.title":"لوحة تحكم التاجر","merchant.business":"معلومات العمل","merchant.businessName":"اسم العمل","merchant.businessCategory":"الفئة","merchant.generateQR":"إنشاء رمز دفع QR","merchant.qrAmount":"مبلغ الدفع","admin.title":"لوحة تحكم المدير","admin.userManagement":"إدارة المستخدمين","admin.systemAnalytics":"تحليلات النظام","admin.totalUsers":"إجمالي المستخدمين","admin.totalTransactions":"إجمالي المعاملات","admin.totalRevenue":"إجمالي الإيرادات","admin.disputes":"النزاعات","app.name":"تذاكر","app.subtitle":"محفظة رقمية ونظام دفع","app.welcome":"مرحباً بك في تذاكر","app.description":"محفظتك الرقمية للمدفوعات السلسة وتذاكر الفعاليات والنقل في سوريا.","onboard.welcome":"مرحباً بك في تذاكر!","onboard.step1.title":"محفظة رقمية","onboard.step1.desc":"احفظ وأدر أموالك رقمياً بأمان","onboard.step2.title":"دفع بـ QR","onboard.step2.desc":"ادفع للنقل والمشتريات فوراً","onboard.step3.title":"تذاكر الفعاليات","onboard.step3.desc":"اشترِ وأدر تذاكر الفعاليات رقمياً","onboard.getStarted":"ابدأ الآن","onboard.skip":"تخطي الجولة"}},$8=N.createContext(void 0);function KY({children:e}){const[t,n]=N.useState("en");N.useEffect(()=>{const s=localStorage.getItem("language");s&&["en","ar"].includes(s)&&n(s)},[]),N.useEffect(()=>{localStorage.setItem("language",t),document.documentElement.lang=t,document.documentElement.dir=t==="ar"?"rtl":"ltr"},[t]);const i={language:t,setLanguage:n,t:(s,l)=>{let d=GY[t][s]||s;return l&&Object.entries(l).forEach(([m,h])=>{d=d.replace(`{{${m}}}`,h)}),d},isRTL:t==="ar"};return a.jsx($8.Provider,{value:i,children:e})}function Yt(){const e=N.useContext($8);if(e===void 0)throw new Error("useLanguage must be used within a LanguageProvider");return e}const H8=N.createContext(void 0);function XY({children:e}){const[t,n]=N.useState("system"),[r,i]=N.useState(!1),{profile:s,updateProfile:l}=cn();N.useEffect(()=>{(()=>{if(s!=null&&s.theme_preference)n(s.theme_preference);else{const p=localStorage.getItem("tickets_theme");p&&["light","dark","system"].includes(p)&&n(p)}})()},[s]),N.useEffect(()=>{const h=()=>{if(t==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)").matches;i(p)}else i(t==="dark")};if(h(),t==="system"){const p=window.matchMedia("(prefers-color-scheme: dark)"),v=()=>h();return p.addEventListener("change",v),()=>p.removeEventListener("change",v)}},[t]),N.useEffect(()=>{const h=document.documentElement;r?h.classList.add("dark"):h.classList.remove("dark")},[r]);const m={theme:t,setTheme:async h=>{if(n(h),localStorage.setItem("tickets_theme",h),s)try{await l({theme_preference:h})}catch(p){console.error("Failed to update theme preference:",p)}},isDark:r};return a.jsx(H8.Provider,{value:m,children:e})}function QY(){const e=N.useContext(H8);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hO="popstate";function ZY(e={}){function t(r,i){let{pathname:s,search:l,hash:d}=r.location;return sS("",{pathname:s,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:b0(i)}return eW(t,n,null,e)}function ar(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ms(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JY(){return Math.random().toString(36).substring(2,10)}function mO(e,t){return{usr:e.state,key:e.key,idx:t}}function sS(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?jh(t):t,state:n,key:t&&t.key||r||JY()}}function b0({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function eW(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,d="POP",m=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function v(){d="POP";let C=p(),M=C==null?null:C-h;h=C,m&&m({action:d,location:_.location,delta:M})}function S(C,M){d="PUSH";let P=sS(_.location,C,M);h=p()+1;let R=mO(P,h),U=_.createHref(P);try{l.pushState(R,"",U)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;i.location.assign(U)}s&&m&&m({action:d,location:_.location,delta:1})}function A(C,M){d="REPLACE";let P=sS(_.location,C,M);h=p();let R=mO(P,h),U=_.createHref(P);l.replaceState(R,"",U),s&&m&&m({action:d,location:_.location,delta:0})}function T(C){return tW(C)}let _={get action(){return d},get location(){return e(i,l)},listen(C){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(hO,v),m=C,()=>{i.removeEventListener(hO,v),m=null}},createHref(C){return t(i,C)},createURL:T,encodeLocation(C){let M=T(C);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:S,replace:A,go(C){return l.go(C)}};return _}function tW(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ar(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:b0(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function q8(e,t,n="/"){return nW(e,t,n,!1)}function nW(e,t,n,r){let i=typeof t=="string"?jh(t):t,s=Pl(i.pathname||"/",n);if(s==null)return null;let l=Y8(e);rW(l);let d=null;for(let m=0;d==null&&m<l.length;++m){let h=mW(s);d=fW(l[m],h,r)}return d}function Y8(e,t=[],n=[],r=""){let i=(s,l,d)=>{let m={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};m.relativePath.startsWith("/")&&(ar(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let h=Tl([r,m.relativePath]),p=n.concat(m);s.children&&s.children.length>0&&(ar(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),Y8(s.children,t,p,h)),!(s.path==null&&!s.index)&&t.push({path:h,score:uW(h,s.index),routesMeta:p})};return e.forEach((s,l)=>{var d;if(s.path===""||!((d=s.path)!=null&&d.includes("?")))i(s,l);else for(let m of W8(s.path))i(s,l,m)}),t}function W8(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=W8(r.join("/")),d=[];return d.push(...l.map(m=>m===""?s:[s,m].join("/"))),i&&d.push(...l),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function rW(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:dW(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var iW=/^:[\w-]+$/,aW=3,sW=2,oW=1,lW=10,cW=-2,gO=e=>e==="*";function uW(e,t){let n=e.split("/"),r=n.length;return n.some(gO)&&(r+=cW),t&&(r+=sW),n.filter(i=>!gO(i)).reduce((i,s)=>i+(iW.test(s)?aW:s===""?oW:lW),r)}function dW(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function fW(e,t,n=!1){let{routesMeta:r}=e,i={},s="/",l=[];for(let d=0;d<r.length;++d){let m=r[d],h=d===r.length-1,p=s==="/"?t:t.slice(s.length)||"/",v=Px({path:m.relativePath,caseSensitive:m.caseSensitive,end:h},p),S=m.route;if(!v&&h&&n&&!r[r.length-1].route.index&&(v=Px({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},p)),!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Tl([s,v.pathname]),pathnameBase:vW(Tl([s,v.pathnameBase])),route:S}),v.pathnameBase!=="/"&&(s=Tl([s,v.pathnameBase]))}return l}function Px(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=hW(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((h,{paramName:p,isOptional:v},S)=>{if(p==="*"){let T=d[S]||"";l=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const A=d[S];return v&&!A?h[p]=void 0:h[p]=(A||"").replace(/%2F/g,"/"),h},{}),pathname:s,pathnameBase:l,pattern:e}}function hW(e,t=!1,n=!0){Ms(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function mW(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ms(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function gW(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?jh(e):e;return{pathname:n?n.startsWith("/")?n:pW(n,t):t,search:yW(r),hash:bW(i)}}function pW(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function mw(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function xW(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function iA(e){let t=xW(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function aA(e,t,n,r=!1){let i;typeof e=="string"?i=jh(e):(i={...e},ar(!i.pathname||!i.pathname.includes("?"),mw("?","pathname","search",i)),ar(!i.pathname||!i.pathname.includes("#"),mw("#","pathname","hash",i)),ar(!i.search||!i.search.includes("#"),mw("#","search","hash",i)));let s=e===""||i.pathname==="",l=s?"/":i.pathname,d;if(l==null)d=n;else{let v=t.length-1;if(!r&&l.startsWith("..")){let S=l.split("/");for(;S[0]==="..";)S.shift(),v-=1;i.pathname=S.join("/")}d=v>=0?t[v]:"/"}let m=gW(i,d),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!m.pathname.endsWith("/")&&(h||p)&&(m.pathname+="/"),m}var Tl=e=>e.join("/").replace(/\/\/+/g,"/"),vW=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yW=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bW=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function wW(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var G8=["POST","PUT","PATCH","DELETE"];new Set(G8);var jW=["GET",...G8];new Set(jW);var Sh=N.createContext(null);Sh.displayName="DataRouter";var Uv=N.createContext(null);Uv.displayName="DataRouterState";N.createContext(!1);var K8=N.createContext({isTransitioning:!1});K8.displayName="ViewTransition";var SW=N.createContext(new Map);SW.displayName="Fetchers";var NW=N.createContext(null);NW.displayName="Await";var so=N.createContext(null);so.displayName="Navigation";var X0=N.createContext(null);X0.displayName="Location";var Ko=N.createContext({outlet:null,matches:[],isDataRoute:!1});Ko.displayName="Route";var sA=N.createContext(null);sA.displayName="RouteError";function AW(e,{relative:t}={}){ar(Nh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(so),{hash:i,pathname:s,search:l}=Q0(e,{relative:t}),d=s;return n!=="/"&&(d=s==="/"?n:Tl([n,s])),r.createHref({pathname:d,search:l,hash:i})}function Nh(){return N.useContext(X0)!=null}function Xo(){return ar(Nh(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(X0).location}var X8="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q8(e){N.useContext(so).static||N.useLayoutEffect(e)}function Yl(){let{isDataRoute:e}=N.useContext(Ko);return e?BW():EW()}function EW(){ar(Nh(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Sh),{basename:t,navigator:n}=N.useContext(so),{matches:r}=N.useContext(Ko),{pathname:i}=Xo(),s=JSON.stringify(iA(r)),l=N.useRef(!1);return Q8(()=>{l.current=!0}),N.useCallback((m,h={})=>{if(Ms(l.current,X8),!l.current)return;if(typeof m=="number"){n.go(m);return}let p=aA(m,JSON.parse(s),i,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Tl([t,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[t,n,s,i,e])}N.createContext(null);function Q0(e,{relative:t}={}){let{matches:n}=N.useContext(Ko),{pathname:r}=Xo(),i=JSON.stringify(iA(n));return N.useMemo(()=>aA(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function _W(e,t){return Z8(e,t)}function Z8(e,t,n,r){var M;ar(Nh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=N.useContext(so),{matches:s}=N.useContext(Ko),l=s[s.length-1],d=l?l.params:{},m=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";J8(m,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let v=Xo(),S;if(t){let P=typeof t=="string"?jh(t):t;ar(h==="/"||((M=P.pathname)==null?void 0:M.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),S=P}else S=v;let A=S.pathname||"/",T=A;if(h!=="/"){let P=h.replace(/^\//,"").split("/");T="/"+A.replace(/^\//,"").split("/").slice(P.length).join("/")}let _=q8(e,{pathname:T});Ms(p||_!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ms(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=DW(_&&_.map(P=>Object.assign({},P,{params:Object.assign({},d,P.params),pathname:Tl([h,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:Tl([h,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return t&&C?N.createElement(X0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},C):C}function CW(){let e=LW(),t=wW(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,l)}var TW=N.createElement(CW,null),OW=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(Ko.Provider,{value:this.props.routeContext},N.createElement(sA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function MW({routeContext:e,match:t,children:n}){let r=N.useContext(Sh);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(Ko.Provider,{value:e},n)}function DW(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,s=n==null?void 0:n.errors;if(s!=null){let m=i.findIndex(h=>h.route.id&&(s==null?void 0:s[h.route.id])!==void 0);ar(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let l=!1,d=-1;if(n)for(let m=0;m<i.length;m++){let h=i[m];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=m),h.route.id){let{loaderData:p,errors:v}=n,S=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||S){l=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((m,h,p)=>{let v,S=!1,A=null,T=null;n&&(v=s&&h.route.id?s[h.route.id]:void 0,A=h.route.errorElement||TW,l&&(d<0&&p===0?(J8("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,T=null):d===p&&(S=!0,T=h.route.hydrateFallbackElement||null)));let _=t.concat(i.slice(0,p+1)),C=()=>{let M;return v?M=A:S?M=T:h.route.Component?M=N.createElement(h.route.Component,null):h.route.element?M=h.route.element:M=m,N.createElement(MW,{match:h,routeContext:{outlet:m,matches:_,isDataRoute:n!=null},children:M})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?N.createElement(OW,{location:n.location,revalidation:n.revalidation,component:A,error:v,children:C(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):C()},null)}function oA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function RW(e){let t=N.useContext(Sh);return ar(t,oA(e)),t}function PW(e){let t=N.useContext(Uv);return ar(t,oA(e)),t}function IW(e){let t=N.useContext(Ko);return ar(t,oA(e)),t}function lA(e){let t=IW(e),n=t.matches[t.matches.length-1];return ar(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function kW(){return lA("useRouteId")}function LW(){var r;let e=N.useContext(sA),t=PW("useRouteError"),n=lA("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function BW(){let{router:e}=RW("useNavigate"),t=lA("useNavigate"),n=N.useRef(!1);return Q8(()=>{n.current=!0}),N.useCallback(async(i,s={})=>{Ms(n.current,X8),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...s}))},[e,t])}var pO={};function J8(e,t,n){!t&&!pO[e]&&(pO[e]=!0,Ms(!1,n))}N.memo(FW);function FW({routes:e,future:t,state:n}){return Z8(e,void 0,n,t)}function Il({to:e,replace:t,state:n,relative:r}){ar(Nh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=N.useContext(so);Ms(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=N.useContext(Ko),{pathname:l}=Xo(),d=Yl(),m=aA(e,iA(s),l,r==="path"),h=JSON.stringify(m);return N.useEffect(()=>{d(JSON.parse(h),{replace:t,state:n,relative:r})},[d,h,r,t,n]),null}function St(e){ar(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function UW({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:s=!1}){ar(!Nh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof n=="string"&&(n=jh(n));let{pathname:m="/",search:h="",hash:p="",state:v=null,key:S="default"}=n,A=N.useMemo(()=>{let T=Pl(m,l);return T==null?null:{location:{pathname:T,search:h,hash:p,state:v,key:S},navigationType:r}},[l,m,h,p,v,S,r]);return Ms(A!=null,`<Router basename="${l}"> is not able to match the URL "${m}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:N.createElement(so.Provider,{value:d},N.createElement(X0.Provider,{children:t,value:A}))}function Ah({children:e,location:t}){return _W(oS(e),t)}function oS(e,t=[]){let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let s=[...t,i];if(r.type===N.Fragment){n.push.apply(n,oS(r.props.children,s));return}ar(r.type===St,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ar(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=oS(r.props.children,s)),n.push(l)}),n}var bx="get",wx="application/x-www-form-urlencoded";function zv(e){return e!=null&&typeof e.tagName=="string"}function zW(e){return zv(e)&&e.tagName.toLowerCase()==="button"}function VW(e){return zv(e)&&e.tagName.toLowerCase()==="form"}function $W(e){return zv(e)&&e.tagName.toLowerCase()==="input"}function HW(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qW(e,t){return e.button===0&&(!t||t==="_self")&&!HW(e)}function lS(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function YW(e,t){let n=lS(e);return t&&t.forEach((r,i)=>{n.has(i)||t.getAll(i).forEach(s=>{n.append(i,s)})}),n}var Vp=null;function WW(){if(Vp===null)try{new FormData(document.createElement("form"),0),Vp=!1}catch{Vp=!0}return Vp}var GW=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gw(e){return e!=null&&!GW.has(e)?(Ms(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wx}"`),null):e}function KW(e,t){let n,r,i,s,l;if(VW(e)){let d=e.getAttribute("action");r=d?Pl(d,t):null,n=e.getAttribute("method")||bx,i=gw(e.getAttribute("enctype"))||wx,s=new FormData(e)}else if(zW(e)||$W(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(r=m?Pl(m,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||bx,i=gw(e.getAttribute("formenctype"))||gw(d.getAttribute("enctype"))||wx,s=new FormData(d,e),!WW()){let{name:h,type:p,value:v}=e;if(p==="image"){let S=h?`${h}.`:"";s.append(`${S}x`,"0"),s.append(`${S}y`,"0")}else h&&s.append(h,v)}}else{if(zv(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=bx,r=null,i=wx,l=e}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cA(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XW(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Pl(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function QW(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ZW(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function JW(e,t,n){let r=await Promise.all(e.map(async i=>{let s=t.routes[i.route.id];if(s){let l=await QW(s,n);return l.links?l.links():[]}return[]}));return rG(r.flat(1).filter(ZW).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function xO(e,t,n,r,i,s){let l=(m,h)=>n[h]?m.route.id!==n[h].route.id:!0,d=(m,h)=>{var p;return n[h].pathname!==m.pathname||((p=n[h].route.path)==null?void 0:p.endsWith("*"))&&n[h].params["*"]!==m.params["*"]};return s==="assets"?t.filter((m,h)=>l(m,h)||d(m,h)):s==="data"?t.filter((m,h)=>{var v;let p=r.routes[m.route.id];if(!p||!p.hasLoader)return!1;if(l(m,h)||d(m,h))return!0;if(m.route.shouldRevalidate){let S=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function eG(e,t,{includeHydrateFallback:n}={}){return tG(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let s=[i.module];return i.clientActionModule&&(s=s.concat(i.clientActionModule)),i.clientLoaderModule&&(s=s.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(s=s.concat(i.hydrateFallbackModule)),i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function tG(e){return[...new Set(e)]}function nG(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function rG(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let s=JSON.stringify(nG(i));return n.has(s)||(n.add(s),r.push({key:s,link:i})),r},[])}function e6(){let e=N.useContext(Sh);return cA(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function iG(){let e=N.useContext(Uv);return cA(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var uA=N.createContext(void 0);uA.displayName="FrameworkContext";function t6(){let e=N.useContext(uA);return cA(e,"You must render this element inside a <HydratedRouter> element"),e}function aG(e,t){let n=N.useContext(uA),[r,i]=N.useState(!1),[s,l]=N.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:h,onMouseLeave:p,onTouchStart:v}=t,S=N.useRef(null);N.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let _=M=>{M.forEach(P=>{l(P.isIntersecting)})},C=new IntersectionObserver(_,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[e]),N.useEffect(()=>{if(r){let _=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(_)}}},[r]);let A=()=>{i(!0)},T=()=>{i(!1),l(!1)};return n?e!=="intent"?[s,S,{}]:[s,S,{onFocus:Fm(d,A),onBlur:Fm(m,T),onMouseEnter:Fm(h,A),onMouseLeave:Fm(p,T),onTouchStart:Fm(v,A)}]:[!1,S,{}]}function Fm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function sG({page:e,...t}){let{router:n}=e6(),r=N.useMemo(()=>q8(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(lG,{page:e,matches:r,...t}):null}function oG(e){let{manifest:t,routeModules:n}=t6(),[r,i]=N.useState([]);return N.useEffect(()=>{let s=!1;return JW(e,t,n).then(l=>{s||i(l)}),()=>{s=!0}},[e,t,n]),r}function lG({page:e,matches:t,...n}){let r=Xo(),{manifest:i,routeModules:s}=t6(),{basename:l}=e6(),{loaderData:d,matches:m}=iG(),h=N.useMemo(()=>xO(e,t,m,i,r,"data"),[e,t,m,i,r]),p=N.useMemo(()=>xO(e,t,m,i,r,"assets"),[e,t,m,i,r]),v=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let T=new Set,_=!1;if(t.forEach(M=>{var R;let P=i.routes[M.route.id];!P||!P.hasLoader||(!h.some(U=>U.route.id===M.route.id)&&M.route.id in d&&((R=s[M.route.id])!=null&&R.shouldRevalidate)||P.hasClientLoader?_=!0:T.add(M.route.id))}),T.size===0)return[];let C=XW(e,l,"data");return _&&T.size>0&&C.searchParams.set("_routes",t.filter(M=>T.has(M.route.id)).map(M=>M.route.id).join(",")),[C.pathname+C.search]},[l,d,r,i,h,t,e,s]),S=N.useMemo(()=>eG(p,i),[p,i]),A=oG(p);return N.createElement(N.Fragment,null,v.map(T=>N.createElement("link",{key:T,rel:"prefetch",as:"fetch",href:T,...n})),S.map(T=>N.createElement("link",{key:T,rel:"modulepreload",href:T,...n})),A.map(({key:T,link:_})=>N.createElement("link",{key:T,..._})))}function cG(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var n6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{n6&&(window.__reactRouterVersion="7.7.1")}catch{}function uG({basename:e,children:t,window:n}){let r=N.useRef();r.current==null&&(r.current=ZY({window:n,v5Compat:!0}));let i=r.current,[s,l]=N.useState({action:i.action,location:i.location}),d=N.useCallback(m=>{N.startTransition(()=>l(m))},[l]);return N.useLayoutEffect(()=>i.listen(d),[i,d]),N.createElement(UW,{basename:e,children:t,location:s.location,navigationType:s.action,navigator:i})}var r6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:d,target:m,to:h,preventScrollReset:p,viewTransition:v,...S},A){let{basename:T}=N.useContext(so),_=typeof h=="string"&&r6.test(h),C,M=!1;if(typeof h=="string"&&_&&(C=h,n6))try{let z=new URL(window.location.href),H=h.startsWith("//")?new URL(z.protocol+h):new URL(h),W=Pl(H.pathname,T);H.origin===z.origin&&W!=null?h=W+H.search+H.hash:M=!0}catch{Ms(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=AW(h,{relative:i}),[R,U,B]=aG(r,S),L=mG(h,{replace:l,state:d,target:m,preventScrollReset:p,relative:i,viewTransition:v});function F(z){t&&t(z),z.defaultPrevented||L(z)}let V=N.createElement("a",{...S,...B,href:C||P,onClick:M||s?t:F,ref:cG(A,U),target:m,"data-discover":!_&&n==="render"?"true":void 0});return R&&!_?N.createElement(N.Fragment,null,V,N.createElement(sG,{page:P})):V});Vt.displayName="Link";var dG=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:d,children:m,...h},p){let v=Q0(l,{relative:h.relative}),S=Xo(),A=N.useContext(Uv),{navigator:T,basename:_}=N.useContext(so),C=A!=null&&yG(v)&&d===!0,M=T.encodeLocation?T.encodeLocation(v).pathname:v.pathname,P=S.pathname,R=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;n||(P=P.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase()),R&&_&&(R=Pl(R,_)||R);const U=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let B=P===M||!i&&P.startsWith(M)&&P.charAt(U)==="/",L=R!=null&&(R===M||!i&&R.startsWith(M)&&R.charAt(M.length)==="/"),F={isActive:B,isPending:L,isTransitioning:C},V=B?t:void 0,z;typeof r=="function"?z=r(F):z=[r,B?"active":null,L?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof s=="function"?s(F):s;return N.createElement(Vt,{...h,"aria-current":V,className:z,ref:p,style:H,to:l,viewTransition:d},typeof m=="function"?m(F):m)});dG.displayName="NavLink";var fG=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:s,method:l=bx,action:d,onSubmit:m,relative:h,preventScrollReset:p,viewTransition:v,...S},A)=>{let T=xG(),_=vG(d,{relative:h}),C=l.toLowerCase()==="get"?"get":"post",M=typeof d=="string"&&r6.test(d),P=R=>{if(m&&m(R),R.defaultPrevented)return;R.preventDefault();let U=R.nativeEvent.submitter,B=(U==null?void 0:U.getAttribute("formmethod"))||l;T(U||R.currentTarget,{fetcherKey:t,method:B,navigate:n,replace:i,state:s,relative:h,preventScrollReset:p,viewTransition:v})};return N.createElement("form",{ref:A,method:C,action:_,onSubmit:r?m:P,...S,"data-discover":!M&&e==="render"?"true":void 0})});fG.displayName="Form";function hG(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i6(e){let t=N.useContext(Sh);return ar(t,hG(e)),t}function mG(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let d=Yl(),m=Xo(),h=Q0(e,{relative:s});return N.useCallback(p=>{if(qW(p,t)){p.preventDefault();let v=n!==void 0?n:b0(m)===b0(h);d(e,{replace:v,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[m,d,h,n,r,t,e,i,s,l])}function a6(e){Ms(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=N.useRef(lS(e)),n=N.useRef(!1),r=Xo(),i=N.useMemo(()=>YW(r.search,n.current?null:t.current),[r.search]),s=Yl(),l=N.useCallback((d,m)=>{const h=lS(typeof d=="function"?d(new URLSearchParams(i)):d);n.current=!0,s("?"+h,m)},[s,i]);return[i,l]}var gG=0,pG=()=>`__${String(++gG)}__`;function xG(){let{router:e}=i6("useSubmit"),{basename:t}=N.useContext(so),n=kW();return N.useCallback(async(r,i={})=>{let{action:s,method:l,encType:d,formData:m,body:h}=KW(r,t);if(i.navigate===!1){let p=i.fetcherKey||pG();await e.fetch(p,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||l,formEncType:i.encType||d,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:m,body:h,formMethod:i.method||l,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function vG(e,{relative:t}={}){let{basename:n}=N.useContext(so),r=N.useContext(Ko);ar(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...Q0(e||".",{relative:t})},l=Xo();if(e==null){s.search=l.search;let d=new URLSearchParams(s.search),m=d.getAll("index");if(m.some(p=>p==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let p=d.toString();s.search=p?`?${p}`:""}}return(!e||e===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(s.pathname=s.pathname==="/"?n:Tl([n,s.pathname])),b0(s)}function yG(e,{relative:t}={}){let n=N.useContext(K8);ar(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=i6("useViewTransitionState"),i=Q0(e,{relative:t});if(!n.isTransitioning)return!1;let s=Pl(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Pl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Px(i.pathname,l)!=null||Px(i.pathname,s)!=null}var Ed=j8();const s6=Ia(Ed),dA=N.createContext({});function fA(e){const t=N.useRef(null);return t.current===null&&(t.current=e()),t.current}const hA=typeof window<"u",o6=hA?N.useLayoutEffect:N.useEffect,Vv=N.createContext(null);function mA(e,t){e.indexOf(t)===-1&&e.push(t)}function gA(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const kl=(e,t,n)=>n>t?t:n<e?e:n;let pA=()=>{};const Ll={},l6=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function c6(e){return typeof e=="object"&&e!==null}const u6=e=>/^0[^.\s]+$/u.test(e);function xA(e){let t;return()=>(t===void 0&&(t=e()),t)}const _s=e=>e,bG=(e,t)=>n=>t(e(n)),Z0=(...e)=>e.reduce(bG),w0=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class vA{constructor(){this.subscriptions=[]}add(t){return mA(this.subscriptions,t),()=>gA(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const l=this.subscriptions[s];l&&l(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Io=e=>e*1e3,ko=e=>e/1e3;function d6(e,t){return t?e*(1e3/t):0}const f6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,wG=1e-7,jG=12;function SG(e,t,n,r,i){let s,l,d=0;do l=t+(n-t)/2,s=f6(l,r,i)-e,s>0?n=l:t=l;while(Math.abs(s)>wG&&++d<jG);return l}function J0(e,t,n,r){if(e===t&&n===r)return _s;const i=s=>SG(s,0,1,e,n);return s=>s===0||s===1?s:f6(i(s),t,r)}const h6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,m6=e=>t=>1-e(1-t),g6=J0(.33,1.53,.69,.99),yA=m6(g6),p6=h6(yA),x6=e=>(e*=2)<1?.5*yA(e):.5*(2-Math.pow(2,-10*(e-1))),bA=e=>1-Math.sin(Math.acos(e)),v6=m6(bA),y6=h6(bA),NG=J0(.42,0,1,1),AG=J0(0,0,.58,1),b6=J0(.42,0,.58,1),EG=e=>Array.isArray(e)&&typeof e[0]!="number",w6=e=>Array.isArray(e)&&typeof e[0]=="number",_G={linear:_s,easeIn:NG,easeInOut:b6,easeOut:AG,circIn:bA,circInOut:y6,circOut:v6,backIn:yA,backInOut:p6,backOut:g6,anticipate:x6},CG=e=>typeof e=="string",vO=e=>{if(w6(e)){pA(e.length===4);const[t,n,r,i]=e;return J0(t,n,r,i)}else if(CG(e))return _G[e];return e},$p=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function TG(e,t){let n=new Set,r=new Set,i=!1,s=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(p){l.has(p)&&(h.schedule(p),e()),p(d)}const h={schedule:(p,v=!1,S=!1)=>{const T=S&&i?n:r;return v&&l.add(p),T.has(p)||T.add(p),p},cancel:p=>{r.delete(p),l.delete(p)},process:p=>{if(d=p,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(m),n.clear(),i=!1,s&&(s=!1,h.process(p))}};return h}const OG=40;function j6(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,l=$p.reduce((R,U)=>(R[U]=TG(s),R),{}),{setup:d,read:m,resolveKeyframes:h,preUpdate:p,update:v,preRender:S,render:A,postRender:T}=l,_=()=>{const R=Ll.useManualTiming?i.timestamp:performance.now();n=!1,Ll.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(R-i.timestamp,OG),1)),i.timestamp=R,i.isProcessing=!0,d.process(i),m.process(i),h.process(i),p.process(i),v.process(i),S.process(i),A.process(i),T.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(_))},C=()=>{n=!0,r=!0,i.isProcessing||e(_)};return{schedule:$p.reduce((R,U)=>{const B=l[U];return R[U]=(L,F=!1,V=!1)=>(n||C(),B.schedule(L,F,V)),R},{}),cancel:R=>{for(let U=0;U<$p.length;U++)l[$p[U]].cancel(R)},state:i,steps:l}}const{schedule:nr,cancel:Gc,state:Oi,steps:pw}=j6(typeof requestAnimationFrame<"u"?requestAnimationFrame:_s,!0);let jx;function MG(){jx=void 0}const _a={now:()=>(jx===void 0&&_a.set(Oi.isProcessing||Ll.useManualTiming?Oi.timestamp:performance.now()),jx),set:e=>{jx=e,queueMicrotask(MG)}},S6=e=>t=>typeof t=="string"&&t.startsWith(e),wA=S6("--"),DG=S6("var(--"),jA=e=>DG(e)?RG.test(e.split("/*")[0].trim()):!1,RG=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Eh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},j0={...Eh,transform:e=>kl(0,1,e)},Hp={...Eh,default:1},c0=e=>Math.round(e*1e5)/1e5,SA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function PG(e){return e==null}const IG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,NA=(e,t)=>n=>!!(typeof n=="string"&&IG.test(n)&&n.startsWith(e)||t&&!PG(n)&&Object.prototype.hasOwnProperty.call(n,t)),N6=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,l,d]=r.match(SA);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},kG=e=>kl(0,255,e),xw={...Eh,transform:e=>Math.round(kG(e))},Xu={test:NA("rgb","red"),parse:N6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+xw.transform(e)+", "+xw.transform(t)+", "+xw.transform(n)+", "+c0(j0.transform(r))+")"};function LG(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cS={test:NA("#"),parse:LG,transform:Xu.transform},eg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Uc=eg("deg"),Lo=eg("%"),Ot=eg("px"),BG=eg("vh"),FG=eg("vw"),yO={...Lo,parse:e=>Lo.parse(e)/100,transform:e=>Lo.transform(e*100)},$f={test:NA("hsl","hue"),parse:N6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Lo.transform(c0(t))+", "+Lo.transform(c0(n))+", "+c0(j0.transform(r))+")"},Gr={test:e=>Xu.test(e)||cS.test(e)||$f.test(e),parse:e=>Xu.test(e)?Xu.parse(e):$f.test(e)?$f.parse(e):cS.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Xu.transform(e):$f.transform(e),getAnimatableNone:e=>{const t=Gr.parse(e);return t.alpha=0,Gr.transform(t)}},UG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function zG(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(SA))==null?void 0:t.length)||0)+(((n=e.match(UG))==null?void 0:n.length)||0)>0}const A6="number",E6="color",VG="var",$G="var(",bO="${}",HG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function S0(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const d=t.replace(HG,m=>(Gr.test(m)?(r.color.push(s),i.push(E6),n.push(Gr.parse(m))):m.startsWith($G)?(r.var.push(s),i.push(VG),n.push(m)):(r.number.push(s),i.push(A6),n.push(parseFloat(m))),++s,bO)).split(bO);return{values:n,split:d,indexes:r,types:i}}function _6(e){return S0(e).values}function C6(e){const{split:t,types:n}=S0(e),r=t.length;return i=>{let s="";for(let l=0;l<r;l++)if(s+=t[l],i[l]!==void 0){const d=n[l];d===A6?s+=c0(i[l]):d===E6?s+=Gr.transform(i[l]):s+=i[l]}return s}}const qG=e=>typeof e=="number"?0:Gr.test(e)?Gr.getAnimatableNone(e):e;function YG(e){const t=_6(e);return C6(e)(t.map(qG))}const Kc={test:zG,parse:_6,createTransformer:C6,getAnimatableNone:YG};function vw(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function WG({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,l=0;if(!t)i=s=l=n;else{const d=n<.5?n*(1+t):n+t-n*t,m=2*n-d;i=vw(m,d,e+1/3),s=vw(m,d,e),l=vw(m,d,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(l*255),alpha:r}}function Ix(e,t){return n=>n>0?t:e}const gr=(e,t,n)=>e+(t-e)*n,yw=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},GG=[cS,Xu,$f],KG=e=>GG.find(t=>t.test(e));function wO(e){const t=KG(e);if(!t)return!1;let n=t.parse(e);return t===$f&&(n=WG(n)),n}const jO=(e,t)=>{const n=wO(e),r=wO(t);if(!n||!r)return Ix(e,t);const i={...n};return s=>(i.red=yw(n.red,r.red,s),i.green=yw(n.green,r.green,s),i.blue=yw(n.blue,r.blue,s),i.alpha=gr(n.alpha,r.alpha,s),Xu.transform(i))},uS=new Set(["none","hidden"]);function XG(e,t){return uS.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function QG(e,t){return n=>gr(e,t,n)}function AA(e){return typeof e=="number"?QG:typeof e=="string"?jA(e)?Ix:Gr.test(e)?jO:eK:Array.isArray(e)?T6:typeof e=="object"?Gr.test(e)?jO:ZG:Ix}function T6(e,t){const n=[...e],r=n.length,i=e.map((s,l)=>AA(s)(s,t[l]));return s=>{for(let l=0;l<r;l++)n[l]=i[l](s);return n}}function ZG(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=AA(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function JG(e,t){const n=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],l=e.indexes[s][r[s]],d=e.values[l]??0;n[i]=d,r[s]++}return n}const eK=(e,t)=>{const n=Kc.createTransformer(t),r=S0(e),i=S0(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?uS.has(e)&&!i.values.length||uS.has(t)&&!r.values.length?XG(e,t):Z0(T6(JG(r,i),i.values),n):Ix(e,t)};function O6(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?gr(e,t,n):AA(e)(e,t)}const tK=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nr.update(t,n),stop:()=>Gc(t),now:()=>Oi.isProcessing?Oi.timestamp:_a.now()}},M6=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},kx=2e4;function EA(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<kx;)t+=n,r=e.next(t);return t>=kx?1/0:t}function nK(e,t=100,n){const r=n({...e,keyframes:[0,t]}),i=Math.min(EA(r),kx);return{type:"keyframes",ease:s=>r.next(i*s).value/t,duration:ko(i)}}const rK=5;function D6(e,t,n){const r=Math.max(t-rK,0);return d6(n-e(r),t-r)}const Cr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},SO=.001;function iK({duration:e=Cr.duration,bounce:t=Cr.bounce,velocity:n=Cr.velocity,mass:r=Cr.mass}){let i,s,l=1-t;l=kl(Cr.minDamping,Cr.maxDamping,l),e=kl(Cr.minDuration,Cr.maxDuration,ko(e)),l<1?(i=h=>{const p=h*l,v=p*e,S=p-n,A=dS(h,l),T=Math.exp(-v);return SO-S/A*T},s=h=>{const v=h*l*e,S=v*n+n,A=Math.pow(l,2)*Math.pow(h,2)*e,T=Math.exp(-v),_=dS(Math.pow(h,2),l);return(-i(h)+SO>0?-1:1)*((S-A)*T)/_}):(i=h=>{const p=Math.exp(-h*e),v=(h-n)*e+1;return-.001+p*v},s=h=>{const p=Math.exp(-h*e),v=(n-h)*(e*e);return p*v});const d=5/e,m=sK(i,s,d);if(e=Io(e),isNaN(m))return{stiffness:Cr.stiffness,damping:Cr.damping,duration:e};{const h=Math.pow(m,2)*r;return{stiffness:h,damping:l*2*Math.sqrt(r*h),duration:e}}}const aK=12;function sK(e,t,n){let r=n;for(let i=1;i<aK;i++)r=r-e(r)/t(r);return r}function dS(e,t){return e*Math.sqrt(1-t*t)}const oK=["duration","bounce"],lK=["stiffness","damping","mass"];function NO(e,t){return t.some(n=>e[n]!==void 0)}function cK(e){let t={velocity:Cr.velocity,stiffness:Cr.stiffness,damping:Cr.damping,mass:Cr.mass,isResolvedFromDuration:!1,...e};if(!NO(e,lK)&&NO(e,oK))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*kl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Cr.mass,stiffness:i,damping:s}}else{const n=iK(e);t={...t,...n,mass:Cr.mass},t.isResolvedFromDuration=!0}return t}function Lx(e=Cr.visualDuration,t=Cr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],d={done:!1,value:s},{stiffness:m,damping:h,mass:p,duration:v,velocity:S,isResolvedFromDuration:A}=cK({...n,velocity:-ko(n.velocity||0)}),T=S||0,_=h/(2*Math.sqrt(m*p)),C=l-s,M=ko(Math.sqrt(m/p)),P=Math.abs(C)<5;r||(r=P?Cr.restSpeed.granular:Cr.restSpeed.default),i||(i=P?Cr.restDelta.granular:Cr.restDelta.default);let R;if(_<1){const B=dS(M,_);R=L=>{const F=Math.exp(-_*M*L);return l-F*((T+_*M*C)/B*Math.sin(B*L)+C*Math.cos(B*L))}}else if(_===1)R=B=>l-Math.exp(-M*B)*(C+(T+M*C)*B);else{const B=M*Math.sqrt(_*_-1);R=L=>{const F=Math.exp(-_*M*L),V=Math.min(B*L,300);return l-F*((T+_*M*C)*Math.sinh(V)+B*C*Math.cosh(V))/B}}const U={calculatedDuration:A&&v||null,next:B=>{const L=R(B);if(A)d.done=B>=v;else{let F=B===0?T:0;_<1&&(F=B===0?Io(T):D6(R,B,L));const V=Math.abs(F)<=r,z=Math.abs(l-L)<=i;d.done=V&&z}return d.value=d.done?l:L,d},toString:()=>{const B=Math.min(EA(U),kx),L=M6(F=>U.next(B*F).value,B,30);return B+"ms "+L},toTransition:()=>{}};return U}Lx.applyToOptions=e=>{const t=nK(e,100,Lx);return e.ease=t.ease,e.duration=Io(t.duration),e.type="keyframes",e};function fS({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:l,min:d,max:m,restDelta:h=.5,restSpeed:p}){const v=e[0],S={done:!1,value:v},A=V=>d!==void 0&&V<d||m!==void 0&&V>m,T=V=>d===void 0?m:m===void 0||Math.abs(d-V)<Math.abs(m-V)?d:m;let _=n*t;const C=v+_,M=l===void 0?C:l(C);M!==C&&(_=M-v);const P=V=>-_*Math.exp(-V/r),R=V=>M+P(V),U=V=>{const z=P(V),H=R(V);S.done=Math.abs(z)<=h,S.value=S.done?M:H};let B,L;const F=V=>{A(S.value)&&(B=V,L=Lx({keyframes:[S.value,T(S.value)],velocity:D6(R,V,S.value),damping:i,stiffness:s,restDelta:h,restSpeed:p}))};return F(0),{calculatedDuration:null,next:V=>{let z=!1;return!L&&B===void 0&&(z=!0,U(V),F(V)),B!==void 0&&V>=B?L.next(V-B):(!z&&U(V),S)}}}function uK(e,t,n){const r=[],i=n||Ll.mix||O6,s=e.length-1;for(let l=0;l<s;l++){let d=i(e[l],e[l+1]);if(t){const m=Array.isArray(t)?t[l]||_s:t;d=Z0(m,d)}r.push(d)}return r}function dK(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(pA(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const l=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=uK(t,r,i),m=d.length,h=p=>{if(l&&p<e[0])return t[0];let v=0;if(m>1)for(;v<e.length-2&&!(p<e[v+1]);v++);const S=w0(e[v],e[v+1],p);return d[v](S)};return n?p=>h(kl(e[0],e[s-1],p)):h}function fK(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=w0(0,t,r);e.push(gr(n,1,i))}}function hK(e){const t=[0];return fK(t,e.length-1),t}function mK(e,t){return e.map(n=>n*t)}function gK(e,t){return e.map(()=>t||b6).splice(0,e.length-1)}function u0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=EG(r)?r.map(vO):vO(r),s={done:!1,value:t[0]},l=mK(n&&n.length===t.length?n:hK(t),e),d=dK(l,t,{ease:Array.isArray(i)?i:gK(t,i)});return{calculatedDuration:e,next:m=>(s.value=d(m),s.done=m>=e,s)}}const pK=e=>e!==null;function _A(e,{repeat:t,repeatType:n="loop"},r,i=1){const s=e.filter(pK),d=i<0||t&&n!=="loop"&&t%2===1?0:s.length-1;return!d||r===void 0?s[d]:r}const xK={decay:fS,inertia:fS,tween:u0,keyframes:u0,spring:Lx};function R6(e){typeof e.type=="string"&&(e.type=xK[e.type])}class CA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const vK=e=>e/100;class TA extends CA{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==_a.now()&&this.tick(_a.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;R6(t);const{type:n=u0,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:l=0}=t;let{keyframes:d}=t;const m=n||u0;m!==u0&&typeof d[0]!="number"&&(this.mixKeyframes=Z0(vK,O6(d[0],d[1])),d=[0,100]);const h=m({...t,keyframes:d});s==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=EA(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=h}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:h=0,keyframes:p,repeat:v,repeatType:S,repeatDelay:A,type:T,onUpdate:_,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const M=this.currentTime-h*(this.playbackSpeed>=0?1:-1),P=this.playbackSpeed>=0?M<0:M>i;this.currentTime=Math.max(M,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let R=this.currentTime,U=r;if(v){const V=Math.min(this.currentTime,i)/d;let z=Math.floor(V),H=V%1;!H&&V>=1&&(H=1),H===1&&z--,z=Math.min(z,v+1),!!(z%2)&&(S==="reverse"?(H=1-H,A&&(H-=A/d)):S==="mirror"&&(U=l)),R=kl(0,1,H)*d}const B=P?{done:!1,value:p[0]}:U.next(R);s&&(B.value=s(B.value));let{done:L}=B;!P&&m!==null&&(L=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&L);return F&&T!==fS&&(B.value=_A(p,this.options,C,this.speed)),_&&_(B.value),F&&this.finish(),B}then(t,n){return this.finished.then(t,n)}get duration(){return ko(this.calculatedDuration)}get time(){return ko(this.currentTime)}set time(t){var n;t=Io(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(_a.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ko(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=tK,startTime:n}=this.options;this.driver||(this.driver=t(l=>this.tick(l))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(_a.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function yK(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Qu=e=>e*180/Math.PI,hS=e=>{const t=Qu(Math.atan2(e[1],e[0]));return mS(t)},bK={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:hS,rotateZ:hS,skewX:e=>Qu(Math.atan(e[1])),skewY:e=>Qu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},mS=e=>(e=e%360,e<0&&(e+=360),e),AO=hS,EO=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),_O=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),wK={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:EO,scaleY:_O,scale:e=>(EO(e)+_O(e))/2,rotateX:e=>mS(Qu(Math.atan2(e[6],e[5]))),rotateY:e=>mS(Qu(Math.atan2(-e[2],e[0]))),rotateZ:AO,rotate:AO,skewX:e=>Qu(Math.atan(e[4])),skewY:e=>Qu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gS(e){return e.includes("scale")?1:0}function pS(e,t){if(!e||e==="none")return gS(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=wK,i=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=bK,i=d}if(!i)return gS(t);const s=r[t],l=i[1].split(",").map(SK);return typeof s=="function"?s(l):l[s]}const jK=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return pS(n,t)};function SK(e){return parseFloat(e.trim())}const _h=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ch=new Set(_h),CO=e=>e===Eh||e===Ot,NK=new Set(["x","y","z"]),AK=_h.filter(e=>!NK.has(e));function EK(e){const t=[];return AK.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const id={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>pS(t,"x"),y:(e,{transform:t})=>pS(t,"y")};id.translateX=id.x;id.translateY=id.y;const ad=new Set;let xS=!1,vS=!1,yS=!1;function P6(){if(vS){const e=Array.from(ad).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=EK(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,l])=>{var d;(d=r.getValue(s))==null||d.set(l)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}vS=!1,xS=!1,ad.forEach(e=>e.complete(yS)),ad.clear()}function I6(){ad.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(vS=!0)})}function _K(){yS=!0,I6(),P6(),yS=!1}class OA{constructor(t,n,r,i,s,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(ad.add(this),xS||(xS=!0,nr.read(I6),nr.resolveKeyframes(P6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),l=t[t.length-1];if(s!==void 0)t[0]=s;else if(r&&n){const d=r.readValue(n,l);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=l),i&&s===void 0&&i.set(t[0])}yK(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),ad.delete(this)}cancel(){this.state==="scheduled"&&(ad.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const CK=e=>e.startsWith("--");function TK(e,t,n){CK(t)?e.style.setProperty(t,n):e.style[t]=n}const OK=xA(()=>window.ScrollTimeline!==void 0),MK={};function DK(e,t){const n=xA(e);return()=>MK[t]??n()}const k6=DK(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),t0=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,TO={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:t0([0,.65,.55,1]),circOut:t0([.55,0,1,.45]),backIn:t0([.31,.01,.66,-.59]),backOut:t0([.33,1.53,.69,.99])};function L6(e,t){if(e)return typeof e=="function"?k6()?M6(e,t):"ease-out":w6(e)?t0(e):Array.isArray(e)?e.map(n=>L6(n,t)||TO.easeOut):TO[e]}function RK(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:l="loop",ease:d="easeOut",times:m}={},h=void 0){const p={[t]:n};m&&(p.offset=m);const v=L6(d,i);Array.isArray(v)&&(p.easing=v);const S={delay:r,duration:i,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:s+1,direction:l==="reverse"?"alternate":"normal"};return h&&(S.pseudoElement=h),e.animate(p,S)}function B6(e){return typeof e=="function"&&"applyToOptions"in e}function PK({type:e,...t}){return B6(e)&&k6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class IK extends CA{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:l=!1,finalKeyframe:d,onComplete:m}=t;this.isPseudoElement=!!s,this.allowFlatten=l,this.options=t,pA(typeof t.type!="string");const h=PK(t);this.animation=RK(n,r,i,h,s),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const p=_A(i,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):TK(n,r,p),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ko(Number(t))}get time(){return ko(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Io(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&OK()?(this.animation.timeline=t,_s):n(this)}}const F6={anticipate:x6,backInOut:p6,circInOut:y6};function kK(e){return e in F6}function LK(e){typeof e.ease=="string"&&kK(e.ease)&&(e.ease=F6[e.ease])}const OO=10;class BK extends IK{constructor(t){LK(t),R6(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...l}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new TA({...l,autoplay:!1}),m=Io(this.finishedTime??this.time);n.setWithVelocity(d.sample(m-OO).value,d.sample(m).value,OO),d.stop()}}const MO=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Kc.test(e)||e==="0")&&!e.startsWith("url("));function FK(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function UK(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],l=MO(i,t),d=MO(s,t);return!l||!d?!1:FK(e)||(n==="spring"||B6(n))&&r}function bS(e){e.duration=0,e.type}const zK=new Set(["opacity","clipPath","filter","transform"]),VK=xA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function $K(e){var p;const{motionValue:t,name:n,repeatDelay:r,repeatType:i,damping:s,type:l}=e;if(!(((p=t==null?void 0:t.owner)==null?void 0:p.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:h}=t.owner.getProps();return VK()&&n&&zK.has(n)&&(n!=="transform"||!h)&&!m&&!r&&i!=="mirror"&&s!==0&&l!=="inertia"}const HK=40;class qK extends CA{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:l="loop",keyframes:d,name:m,motionValue:h,element:p,...v}){var T;super(),this.stop=()=>{var _,C;this._animation&&(this._animation.stop(),(_=this.stopTimeline)==null||_.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=_a.now();const S={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:l,name:m,motionValue:h,element:p,...v},A=(p==null?void 0:p.KeyframeResolver)||OA;this.keyframeResolver=new A(d,(_,C,M)=>this.onKeyframesResolved(_,C,S,!M),m,h,p),(T=this.keyframeResolver)==null||T.scheduleResolve()}onKeyframesResolved(t,n,r,i){this.keyframeResolver=void 0;const{name:s,type:l,velocity:d,delay:m,isHandoff:h,onUpdate:p}=r;this.resolvedAt=_a.now(),UK(t,s,l,d)||((Ll.instantAnimations||!m)&&(p==null||p(_A(t,r,n))),t[0]=t[t.length-1],bS(r),r.repeat=0);const S={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>HK?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},A=!h&&$K(S)?new BK({...S,element:S.motionValue.owner.current}):new TA(S);A.finished.then(()=>this.notifyFinished()).catch(_s),this.pendingTimeline&&(this.stopTimeline=A.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=A}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),_K()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const YK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WK(e){const t=YK.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function U6(e,t,n=1){const[r,i]=WK(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const l=s.trim();return l6(l)?parseFloat(l):l}return jA(i)?U6(i,t,n+1):i}function MA(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const z6=new Set(["width","height","top","left","right","bottom",..._h]),GK={test:e=>e==="auto",parse:e=>e},V6=e=>t=>t.test(e),$6=[Eh,Ot,Lo,Uc,FG,BG,GK],DO=e=>$6.find(V6(e));function KK(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||u6(e):!0}const XK=new Set(["brightness","contrast","saturate","opacity"]);function QK(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(SA)||[];if(!r)return e;const i=n.replace(r,"");let s=XK.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const ZK=/\b([a-z-]*)\(.*?\)/gu,wS={...Kc,getAnimatableNone:e=>{const t=e.match(ZK);return t?t.map(QK).join(" "):e}},RO={...Eh,transform:Math.round},JK={rotate:Uc,rotateX:Uc,rotateY:Uc,rotateZ:Uc,scale:Hp,scaleX:Hp,scaleY:Hp,scaleZ:Hp,skew:Uc,skewX:Uc,skewY:Uc,distance:Ot,translateX:Ot,translateY:Ot,translateZ:Ot,x:Ot,y:Ot,z:Ot,perspective:Ot,transformPerspective:Ot,opacity:j0,originX:yO,originY:yO,originZ:Ot},DA={borderWidth:Ot,borderTopWidth:Ot,borderRightWidth:Ot,borderBottomWidth:Ot,borderLeftWidth:Ot,borderRadius:Ot,radius:Ot,borderTopLeftRadius:Ot,borderTopRightRadius:Ot,borderBottomRightRadius:Ot,borderBottomLeftRadius:Ot,width:Ot,maxWidth:Ot,height:Ot,maxHeight:Ot,top:Ot,right:Ot,bottom:Ot,left:Ot,padding:Ot,paddingTop:Ot,paddingRight:Ot,paddingBottom:Ot,paddingLeft:Ot,margin:Ot,marginTop:Ot,marginRight:Ot,marginBottom:Ot,marginLeft:Ot,backgroundPositionX:Ot,backgroundPositionY:Ot,...JK,zIndex:RO,fillOpacity:j0,strokeOpacity:j0,numOctaves:RO},eX={...DA,color:Gr,backgroundColor:Gr,outlineColor:Gr,fill:Gr,stroke:Gr,borderColor:Gr,borderTopColor:Gr,borderRightColor:Gr,borderBottomColor:Gr,borderLeftColor:Gr,filter:wS,WebkitFilter:wS},H6=e=>eX[e];function q6(e,t){let n=H6(e);return n!==wS&&(n=Kc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const tX=new Set(["auto","none","0"]);function nX(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!tX.has(s)&&S0(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=q6(n,i)}class rX extends OA{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let h=t[m];if(typeof h=="string"&&(h=h.trim(),jA(h))){const p=U6(h,n.current);p!==void 0&&(t[m]=p),m===t.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!z6.has(r)||t.length!==2)return;const[i,s]=t,l=DO(i),d=DO(s);if(l!==d)if(CO(l)&&CO(d))for(let m=0;m<t.length;m++){const h=t[m];typeof h=="string"&&(t[m]=parseFloat(h))}else id[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||KK(t[i]))&&r.push(i);r.length&&nX(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=id[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,l=r[s];r[s]=id[n](t.measureViewportBox(),window.getComputedStyle(t.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([m,h])=>{t.getValue(m).set(h)}),this.resolveNoneKeyframes()}}function iX(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(n==null?void 0:n[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const Y6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function W6(e){return c6(e)&&"offsetHeight"in e}const PO=30,aX=e=>!isNaN(parseFloat(e));class sX{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=_a.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=_a.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=aX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new vA);const r=this.events[t].add(n);return t==="change"?()=>{r(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=_a.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>PO)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,PO);return d6(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function sh(e,t){return new sX(e,t)}const{schedule:RA}=j6(queueMicrotask,!1),Xs={x:!1,y:!1};function G6(){return Xs.x||Xs.y}function oX(e){return e==="x"||e==="y"?Xs[e]?null:(Xs[e]=!0,()=>{Xs[e]=!1}):Xs.x||Xs.y?null:(Xs.x=Xs.y=!0,()=>{Xs.x=Xs.y=!1})}function K6(e,t){const n=iX(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[n,i,()=>r.abort()]}function IO(e){return!(e.pointerType==="touch"||G6())}function lX(e,t,n={}){const[r,i,s]=K6(e,n),l=d=>{if(!IO(d))return;const{target:m}=d,h=t(m,d);if(typeof h!="function"||!m)return;const p=v=>{IO(v)&&(h(v),m.removeEventListener("pointerleave",p))};m.addEventListener("pointerleave",p,i)};return r.forEach(d=>{d.addEventListener("pointerenter",l,i)}),s}const X6=(e,t)=>t?e===t?!0:X6(e,t.parentElement):!1,PA=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,cX=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function uX(e){return cX.has(e.tagName)||e.tabIndex!==-1}const Sx=new WeakSet;function kO(e){return t=>{t.key==="Enter"&&e(t)}}function bw(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const dX=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=kO(()=>{if(Sx.has(n))return;bw(n,"down");const i=kO(()=>{bw(n,"up")}),s=()=>bw(n,"cancel");n.addEventListener("keyup",i,t),n.addEventListener("blur",s,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function LO(e){return PA(e)&&!G6()}function fX(e,t,n={}){const[r,i,s]=K6(e,n),l=d=>{const m=d.currentTarget;if(!LO(d))return;Sx.add(m);const h=t(m,d),p=(A,T)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",S),Sx.has(m)&&Sx.delete(m),LO(A)&&typeof h=="function"&&h(A,{success:T})},v=A=>{p(A,m===window||m===document||n.useGlobalTarget||X6(m,A.target))},S=A=>{p(A,!1)};window.addEventListener("pointerup",v,i),window.addEventListener("pointercancel",S,i)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",l,i),W6(d)&&(d.addEventListener("focus",h=>dX(h,i)),!uX(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),s}function Q6(e){return c6(e)&&"ownerSVGElement"in e}function hX(e){return Q6(e)&&e.tagName==="svg"}const Gi=e=>!!(e&&e.getVelocity),mX=[...$6,Gr,Kc],gX=e=>mX.find(V6(e)),IA=N.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class pX extends N.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=W6(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function xX({children:e,isPresent:t,anchorX:n,root:r}){const i=N.useId(),s=N.useRef(null),l=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=N.useContext(IA);return N.useInsertionEffect(()=>{const{width:m,height:h,top:p,left:v,right:S}=l.current;if(t||!s.current||!m||!h)return;const A=n==="left"?`left: ${v}`:`right: ${S}`;s.current.dataset.motionPopId=i;const T=document.createElement("style");d&&(T.nonce=d);const _=r??document.head;return _.appendChild(T),T.sheet&&T.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${h}px !important;
            ${A}px !important;
            top: ${p}px !important;
          }
        `),()=>{_.contains(T)&&_.removeChild(T)}},[t]),a.jsx(pX,{isPresent:t,childRef:s,sizeRef:l,children:N.cloneElement(e,{ref:s})})}const vX=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:l,anchorX:d,root:m})=>{const h=fA(yX),p=N.useId();let v=!0,S=N.useMemo(()=>(v=!1,{id:p,initial:t,isPresent:n,custom:i,onExitComplete:A=>{h.set(A,!0);for(const T of h.values())if(!T)return;r&&r()},register:A=>(h.set(A,!1),()=>h.delete(A))}),[n,h,r]);return s&&v&&(S={...S}),N.useMemo(()=>{h.forEach((A,T)=>h.set(T,!1))},[n]),N.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(e=a.jsx(xX,{isPresent:n,anchorX:d,root:m,children:e})),a.jsx(Vv.Provider,{value:S,children:e})};function yX(){return new Map}function Z6(e=!0){const t=N.useContext(Vv);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=t,s=N.useId();N.useEffect(()=>{if(e)return i(s)},[e]);const l=N.useCallback(()=>e&&r&&r(s),[s,r,e]);return!n&&r?[!1,l]:[!0]}const qp=e=>e.key||"";function BO(e){const t=[];return N.Children.forEach(e,n=>{N.isValidElement(n)&&t.push(n)}),t}const bX=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:l=!1,anchorX:d="left",root:m})=>{const[h,p]=Z6(l),v=N.useMemo(()=>BO(e),[e]),S=l&&!h?[]:v.map(qp),A=N.useRef(!0),T=N.useRef(v),_=fA(()=>new Map),[C,M]=N.useState(v),[P,R]=N.useState(v);o6(()=>{A.current=!1,T.current=v;for(let L=0;L<P.length;L++){const F=qp(P[L]);S.includes(F)?_.delete(F):_.get(F)!==!0&&_.set(F,!1)}},[P,S.length,S.join("-")]);const U=[];if(v!==C){let L=[...v];for(let F=0;F<P.length;F++){const V=P[F],z=qp(V);S.includes(z)||(L.splice(F,0,V),U.push(V))}return s==="wait"&&U.length&&(L=U),R(BO(L)),M(v),null}const{forceRender:B}=N.useContext(dA);return a.jsx(a.Fragment,{children:P.map(L=>{const F=qp(L),V=l&&!h?!1:v===P||S.includes(F),z=()=>{if(_.has(F))_.set(F,!0);else return;let H=!0;_.forEach(W=>{W||(H=!1)}),H&&(B==null||B(),R(T.current),l&&(p==null||p()),r&&r())};return a.jsx(vX,{isPresent:V,initial:!A.current||n?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:m,onExitComplete:V?void 0:z,anchorX:d,children:L},F)})})},J6=N.createContext({strict:!1}),FO={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oh={};for(const e in FO)oh[e]={isEnabled:t=>FO[e].some(n=>!!t[n])};function wX(e){for(const t in e)oh[t]={...oh[t],...e[t]}}const jX=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bx(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||jX.has(e)}let e5=e=>!Bx(e);function SX(e){typeof e=="function"&&(e5=t=>t.startsWith("on")?!Bx(t):e(t))}try{SX(require("@emotion/is-prop-valid").default)}catch{}function NX(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(e5(i)||n===!0&&Bx(i)||!t&&!Bx(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const $v=N.createContext({});function Hv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function N0(e){return typeof e=="string"||Array.isArray(e)}const kA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LA=["initial",...kA];function qv(e){return Hv(e.animate)||LA.some(t=>N0(e[t]))}function t5(e){return!!(qv(e)||e.variants)}function AX(e,t){if(qv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||N0(n)?n:void 0,animate:N0(r)?r:void 0}}return e.inherit!==!1?t:{}}function EX(e){const{initial:t,animate:n}=AX(e,N.useContext($v));return N.useMemo(()=>({initial:t,animate:n}),[UO(t),UO(n)])}function UO(e){return Array.isArray(e)?e.join(" "):e}const A0={};function _X(e){for(const t in e)A0[t]=e[t],wA(t)&&(A0[t].isCSSVariable=!0)}function n5(e,{layout:t,layoutId:n}){return Ch.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!A0[e]||e==="opacity")}const CX={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},TX=_h.length;function OX(e,t,n){let r="",i=!0;for(let s=0;s<TX;s++){const l=_h[s],d=e[l];if(d===void 0)continue;let m=!0;if(typeof d=="number"?m=d===(l.startsWith("scale")?1:0):m=parseFloat(d)===0,!m||n){const h=Y6(d,DA[l]);if(!m){i=!1;const p=CX[l]||l;r+=`${p}(${h}) `}n&&(t[l]=h)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function BA(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let l=!1,d=!1;for(const m in t){const h=t[m];if(Ch.has(m)){l=!0;continue}else if(wA(m)){i[m]=h;continue}else{const p=Y6(h,DA[m]);m.startsWith("origin")?(d=!0,s[m]=p):r[m]=p}}if(t.transform||(l||n?r.transform=OX(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:m="50%",originY:h="50%",originZ:p=0}=s;r.transformOrigin=`${m} ${h} ${p}`}}const FA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r5(e,t,n){for(const r in t)!Gi(t[r])&&!n5(r,n)&&(e[r]=t[r])}function MX({transformTemplate:e},t){return N.useMemo(()=>{const n=FA();return BA(n,t,e),Object.assign({},n.vars,n.style)},[t])}function DX(e,t){const n=e.style||{},r={};return r5(r,n,e),Object.assign(r,MX(e,t)),r}function RX(e,t){const n={},r=DX(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const PX={offset:"stroke-dashoffset",array:"stroke-dasharray"},IX={offset:"strokeDashoffset",array:"strokeDasharray"};function kX(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?PX:IX;e[s.offset]=Ot.transform(-r);const l=Ot.transform(t),d=Ot.transform(n);e[s.array]=`${l} ${d}`}function i5(e,{attrX:t,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:l=0,...d},m,h,p){if(BA(e,d,h),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:v,style:S}=e;v.transform&&(S.transform=v.transform,delete v.transform),(S.transform||v.transformOrigin)&&(S.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),S.transform&&(S.transformBox=(p==null?void 0:p.transformBox)??"fill-box",delete v.transformBox),t!==void 0&&(v.x=t),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),i!==void 0&&kX(v,i,s,l,!1)}const a5=()=>({...FA(),attrs:{}}),s5=e=>typeof e=="string"&&e.toLowerCase()==="svg";function LX(e,t,n,r){const i=N.useMemo(()=>{const s=a5();return i5(s,t,s5(r),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};r5(s,e.style,e),i.style={...s,...i.style}}return i}const BX=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UA(e){return typeof e!="string"||e.includes("-")?!1:!!(BX.indexOf(e)>-1||/[A-Z]/u.test(e))}function FX(e,t,n,{latestValues:r},i,s=!1){const d=(UA(e)?LX:RX)(t,r,i,e),m=NX(t,typeof e=="string",s),h=e!==N.Fragment?{...m,...d,ref:n}:{},{children:p}=t,v=N.useMemo(()=>Gi(p)?p.get():p,[p]);return N.createElement(e,{...h,children:v})}function zO(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function zA(e,t,n,r){if(typeof t=="function"){const[i,s]=zO(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=zO(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function Nx(e){return Gi(e)?e.get():e}function UX({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,i){return{latestValues:zX(n,r,i,e),renderState:t()}}function zX(e,t,n,r){const i={},s=r(e,{});for(const S in s)i[S]=Nx(s[S]);let{initial:l,animate:d}=e;const m=qv(e),h=t5(e);t&&h&&!m&&e.inherit!==!1&&(l===void 0&&(l=t.initial),d===void 0&&(d=t.animate));let p=n?n.initial===!1:!1;p=p||l===!1;const v=p?d:l;if(v&&typeof v!="boolean"&&!Hv(v)){const S=Array.isArray(v)?v:[v];for(let A=0;A<S.length;A++){const T=zA(e,S[A]);if(T){const{transitionEnd:_,transition:C,...M}=T;for(const P in M){let R=M[P];if(Array.isArray(R)){const U=p?R.length-1:0;R=R[U]}R!==null&&(i[P]=R)}for(const P in _)i[P]=_[P]}}}return i}const o5=e=>(t,n)=>{const r=N.useContext($v),i=N.useContext(Vv),s=()=>UX(e,t,r,i);return n?s():fA(s)};function VA(e,t,n){var s;const{style:r}=e,i={};for(const l in r)(Gi(r[l])||t.style&&Gi(t.style[l])||n5(l,e)||((s=n==null?void 0:n.getValue(l))==null?void 0:s.liveStyle)!==void 0)&&(i[l]=r[l]);return i}const VX=o5({scrapeMotionValuesFromProps:VA,createRenderState:FA});function l5(e,t,n){const r=VA(e,t,n);for(const i in e)if(Gi(e[i])||Gi(t[i])){const s=_h.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}const $X=o5({scrapeMotionValuesFromProps:l5,createRenderState:a5}),HX=Symbol.for("motionComponentSymbol");function Hf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function qX(e,t,n){return N.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Hf(n)&&(n.current=r))},[t])}const $A=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),YX="framerAppearId",c5="data-"+$A(YX),u5=N.createContext({});function WX(e,t,n,r,i){var _,C;const{visualElement:s}=N.useContext($v),l=N.useContext(J6),d=N.useContext(Vv),m=N.useContext(IA).reducedMotion,h=N.useRef(null);r=r||l.renderer,!h.current&&r&&(h.current=r(e,{visualState:t,parent:s,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:m}));const p=h.current,v=N.useContext(u5);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&GX(h.current,n,i,v);const S=N.useRef(!1);N.useInsertionEffect(()=>{p&&S.current&&p.update(n,d)});const A=n[c5],T=N.useRef(!!A&&!((_=window.MotionHandoffIsComplete)!=null&&_.call(window,A))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,A)));return o6(()=>{p&&(S.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),T.current&&p.animationState&&p.animationState.animateChanges())}),N.useEffect(()=>{p&&(!T.current&&p.animationState&&p.animationState.animateChanges(),T.current&&(queueMicrotask(()=>{var M;(M=window.MotionHandoffMarkAsComplete)==null||M.call(window,A)}),T.current=!1),p.enteringChildren=void 0)}),p}function GX(e,t,n,r){const{layoutId:i,layout:s,drag:l,dragConstraints:d,layoutScroll:m,layoutRoot:h,layoutCrossfade:p}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:d5(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!l||d&&Hf(d),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:p,layoutScroll:m,layoutRoot:h})}function d5(e){if(e)return e.options.allowProjection!==!1?e.projection:d5(e.parent)}function ww(e,{forwardMotionProps:t=!1}={},n,r){n&&wX(n);const i=UA(e)?$X:VX;function s(d,m){let h;const p={...N.useContext(IA),...d,layoutId:KX(d)},{isStatic:v}=p,S=EX(d),A=i(d,v);if(!v&&hA){XX();const T=QX(p);h=T.MeasureLayout,S.visualElement=WX(e,A,p,r,T.ProjectionNode)}return a.jsxs($v.Provider,{value:S,children:[h&&S.visualElement?a.jsx(h,{visualElement:S.visualElement,...p}):null,FX(e,d,qX(A,S.visualElement,m),A,v,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const l=N.forwardRef(s);return l[HX]=e,l}function KX({layoutId:e}){const t=N.useContext(dA).id;return t&&e!==void 0?t+"-"+e:e}function XX(e,t){N.useContext(J6).strict}function QX(e){const{drag:t,layout:n}=oh;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function ZX(e,t){if(typeof Proxy>"u")return ww;const n=new Map,r=(s,l)=>ww(s,l,e,t),i=(s,l)=>r(s,l);return new Proxy(i,{get:(s,l)=>l==="create"?r:(n.has(l)||n.set(l,ww(l,void 0,e,t)),n.get(l))})}function f5({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function JX({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function eQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function jw(e){return e===void 0||e===1}function jS({scale:e,scaleX:t,scaleY:n}){return!jw(e)||!jw(t)||!jw(n)}function Hu(e){return jS(e)||h5(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function h5(e){return VO(e.x)||VO(e.y)}function VO(e){return e&&e!=="0%"}function Fx(e,t,n){const r=e-n,i=t*r;return n+i}function $O(e,t,n,r,i){return i!==void 0&&(e=Fx(e,i,r)),Fx(e,n,r)+t}function SS(e,t=0,n=1,r,i){e.min=$O(e.min,t,n,r,i),e.max=$O(e.max,t,n,r,i)}function m5(e,{x:t,y:n}){SS(e.x,t.translate,t.scale,t.originPoint),SS(e.y,n.translate,n.scale,n.originPoint)}const HO=.999999999999,qO=1.0000000000001;function tQ(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,l;for(let d=0;d<i;d++){s=n[d],l=s.projectionDelta;const{visualElement:m}=s.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yf(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,m5(e,l)),r&&Hu(s.latestValues)&&Yf(e,s.latestValues))}t.x<qO&&t.x>HO&&(t.x=1),t.y<qO&&t.y>HO&&(t.y=1)}function qf(e,t){e.min=e.min+t,e.max=e.max+t}function YO(e,t,n,r,i=.5){const s=gr(e.min,e.max,i);SS(e,t,n,s,r)}function Yf(e,t){YO(e.x,t.x,t.scaleX,t.scale,t.originX),YO(e.y,t.y,t.scaleY,t.scale,t.originY)}function g5(e,t){return f5(eQ(e.getBoundingClientRect(),t))}function nQ(e,t,n){const r=g5(e,n),{scroll:i}=t;return i&&(qf(r.x,i.offset.x),qf(r.y,i.offset.y)),r}const WO=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wf=()=>({x:WO(),y:WO()}),GO=()=>({min:0,max:0}),Lr=()=>({x:GO(),y:GO()}),NS={current:null},p5={current:!1};function rQ(){if(p5.current=!0,!!hA)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>NS.current=e.matches;e.addEventListener("change",t),t()}else NS.current=!1}const iQ=new WeakMap;function aQ(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Gi(i))e.addValue(r,i);else if(Gi(s))e.addValue(r,sh(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const l=e.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=e.getStaticValue(r);e.addValue(r,sh(l!==void 0?l:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const KO=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sQ{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=_a.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,nr.render(this.render,!1,!0))};const{latestValues:m,renderState:h}=l;this.latestValues=m,this.baseTarget={...m},this.initialValues=n.initial?{...m}:{},this.renderState=h,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!s,this.isControllingVariants=qv(n),this.isVariantNode=t5(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in v){const A=v[S];m[S]!==void 0&&Gi(A)&&A.set(m[S])}}mount(t){var n;this.current=t,iQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),p5.current||rQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:NS.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Gc(this.notifyUpdate),Gc(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Ch.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&nr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in oh){const n=oh[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Lr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<KO.length;r++){const i=KO[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,l=t[s];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=aQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=sh(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(l6(r)||u6(r))?r=parseFloat(r):!gX(r)&&Kc.test(n)&&(r=q6(t,n)),this.setBaseTarget(t,Gi(r)?r.get():r)),Gi(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const l=zA(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);l&&(r=l[t])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Gi(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new vA),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){RA.render(this.render)}}class x5 extends sQ{constructor(){super(...arguments),this.KeyframeResolver=rX}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Gi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function v5(e,{style:t,vars:n},r,i){const s=e.style;let l;for(l in t)s[l]=t[l];i==null||i.applyProjectionStyles(s,r);for(l in n)s.setProperty(l,n[l])}function oQ(e){return window.getComputedStyle(e)}class lQ extends x5{constructor(){super(...arguments),this.type="html",this.renderInstance=v5}readValueFromInstance(t,n){var r;if(Ch.has(n))return(r=this.projection)!=null&&r.isProjecting?gS(n):jK(t,n);{const i=oQ(t),s=(wA(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:n}){return g5(t,n)}build(t,n,r){BA(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return VA(t,n,r)}}const y5=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function cQ(e,t,n,r){v5(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(y5.has(i)?i:$A(i),t.attrs[i])}class uQ extends x5{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Lr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Ch.has(n)){const r=H6(n);return r&&r.default||0}return n=y5.has(n)?n:$A(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return l5(t,n,r)}build(t,n,r){i5(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,i){cQ(t,n,r,i)}mount(t){this.isSVGTag=s5(t.tagName),super.mount(t)}}const dQ=(e,t)=>UA(e)?new uQ(t):new lQ(t,{allowProjection:e!==N.Fragment});function Qf(e,t,n){const r=e.getProps();return zA(r,t,n!==void 0?n:r.custom,e)}const AS=e=>Array.isArray(e);function fQ(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,sh(n))}function hQ(e){return AS(e)?e[e.length-1]||0:e}function mQ(e,t){const n=Qf(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const l in s){const d=hQ(s[l]);fQ(e,l,d)}}function gQ(e){return!!(Gi(e)&&e.add)}function ES(e,t){const n=e.getValue("willChange");if(gQ(n))return n.add(t);if(!n&&Ll.WillChange){const r=new Ll.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function b5(e){return e.props[c5]}const pQ=e=>e!==null;function xQ(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(pQ),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return i[s]}const vQ={type:"spring",stiffness:500,damping:25,restSpeed:10},yQ=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),bQ={type:"keyframes",duration:.8},wQ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jQ=(e,{keyframes:t})=>t.length>2?bQ:Ch.has(e)?e.startsWith("scale")?yQ(t[1]):vQ:wQ;function SQ({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:l,repeatDelay:d,from:m,elapsed:h,...p}){return!!Object.keys(p).length}const HA=(e,t,n,r={},i,s)=>l=>{const d=MA(r,e)||{},m=d.delay||r.delay||0;let{elapsed:h=0}=r;h=h-Io(m);const p={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-h,onUpdate:S=>{t.set(S),d.onUpdate&&d.onUpdate(S)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:s?void 0:i};SQ(d)||Object.assign(p,jQ(e,p)),p.duration&&(p.duration=Io(p.duration)),p.repeatDelay&&(p.repeatDelay=Io(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let v=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(bS(p),p.delay===0&&(v=!0)),(Ll.instantAnimations||Ll.skipAnimations)&&(v=!0,bS(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,v&&!s&&t.get()!==void 0){const S=xQ(p.keyframes,d);if(S!==void 0){nr.update(()=>{p.onUpdate(S),p.onComplete()});return}}return d.isSync?new TA(p):new qK(p)};function NQ({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function w5(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:l,...d}=t;r&&(s=r);const m=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const p in d){const v=e.getValue(p,e.latestValues[p]??null),S=d[p];if(S===void 0||h&&NQ(h,p))continue;const A={delay:n,...MA(s||{},p)},T=v.get();if(T!==void 0&&!v.isAnimating&&!Array.isArray(S)&&S===T&&!A.velocity)continue;let _=!1;if(window.MotionHandoffAnimation){const M=b5(e);if(M){const P=window.MotionHandoffAnimation(M,p,nr);P!==null&&(A.startTime=P,_=!0)}}ES(e,p),v.start(HA(p,v,S,e.shouldReduceMotion&&z6.has(p)?{type:!1}:A,e,_));const C=v.animation;C&&m.push(C)}return l&&Promise.all(m).then(()=>{nr.update(()=>{l&&mQ(e,l)})}),m}function j5(e,t,n,r=0,i=1){const s=Array.from(e).sort((h,p)=>h.sortNodePosition(p)).indexOf(t),l=e.size,d=(l-1)*r;return typeof n=="function"?n(s,l):i===1?s*r:d-s*r}function _S(e,t,n={}){var m;const r=Qf(e,t,n.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(w5(e,r,n)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(h=0)=>{const{delayChildren:p=0,staggerChildren:v,staggerDirection:S}=i;return AQ(e,t,h,p,v,S,n)}:()=>Promise.resolve(),{when:d}=i;if(d){const[h,p]=d==="beforeChildren"?[s,l]:[l,s];return h().then(()=>p())}else return Promise.all([s(),l(n.delay)])}function AQ(e,t,n=0,r=0,i=0,s=1,l){const d=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),d.push(_S(m,t,{...l,delay:n+(typeof r=="function"?0:r)+j5(e.variantChildren,m,r,i,s)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(d)}function EQ(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>_S(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=_S(e,t,n);else{const i=typeof t=="function"?Qf(e,t,n.custom):t;r=Promise.all(w5(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function S5(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const _Q=LA.length;function N5(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?N5(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<_Q;n++){const r=LA[n],i=e.props[r];(N0(i)||i===!1)&&(t[r]=i)}return t}const CQ=[...kA].reverse(),TQ=kA.length;function OQ(e){return t=>Promise.all(t.map(({animation:n,options:r})=>EQ(e,n,r)))}function MQ(e){let t=OQ(e),n=XO(),r=!0;const i=m=>(h,p)=>{var S;const v=Qf(e,p,m==="exit"?(S=e.presenceContext)==null?void 0:S.custom:void 0);if(v){const{transition:A,transitionEnd:T,..._}=v;h={...h,..._,...T}}return h};function s(m){t=m(e)}function l(m){const{props:h}=e,p=N5(e.parent)||{},v=[],S=new Set;let A={},T=1/0;for(let C=0;C<TQ;C++){const M=CQ[C],P=n[M],R=h[M]!==void 0?h[M]:p[M],U=N0(R),B=M===m?P.isActive:null;B===!1&&(T=C);let L=R===p[M]&&R!==h[M]&&U;if(L&&r&&e.manuallyAnimateOnMount&&(L=!1),P.protectedKeys={...A},!P.isActive&&B===null||!R&&!P.prevProp||Hv(R)||typeof R=="boolean")continue;const F=DQ(P.prevProp,R);let V=F||M===m&&P.isActive&&!L&&U||C>T&&U,z=!1;const H=Array.isArray(R)?R:[R];let W=H.reduce(i(M),{});B===!1&&(W={});const{prevResolvedValues:q={}}=P,Q={...q,...W},te=ne=>{V=!0,S.has(ne)&&(z=!0,S.delete(ne)),P.needsAnimating[ne]=!0;const se=e.getValue(ne);se&&(se.liveStyle=!1)};for(const ne in Q){const se=W[ne],me=q[ne];if(A.hasOwnProperty(ne))continue;let re=!1;AS(se)&&AS(me)?re=!S5(se,me):re=se!==me,re?se!=null?te(ne):S.add(ne):se!==void 0&&S.has(ne)?te(ne):P.protectedKeys[ne]=!0}P.prevProp=R,P.prevResolvedValues=W,P.isActive&&(A={...A,...W}),r&&e.blockInitialAnimation&&(V=!1);const J=L&&F;V&&(!J||z)&&v.push(...H.map(ne=>{const se={type:M};if(typeof ne=="string"&&r&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:me}=e,re=Qf(me,ne);if(me.enteringChildren&&re){const{delayChildren:de}=re.transition||{};se.delay=j5(me.enteringChildren,e,de)}}return{animation:ne,options:se}}))}if(S.size){const C={};if(typeof h.initial!="boolean"){const M=Qf(e,Array.isArray(h.initial)?h.initial[0]:h.initial);M&&M.transition&&(C.transition=M.transition)}S.forEach(M=>{const P=e.getBaseTarget(M),R=e.getValue(M);R&&(R.liveStyle=!0),C[M]=P??null}),v.push({animation:C})}let _=!!v.length;return r&&(h.initial===!1||h.initial===h.animate)&&!e.manuallyAnimateOnMount&&(_=!1),r=!1,_?t(v):Promise.resolve()}function d(m,h){var v;if(n[m].isActive===h)return Promise.resolve();(v=e.variantChildren)==null||v.forEach(S=>{var A;return(A=S.animationState)==null?void 0:A.setActive(m,h)}),n[m].isActive=h;const p=l(m);for(const S in n)n[S].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:s,getState:()=>n,reset:()=>{n=XO(),r=!0}}}function DQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!S5(t,e):!1}function zu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function XO(){return{animate:zu(!0),whileInView:zu(),whileHover:zu(),whileTap:zu(),whileDrag:zu(),whileFocus:zu(),exit:zu()}}class au{constructor(t){this.isMounted=!1,this.node=t}update(){}}class RQ extends au{constructor(t){super(t),t.animationState||(t.animationState=MQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Hv(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let PQ=0;class IQ extends au{constructor(){super(...arguments),this.id=PQ++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const kQ={animation:{Feature:RQ},exit:{Feature:IQ}};function E0(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function tg(e){return{point:{x:e.pageX,y:e.pageY}}}const LQ=e=>t=>PA(t)&&e(t,tg(t));function d0(e,t,n,r){return E0(e,t,LQ(n),r)}const A5=1e-4,BQ=1-A5,FQ=1+A5,E5=.01,UQ=0-E5,zQ=0+E5;function sa(e){return e.max-e.min}function VQ(e,t,n){return Math.abs(e-t)<=n}function QO(e,t,n,r=.5){e.origin=r,e.originPoint=gr(t.min,t.max,e.origin),e.scale=sa(n)/sa(t),e.translate=gr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=BQ&&e.scale<=FQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=UQ&&e.translate<=zQ||isNaN(e.translate))&&(e.translate=0)}function f0(e,t,n,r){QO(e.x,t.x,n.x,r?r.originX:void 0),QO(e.y,t.y,n.y,r?r.originY:void 0)}function ZO(e,t,n){e.min=n.min+t.min,e.max=e.min+sa(t)}function $Q(e,t,n){ZO(e.x,t.x,n.x),ZO(e.y,t.y,n.y)}function JO(e,t,n){e.min=t.min-n.min,e.max=e.min+sa(t)}function h0(e,t,n){JO(e.x,t.x,n.x),JO(e.y,t.y,n.y)}function Ns(e){return[e("x"),e("y")]}const _5=({current:e})=>e?e.ownerDocument.defaultView:null,eM=(e,t)=>Math.abs(e-t);function HQ(e,t){const n=eM(e.x,t.x),r=eM(e.y,t.y);return Math.sqrt(n**2+r**2)}class C5{constructor(t,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=Nw(this.lastMoveEventInfo,this.history),A=this.startEvent!==null,T=HQ(S.offset,{x:0,y:0})>=this.distanceThreshold;if(!A&&!T)return;const{point:_}=S,{timestamp:C}=Oi;this.history.push({..._,timestamp:C});const{onStart:M,onMove:P}=this.handlers;A||(M&&M(this.lastMoveEvent,S),this.startEvent=this.lastMoveEvent),P&&P(this.lastMoveEvent,S)},this.handlePointerMove=(S,A)=>{this.lastMoveEvent=S,this.lastMoveEventInfo=Sw(A,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(S,A)=>{this.end();const{onEnd:T,onSessionEnd:_,resumeAnimation:C}=this.handlers;if(this.dragSnapToOrigin&&C&&C(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const M=Nw(S.type==="pointercancel"?this.lastMoveEventInfo:Sw(A,this.transformPagePoint),this.history);this.startEvent&&T&&T(S,M),_&&_(S,M)},!PA(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=l,this.contextWindow=i||window;const d=tg(t),m=Sw(d,this.transformPagePoint),{point:h}=m,{timestamp:p}=Oi;this.history=[{...h,timestamp:p}];const{onSessionStart:v}=n;v&&v(t,Nw(m,this.history)),this.removeListeners=Z0(d0(this.contextWindow,"pointermove",this.handlePointerMove),d0(this.contextWindow,"pointerup",this.handlePointerUp),d0(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gc(this.updatePoint)}}function Sw(e,t){return t?{point:t(e.point)}:e}function tM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nw({point:e},t){return{point:e,delta:tM(e,T5(t)),offset:tM(e,qQ(t)),velocity:YQ(t,.1)}}function qQ(e){return e[0]}function T5(e){return e[e.length-1]}function YQ(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=T5(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Io(t)));)n--;if(!r)return{x:0,y:0};const s=ko(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const l={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function WQ(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?gr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?gr(n,e,r.max):Math.min(e,n)),e}function nM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function GQ(e,{top:t,left:n,bottom:r,right:i}){return{x:nM(e.x,n,i),y:nM(e.y,t,r)}}function rM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function KQ(e,t){return{x:rM(e.x,t.x),y:rM(e.y,t.y)}}function XQ(e,t){let n=.5;const r=sa(e),i=sa(t);return i>r?n=w0(t.min,t.max-r,e.min):r>i&&(n=w0(e.min,e.max-i,t.min)),kl(0,1,n)}function QQ(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const CS=.35;function ZQ(e=CS){return e===!1?e=0:e===!0&&(e=CS),{x:iM(e,"left","right"),y:iM(e,"top","bottom")}}function iM(e,t,n){return{min:aM(e,t),max:aM(e,n)}}function aM(e,t){return typeof e=="number"?e:e[t]||0}const JQ=new WeakMap;class eZ{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Lr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=v=>{const{dragSnapToOrigin:S}=this.getProps();S?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tg(v).point)},l=(v,S)=>{const{drag:A,dragPropagation:T,onDragStart:_}=this.getProps();if(A&&!T&&(this.openDragLock&&this.openDragLock(),this.openDragLock=oX(A),!this.openDragLock))return;this.latestPointerEvent=v,this.latestPanInfo=S,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ns(M=>{let P=this.getAxisMotionValue(M).get()||0;if(Lo.test(P)){const{projection:R}=this.visualElement;if(R&&R.layout){const U=R.layout.layoutBox[M];U&&(P=sa(U)*(parseFloat(P)/100))}}this.originPoint[M]=P}),_&&nr.postRender(()=>_(v,S)),ES(this.visualElement,"transform");const{animationState:C}=this.visualElement;C&&C.setActive("whileDrag",!0)},d=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S;const{dragPropagation:A,dragDirectionLock:T,onDirectionLock:_,onDrag:C}=this.getProps();if(!A&&!this.openDragLock)return;const{offset:M}=S;if(T&&this.currentDirection===null){this.currentDirection=tZ(M),this.currentDirection!==null&&_&&_(this.currentDirection);return}this.updateAxis("x",S.point,M),this.updateAxis("y",S.point,M),this.visualElement.render(),C&&C(v,S)},m=(v,S)=>{this.latestPointerEvent=v,this.latestPanInfo=S,this.stop(v,S),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ns(v=>{var S;return this.getAnimationState(v)==="paused"&&((S=this.getAxisMotionValue(v).animation)==null?void 0:S.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new C5(t,{onSessionStart:s,onStart:l,onMove:d,onSessionEnd:m,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:r,contextWindow:_5(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:l}=i;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&nr.postRender(()=>d(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Yp(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=WQ(l,this.constraints[t],this.elastic[t])),s.set(l)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Hf(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=GQ(r.layoutBox,t):this.constraints=!1,this.elastic=ZQ(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Ns(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=QQ(r.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Hf(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=nQ(r,i.root,this.visualElement.getTransformPagePoint());let l=KQ(i.layout.layoutBox,s);if(n){const d=n(JX(l));this.hasMutatedConstraints=!!d,d&&(l=f5(d))}return l}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),m=this.constraints||{},h=Ns(p=>{if(!Yp(p,n,this.currentDirection))return;let v=m&&m[p]||{};l&&(v={min:0,max:0});const S=i?200:1e6,A=i?40:1e7,T={type:"inertia",velocity:r?t[p]:0,bounceStiffness:S,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...s,...v};return this.startAxisValueAnimation(p,T)});return Promise.all(h).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return ES(this.visualElement,t),r.start(HA(t,r,0,n,this.visualElement,!1))}stopAnimation(){Ns(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ns(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ns(n=>{const{drag:r}=this.getProps();if(!Yp(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:l,max:d}=i.layout.layoutBox[n];s.set(t[n]-gr(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Hf(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ns(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const m=d.get();i[l]=XQ({min:m,max:m},this.constraints[l])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ns(l=>{if(!Yp(l,t,null))return;const d=this.getAxisMotionValue(l),{min:m,max:h}=this.constraints[l];d.set(gr(m,h,i[l]))})}addListeners(){if(!this.visualElement.current)return;JQ.set(this.visualElement,this);const t=this.visualElement.current,n=d0(t,"pointerdown",m=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Hf(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),nr.read(r);const l=E0(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:m,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ns(p=>{const v=this.getAxisMotionValue(p);v&&(this.originPoint[p]+=m[p].translate,v.set(v.get()+m[p].translate))}),this.visualElement.render())});return()=>{l(),n(),s(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:l=CS,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:l,dragMomentum:d}}}function Yp(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function tZ(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class nZ extends au{constructor(t){super(t),this.removeGroupControls=_s,this.removeListeners=_s,this.controls=new eZ(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||_s}unmount(){this.removeGroupControls(),this.removeListeners()}}const sM=e=>(t,n)=>{e&&nr.postRender(()=>e(t,n))};class rZ extends au{constructor(){super(...arguments),this.removePointerDownListener=_s}onPointerDown(t){this.session=new C5(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_5(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:sM(t),onStart:sM(n),onMove:r,onEnd:(s,l)=>{delete this.session,i&&nr.postRender(()=>i(s,l))}}}mount(){this.removePointerDownListener=d0(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ax={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function oM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Um={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Ot.test(e))e=parseFloat(e);else return e;const n=oM(e,t.target.x),r=oM(e,t.target.y);return`${n}% ${r}%`}},iZ={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=Kc.parse(e);if(i.length>5)return r;const s=Kc.createTransformer(e),l=typeof i[0]!="number"?1:0,d=n.x.scale*t.x,m=n.y.scale*t.y;i[0+l]/=d,i[1+l]/=m;const h=gr(d,m,.5);return typeof i[2+l]=="number"&&(i[2+l]/=h),typeof i[3+l]=="number"&&(i[3+l]/=h),s(i)}};let Aw=!1;class aZ extends N.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;_X(sZ),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),Aw&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ax.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:l}=r;return l&&(l.isPresent=s,Aw=!0,i||t.layoutDependency!==n||n===void 0||t.isPresent!==s?l.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?l.promote():l.relegate()||nr.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),RA.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;Aw=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function O5(e){const[t,n]=Z6(),r=N.useContext(dA);return a.jsx(aZ,{...e,layoutGroup:r,switchLayoutGroup:N.useContext(u5),isPresent:t,safeToRemove:n})}const sZ={borderRadius:{...Um,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Um,borderTopRightRadius:Um,borderBottomLeftRadius:Um,borderBottomRightRadius:Um,boxShadow:iZ};function oZ(e,t,n){const r=Gi(e)?e:sh(e);return r.start(HA("",r,t,n)),r.animation}const lZ=(e,t)=>e.depth-t.depth;class cZ{constructor(){this.children=[],this.isDirty=!1}add(t){mA(this.children,t),this.isDirty=!0}remove(t){gA(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(lZ),this.isDirty=!1,this.children.forEach(t)}}function uZ(e,t){const n=_a.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(Gc(r),e(s-t))};return nr.setup(r,!0),()=>Gc(r)}const M5=["TopLeft","TopRight","BottomLeft","BottomRight"],dZ=M5.length,lM=e=>typeof e=="string"?parseFloat(e):e,cM=e=>typeof e=="number"||Ot.test(e);function fZ(e,t,n,r,i,s){i?(e.opacity=gr(0,n.opacity??1,hZ(r)),e.opacityExit=gr(t.opacity??1,0,mZ(r))):s&&(e.opacity=gr(t.opacity??1,n.opacity??1,r));for(let l=0;l<dZ;l++){const d=`border${M5[l]}Radius`;let m=uM(t,d),h=uM(n,d);if(m===void 0&&h===void 0)continue;m||(m=0),h||(h=0),m===0||h===0||cM(m)===cM(h)?(e[d]=Math.max(gr(lM(m),lM(h),r),0),(Lo.test(h)||Lo.test(m))&&(e[d]+="%")):e[d]=h}(t.rotate||n.rotate)&&(e.rotate=gr(t.rotate||0,n.rotate||0,r))}function uM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const hZ=D5(0,.5,v6),mZ=D5(.5,.95,_s);function D5(e,t,n){return r=>r<e?0:r>t?1:n(w0(e,t,r))}function dM(e,t){e.min=t.min,e.max=t.max}function bs(e,t){dM(e.x,t.x),dM(e.y,t.y)}function fM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hM(e,t,n,r,i){return e-=t,e=Fx(e,1/n,r),i!==void 0&&(e=Fx(e,1/i,r)),e}function gZ(e,t=0,n=1,r=.5,i,s=e,l=e){if(Lo.test(t)&&(t=parseFloat(t),t=gr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let d=gr(s.min,s.max,r);e===s&&(d-=t),e.min=hM(e.min,t,n,d,i),e.max=hM(e.max,t,n,d,i)}function mM(e,t,[n,r,i],s,l){gZ(e,t[n],t[r],t[i],t.scale,s,l)}const pZ=["x","scaleX","originX"],xZ=["y","scaleY","originY"];function gM(e,t,n,r){mM(e.x,t,pZ,n?n.x:void 0,r?r.x:void 0),mM(e.y,t,xZ,n?n.y:void 0,r?r.y:void 0)}function pM(e){return e.translate===0&&e.scale===1}function R5(e){return pM(e.x)&&pM(e.y)}function xM(e,t){return e.min===t.min&&e.max===t.max}function vZ(e,t){return xM(e.x,t.x)&&xM(e.y,t.y)}function vM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function P5(e,t){return vM(e.x,t.x)&&vM(e.y,t.y)}function yM(e){return sa(e.x)/sa(e.y)}function bM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yZ{constructor(){this.members=[]}add(t){mA(this.members,t),t.scheduleRender()}remove(t){if(gA(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bZ(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,l=(n==null?void 0:n.z)||0;if((i||s||l)&&(r=`translate3d(${i}px, ${s}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:h,rotate:p,rotateX:v,rotateY:S,skewX:A,skewY:T}=n;h&&(r=`perspective(${h}px) ${r}`),p&&(r+=`rotate(${p}deg) `),v&&(r+=`rotateX(${v}deg) `),S&&(r+=`rotateY(${S}deg) `),A&&(r+=`skewX(${A}deg) `),T&&(r+=`skewY(${T}deg) `)}const d=e.x.scale*t.x,m=e.y.scale*t.y;return(d!==1||m!==1)&&(r+=`scale(${d}, ${m})`),r||"none"}const Ew=["","X","Y","Z"],wZ=1e3;let jZ=0;function _w(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function I5(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=b5(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nr,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&I5(r)}function k5({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},d=t==null?void 0:t()){this.id=jZ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(AZ),this.nodes.forEach(TZ),this.nodes.forEach(OZ),this.nodes.forEach(EZ)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new cZ)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new vA),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const m=this.eventHandlers.get(l);m&&m.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=Q6(l)&&!hX(l),this.instance=l;const{layoutId:d,layout:m,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||d)&&(this.isLayoutDirty=!0),e){let p,v=0;const S=()=>this.root.updateBlockedByResize=!1;nr.read(()=>{v=window.innerWidth}),e(l,()=>{const A=window.innerWidth;A!==v&&(v=A,this.root.updateBlockedByResize=!0,p&&p(),p=uZ(S,250),Ax.hasAnimatedSinceResize&&(Ax.hasAnimatedSinceResize=!1,this.nodes.forEach(SM)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||m)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:v,hasRelativeLayoutChanged:S,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||h.getDefaultTransition()||IZ,{onLayoutAnimationStart:_,onLayoutAnimationComplete:C}=h.getProps(),M=!this.targetLayout||!P5(this.targetLayout,A),P=!v&&S;if(this.options.layoutRoot||this.resumeFrom||P||v&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...MA(T,"layout"),onPlay:_,onComplete:C};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,P)}else v||SM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Gc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MZ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&I5(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const v=this.path[p];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:d,layout:m}=this.options;if(d===void 0&&!m)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(CZ),this.nodes.forEach(SZ),this.nodes.forEach(NZ)):this.nodes.forEach(jM),this.clearAllSnapshots();const d=_a.now();Oi.delta=kl(0,1e3/60,d-Oi.timestamp),Oi.timestamp=d,Oi.isProcessing=!0,pw.update.process(Oi),pw.preRender.process(Oi),pw.render.process(Oi),Oi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,RA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(_Z),this.sharedNodes.forEach(DZ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sa(this.snapshot.measuredBox.x)&&!sa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Lr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:m,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!R5(this.projectionDelta),m=this.getTransformTemplate(),h=m?m(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||Hu(this.latestValues)||p)&&(i(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let m=this.removeElementScroll(d);return l&&(m=this.removeTransform(m)),kZ(m),{animationId:this.root.animationId,measuredBox:d,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var h;const{visualElement:l}=this.options;if(!l)return Lr();const d=l.measureViewportBox();if(!(((h=this.scroll)==null?void 0:h.wasRoot)||this.path.some(LZ))){const{scroll:p}=this.root;p&&(qf(d.x,p.offset.x),qf(d.y,p.offset.y))}return d}removeElementScroll(l){var m;const d=Lr();if(bs(d,l),(m=this.scroll)!=null&&m.wasRoot)return d;for(let h=0;h<this.path.length;h++){const p=this.path[h],{scroll:v,options:S}=p;p!==this.root&&v&&S.layoutScroll&&(v.wasRoot&&bs(d,l),qf(d.x,v.offset.x),qf(d.y,v.offset.y))}return d}applyTransform(l,d=!1){const m=Lr();bs(m,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Yf(m,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),Hu(p.latestValues)&&Yf(m,p.latestValues)}return Hu(this.latestValues)&&Yf(m,this.latestValues),m}removeTransform(l){const d=Lr();bs(d,l);for(let m=0;m<this.path.length;m++){const h=this.path[m];if(!h.instance||!Hu(h.latestValues))continue;jS(h.latestValues)&&h.updateSnapshot();const p=Lr(),v=h.measurePageBox();bs(p,v),gM(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return Hu(this.latestValues)&&gM(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var S;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==d;if(!(l||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:v}=this.options;if(!(!this.layout||!(p||v))){if(this.resolvedRelativeTargetAt=Oi.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),h0(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Lr(),this.targetWithTransforms=Lr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$Q(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):bs(this.target,this.layout.layoutBox),m5(this.target,this.targetDelta)):bs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Lr(),this.relativeTargetOrigin=Lr(),h0(this.relativeTargetOrigin,this.target,A.target),bs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||jS(this.parent.latestValues)||h5(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var T;const l=this.getLead(),d=!!this.resumingFrom||this!==l;let m=!0;if((this.isProjectionDirty||(T=this.parent)!=null&&T.isProjectionDirty)&&(m=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Oi.timestamp&&(m=!1),m)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;bs(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,S=this.treeScale.y;tQ(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Lr());const{target:A}=l;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fM(this.prevProjectionDelta.x,this.projectionDelta.x),fM(this.prevProjectionDelta.y,this.projectionDelta.y)),f0(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==S||!bM(this.projectionDelta.x,this.prevProjectionDelta.x)||!bM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),l){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wf(),this.projectionDelta=Wf(),this.projectionDeltaWithTransform=Wf()}setAnimationOrigin(l,d=!1){const m=this.snapshot,h=m?m.latestValues:{},p={...this.latestValues},v=Wf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const S=Lr(),A=m?m.source:void 0,T=this.layout?this.layout.source:void 0,_=A!==T,C=this.getStack(),M=!C||C.members.length<=1,P=!!(_&&!M&&this.options.crossfade===!0&&!this.path.some(PZ));this.animationProgress=0;let R;this.mixTargetDelta=U=>{const B=U/1e3;NM(v.x,l.x,B),NM(v.y,l.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(h0(S,this.layout.layoutBox,this.relativeParent.layout.layoutBox),RZ(this.relativeTarget,this.relativeTargetOrigin,S,B),R&&vZ(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Lr()),bs(R,this.relativeTarget)),_&&(this.animationValues=p,fZ(p,h,this.latestValues,B,P,M)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){var d,m,h;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(h=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||h.stop(),this.pendingAnimation&&(Gc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{Ax.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=sh(0)),this.currentAnimation=oZ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:p=>{this.mixTargetDelta(p),l.onUpdate&&l.onUpdate(p)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(wZ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:m,layout:h,latestValues:p}=l;if(!(!d||!m||!h)){if(this!==l&&this.layout&&h&&L5(this.options.animationType,this.layout.layoutBox,h.layoutBox)){m=this.target||Lr();const v=sa(this.layout.layoutBox.x);m.x.min=l.target.x.min,m.x.max=m.x.min+v;const S=sa(this.layout.layoutBox.y);m.y.min=l.target.y.min,m.y.max=m.y.min+S}bs(d,m),Yf(d,p),f0(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new yZ),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var d;const{layoutId:l}=this.options;return l?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:l}=this.options;return l?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:m}={}){const h=this.getStack();h&&h.promote(this,m),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:m}=l;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(d=!0),!d)return;const h={};m.z&&_w("z",l,h,this.animationValues);for(let p=0;p<Ew.length;p++)_w(`rotate${Ew[p]}`,l,h,this.animationValues),_w(`skew${Ew[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=Nx(d==null?void 0:d.pointerEvents)||"",l.transform=m?m(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=Nx(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Hu(this.latestValues)&&(l.transform=m?m({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let v=bZ(this.projectionDeltaWithTransform,this.treeScale,p);m&&(v=m(p,v)),l.transform=v;const{x:S,y:A}=this.projectionDelta;l.transformOrigin=`${S.origin*100}% ${A.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const T in A0){if(p[T]===void 0)continue;const{correct:_,applyTo:C,isCSSVariable:M}=A0[T],P=v==="none"?p[T]:_(p[T],h);if(C){const R=C.length;for(let U=0;U<R;U++)l[C[U]]=P}else M?this.options.visualElement.renderState.vars[T]=P:l[T]=P}this.options.layoutId&&(l.pointerEvents=h===this?Nx(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var d;return(d=l.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(wM),this.root.sharedNodes.clear()}}}function SZ(e){e.updateLayout()}function NZ(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,l=t.source!==e.layout.source;s==="size"?Ns(v=>{const S=l?t.measuredBox[v]:t.layoutBox[v],A=sa(S);S.min=r[v].min,S.max=S.min+A}):L5(s,t.layoutBox,r)&&Ns(v=>{const S=l?t.measuredBox[v]:t.layoutBox[v],A=sa(r[v]);S.max=S.min+A,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[v].max=e.relativeTarget[v].min+A)});const d=Wf();f0(d,r,t.layoutBox);const m=Wf();l?f0(m,e.applyTransform(i,!0),t.measuredBox):f0(m,r,t.layoutBox);const h=!R5(d);let p=!1;if(!e.resumeFrom){const v=e.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:S,layout:A}=v;if(S&&A){const T=Lr();h0(T,t.layoutBox,S.layoutBox);const _=Lr();h0(_,r,A.layoutBox),P5(T,_)||(p=!0),v.options.layoutRoot&&(e.relativeTarget=_,e.relativeTargetOrigin=T,e.relativeParent=v)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:d,hasLayoutChanged:h,hasRelativeLayoutChanged:p})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function AZ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function EZ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function _Z(e){e.clearSnapshot()}function wM(e){e.clearMeasurements()}function jM(e){e.isLayoutDirty=!1}function CZ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function SM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TZ(e){e.resolveTargetDelta()}function OZ(e){e.calcProjection()}function MZ(e){e.resetSkewAndRotation()}function DZ(e){e.removeLeadSnapshot()}function NM(e,t,n){e.translate=gr(t.translate,0,n),e.scale=gr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function AM(e,t,n,r){e.min=gr(t.min,n.min,r),e.max=gr(t.max,n.max,r)}function RZ(e,t,n,r){AM(e.x,t.x,n.x,r),AM(e.y,t.y,n.y,r)}function PZ(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const IZ={duration:.45,ease:[.4,0,.1,1]},EM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),_M=EM("applewebkit/")&&!EM("chrome/")?Math.round:_s;function CM(e){e.min=_M(e.min),e.max=_M(e.max)}function kZ(e){CM(e.x),CM(e.y)}function L5(e,t,n){return e==="position"||e==="preserve-aspect"&&!VQ(yM(t),yM(n),.2)}function LZ(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const BZ=k5({attachResizeListener:(e,t)=>E0(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Cw={current:void 0},B5=k5({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Cw.current){const e=new BZ({});e.mount(window),e.setOptions({layoutScroll:!0}),Cw.current=e}return Cw.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),FZ={pan:{Feature:rZ},drag:{Feature:nZ,ProjectionNode:B5,MeasureLayout:O5}};function TM(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&nr.postRender(()=>s(t,tg(t)))}class UZ extends au{mount(){const{current:t}=this.node;t&&(this.unmount=lX(t,(n,r)=>(TM(this.node,r,"Start"),i=>TM(this.node,i,"End"))))}unmount(){}}class zZ extends au{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Z0(E0(this.node.current,"focus",()=>this.onFocus()),E0(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function OM(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&nr.postRender(()=>s(t,tg(t)))}class VZ extends au{mount(){const{current:t}=this.node;t&&(this.unmount=fX(t,(n,r)=>(OM(this.node,r,"Start"),(i,{success:s})=>OM(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const TS=new WeakMap,Tw=new WeakMap,$Z=e=>{const t=TS.get(e.target);t&&t(e)},HZ=e=>{e.forEach($Z)};function qZ({root:e,...t}){const n=e||document;Tw.has(n)||Tw.set(n,{});const r=Tw.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(HZ,{root:e,...t})),r[i]}function YZ(e,t,n){const r=qZ(t);return TS.set(e,n),r.observe(e),()=>{TS.delete(e),r.unobserve(e)}}const WZ={some:0,all:1};class GZ extends au{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:WZ[i]},d=m=>{const{isIntersecting:h}=m;if(this.isInView===h||(this.isInView=h,s&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:v}=this.node.getProps(),S=h?p:v;S&&S(m)};return YZ(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(KZ(t,n))&&this.startObserver()}unmount(){}}function KZ({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const XZ={inView:{Feature:GZ},tap:{Feature:VZ},focus:{Feature:zZ},hover:{Feature:UZ}},QZ={layout:{ProjectionNode:B5,MeasureLayout:O5}},ZZ={...kQ,...XZ,...FZ,...QZ},He=ZX(ZZ,dQ);function MM(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Yv(...e){return t=>{let n=!1;const r=e.map(i=>{const s=MM(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():MM(e[i],null)}}}}function bn(...e){return N.useCallback(Yv(...e),e)}function fd(e){const t=JZ(e),n=N.forwardRef((r,i)=>{const{children:s,...l}=r,d=N.Children.toArray(s),m=d.find(tJ);if(m){const h=m.props.children,p=d.map(v=>v===m?N.Children.count(h)>1?N.Children.only(null):N.isValidElement(h)?h.props.children:null:v);return a.jsx(t,{...l,ref:i,children:N.isValidElement(h)?N.cloneElement(h,void 0,p):null})}return a.jsx(t,{...l,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var F5=fd("Slot");function JZ(e){const t=N.forwardRef((n,r)=>{const{children:i,...s}=n;if(N.isValidElement(i)){const l=rJ(i),d=nJ(s,i.props);return i.type!==N.Fragment&&(d.ref=r?Yv(r,l):l),N.cloneElement(i,d)}return N.Children.count(i)>1?N.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var eJ=Symbol("radix.slottable");function tJ(e){return N.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===eJ}function nJ(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...d)=>{const m=s(...d);return i(...d),m}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function rJ(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function U5(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=U5(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function tn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=U5(e))&&(r&&(r+=" "),r+=t);return r}const DM=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,RM=tn,qA=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return RM(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,l=Object.keys(i).map(h=>{const p=n==null?void 0:n[h],v=s==null?void 0:s[h];if(p===null)return null;const S=DM(p)||DM(v);return i[h][S]}),d=n&&Object.entries(n).reduce((h,p)=>{let[v,S]=p;return S===void 0||(h[v]=S),h},{}),m=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((h,p)=>{let{class:v,className:S,...A}=p;return Object.entries(A).every(T=>{let[_,C]=T;return Array.isArray(C)?C.includes({...s,...d}[_]):{...s,...d}[_]===C})?[...h,v,S]:h},[]);return RM(e,l,m,n==null?void 0:n.class,n==null?void 0:n.className)},YA="-",iJ=e=>{const t=sJ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{const d=l.split(YA);return d[0]===""&&d.length!==1&&d.shift(),z5(d,t)||aJ(l)},getConflictingClassGroupIds:(l,d)=>{const m=n[l]||[];return d&&r[l]?[...m,...r[l]]:m}}},z5=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?z5(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(YA);return(l=t.validators.find(({validator:d})=>d(s)))==null?void 0:l.classGroupId},PM=/^\[(.+)\]$/,aJ=e=>{if(PM.test(e)){const t=PM.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},sJ=e=>{const{theme:t,classGroups:n}=e,r={nextPart:new Map,validators:[]};for(const i in n)OS(n[i],r,i,t);return r},OS=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:IM(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(oJ(i)){OS(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,l])=>{OS(l,IM(t,s),n,r)})})},IM=(e,t)=>{let n=e;return t.split(YA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oJ=e=>e.isThemeGetter,lJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,l)=>{n.set(s,l),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let l=n.get(s);if(l!==void 0)return l;if((l=r.get(s))!==void 0)return i(s,l),l},set(s,l){n.has(s)?n.set(s,l):i(s,l)}}},MS="!",DS=":",cJ=DS.length,uJ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=i=>{const s=[];let l=0,d=0,m=0,h;for(let T=0;T<i.length;T++){let _=i[T];if(l===0&&d===0){if(_===DS){s.push(i.slice(m,T)),m=T+cJ;continue}if(_==="/"){h=T;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const p=s.length===0?i:i.substring(m),v=dJ(p),S=v!==p,A=h&&h>m?h-m:void 0;return{modifiers:s,hasImportantModifier:S,baseClassName:v,maybePostfixModifierPosition:A}};if(t){const i=t+DS,s=r;r=l=>l.startsWith(i)?s(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=s=>n({className:s,parseClassName:i})}return r},dJ=e=>e.endsWith(MS)?e.substring(0,e.length-1):e.startsWith(MS)?e.substring(1):e,fJ=e=>{const t=Object.fromEntries(e.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let s=[];return r.forEach(l=>{l[0]==="["||t[l]?(i.push(...s.sort(),l),s=[]):s.push(l)}),i.push(...s.sort()),i}},hJ=e=>({cache:lJ(e.cacheSize),parseClassName:uJ(e),sortModifiers:fJ(e),...iJ(e)}),mJ=/\s+/,gJ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:s}=t,l=[],d=e.trim().split(mJ);let m="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:v,modifiers:S,hasImportantModifier:A,baseClassName:T,maybePostfixModifierPosition:_}=n(p);if(v){m=p+(m.length>0?" "+m:m);continue}let C=!!_,M=r(C?T.substring(0,_):T);if(!M){if(!C){m=p+(m.length>0?" "+m:m);continue}if(M=r(T),!M){m=p+(m.length>0?" "+m:m);continue}C=!1}const P=s(S).join(":"),R=A?P+MS:P,U=R+M;if(l.includes(U))continue;l.push(U);const B=i(M,C);for(let L=0;L<B.length;++L){const F=B[L];l.push(R+F)}m=p+(m.length>0?" "+m:m)}return m};function pJ(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=V5(t))&&(r&&(r+=" "),r+=n);return r}const V5=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=V5(e[r]))&&(n&&(n+=" "),n+=t);return n};function xJ(e,...t){let n,r,i,s=l;function l(m){const h=t.reduce((p,v)=>v(p),e());return n=hJ(h),r=n.cache.get,i=n.cache.set,s=d,d(m)}function d(m){const h=r(m);if(h)return h;const p=gJ(m,n);return i(m,p),p}return function(){return s(pJ.apply(null,arguments))}}const oi=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},$5=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,H5=/^\((?:(\w[\w-]*):)?(.+)\)$/i,vJ=/^\d+\/\d+$/,yJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,SJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mf=e=>vJ.test(e),qt=e=>!!e&&!Number.isNaN(Number(e)),Dc=e=>!!e&&Number.isInteger(Number(e)),Ow=e=>e.endsWith("%")&&qt(e.slice(0,-1)),bl=e=>yJ.test(e),NJ=()=>!0,AJ=e=>bJ.test(e)&&!wJ.test(e),q5=()=>!1,EJ=e=>jJ.test(e),_J=e=>SJ.test(e),CJ=e=>!ft(e)&&!ht(e),TJ=e=>Th(e,G5,q5),ft=e=>$5.test(e),Vu=e=>Th(e,K5,AJ),Mw=e=>Th(e,PJ,qt),kM=e=>Th(e,Y5,q5),OJ=e=>Th(e,W5,_J),Wp=e=>Th(e,X5,EJ),ht=e=>H5.test(e),zm=e=>Oh(e,K5),MJ=e=>Oh(e,IJ),LM=e=>Oh(e,Y5),DJ=e=>Oh(e,G5),RJ=e=>Oh(e,W5),Gp=e=>Oh(e,X5,!0),Th=(e,t,n)=>{const r=$5.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Oh=(e,t,n=!1)=>{const r=H5.exec(e);return r?r[1]?t(r[1]):n:!1},Y5=e=>e==="position"||e==="percentage",W5=e=>e==="image"||e==="url",G5=e=>e==="length"||e==="size"||e==="bg-size",K5=e=>e==="length",PJ=e=>e==="number",IJ=e=>e==="family-name",X5=e=>e==="shadow",kJ=()=>{const e=oi("color"),t=oi("font"),n=oi("text"),r=oi("font-weight"),i=oi("tracking"),s=oi("leading"),l=oi("breakpoint"),d=oi("container"),m=oi("spacing"),h=oi("radius"),p=oi("shadow"),v=oi("inset-shadow"),S=oi("text-shadow"),A=oi("drop-shadow"),T=oi("blur"),_=oi("perspective"),C=oi("aspect"),M=oi("ease"),P=oi("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...U(),ht,ft],L=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],V=()=>[ht,ft,m],z=()=>[Mf,"full","auto",...V()],H=()=>[Dc,"none","subgrid",ht,ft],W=()=>["auto",{span:["full",Dc,ht,ft]},Dc,ht,ft],q=()=>[Dc,"auto",ht,ft],Q=()=>["auto","min","max","fr",ht,ft],te=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...V()],ne=()=>[Mf,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...V()],se=()=>[e,ht,ft],me=()=>[...U(),LM,kM,{position:[ht,ft]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],de=()=>["auto","cover","contain",DJ,TJ,{size:[ht,ft]}],oe=()=>[Ow,zm,Vu],he=()=>["","none","full",h,ht,ft],Re=()=>["",qt,zm,Vu],Le=()=>["solid","dashed","dotted","double"],le=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],pe=()=>[qt,Ow,LM,kM],je=()=>["","none",T,ht,ft],xe=()=>["none",qt,ht,ft],Fe=()=>["none",qt,ht,ft],Ce=()=>[qt,ht,ft],we=()=>[Mf,"full",...V()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[bl],breakpoint:[bl],color:[NJ],container:[bl],"drop-shadow":[bl],ease:["in","out","in-out"],font:[CJ],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[bl],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[bl],shadow:[bl],spacing:["px",qt],text:[bl],"text-shadow":[bl],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Mf,ft,ht,C]}],container:["container"],columns:[{columns:[qt,ft,ht,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[Dc,"auto",ht,ft]}],basis:[{basis:[Mf,"full","auto",d,...V()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qt,Mf,"auto","initial","none",ft]}],grow:[{grow:["",qt,ht,ft]}],shrink:[{shrink:["",qt,ht,ft]}],order:[{order:[Dc,"first","last","none",ht,ft]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Q()}],"auto-rows":[{"auto-rows":Q()}],gap:[{gap:V()}],"gap-x":[{"gap-x":V()}],"gap-y":[{"gap-y":V()}],"justify-content":[{justify:[...te(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...te()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":te()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:V()}],px:[{px:V()}],py:[{py:V()}],ps:[{ps:V()}],pe:[{pe:V()}],pt:[{pt:V()}],pr:[{pr:V()}],pb:[{pb:V()}],pl:[{pl:V()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":V()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":V()}],"space-y-reverse":["space-y-reverse"],size:[{size:ne()}],w:[{w:[d,"screen",...ne()]}],"min-w":[{"min-w":[d,"screen","none",...ne()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...ne()]}],h:[{h:["screen","lh",...ne()]}],"min-h":[{"min-h":["screen","lh","none",...ne()]}],"max-h":[{"max-h":["screen","lh",...ne()]}],"font-size":[{text:["base",n,zm,Vu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ht,Mw]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ow,ft]}],"font-family":[{font:[MJ,ft,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,ht,ft]}],"line-clamp":[{"line-clamp":[qt,"none",ht,Mw]}],leading:[{leading:[s,...V()]}],"list-image":[{"list-image":["none",ht,ft]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ht,ft]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:se()}],"text-color":[{text:se()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Le(),"wavy"]}],"text-decoration-thickness":[{decoration:[qt,"from-font","auto",ht,Vu]}],"text-decoration-color":[{decoration:se()}],"underline-offset":[{"underline-offset":[qt,"auto",ht,ft]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ht,ft]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ht,ft]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:de()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Dc,ht,ft],radial:["",ht,ft],conic:[Dc,ht,ft]},RJ,OJ]}],"bg-color":[{bg:se()}],"gradient-from-pos":[{from:oe()}],"gradient-via-pos":[{via:oe()}],"gradient-to-pos":[{to:oe()}],"gradient-from":[{from:se()}],"gradient-via":[{via:se()}],"gradient-to":[{to:se()}],rounded:[{rounded:he()}],"rounded-s":[{"rounded-s":he()}],"rounded-e":[{"rounded-e":he()}],"rounded-t":[{"rounded-t":he()}],"rounded-r":[{"rounded-r":he()}],"rounded-b":[{"rounded-b":he()}],"rounded-l":[{"rounded-l":he()}],"rounded-ss":[{"rounded-ss":he()}],"rounded-se":[{"rounded-se":he()}],"rounded-ee":[{"rounded-ee":he()}],"rounded-es":[{"rounded-es":he()}],"rounded-tl":[{"rounded-tl":he()}],"rounded-tr":[{"rounded-tr":he()}],"rounded-br":[{"rounded-br":he()}],"rounded-bl":[{"rounded-bl":he()}],"border-w":[{border:Re()}],"border-w-x":[{"border-x":Re()}],"border-w-y":[{"border-y":Re()}],"border-w-s":[{"border-s":Re()}],"border-w-e":[{"border-e":Re()}],"border-w-t":[{"border-t":Re()}],"border-w-r":[{"border-r":Re()}],"border-w-b":[{"border-b":Re()}],"border-w-l":[{"border-l":Re()}],"divide-x":[{"divide-x":Re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Le(),"hidden","none"]}],"divide-style":[{divide:[...Le(),"hidden","none"]}],"border-color":[{border:se()}],"border-color-x":[{"border-x":se()}],"border-color-y":[{"border-y":se()}],"border-color-s":[{"border-s":se()}],"border-color-e":[{"border-e":se()}],"border-color-t":[{"border-t":se()}],"border-color-r":[{"border-r":se()}],"border-color-b":[{"border-b":se()}],"border-color-l":[{"border-l":se()}],"divide-color":[{divide:se()}],"outline-style":[{outline:[...Le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qt,ht,ft]}],"outline-w":[{outline:["",qt,zm,Vu]}],"outline-color":[{outline:se()}],shadow:[{shadow:["","none",p,Gp,Wp]}],"shadow-color":[{shadow:se()}],"inset-shadow":[{"inset-shadow":["none",v,Gp,Wp]}],"inset-shadow-color":[{"inset-shadow":se()}],"ring-w":[{ring:Re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:se()}],"ring-offset-w":[{"ring-offset":[qt,Vu]}],"ring-offset-color":[{"ring-offset":se()}],"inset-ring-w":[{"inset-ring":Re()}],"inset-ring-color":[{"inset-ring":se()}],"text-shadow":[{"text-shadow":["none",S,Gp,Wp]}],"text-shadow-color":[{"text-shadow":se()}],opacity:[{opacity:[qt,ht,ft]}],"mix-blend":[{"mix-blend":[...le(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":le()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qt]}],"mask-image-linear-from-pos":[{"mask-linear-from":pe()}],"mask-image-linear-to-pos":[{"mask-linear-to":pe()}],"mask-image-linear-from-color":[{"mask-linear-from":se()}],"mask-image-linear-to-color":[{"mask-linear-to":se()}],"mask-image-t-from-pos":[{"mask-t-from":pe()}],"mask-image-t-to-pos":[{"mask-t-to":pe()}],"mask-image-t-from-color":[{"mask-t-from":se()}],"mask-image-t-to-color":[{"mask-t-to":se()}],"mask-image-r-from-pos":[{"mask-r-from":pe()}],"mask-image-r-to-pos":[{"mask-r-to":pe()}],"mask-image-r-from-color":[{"mask-r-from":se()}],"mask-image-r-to-color":[{"mask-r-to":se()}],"mask-image-b-from-pos":[{"mask-b-from":pe()}],"mask-image-b-to-pos":[{"mask-b-to":pe()}],"mask-image-b-from-color":[{"mask-b-from":se()}],"mask-image-b-to-color":[{"mask-b-to":se()}],"mask-image-l-from-pos":[{"mask-l-from":pe()}],"mask-image-l-to-pos":[{"mask-l-to":pe()}],"mask-image-l-from-color":[{"mask-l-from":se()}],"mask-image-l-to-color":[{"mask-l-to":se()}],"mask-image-x-from-pos":[{"mask-x-from":pe()}],"mask-image-x-to-pos":[{"mask-x-to":pe()}],"mask-image-x-from-color":[{"mask-x-from":se()}],"mask-image-x-to-color":[{"mask-x-to":se()}],"mask-image-y-from-pos":[{"mask-y-from":pe()}],"mask-image-y-to-pos":[{"mask-y-to":pe()}],"mask-image-y-from-color":[{"mask-y-from":se()}],"mask-image-y-to-color":[{"mask-y-to":se()}],"mask-image-radial":[{"mask-radial":[ht,ft]}],"mask-image-radial-from-pos":[{"mask-radial-from":pe()}],"mask-image-radial-to-pos":[{"mask-radial-to":pe()}],"mask-image-radial-from-color":[{"mask-radial-from":se()}],"mask-image-radial-to-color":[{"mask-radial-to":se()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":U()}],"mask-image-conic-pos":[{"mask-conic":[qt]}],"mask-image-conic-from-pos":[{"mask-conic-from":pe()}],"mask-image-conic-to-pos":[{"mask-conic-to":pe()}],"mask-image-conic-from-color":[{"mask-conic-from":se()}],"mask-image-conic-to-color":[{"mask-conic-to":se()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:de()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ht,ft]}],filter:[{filter:["","none",ht,ft]}],blur:[{blur:je()}],brightness:[{brightness:[qt,ht,ft]}],contrast:[{contrast:[qt,ht,ft]}],"drop-shadow":[{"drop-shadow":["","none",A,Gp,Wp]}],"drop-shadow-color":[{"drop-shadow":se()}],grayscale:[{grayscale:["",qt,ht,ft]}],"hue-rotate":[{"hue-rotate":[qt,ht,ft]}],invert:[{invert:["",qt,ht,ft]}],saturate:[{saturate:[qt,ht,ft]}],sepia:[{sepia:["",qt,ht,ft]}],"backdrop-filter":[{"backdrop-filter":["","none",ht,ft]}],"backdrop-blur":[{"backdrop-blur":je()}],"backdrop-brightness":[{"backdrop-brightness":[qt,ht,ft]}],"backdrop-contrast":[{"backdrop-contrast":[qt,ht,ft]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qt,ht,ft]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qt,ht,ft]}],"backdrop-invert":[{"backdrop-invert":["",qt,ht,ft]}],"backdrop-opacity":[{"backdrop-opacity":[qt,ht,ft]}],"backdrop-saturate":[{"backdrop-saturate":[qt,ht,ft]}],"backdrop-sepia":[{"backdrop-sepia":["",qt,ht,ft]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":V()}],"border-spacing-x":[{"border-spacing-x":V()}],"border-spacing-y":[{"border-spacing-y":V()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ht,ft]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qt,"initial",ht,ft]}],ease:[{ease:["linear","initial",M,ht,ft]}],delay:[{delay:[qt,ht,ft]}],animate:[{animate:["none",P,ht,ft]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[_,ht,ft]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:xe()}],"rotate-x":[{"rotate-x":xe()}],"rotate-y":[{"rotate-y":xe()}],"rotate-z":[{"rotate-z":xe()}],scale:[{scale:Fe()}],"scale-x":[{"scale-x":Fe()}],"scale-y":[{"scale-y":Fe()}],"scale-z":[{"scale-z":Fe()}],"scale-3d":["scale-3d"],skew:[{skew:Ce()}],"skew-x":[{"skew-x":Ce()}],"skew-y":[{"skew-y":Ce()}],transform:[{transform:[ht,ft,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:we()}],"translate-x":[{"translate-x":we()}],"translate-y":[{"translate-y":we()}],"translate-z":[{"translate-z":we()}],"translate-none":["translate-none"],accent:[{accent:se()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:se()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht,ft]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht,ft]}],fill:[{fill:["none",...se()]}],"stroke-w":[{stroke:[qt,zm,Vu,Mw]}],stroke:[{stroke:["none",...se()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},LJ=xJ(kJ);function At(...e){return LJ(tn(e))}const BJ=qA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function _e({className:e,variant:t,size:n,asChild:r=!1,...i}){const s=r?F5:"button";return a.jsx(s,{"data-slot":"button",className:At(BJ({variant:t,size:n,className:e})),...i})}function ve({className:e,...t}){return a.jsx("div",{"data-slot":"card",className:At("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function Ie({className:e,...t}){return a.jsx("div",{"data-slot":"card-header",className:At("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ke({className:e,...t}){return a.jsx("div",{"data-slot":"card-title",className:At("leading-none font-semibold",e),...t})}function lt({className:e,...t}){return a.jsx("div",{"data-slot":"card-description",className:At("text-muted-foreground text-sm",e),...t})}function ye({className:e,...t}){return a.jsx("div",{"data-slot":"card-content",className:At("px-6",e),...t})}/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UJ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),BM=e=>{const t=UJ(e);return t.charAt(0).toUpperCase()+t.slice(1)},Q5=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),zJ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var VJ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $J=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...d},m)=>N.createElement("svg",{ref:m,...VJ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Q5("lucide",i),...!s&&!zJ(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>N.createElement(h,p)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(e,t)=>{const n=N.forwardRef(({className:r,...i},s)=>N.createElement($J,{ref:s,iconNode:t,className:Q5(`lucide-${FJ(BM(e))}`,`lucide-${e}`,r),...i}));return n.displayName=BM(e),n};/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HJ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WA=st("activity",HJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qJ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ng=st("arrow-left",qJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YJ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],m0=st("arrow-right",YJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WJ=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],GJ=st("arrow-up-down",WJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KJ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Z5=st("bell",KJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XJ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ua=st("calendar",XJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QJ=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16",key:"qmtpty"}],["path",{d:"M9.5 4h5L17 7h3a2 2 0 0 1 2 2v7.5",key:"1ufyfc"}],["path",{d:"M14.121 15.121A3 3 0 1 1 9.88 10.88",key:"11zox6"}]],FM=st("camera-off",QJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZJ=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ex=st("camera",ZJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JJ=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],la=st("car",JJ);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],GA=st("chart-column",eee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tee=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],J5=st("check",tee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],eL=st("chevron-down",nee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ree=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],iee=st("chevron-right",ree);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aee=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],see=st("chevron-up",aee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],RS=st("circle-alert",oee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lee=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yi=st("circle-check-big",lee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],UM=st("circle-question-mark",cee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sd=st("circle-x",uee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],br=st("clock",dee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],KA=st("copy",fee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hee=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Ki=st("credit-card",hee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Qr=st("dollar-sign",mee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gee=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],ss=st("download",gee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pee=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],da=st("eye-off",pee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xee=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Kn=st("eye",xee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vee=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],XA=st("file-text",vee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yee=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],rg=st("funnel",yee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],QA=st("globe",bee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wee=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],_0=st("history",wee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],See=st("layout-dashboard",jee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bo=st("loader-circle",Nee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Eee=st("log-out",Aee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ZA=st("mail",_ee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cee=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$o=st("map-pin",Cee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tee=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],Oee=st("maximize",Tee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mee=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],zM=st("menu",Mee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dee=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Ree=st("message-square",Dee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pee=[["path",{d:"M5 12h14",key:"1ays0h"}]],tL=st("minus",Pee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],VM=st("monitor",Iee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],PS=st("moon",kee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lee=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],$M=st("navigation",Lee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Fee=st("phone",Bee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Cs=st("plus",Uee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],IS=st("printer",zee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],rr=st("qr-code",Vee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],_x=st("receipt",$ee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wv=st("refresh-cw",Hee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qee=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Yee=st("save",qee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],Gee=st("scan",Wee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Wl=st("search",Kee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],C0=st("settings",Xee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qee=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],kS=st("share-2",Qee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],g0=st("shield-check",Zee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jee=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ta=st("shield",Jee);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ete=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],HM=st("shopping-cart",ete);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tte=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],p0=st("smartphone",tte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nte=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],JA=st("sparkles",nte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],nL=st("square-pen",rte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],T0=st("star",ite);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],hd=st("store",ate);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],LS=st("sun",ste);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gv=st("target",ote);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],fa=st("ticket",lte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ute=st("trash-2",cte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],Bl=st("trending-down",dte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Xn=st("trending-up",fte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Da=st("triangle-alert",hte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],gte=st("user-plus",mte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],lh=st("user",pte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Xi=st("users",xte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],md=st("wallet",vte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ig=st("x",yte);/**
 * @license lucide-react v0.536.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kv=st("zap",bte),wte=[{icon:md,title:"Digital Wallet",description:"Secure digital wallet with instant payments, balance management, and real-time transaction tracking."},{icon:rr,title:"QR Payments",description:"Lightning-fast QR code payments for transport, events, and merchant transactions."},{icon:fa,title:"Event Tickets",description:"Buy, manage, and validate event tickets with blockchain-secured authenticity."},{icon:Ta,title:"Bank-Grade Security",description:"End-to-end encryption, multi-factor authentication, and fraud prevention."},{icon:Xn,title:"Analytics Dashboard",description:"Comprehensive insights into spending patterns, earnings, and financial health."},{icon:Kv,title:"Instant Transfers",description:"Real-time money transfers with zero fees between Tickets users."}],jte=[{icon:Xi,value:"50,000+",label:"Active Users",growth:"+25% this month"},{icon:Ki,value:"$2.5M+",label:"Transaction Volume",growth:"+40% this quarter"},{icon:$o,value:"12+",label:"Cities Covered",growth:"Expanding rapidly"},{icon:Ta,value:"99.99%",label:"Uptime",growth:"Enterprise-grade"}],Ste=[{name:"Ahmed Al-Rashid",role:"Business Owner",content:"Tickets transformed how I handle payments. The QR system is incredibly efficient for my restaurant.",avatar:"👨‍💼"},{name:"Sarah Hassan",role:"University Student",content:"Perfect for buying event tickets and managing my daily transport expenses. Love the analytics!",avatar:"👩‍🎓"},{name:"Omar Farouk",role:"Driver",content:"The driver platform is amazing. I can track my earnings in real-time and get paid instantly.",avatar:"🚗"}];function Nte(){const{t:e,language:t,setLanguage:n}=Yt();return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-40 left-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsx("header",{className:"relative border-b border-white/10 bg-black/20 backdrop-blur-xl",children:a.jsxs("div",{className:"container mx-auto flex h-20 items-center justify-between px-4",children:[a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-10 w-10"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>n(t==="en"?"ar":"en"),className:"text-white/70 hover:text-white hover:bg-white/10",children:[a.jsx(QA,{className:"h-4 w-4 mr-2"}),t==="en"?"العربية":"English"]}),a.jsx(Vt,{to:"/login",children:a.jsx(_e,{variant:"outline",size:"sm",className:"border-white/20 text-white hover:bg-white/10",children:"Sign In"})}),a.jsx(Vt,{to:"/register",children:a.jsx(_e,{size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0",children:"Get Started"})})]})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsxs("div",{className:"flex items-center gap-2 bg-gradient-to-r from-blue-500/20 to-purple-500/20 backdrop-blur-sm rounded-full px-4 py-2 border border-white/10",children:[a.jsx(JA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-sm text-white/80",children:"The Future of Digital Payments"})]})}),a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold mb-8 leading-tight",children:[a.jsx("span",{className:"bg-gradient-to-r from-white via-blue-100 to-purple-100 bg-clip-text text-transparent",children:"Digital Payments"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Reimagined"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-3xl mx-auto leading-relaxed",children:"Experience the next generation of digital payments with our comprehensive platform for wallets, QR payments, event tickets, and merchant solutions. Built for the modern economy."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[a.jsx(Vt,{to:"/register",children:a.jsxs(_e,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Start Your Journey",a.jsx(m0,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Vt,{to:"/login",children:a.jsx(_e,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Watch Demo"})})]}),a.jsx(He.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:1,delay:.3},className:"relative mx-auto max-w-4xl",children:a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsx("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-8 border border-white/10",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/20 rounded-xl p-6 border border-blue-400/20",children:[a.jsx(md,{className:"h-12 w-12 text-blue-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Digital Wallet"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Secure & instant"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/20 rounded-xl p-6 border border-purple-400/20",children:[a.jsx(rr,{className:"h-12 w-12 text-purple-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"QR Payments"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Lightning fast"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-indigo-500/20 to-indigo-600/20 rounded-xl p-6 border border-indigo-400/20",children:[a.jsx(fa,{className:"h-12 w-12 text-indigo-400 mb-4"}),a.jsx("h3",{className:"text-white font-semibold mb-2",children:"Event Tickets"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Blockchain secured"})]})]})})]})})]})})}),a.jsx("section",{className:"relative py-20 border-y border-white/10 bg-black/20",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:jte.map((r,i)=>a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-8 w-8 text-blue-400"})}),a.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:r.value}),a.jsx("div",{className:"text-gray-300 font-medium mb-1",children:r.label}),a.jsx("div",{className:"text-xs text-green-400",children:r.growth})]},r.label))})})}),a.jsx("section",{className:"relative py-32",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"text-center mb-20",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Everything You Need"})}),a.jsx("p",{className:"text-xl text-gray-400 max-w-3xl mx-auto",children:"A comprehensive platform designed for individuals, businesses, and enterprises."})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:wte.map((r,i)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.1},children:a.jsxs(ve,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10 hover:border-white/20 transition-all duration-300 hover:scale-105",children:[a.jsxs(Ie,{children:[a.jsx("div",{className:"mb-4 flex h-14 w-14 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:a.jsx(r.icon,{className:"h-7 w-7 text-blue-400"})}),a.jsx(ke,{className:"text-xl text-white",children:r.title})]}),a.jsx(ye,{children:a.jsx(lt,{className:"text-gray-400 leading-relaxed",children:r.description})})]})},r.title))})]})}),a.jsx("section",{className:"relative py-32 bg-black/20",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-20",children:[a.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Loved by Users"})}),a.jsx("p",{className:"text-xl text-gray-400",children:"Join thousands of satisfied users across the region"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:Ste.map((r,i)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:i*.2},children:a.jsx(ve,{className:"h-full bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(ye,{className:"p-6",children:[a.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((s,l)=>a.jsx(T0,{className:"h-4 w-4 text-yellow-400 fill-current"},l))}),a.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',r.content,'"']}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-2xl",children:r.avatar}),a.jsxs("div",{children:[a.jsx("div",{className:"text-white font-semibold",children:r.name}),a.jsx("div",{className:"text-gray-400 text-sm",children:r.role})]})]})]})})},r.name))})]})}),a.jsx("section",{className:"relative py-32",children:a.jsx("div",{className:"container mx-auto px-4 text-center",children:a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl"}),a.jsxs("div",{className:"relative bg-black/40 backdrop-blur-xl rounded-3xl p-16 border border-white/10",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-6",children:[a.jsx("span",{className:"bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Ready to Transform"}),a.jsx("br",{}),a.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Your Payments?"})]}),a.jsx("p",{className:"text-xl text-gray-300 mb-12 max-w-2xl mx-auto",children:"Join the digital payment revolution. Get started in minutes and experience the future of finance."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[a.jsx(Vt,{to:"/register",children:a.jsxs(_e,{size:"lg",className:"group bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 px-8 py-4 text-lg border-0",children:["Get Started Now",a.jsx(m0,{className:"ml-2 h-5 w-5 transition-transform group-hover:translate-x-1"})]})}),a.jsx(Vt,{to:"/login",children:a.jsx(_e,{variant:"outline",size:"lg",className:"border-white/20 text-white hover:bg-white/10 px-8 py-4 text-lg",children:"Talk to Sales"})})]})]})]})})}),a.jsx("footer",{className:"relative border-t border-white/10 bg-black/40 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-8 w-8"}),a.jsx("h3",{className:"text-xl font-bold text-white",children:"Tickets"})]}),a.jsx("p",{className:"text-gray-400 mb-6 max-w-md",children:"The next generation digital payment platform, designed for the modern economy."}),a.jsxs("div",{className:"flex items-center gap-2 text-green-400",children:[a.jsx(yi,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm",children:"SOC 2 Type II Certified"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Product"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"Digital Wallet"}),a.jsx("li",{children:"QR Payments"}),a.jsx("li",{children:"Event Tickets"}),a.jsx("li",{children:"Analytics"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-semibold mb-4",children:"Company"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:"About Us"}),a.jsx("li",{children:"Careers"}),a.jsx("li",{children:"Contact"}),a.jsx("li",{children:"Support"})]})]})]}),a.jsx("div",{className:"border-t border-white/10 pt-8 text-center",children:a.jsx("p",{className:"text-gray-400",children:"© 2024 Tickets. All rights reserved. | Built with ❤️ for the future of payments."})})]})})]})}function Pt({className:e,type:t,...n}){return a.jsx("input",{type:t,"data-slot":"input",className:At("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...n})}var Ate=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ct=Ate.reduce((e,t)=>{const n=fd(`Primitive.${t}`),r=N.forwardRef((i,s)=>{const{asChild:l,...d}=i,m=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...d,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function rL(e,t){e&&Ed.flushSync(()=>e.dispatchEvent(t))}var Ete="Label",iL=N.forwardRef((e,t)=>a.jsx(Ct.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));iL.displayName=Ete;var _te=iL;function et({className:e,...t}){return a.jsx(_te,{"data-slot":"label",className:At("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Cte=qA("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Oa({className:e,variant:t,...n}){return a.jsx("div",{"data-slot":"alert",role:"alert",className:At(Cte({variant:t}),e),...n})}function Ma({className:e,...t}){return a.jsx("div",{"data-slot":"alert-description",className:At("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}function Tte(e,t){const n=N.createContext(t),r=s=>{const{children:l,...d}=s,m=N.useMemo(()=>d,Object.values(d));return a.jsx(n.Provider,{value:m,children:l})};r.displayName=e+"Provider";function i(s){const l=N.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Is(e,t=[]){let n=[];function r(s,l){const d=N.createContext(l),m=n.length;n=[...n,l];const h=v=>{var M;const{scope:S,children:A,...T}=v,_=((M=S==null?void 0:S[e])==null?void 0:M[m])||d,C=N.useMemo(()=>T,Object.values(T));return a.jsx(_.Provider,{value:C,children:A})};h.displayName=s+"Provider";function p(v,S){var _;const A=((_=S==null?void 0:S[e])==null?void 0:_[m])||d,T=N.useContext(A);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${s}\``)}return[h,p]}const i=()=>{const s=n.map(l=>N.createContext(l));return function(d){const m=(d==null?void 0:d[e])||s;return N.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return i.scopeName=e,[r,Ote(i,...t)]}function Ote(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const l=r.reduce((d,{useScope:m,scopeName:h})=>{const v=m(s)[`__scope${h}`];return{...d,...v}},{});return N.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function gt(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}var ci=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},Mte=w8[" useInsertionEffect ".trim().toString()]||ci;function Xc({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,l]=Dte({defaultProp:t,onChange:n}),d=e!==void 0,m=d?e:i;{const p=N.useRef(e!==void 0);N.useEffect(()=>{const v=p.current;v!==d&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,r])}const h=N.useCallback(p=>{var v;if(d){const S=Rte(p)?p(e):p;S!==e&&((v=l.current)==null||v.call(l,S))}else s(p)},[d,e,s,l]);return[m,h]}function Dte({defaultProp:e,onChange:t}){const[n,r]=N.useState(e),i=N.useRef(n),s=N.useRef(t);return Mte(()=>{s.current=t},[t]),N.useEffect(()=>{var l;i.current!==n&&((l=s.current)==null||l.call(s,n),i.current=n)},[n,i]),[n,r,s]}function Rte(e){return typeof e=="function"}function eE(e){const t=N.useRef({value:e,previous:e});return N.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function tE(e){const[t,n]=N.useState(void 0);return ci(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let l,d;if("borderBoxSize"in s){const m=s.borderBoxSize,h=Array.isArray(m)?m[0]:m;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}function Pte(e,t){return N.useReducer((n,r)=>t[n][r]??n,e)}var Qo=e=>{const{present:t,children:n}=e,r=Ite(t),i=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),s=bn(r.ref,kte(i));return typeof n=="function"||r.isPresent?N.cloneElement(i,{ref:s}):null};Qo.displayName="Presence";function Ite(e){const[t,n]=N.useState(),r=N.useRef(null),i=N.useRef(e),s=N.useRef("none"),l=e?"mounted":"unmounted",[d,m]=Pte(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const h=Kp(r.current);s.current=d==="mounted"?h:"none"},[d]),ci(()=>{const h=r.current,p=i.current;if(p!==e){const S=s.current,A=Kp(h);e?m("MOUNT"):A==="none"||(h==null?void 0:h.display)==="none"?m("UNMOUNT"):m(p&&S!==A?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,m]),ci(()=>{if(t){let h;const p=t.ownerDocument.defaultView??window,v=A=>{const _=Kp(r.current).includes(A.animationName);if(A.target===t&&_&&(m("ANIMATION_END"),!i.current)){const C=t.style.animationFillMode;t.style.animationFillMode="forwards",h=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=C)})}},S=A=>{A.target===t&&(s.current=Kp(r.current))};return t.addEventListener("animationstart",S),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{p.clearTimeout(h),t.removeEventListener("animationstart",S),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:N.useCallback(h=>{r.current=h?getComputedStyle(h):null,n(h)},[])}}function Kp(e){return(e==null?void 0:e.animationName)||"none"}function kte(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Xv="Checkbox",[Lte,TEe]=Is(Xv),[Bte,nE]=Lte(Xv);function Fte(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:i,disabled:s,form:l,name:d,onCheckedChange:m,required:h,value:p="on",internal_do_not_use_render:v}=e,[S,A]=Xc({prop:n,defaultProp:i??!1,onChange:m,caller:Xv}),[T,_]=N.useState(null),[C,M]=N.useState(null),P=N.useRef(!1),R=T?!!l||!!T.closest("form"):!0,U={checked:S,disabled:s,setChecked:A,control:T,setControl:_,name:d,form:l,value:p,hasConsumerStoppedPropagationRef:P,required:h,defaultChecked:qc(i)?!1:i,isFormControl:R,bubbleInput:C,setBubbleInput:M};return a.jsx(Bte,{scope:t,...U,children:Ute(v)?v(U):r})}var aL="CheckboxTrigger",sL=N.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},i)=>{const{control:s,value:l,disabled:d,checked:m,required:h,setControl:p,setChecked:v,hasConsumerStoppedPropagationRef:S,isFormControl:A,bubbleInput:T}=nE(aL,e),_=bn(i,p),C=N.useRef(m);return N.useEffect(()=>{const M=s==null?void 0:s.form;if(M){const P=()=>v(C.current);return M.addEventListener("reset",P),()=>M.removeEventListener("reset",P)}},[s,v]),a.jsx(Ct.button,{type:"button",role:"checkbox","aria-checked":qc(m)?"mixed":m,"aria-required":h,"data-state":fL(m),"data-disabled":d?"":void 0,disabled:d,value:l,...r,ref:_,onKeyDown:gt(t,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:gt(n,M=>{v(P=>qc(P)?!0:!P),T&&A&&(S.current=M.isPropagationStopped(),S.current||M.stopPropagation())})})});sL.displayName=aL;var oL=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:l,disabled:d,value:m,onCheckedChange:h,form:p,...v}=e;return a.jsx(Fte,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:d,required:l,onCheckedChange:h,name:r,form:p,value:m,internal_do_not_use_render:({isFormControl:S})=>a.jsxs(a.Fragment,{children:[a.jsx(sL,{...v,ref:t,__scopeCheckbox:n}),S&&a.jsx(dL,{__scopeCheckbox:n})]})})});oL.displayName=Xv;var lL="CheckboxIndicator",cL=N.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=nE(lL,n);return a.jsx(Qo,{present:r||qc(s.checked)||s.checked===!0,children:a.jsx(Ct.span,{"data-state":fL(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});cL.displayName=lL;var uL="CheckboxBubbleInput",dL=N.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:l,required:d,disabled:m,name:h,value:p,form:v,bubbleInput:S,setBubbleInput:A}=nE(uL,e),T=bn(n,A),_=eE(s),C=tE(r);N.useEffect(()=>{const P=S;if(!P)return;const R=window.HTMLInputElement.prototype,B=Object.getOwnPropertyDescriptor(R,"checked").set,L=!i.current;if(_!==s&&B){const F=new Event("click",{bubbles:L});P.indeterminate=qc(s),B.call(P,qc(s)?!1:s),P.dispatchEvent(F)}},[S,_,s,i]);const M=N.useRef(qc(s)?!1:s);return a.jsx(Ct.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??M.current,required:d,disabled:m,name:h,value:p,form:v,...t,tabIndex:-1,ref:T,style:{...t.style,...C,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});dL.displayName=uL;function Ute(e){return typeof e=="function"}function qc(e){return e==="indeterminate"}function fL(e){return qc(e)?"indeterminate":e?"checked":"unchecked"}function zte({className:e,...t}){return a.jsx(oL,{"data-slot":"checkbox",className:At("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(cL,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:a.jsx(J5,{className:"size-3.5"})})})}function Vte(){const[e,t]=N.useState({email:"",password:""}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[l,d]=N.useState(""),[m,h]=N.useState(!1),{signIn:p}=cn(),{t:v}=Yt(),S=Yl(),A=async _=>{_.preventDefault(),d(""),h(!0);try{const{error:C}=await p(e.email,e.password,i);C?d(C.message):S("/")}catch{d("An unexpected error occurred")}finally{h(!1)}},T=(_,C)=>{t(M=>({...M,[_]:C}))};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(ng,{className:"h-4 w-4"}),v("registration.backToHome")]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(JA,{className:"h-4 w-4 text-yellow-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:v("login.welcomeBack")})]})]}),a.jsxs(ve,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Ie,{className:"text-center pb-2",children:[a.jsx(ke,{className:"text-2xl font-bold text-white",children:v("auth.signIn")}),a.jsx(lt,{className:"text-gray-400",children:v("auth.accessDescription")})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l&&a.jsx(Oa,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(Ma,{className:"text-red-400",children:l})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-white",children:v("auth.email")}),a.jsx(Pt,{id:"email",type:"email",value:e.email,onChange:_=>T("email",_.target.value),placeholder:v("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",className:"text-white",children:v("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"password",type:n?"text":"password",value:e.password,onChange:_=>T("password",_.target.value),placeholder:v("auth.enterPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(zte,{id:"rememberMe",checked:i,onCheckedChange:_=>s(_),className:"border-white/20 data-[state=checked]:bg-blue-500 data-[state=checked]:border-blue-500"}),a.jsx(et,{htmlFor:"rememberMe",className:"text-gray-400 text-sm cursor-pointer",children:v("auth.rememberMe")})]}),a.jsx(Vt,{to:"/forgot-password",className:"text-blue-400 hover:text-blue-300 transition-colors",children:v("auth.forgotPassword")})]}),a.jsx(He.div,{whileHover:{scale:1.01},whileTap:{scale:.99},children:a.jsxs(_e,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold transition-all duration-300 shadow-lg hover:shadow-xl",disabled:m,children:[m&&a.jsx(Bo,{className:"mr-2 h-5 w-5 animate-spin"}),v("auth.signIn")]})})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[v("auth.dontHaveAccount")," ",a.jsx(Vt,{to:"/register",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:v("auth.signUpHere")})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:v("login.secure")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:v("login.encrypted")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:v("login.private")})]})]})})]})]})}function qM(e,[t,n]){return Math.min(n,Math.max(t,e))}function rE(e){const t=e+"CollectionProvider",[n,r]=Is(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=_=>{const{scope:C,children:M}=_,P=Je.useRef(null),R=Je.useRef(new Map).current;return a.jsx(i,{scope:C,itemMap:R,collectionRef:P,children:M})};l.displayName=t;const d=e+"CollectionSlot",m=fd(d),h=Je.forwardRef((_,C)=>{const{scope:M,children:P}=_,R=s(d,M),U=bn(C,R.collectionRef);return a.jsx(m,{ref:U,children:P})});h.displayName=d;const p=e+"CollectionItemSlot",v="data-radix-collection-item",S=fd(p),A=Je.forwardRef((_,C)=>{const{scope:M,children:P,...R}=_,U=Je.useRef(null),B=bn(C,U),L=s(p,M);return Je.useEffect(()=>(L.itemMap.set(U,{ref:U,...R}),()=>void L.itemMap.delete(U))),a.jsx(S,{[v]:"",ref:B,children:P})});A.displayName=p;function T(_){const C=s(e+"CollectionConsumer",_);return Je.useCallback(()=>{const P=C.collectionRef.current;if(!P)return[];const R=Array.from(P.querySelectorAll(`[${v}]`));return Array.from(C.itemMap.values()).sort((L,F)=>R.indexOf(L.ref.current)-R.indexOf(F.ref.current))},[C.collectionRef,C.itemMap])}return[{Provider:l,Slot:h,ItemSlot:A},T,r]}var $te=N.createContext(void 0);function Qv(e){const t=N.useContext($te);return e||t||"ltr"}function ro(e){const t=N.useRef(e);return N.useEffect(()=>{t.current=e}),N.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Hte(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e);N.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var qte="DismissableLayer",BS="dismissableLayer.update",Yte="dismissableLayer.pointerDownOutside",Wte="dismissableLayer.focusOutside",YM,hL=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zv=N.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:l,onDismiss:d,...m}=e,h=N.useContext(hL),[p,v]=N.useState(null),S=(p==null?void 0:p.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,A]=N.useState({}),T=bn(t,F=>v(F)),_=Array.from(h.layers),[C]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),M=_.indexOf(C),P=p?_.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,U=P>=M,B=Xte(F=>{const V=F.target,z=[...h.branches].some(H=>H.contains(V));!U||z||(i==null||i(F),l==null||l(F),F.defaultPrevented||d==null||d())},S),L=Qte(F=>{const V=F.target;[...h.branches].some(H=>H.contains(V))||(s==null||s(F),l==null||l(F),F.defaultPrevented||d==null||d())},S);return Hte(F=>{P===h.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&d&&(F.preventDefault(),d()))},S),N.useEffect(()=>{if(p)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(YM=S.body.style.pointerEvents,S.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),WM(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(S.body.style.pointerEvents=YM)}},[p,S,n,h]),N.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),WM())},[p,h]),N.useEffect(()=>{const F=()=>A({});return document.addEventListener(BS,F),()=>document.removeEventListener(BS,F)},[]),a.jsx(Ct.div,{...m,ref:T,style:{pointerEvents:R?U?"auto":"none":void 0,...e.style},onFocusCapture:gt(e.onFocusCapture,L.onFocusCapture),onBlurCapture:gt(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:gt(e.onPointerDownCapture,B.onPointerDownCapture)})});Zv.displayName=qte;var Gte="DismissableLayerBranch",Kte=N.forwardRef((e,t)=>{const n=N.useContext(hL),r=N.useRef(null),i=bn(t,r);return N.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),a.jsx(Ct.div,{...e,ref:i})});Kte.displayName=Gte;function Xte(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e),r=N.useRef(!1),i=N.useRef(()=>{});return N.useEffect(()=>{const s=d=>{if(d.target&&!r.current){let m=function(){mL(Yte,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=m,t.addEventListener("click",i.current,{once:!0})):m()}else t.removeEventListener("click",i.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Qte(e,t=globalThis==null?void 0:globalThis.document){const n=ro(e),r=N.useRef(!1);return N.useEffect(()=>{const i=s=>{s.target&&!r.current&&mL(Wte,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function WM(){const e=new CustomEvent(BS);document.dispatchEvent(e)}function mL(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?rL(i,s):i.dispatchEvent(s)}var Dw=0;function iE(){N.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??GM()),document.body.insertAdjacentElement("beforeend",e[1]??GM()),Dw++,()=>{Dw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Dw--}},[])}function GM(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Rw="focusScope.autoFocusOnMount",Pw="focusScope.autoFocusOnUnmount",KM={bubbles:!1,cancelable:!0},Zte="FocusScope",Jv=N.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...l}=e,[d,m]=N.useState(null),h=ro(i),p=ro(s),v=N.useRef(null),S=bn(t,_=>m(_)),A=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let _=function(R){if(A.paused||!d)return;const U=R.target;d.contains(U)?v.current=U:zc(v.current,{select:!0})},C=function(R){if(A.paused||!d)return;const U=R.relatedTarget;U!==null&&(d.contains(U)||zc(v.current,{select:!0}))},M=function(R){if(document.activeElement===document.body)for(const B of R)B.removedNodes.length>0&&zc(d)};document.addEventListener("focusin",_),document.addEventListener("focusout",C);const P=new MutationObserver(M);return d&&P.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",C),P.disconnect()}}},[r,d,A.paused]),N.useEffect(()=>{if(d){QM.add(A);const _=document.activeElement;if(!d.contains(_)){const M=new CustomEvent(Rw,KM);d.addEventListener(Rw,h),d.dispatchEvent(M),M.defaultPrevented||(Jte(ine(gL(d)),{select:!0}),document.activeElement===_&&zc(d))}return()=>{d.removeEventListener(Rw,h),setTimeout(()=>{const M=new CustomEvent(Pw,KM);d.addEventListener(Pw,p),d.dispatchEvent(M),M.defaultPrevented||zc(_??document.body,{select:!0}),d.removeEventListener(Pw,p),QM.remove(A)},0)}}},[d,h,p,A]);const T=N.useCallback(_=>{if(!n&&!r||A.paused)return;const C=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,M=document.activeElement;if(C&&M){const P=_.currentTarget,[R,U]=ene(P);R&&U?!_.shiftKey&&M===U?(_.preventDefault(),n&&zc(R,{select:!0})):_.shiftKey&&M===R&&(_.preventDefault(),n&&zc(U,{select:!0})):M===P&&_.preventDefault()}},[n,r,A.paused]);return a.jsx(Ct.div,{tabIndex:-1,...l,ref:S,onKeyDown:T})});Jv.displayName=Zte;function Jte(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(zc(r,{select:t}),document.activeElement!==n)return}function ene(e){const t=gL(e),n=XM(t,e),r=XM(t.reverse(),e);return[n,r]}function gL(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function XM(e,t){for(const n of e)if(!tne(n,{upTo:t}))return n}function tne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function nne(e){return e instanceof HTMLInputElement&&"select"in e}function zc(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&nne(e)&&t&&e.select()}}var QM=rne();function rne(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=ZM(e,t),e.unshift(t)},remove(t){var n;e=ZM(e,t),(n=e[0])==null||n.resume()}}}function ZM(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ine(e){return e.filter(t=>t.tagName!=="A")}var ane=w8[" useId ".trim().toString()]||(()=>{}),sne=0;function Fo(e){const[t,n]=N.useState(ane());return ci(()=>{n(r=>r??String(sne++))},[e]),e||(t?`radix-${t}`:"")}const one=["top","right","bottom","left"],Qc=Math.min,Ja=Math.max,Ux=Math.round,Xp=Math.floor,Uo=e=>({x:e,y:e}),lne={left:"right",right:"left",bottom:"top",top:"bottom"},cne={start:"end",end:"start"};function FS(e,t,n){return Ja(e,Qc(t,n))}function Fl(e,t){return typeof e=="function"?e(t):e}function Ul(e){return e.split("-")[0]}function Mh(e){return e.split("-")[1]}function aE(e){return e==="x"?"y":"x"}function sE(e){return e==="y"?"height":"width"}function Ol(e){return["top","bottom"].includes(Ul(e))?"y":"x"}function oE(e){return aE(Ol(e))}function une(e,t,n){n===void 0&&(n=!1);const r=Mh(e),i=oE(e),s=sE(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(l=zx(l)),[l,zx(l)]}function dne(e){const t=zx(e);return[US(e),t,US(t)]}function US(e){return e.replace(/start|end/g,t=>cne[t])}function fne(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:l;default:return[]}}function hne(e,t,n,r){const i=Mh(e);let s=fne(Ul(e),n==="start",r);return i&&(s=s.map(l=>l+"-"+i),t&&(s=s.concat(s.map(US)))),s}function zx(e){return e.replace(/left|right|bottom|top/g,t=>lne[t])}function mne(e){return{top:0,right:0,bottom:0,left:0,...e}}function pL(e){return typeof e!="number"?mne(e):{top:e,right:e,bottom:e,left:e}}function Vx(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function JM(e,t,n){let{reference:r,floating:i}=e;const s=Ol(t),l=oE(t),d=sE(l),m=Ul(t),h=s==="y",p=r.x+r.width/2-i.width/2,v=r.y+r.height/2-i.height/2,S=r[d]/2-i[d]/2;let A;switch(m){case"top":A={x:p,y:r.y-i.height};break;case"bottom":A={x:p,y:r.y+r.height};break;case"right":A={x:r.x+r.width,y:v};break;case"left":A={x:r.x-i.width,y:v};break;default:A={x:r.x,y:r.y}}switch(Mh(t)){case"start":A[l]-=S*(n&&h?-1:1);break;case"end":A[l]+=S*(n&&h?-1:1);break}return A}const gne=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:l}=n,d=s.filter(Boolean),m=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:p,y:v}=JM(h,r,m),S=r,A={},T=0;for(let _=0;_<d.length;_++){const{name:C,fn:M}=d[_],{x:P,y:R,data:U,reset:B}=await M({x:p,y:v,initialPlacement:r,placement:S,strategy:i,middlewareData:A,rects:h,platform:l,elements:{reference:e,floating:t}});p=P??p,v=R??v,A={...A,[C]:{...A[C],...U}},B&&T<=50&&(T++,typeof B=="object"&&(B.placement&&(S=B.placement),B.rects&&(h=B.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):B.rects),{x:p,y:v}=JM(h,S,m)),_=-1)}return{x:p,y:v,placement:S,strategy:i,middlewareData:A}};async function O0(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:l,elements:d,strategy:m}=e,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:v="floating",altBoundary:S=!1,padding:A=0}=Fl(t,e),T=pL(A),C=d[S?v==="floating"?"reference":"floating":v],M=Vx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(C)))==null||n?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:m})),P=v==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,R=await(s.getOffsetParent==null?void 0:s.getOffsetParent(d.floating)),U=await(s.isElement==null?void 0:s.isElement(R))?await(s.getScale==null?void 0:s.getScale(R))||{x:1,y:1}:{x:1,y:1},B=Vx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:P,offsetParent:R,strategy:m}):P);return{top:(M.top-B.top+T.top)/U.y,bottom:(B.bottom-M.bottom+T.bottom)/U.y,left:(M.left-B.left+T.left)/U.x,right:(B.right-M.right+T.right)/U.x}}const pne=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:l,elements:d,middlewareData:m}=t,{element:h,padding:p=0}=Fl(e,t)||{};if(h==null)return{};const v=pL(p),S={x:n,y:r},A=oE(i),T=sE(A),_=await l.getDimensions(h),C=A==="y",M=C?"top":"left",P=C?"bottom":"right",R=C?"clientHeight":"clientWidth",U=s.reference[T]+s.reference[A]-S[A]-s.floating[T],B=S[A]-s.reference[A],L=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let F=L?L[R]:0;(!F||!await(l.isElement==null?void 0:l.isElement(L)))&&(F=d.floating[R]||s.floating[T]);const V=U/2-B/2,z=F/2-_[T]/2-1,H=Qc(v[M],z),W=Qc(v[P],z),q=H,Q=F-_[T]-W,te=F/2-_[T]/2+V,J=FS(q,te,Q),Y=!m.arrow&&Mh(i)!=null&&te!==J&&s.reference[T]/2-(te<q?H:W)-_[T]/2<0,ne=Y?te<q?te-q:te-Q:0;return{[A]:S[A]+ne,data:{[A]:J,centerOffset:te-J-ne,...Y&&{alignmentOffset:ne}},reset:Y}}}),xne=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:l,initialPlacement:d,platform:m,elements:h}=t,{mainAxis:p=!0,crossAxis:v=!0,fallbackPlacements:S,fallbackStrategy:A="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...C}=Fl(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const M=Ul(i),P=Ol(d),R=Ul(d)===d,U=await(m.isRTL==null?void 0:m.isRTL(h.floating)),B=S||(R||!_?[zx(d)]:dne(d)),L=T!=="none";!S&&L&&B.push(...hne(d,_,T,U));const F=[d,...B],V=await O0(t,C),z=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(p&&z.push(V[M]),v){const J=une(i,l,U);z.push(V[J[0]],V[J[1]])}if(H=[...H,{placement:i,overflows:z}],!z.every(J=>J<=0)){var W,q;const J=(((W=s.flip)==null?void 0:W.index)||0)+1,Y=F[J];if(Y){var Q;const se=v==="alignment"?P!==Ol(Y):!1,me=((Q=H[0])==null?void 0:Q.overflows[0])>0;if(!se||me)return{data:{index:J,overflows:H},reset:{placement:Y}}}let ne=(q=H.filter(se=>se.overflows[0]<=0).sort((se,me)=>se.overflows[1]-me.overflows[1])[0])==null?void 0:q.placement;if(!ne)switch(A){case"bestFit":{var te;const se=(te=H.filter(me=>{if(L){const re=Ol(me.placement);return re===P||re==="y"}return!0}).map(me=>[me.placement,me.overflows.filter(re=>re>0).reduce((re,de)=>re+de,0)]).sort((me,re)=>me[1]-re[1])[0])==null?void 0:te[0];se&&(ne=se);break}case"initialPlacement":ne=d;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function eD(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function tD(e){return one.some(t=>e[t]>=0)}const vne=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Fl(e,t);switch(r){case"referenceHidden":{const s=await O0(t,{...i,elementContext:"reference"}),l=eD(s,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:tD(l)}}}case"escaped":{const s=await O0(t,{...i,altBoundary:!0}),l=eD(s,n.floating);return{data:{escapedOffsets:l,escaped:tD(l)}}}default:return{}}}}};async function yne(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=Ul(n),d=Mh(n),m=Ol(n)==="y",h=["left","top"].includes(l)?-1:1,p=s&&m?-1:1,v=Fl(t,e);let{mainAxis:S,crossAxis:A,alignmentAxis:T}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof T=="number"&&(A=d==="end"?T*-1:T),m?{x:A*p,y:S*h}:{x:S*h,y:A*p}}const bne=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:l,middlewareData:d}=t,m=await yne(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(r=d.arrow)!=null&&r.alignmentOffset?{}:{x:i+m.x,y:s+m.y,data:{...m,placement:l}}}}},wne=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:l=!1,limiter:d={fn:C=>{let{x:M,y:P}=C;return{x:M,y:P}}},...m}=Fl(e,t),h={x:n,y:r},p=await O0(t,m),v=Ol(Ul(i)),S=aE(v);let A=h[S],T=h[v];if(s){const C=S==="y"?"top":"left",M=S==="y"?"bottom":"right",P=A+p[C],R=A-p[M];A=FS(P,A,R)}if(l){const C=v==="y"?"top":"left",M=v==="y"?"bottom":"right",P=T+p[C],R=T-p[M];T=FS(P,T,R)}const _=d.fn({...t,[S]:A,[v]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[S]:s,[v]:l}}}}}},jne=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:l}=t,{offset:d=0,mainAxis:m=!0,crossAxis:h=!0}=Fl(e,t),p={x:n,y:r},v=Ol(i),S=aE(v);let A=p[S],T=p[v];const _=Fl(d,t),C=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(m){const R=S==="y"?"height":"width",U=s.reference[S]-s.floating[R]+C.mainAxis,B=s.reference[S]+s.reference[R]-C.mainAxis;A<U?A=U:A>B&&(A=B)}if(h){var M,P;const R=S==="y"?"width":"height",U=["top","left"].includes(Ul(i)),B=s.reference[v]-s.floating[R]+(U&&((M=l.offset)==null?void 0:M[v])||0)+(U?0:C.crossAxis),L=s.reference[v]+s.reference[R]+(U?0:((P=l.offset)==null?void 0:P[v])||0)-(U?C.crossAxis:0);T<B?T=B:T>L&&(T=L)}return{[S]:A,[v]:T}}}},Sne=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:l,elements:d}=t,{apply:m=()=>{},...h}=Fl(e,t),p=await O0(t,h),v=Ul(i),S=Mh(i),A=Ol(i)==="y",{width:T,height:_}=s.floating;let C,M;v==="top"||v==="bottom"?(C=v,M=S===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(M=v,C=S==="end"?"top":"bottom");const P=_-p.top-p.bottom,R=T-p.left-p.right,U=Qc(_-p[C],P),B=Qc(T-p[M],R),L=!t.middlewareData.shift;let F=U,V=B;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(V=R),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(F=P),L&&!S){const H=Ja(p.left,0),W=Ja(p.right,0),q=Ja(p.top,0),Q=Ja(p.bottom,0);A?V=T-2*(H!==0||W!==0?H+W:Ja(p.left,p.right)):F=_-2*(q!==0||Q!==0?q+Q:Ja(p.top,p.bottom))}await m({...t,availableWidth:V,availableHeight:F});const z=await l.getDimensions(d.floating);return T!==z.width||_!==z.height?{reset:{rects:!0}}:{}}}};function e1(){return typeof window<"u"}function Dh(e){return xL(e)?(e.nodeName||"").toLowerCase():"#document"}function is(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zo(e){var t;return(t=(xL(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function xL(e){return e1()?e instanceof Node||e instanceof is(e).Node:!1}function io(e){return e1()?e instanceof Element||e instanceof is(e).Element:!1}function Ho(e){return e1()?e instanceof HTMLElement||e instanceof is(e).HTMLElement:!1}function nD(e){return!e1()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof is(e).ShadowRoot}function ag(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=ao(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Nne(e){return["table","td","th"].includes(Dh(e))}function t1(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function lE(e){const t=cE(),n=io(e)?ao(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Ane(e){let t=Zc(e);for(;Ho(t)&&!ch(t);){if(lE(t))return t;if(t1(t))return null;t=Zc(t)}return null}function cE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ch(e){return["html","body","#document"].includes(Dh(e))}function ao(e){return is(e).getComputedStyle(e)}function n1(e){return io(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Zc(e){if(Dh(e)==="html")return e;const t=e.assignedSlot||e.parentNode||nD(e)&&e.host||Zo(e);return nD(t)?t.host:t}function vL(e){const t=Zc(e);return ch(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ho(t)&&ag(t)?t:vL(t)}function M0(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=vL(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),l=is(i);if(s){const d=zS(l);return t.concat(l,l.visualViewport||[],ag(i)?i:[],d&&n?M0(d):[])}return t.concat(i,M0(i,[],n))}function zS(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function yL(e){const t=ao(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ho(e),s=i?e.offsetWidth:n,l=i?e.offsetHeight:r,d=Ux(n)!==s||Ux(r)!==l;return d&&(n=s,r=l),{width:n,height:r,$:d}}function uE(e){return io(e)?e:e.contextElement}function Zf(e){const t=uE(e);if(!Ho(t))return Uo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=yL(t);let l=(s?Ux(n.width):n.width)/r,d=(s?Ux(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const Ene=Uo(0);function bL(e){const t=is(e);return!cE()||!t.visualViewport?Ene:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function _ne(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==is(e)?!1:t}function gd(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=uE(e);let l=Uo(1);t&&(r?io(r)&&(l=Zf(r)):l=Zf(e));const d=_ne(s,n,r)?bL(s):Uo(0);let m=(i.left+d.x)/l.x,h=(i.top+d.y)/l.y,p=i.width/l.x,v=i.height/l.y;if(s){const S=is(s),A=r&&io(r)?is(r):r;let T=S,_=zS(T);for(;_&&r&&A!==T;){const C=Zf(_),M=_.getBoundingClientRect(),P=ao(_),R=M.left+(_.clientLeft+parseFloat(P.paddingLeft))*C.x,U=M.top+(_.clientTop+parseFloat(P.paddingTop))*C.y;m*=C.x,h*=C.y,p*=C.x,v*=C.y,m+=R,h+=U,T=is(_),_=zS(T)}}return Vx({width:p,height:v,x:m,y:h})}function dE(e,t){const n=n1(e).scrollLeft;return t?t.left+n:gd(Zo(e)).left+n}function wL(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:dE(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Cne(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",l=Zo(r),d=t?t1(t.floating):!1;if(r===l||d&&s)return n;let m={scrollLeft:0,scrollTop:0},h=Uo(1);const p=Uo(0),v=Ho(r);if((v||!v&&!s)&&((Dh(r)!=="body"||ag(l))&&(m=n1(r)),Ho(r))){const A=gd(r);h=Zf(r),p.x=A.x+r.clientLeft,p.y=A.y+r.clientTop}const S=l&&!v&&!s?wL(l,m,!0):Uo(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-m.scrollLeft*h.x+p.x+S.x,y:n.y*h.y-m.scrollTop*h.y+p.y+S.y}}function Tne(e){return Array.from(e.getClientRects())}function One(e){const t=Zo(e),n=n1(e),r=e.ownerDocument.body,i=Ja(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ja(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+dE(e);const d=-n.scrollTop;return ao(r).direction==="rtl"&&(l+=Ja(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:l,y:d}}function Mne(e,t){const n=is(e),r=Zo(e),i=n.visualViewport;let s=r.clientWidth,l=r.clientHeight,d=0,m=0;if(i){s=i.width,l=i.height;const h=cE();(!h||h&&t==="fixed")&&(d=i.offsetLeft,m=i.offsetTop)}return{width:s,height:l,x:d,y:m}}function Dne(e,t){const n=gd(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Ho(e)?Zf(e):Uo(1),l=e.clientWidth*s.x,d=e.clientHeight*s.y,m=i*s.x,h=r*s.y;return{width:l,height:d,x:m,y:h}}function rD(e,t,n){let r;if(t==="viewport")r=Mne(e,n);else if(t==="document")r=One(Zo(e));else if(io(t))r=Dne(t,n);else{const i=bL(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Vx(r)}function jL(e,t){const n=Zc(e);return n===t||!io(n)||ch(n)?!1:ao(n).position==="fixed"||jL(n,t)}function Rne(e,t){const n=t.get(e);if(n)return n;let r=M0(e,[],!1).filter(d=>io(d)&&Dh(d)!=="body"),i=null;const s=ao(e).position==="fixed";let l=s?Zc(e):e;for(;io(l)&&!ch(l);){const d=ao(l),m=lE(l);!m&&d.position==="fixed"&&(i=null),(s?!m&&!i:!m&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ag(l)&&!m&&jL(e,l))?r=r.filter(p=>p!==l):i=d,l=Zc(l)}return t.set(e,r),r}function Pne(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const l=[...n==="clippingAncestors"?t1(t)?[]:Rne(t,this._c):[].concat(n),r],d=l[0],m=l.reduce((h,p)=>{const v=rD(t,p,i);return h.top=Ja(v.top,h.top),h.right=Qc(v.right,h.right),h.bottom=Qc(v.bottom,h.bottom),h.left=Ja(v.left,h.left),h},rD(t,d,i));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function Ine(e){const{width:t,height:n}=yL(e);return{width:t,height:n}}function kne(e,t,n){const r=Ho(t),i=Zo(t),s=n==="fixed",l=gd(e,!0,s,t);let d={scrollLeft:0,scrollTop:0};const m=Uo(0);function h(){m.x=dE(i)}if(r||!r&&!s)if((Dh(t)!=="body"||ag(i))&&(d=n1(t)),r){const A=gd(t,!0,s,t);m.x=A.x+t.clientLeft,m.y=A.y+t.clientTop}else i&&h();s&&!r&&i&&h();const p=i&&!r&&!s?wL(i,d):Uo(0),v=l.left+d.scrollLeft-m.x-p.x,S=l.top+d.scrollTop-m.y-p.y;return{x:v,y:S,width:l.width,height:l.height}}function Iw(e){return ao(e).position==="static"}function iD(e,t){if(!Ho(e)||ao(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zo(e)===n&&(n=n.ownerDocument.body),n}function SL(e,t){const n=is(e);if(t1(e))return n;if(!Ho(e)){let i=Zc(e);for(;i&&!ch(i);){if(io(i)&&!Iw(i))return i;i=Zc(i)}return n}let r=iD(e,t);for(;r&&Nne(r)&&Iw(r);)r=iD(r,t);return r&&ch(r)&&Iw(r)&&!lE(r)?n:r||Ane(e)||n}const Lne=async function(e){const t=this.getOffsetParent||SL,n=this.getDimensions,r=await n(e.floating);return{reference:kne(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Bne(e){return ao(e).direction==="rtl"}const Fne={convertOffsetParentRelativeRectToViewportRelativeRect:Cne,getDocumentElement:Zo,getClippingRect:Pne,getOffsetParent:SL,getElementRects:Lne,getClientRects:Tne,getDimensions:Ine,getScale:Zf,isElement:io,isRTL:Bne};function NL(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Une(e,t){let n=null,r;const i=Zo(e);function s(){var d;clearTimeout(r),(d=n)==null||d.disconnect(),n=null}function l(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),s();const h=e.getBoundingClientRect(),{left:p,top:v,width:S,height:A}=h;if(d||t(),!S||!A)return;const T=Xp(v),_=Xp(i.clientWidth-(p+S)),C=Xp(i.clientHeight-(v+A)),M=Xp(p),R={rootMargin:-T+"px "+-_+"px "+-C+"px "+-M+"px",threshold:Ja(0,Qc(1,m))||1};let U=!0;function B(L){const F=L[0].intersectionRatio;if(F!==m){if(!U)return l();F?l(!1,F):r=setTimeout(()=>{l(!1,1e-7)},1e3)}F===1&&!NL(h,e.getBoundingClientRect())&&l(),U=!1}try{n=new IntersectionObserver(B,{...R,root:i.ownerDocument})}catch{n=new IntersectionObserver(B,R)}n.observe(e)}return l(!0),s}function zne(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,h=uE(e),p=i||s?[...h?M0(h):[],...M0(t)]:[];p.forEach(M=>{i&&M.addEventListener("scroll",n,{passive:!0}),s&&M.addEventListener("resize",n)});const v=h&&d?Une(h,n):null;let S=-1,A=null;l&&(A=new ResizeObserver(M=>{let[P]=M;P&&P.target===h&&A&&(A.unobserve(t),cancelAnimationFrame(S),S=requestAnimationFrame(()=>{var R;(R=A)==null||R.observe(t)})),n()}),h&&!m&&A.observe(h),A.observe(t));let T,_=m?gd(e):null;m&&C();function C(){const M=gd(e);_&&!NL(_,M)&&n(),_=M,T=requestAnimationFrame(C)}return n(),()=>{var M;p.forEach(P=>{i&&P.removeEventListener("scroll",n),s&&P.removeEventListener("resize",n)}),v==null||v(),(M=A)==null||M.disconnect(),A=null,m&&cancelAnimationFrame(T)}}const Vne=bne,$ne=wne,Hne=xne,qne=Sne,Yne=vne,aD=pne,Wne=jne,Gne=(e,t,n)=>{const r=new Map,i={platform:Fne,...n},s={...i.platform,_c:r};return gne(e,t,{...i,platform:s})};var Cx=typeof document<"u"?N.useLayoutEffect:N.useEffect;function $x(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!$x(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!$x(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function AL(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sD(e,t){const n=AL(e);return Math.round(t*n)/n}function kw(e){const t=N.useRef(e);return Cx(()=>{t.current=e}),t}function Kne(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:l}={},transform:d=!0,whileElementsMounted:m,open:h}=e,[p,v]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[S,A]=N.useState(r);$x(S,r)||A(r);const[T,_]=N.useState(null),[C,M]=N.useState(null),P=N.useCallback(se=>{se!==L.current&&(L.current=se,_(se))},[]),R=N.useCallback(se=>{se!==F.current&&(F.current=se,M(se))},[]),U=s||T,B=l||C,L=N.useRef(null),F=N.useRef(null),V=N.useRef(p),z=m!=null,H=kw(m),W=kw(i),q=kw(h),Q=N.useCallback(()=>{if(!L.current||!F.current)return;const se={placement:t,strategy:n,middleware:S};W.current&&(se.platform=W.current),Gne(L.current,F.current,se).then(me=>{const re={...me,isPositioned:q.current!==!1};te.current&&!$x(V.current,re)&&(V.current=re,Ed.flushSync(()=>{v(re)}))})},[S,t,n,W,q]);Cx(()=>{h===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,v(se=>({...se,isPositioned:!1})))},[h]);const te=N.useRef(!1);Cx(()=>(te.current=!0,()=>{te.current=!1}),[]),Cx(()=>{if(U&&(L.current=U),B&&(F.current=B),U&&B){if(H.current)return H.current(U,B,Q);Q()}},[U,B,Q,H,z]);const J=N.useMemo(()=>({reference:L,floating:F,setReference:P,setFloating:R}),[P,R]),Y=N.useMemo(()=>({reference:U,floating:B}),[U,B]),ne=N.useMemo(()=>{const se={position:n,left:0,top:0};if(!Y.floating)return se;const me=sD(Y.floating,p.x),re=sD(Y.floating,p.y);return d?{...se,transform:"translate("+me+"px, "+re+"px)",...AL(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:me,top:re}},[n,d,Y.floating,p.x,p.y]);return N.useMemo(()=>({...p,update:Q,refs:J,elements:Y,floatingStyles:ne}),[p,Q,J,Y,ne])}const Xne=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?aD({element:r.current,padding:i}).fn(n):{}:r?aD({element:r,padding:i}).fn(n):{}}}},Qne=(e,t)=>({...Vne(e),options:[e,t]}),Zne=(e,t)=>({...$ne(e),options:[e,t]}),Jne=(e,t)=>({...Wne(e),options:[e,t]}),ere=(e,t)=>({...Hne(e),options:[e,t]}),tre=(e,t)=>({...qne(e),options:[e,t]}),nre=(e,t)=>({...Yne(e),options:[e,t]}),rre=(e,t)=>({...Xne(e),options:[e,t]});var ire="Arrow",EL=N.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return a.jsx(Ct.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});EL.displayName=ire;var are=EL,fE="Popper",[_L,r1]=Is(fE),[sre,CL]=_L(fE),TL=e=>{const{__scopePopper:t,children:n}=e,[r,i]=N.useState(null);return a.jsx(sre,{scope:t,anchor:r,onAnchorChange:i,children:n})};TL.displayName=fE;var OL="PopperAnchor",ML=N.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=CL(OL,n),l=N.useRef(null),d=bn(t,l);return N.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:a.jsx(Ct.div,{...i,ref:d})});ML.displayName=OL;var hE="PopperContent",[ore,lre]=_L(hE),DL=N.forwardRef((e,t)=>{var pe,je,xe,Fe,Ce,we;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:v="partial",hideWhenDetached:S=!1,updatePositionStrategy:A="optimized",onPlaced:T,..._}=e,C=CL(hE,n),[M,P]=N.useState(null),R=bn(t,We=>P(We)),[U,B]=N.useState(null),L=tE(U),F=(L==null?void 0:L.width)??0,V=(L==null?void 0:L.height)??0,z=r+(s!=="center"?"-"+s:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},W=Array.isArray(h)?h:[h],q=W.length>0,Q={padding:H,boundary:W.filter(ure),altBoundary:q},{refs:te,floatingStyles:J,placement:Y,isPositioned:ne,middlewareData:se}=Kne({strategy:"fixed",placement:z,whileElementsMounted:(...We)=>zne(...We,{animationFrame:A==="always"}),elements:{reference:C.anchor},middleware:[Qne({mainAxis:i+V,alignmentAxis:l}),m&&Zne({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?Jne():void 0,...Q}),m&&ere({...Q}),tre({...Q,apply:({elements:We,rects:Ue,availableWidth:Ze,availableHeight:yt})=>{const{width:Ke,height:xt}=Ue.reference,tt=We.floating.style;tt.setProperty("--radix-popper-available-width",`${Ze}px`),tt.setProperty("--radix-popper-available-height",`${yt}px`),tt.setProperty("--radix-popper-anchor-width",`${Ke}px`),tt.setProperty("--radix-popper-anchor-height",`${xt}px`)}}),U&&rre({element:U,padding:d}),dre({arrowWidth:F,arrowHeight:V}),S&&nre({strategy:"referenceHidden",...Q})]}),[me,re]=IL(Y),de=ro(T);ci(()=>{ne&&(de==null||de())},[ne,de]);const oe=(pe=se.arrow)==null?void 0:pe.x,he=(je=se.arrow)==null?void 0:je.y,Re=((xe=se.arrow)==null?void 0:xe.centerOffset)!==0,[Le,le]=N.useState();return ci(()=>{M&&le(window.getComputedStyle(M).zIndex)},[M]),a.jsx("div",{ref:te.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ne?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[(Fe=se.transformOrigin)==null?void 0:Fe.x,(Ce=se.transformOrigin)==null?void 0:Ce.y].join(" "),...((we=se.hide)==null?void 0:we.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(ore,{scope:n,placedSide:me,onArrowChange:B,arrowX:oe,arrowY:he,shouldHideArrow:Re,children:a.jsx(Ct.div,{"data-side":me,"data-align":re,..._,ref:R,style:{..._.style,animation:ne?void 0:"none"}})})})});DL.displayName=hE;var RL="PopperArrow",cre={top:"bottom",right:"left",bottom:"top",left:"right"},PL=N.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=lre(RL,r),l=cre[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(are,{...i,ref:n,style:{...i.style,display:"block"}})})});PL.displayName=RL;function ure(e){return e!==null}var dre=e=>({name:"transformOrigin",options:e,fn(t){var C,M,P;const{placement:n,rects:r,middlewareData:i}=t,l=((C=i.arrow)==null?void 0:C.centerOffset)!==0,d=l?0:e.arrowWidth,m=l?0:e.arrowHeight,[h,p]=IL(n),v={start:"0%",center:"50%",end:"100%"}[p],S=(((M=i.arrow)==null?void 0:M.x)??0)+d/2,A=(((P=i.arrow)==null?void 0:P.y)??0)+m/2;let T="",_="";return h==="bottom"?(T=l?v:`${S}px`,_=`${-m}px`):h==="top"?(T=l?v:`${S}px`,_=`${r.floating.height+m}px`):h==="right"?(T=`${-m}px`,_=l?v:`${A}px`):h==="left"&&(T=`${r.floating.width+m}px`,_=l?v:`${A}px`),{data:{x:T,y:_}}}});function IL(e){const[t,n="center"]=e.split("-");return[t,n]}var kL=TL,LL=ML,BL=DL,FL=PL,fre="Portal",i1=N.forwardRef((e,t)=>{var d;const{container:n,...r}=e,[i,s]=N.useState(!1);ci(()=>s(!0),[]);const l=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?s6.createPortal(a.jsx(Ct.div,{...r,ref:t}),l):null});i1.displayName=fre;var UL=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hre="VisuallyHidden",mre=N.forwardRef((e,t)=>a.jsx(Ct.span,{...e,ref:t,style:{...UL,...e.style}}));mre.displayName=hre;var gre=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Df=new WeakMap,Qp=new WeakMap,Zp={},Lw=0,zL=function(e){return e&&(e.host||zL(e.parentNode))},pre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=zL(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},xre=function(e,t,n,r){var i=pre(t,Array.isArray(e)?e:[e]);Zp[n]||(Zp[n]=new WeakMap);var s=Zp[n],l=[],d=new Set,m=new Set(i),h=function(v){!v||d.has(v)||(d.add(v),h(v.parentNode))};i.forEach(h);var p=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(S){if(d.has(S))p(S);else try{var A=S.getAttribute(r),T=A!==null&&A!=="false",_=(Df.get(S)||0)+1,C=(s.get(S)||0)+1;Df.set(S,_),s.set(S,C),l.push(S),_===1&&T&&Qp.set(S,!0),C===1&&S.setAttribute(n,"true"),T||S.setAttribute(r,"true")}catch(M){console.error("aria-hidden: cannot operate on ",S,M)}})};return p(t),d.clear(),Lw++,function(){l.forEach(function(v){var S=Df.get(v)-1,A=s.get(v)-1;Df.set(v,S),s.set(v,A),S||(Qp.has(v)||v.removeAttribute(r),Qp.delete(v)),A||v.removeAttribute(n)}),Lw--,Lw||(Df=new WeakMap,Df=new WeakMap,Qp=new WeakMap,Zp={})}},mE=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=gre(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live], script"))),xre(r,i,n,"aria-hidden")):function(){return null}},Oo=function(){return Oo=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Oo.apply(this,arguments)};function VL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function vre(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Tx="right-scroll-bar-position",Ox="width-before-scroll-bar",yre="with-scroll-bars-hidden",bre="--removed-body-scroll-bar-size";function Bw(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function wre(e,t){var n=N.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var jre=typeof window<"u"?N.useLayoutEffect:N.useEffect,oD=new WeakMap;function Sre(e,t){var n=wre(null,function(r){return e.forEach(function(i){return Bw(i,r)})});return jre(function(){var r=oD.get(n);if(r){var i=new Set(r),s=new Set(e),l=n.current;i.forEach(function(d){s.has(d)||Bw(d,null)}),s.forEach(function(d){i.has(d)||Bw(d,l)})}oD.set(n,e)},[e]),n}function Nre(e){return e}function Are(e,t){t===void 0&&(t=Nre);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(d){return s(d)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(s),l=n}var m=function(){var p=l;l=[],p.forEach(s)},h=function(){return Promise.resolve().then(m)};h(),n={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),n}}}};return i}function Ere(e){e===void 0&&(e={});var t=Are(null);return t.options=Oo({async:!0,ssr:!1},e),t}var $L=function(e){var t=e.sideCar,n=VL(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,Oo({},n))};$L.isSideCarExport=!0;function _re(e,t){return e.useMedium(t),$L}var HL=Ere(),Fw=function(){},a1=N.forwardRef(function(e,t){var n=N.useRef(null),r=N.useState({onScrollCapture:Fw,onWheelCapture:Fw,onTouchMoveCapture:Fw}),i=r[0],s=r[1],l=e.forwardProps,d=e.children,m=e.className,h=e.removeScrollBar,p=e.enabled,v=e.shards,S=e.sideCar,A=e.noRelative,T=e.noIsolation,_=e.inert,C=e.allowPinchZoom,M=e.as,P=M===void 0?"div":M,R=e.gapMode,U=VL(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),B=S,L=Sre([n,t]),F=Oo(Oo({},U),i);return N.createElement(N.Fragment,null,p&&N.createElement(B,{sideCar:HL,removeScrollBar:h,shards:v,noRelative:A,noIsolation:T,inert:_,setCallbacks:s,allowPinchZoom:!!C,lockRef:n,gapMode:R}),l?N.cloneElement(N.Children.only(d),Oo(Oo({},F),{ref:L})):N.createElement(P,Oo({},F,{className:m,ref:L}),d))});a1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};a1.classNames={fullWidth:Ox,zeroRight:Tx};var Cre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Tre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Cre();return t&&e.setAttribute("nonce",t),e}function Ore(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Mre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Dre=function(){var e=0,t=null;return{add:function(n){e==0&&(t=Tre())&&(Ore(t,n),Mre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Rre=function(){var e=Dre();return function(t,n){N.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},qL=function(){var e=Rre(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},Pre={left:0,top:0,right:0,gap:0},Uw=function(e){return parseInt(e||"",10)||0},Ire=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[Uw(n),Uw(r),Uw(i)]},kre=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pre;var t=Ire(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Lre=qL(),Jf="data-scroll-locked",Bre=function(e,t,n,r){var i=e.left,s=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(yre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(d,"px ").concat(r,`;
  }
  body[`).concat(Jf,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Tx,` {
    right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Ox,` {
    margin-right: `).concat(d,"px ").concat(r,`;
  }
  
  .`).concat(Tx," .").concat(Tx,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Ox," .").concat(Ox,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Jf,`] {
    `).concat(bre,": ").concat(d,`px;
  }
`)},lD=function(){var e=parseInt(document.body.getAttribute(Jf)||"0",10);return isFinite(e)?e:0},Fre=function(){N.useEffect(function(){return document.body.setAttribute(Jf,(lD()+1).toString()),function(){var e=lD()-1;e<=0?document.body.removeAttribute(Jf):document.body.setAttribute(Jf,e.toString())}},[])},Ure=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Fre();var s=N.useMemo(function(){return kre(i)},[i]);return N.createElement(Lre,{styles:Bre(s,!t,i,n?"":"!important")})},VS=!1;if(typeof window<"u")try{var Jp=Object.defineProperty({},"passive",{get:function(){return VS=!0,!0}});window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,Jp)}catch{VS=!1}var Rf=VS?{passive:!1}:!1,zre=function(e){return e.tagName==="TEXTAREA"},YL=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!zre(e)&&n[t]==="visible")},Vre=function(e){return YL(e,"overflowY")},$re=function(e){return YL(e,"overflowX")},cD=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=WL(e,r);if(i){var s=GL(e,r),l=s[1],d=s[2];if(l>d)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Hre=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},qre=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},WL=function(e,t){return e==="v"?Vre(t):$re(t)},GL=function(e,t){return e==="v"?Hre(t):qre(t)},Yre=function(e,t){return e==="h"&&t==="rtl"?-1:1},Wre=function(e,t,n,r,i){var s=Yre(e,window.getComputedStyle(t).direction),l=s*r,d=n.target,m=t.contains(d),h=!1,p=l>0,v=0,S=0;do{var A=GL(e,d),T=A[0],_=A[1],C=A[2],M=_-C-s*T;(T||M)&&WL(e,d)&&(v+=M,S+=T),d=d.parentNode.host||d.parentNode}while(!m&&d!==document.body||m&&(t.contains(d)||t===d));return(p&&Math.abs(v)<1||!p&&Math.abs(S)<1)&&(h=!0),h},ex=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uD=function(e){return[e.deltaX,e.deltaY]},dD=function(e){return e&&"current"in e?e.current:e},Gre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Xre=0,Pf=[];function Qre(e){var t=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),i=N.useState(Xre++)[0],s=N.useState(qL)[0],l=N.useRef(e);N.useEffect(function(){l.current=e},[e]),N.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var _=vre([e.lockRef.current],(e.shards||[]).map(dD),!0).filter(Boolean);return _.forEach(function(C){return C.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(C){return C.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=N.useCallback(function(_,C){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!l.current.allowPinchZoom;var M=ex(_),P=n.current,R="deltaX"in _?_.deltaX:P[0]-M[0],U="deltaY"in _?_.deltaY:P[1]-M[1],B,L=_.target,F=Math.abs(R)>Math.abs(U)?"h":"v";if("touches"in _&&F==="h"&&L.type==="range")return!1;var V=cD(F,L);if(!V)return!0;if(V?B=F:(B=F==="v"?"h":"v",V=cD(F,L)),!V)return!1;if(!r.current&&"changedTouches"in _&&(R||U)&&(r.current=B),!B)return!0;var z=r.current||B;return Wre(z,C,_,z==="h"?R:U)},[]),m=N.useCallback(function(_){var C=_;if(!(!Pf.length||Pf[Pf.length-1]!==s)){var M="deltaY"in C?uD(C):ex(C),P=t.current.filter(function(B){return B.name===C.type&&(B.target===C.target||C.target===B.shadowParent)&&Gre(B.delta,M)})[0];if(P&&P.should){C.cancelable&&C.preventDefault();return}if(!P){var R=(l.current.shards||[]).map(dD).filter(Boolean).filter(function(B){return B.contains(C.target)}),U=R.length>0?d(C,R[0]):!l.current.noIsolation;U&&C.cancelable&&C.preventDefault()}}},[]),h=N.useCallback(function(_,C,M,P){var R={name:_,delta:C,target:M,should:P,shadowParent:Zre(M)};t.current.push(R),setTimeout(function(){t.current=t.current.filter(function(U){return U!==R})},1)},[]),p=N.useCallback(function(_){n.current=ex(_),r.current=void 0},[]),v=N.useCallback(function(_){h(_.type,uD(_),_.target,d(_,e.lockRef.current))},[]),S=N.useCallback(function(_){h(_.type,ex(_),_.target,d(_,e.lockRef.current))},[]);N.useEffect(function(){return Pf.push(s),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:S}),document.addEventListener("wheel",m,Rf),document.addEventListener("touchmove",m,Rf),document.addEventListener("touchstart",p,Rf),function(){Pf=Pf.filter(function(_){return _!==s}),document.removeEventListener("wheel",m,Rf),document.removeEventListener("touchmove",m,Rf),document.removeEventListener("touchstart",p,Rf)}},[]);var A=e.removeScrollBar,T=e.inert;return N.createElement(N.Fragment,null,T?N.createElement(s,{styles:Kre(i)}):null,A?N.createElement(Ure,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Zre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Jre=_re(HL,Qre);var s1=N.forwardRef(function(e,t){return N.createElement(a1,Oo({},e,{ref:t,sideCar:Jre}))});s1.classNames=a1.classNames;var eie=[" ","Enter","ArrowUp","ArrowDown"],tie=[" ","Enter"],pd="Select",[o1,l1,nie]=rE(pd),[Rh,OEe]=Is(pd,[nie,r1]),c1=r1(),[rie,su]=Rh(pd),[iie,aie]=Rh(pd),KL=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:l,defaultValue:d,onValueChange:m,dir:h,name:p,autoComplete:v,disabled:S,required:A,form:T}=e,_=c1(t),[C,M]=N.useState(null),[P,R]=N.useState(null),[U,B]=N.useState(!1),L=Qv(h),[F,V]=Xc({prop:r,defaultProp:i??!1,onChange:s,caller:pd}),[z,H]=Xc({prop:l,defaultProp:d,onChange:m,caller:pd}),W=N.useRef(null),q=C?T||!!C.closest("form"):!0,[Q,te]=N.useState(new Set),J=Array.from(Q).map(Y=>Y.props.value).join(";");return a.jsx(kL,{..._,children:a.jsxs(rie,{required:A,scope:t,trigger:C,onTriggerChange:M,valueNode:P,onValueNodeChange:R,valueNodeHasChildren:U,onValueNodeHasChildrenChange:B,contentId:Fo(),value:z,onValueChange:H,open:F,onOpenChange:V,dir:L,triggerPointerDownPosRef:W,disabled:S,children:[a.jsx(o1.Provider,{scope:t,children:a.jsx(iie,{scope:e.__scopeSelect,onNativeOptionAdd:N.useCallback(Y=>{te(ne=>new Set(ne).add(Y))},[]),onNativeOptionRemove:N.useCallback(Y=>{te(ne=>{const se=new Set(ne);return se.delete(Y),se})},[]),children:n})}),q?a.jsxs(xB,{"aria-hidden":!0,required:A,tabIndex:-1,name:p,autoComplete:v,value:z,onChange:Y=>H(Y.target.value),disabled:S,form:T,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(Q)]},J):null]})})};KL.displayName=pd;var XL="SelectTrigger",QL=N.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=c1(n),l=su(XL,n),d=l.disabled||r,m=bn(t,l.onTriggerChange),h=l1(n),p=N.useRef("touch"),[v,S,A]=yB(_=>{const C=h().filter(R=>!R.disabled),M=C.find(R=>R.value===l.value),P=bB(C,_,M);P!==void 0&&l.onValueChange(P.value)}),T=_=>{d||(l.onOpenChange(!0),A()),_&&(l.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return a.jsx(LL,{asChild:!0,...s,children:a.jsx(Ct.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":vB(l.value)?"":void 0,...i,ref:m,onClick:gt(i.onClick,_=>{_.currentTarget.focus(),p.current!=="mouse"&&T(_)}),onPointerDown:gt(i.onPointerDown,_=>{p.current=_.pointerType;const C=_.target;C.hasPointerCapture(_.pointerId)&&C.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:gt(i.onKeyDown,_=>{const C=v.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&S(_.key),!(C&&_.key===" ")&&eie.includes(_.key)&&(T(),_.preventDefault())})})})});QL.displayName=XL;var ZL="SelectValue",JL=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:l="",...d}=e,m=su(ZL,n),{onValueNodeHasChildrenChange:h}=m,p=s!==void 0,v=bn(t,m.onValueNodeChange);return ci(()=>{h(p)},[h,p]),a.jsx(Ct.span,{...d,ref:v,style:{pointerEvents:"none"},children:vB(m.value)?a.jsx(a.Fragment,{children:l}):s})});JL.displayName=ZL;var sie="SelectIcon",eB=N.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return a.jsx(Ct.span,{"aria-hidden":!0,...i,ref:t,children:r||"▼"})});eB.displayName=sie;var oie="SelectPortal",tB=e=>a.jsx(i1,{asChild:!0,...e});tB.displayName=oie;var xd="SelectContent",nB=N.forwardRef((e,t)=>{const n=su(xd,e.__scopeSelect),[r,i]=N.useState();if(ci(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Ed.createPortal(a.jsx(rB,{scope:e.__scopeSelect,children:a.jsx(o1.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(iB,{...e,ref:t})});nB.displayName=xd;var Qs=10,[rB,ou]=Rh(xd),lie="SelectContentImpl",cie=fd("SelectContent.RemoveScroll"),iB=N.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:l,side:d,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:S,collisionPadding:A,sticky:T,hideWhenDetached:_,avoidCollisions:C,...M}=e,P=su(xd,n),[R,U]=N.useState(null),[B,L]=N.useState(null),F=bn(t,pe=>U(pe)),[V,z]=N.useState(null),[H,W]=N.useState(null),q=l1(n),[Q,te]=N.useState(!1),J=N.useRef(!1);N.useEffect(()=>{if(R)return mE(R)},[R]),iE();const Y=N.useCallback(pe=>{const[je,...xe]=q().map(we=>we.ref.current),[Fe]=xe.slice(-1),Ce=document.activeElement;for(const we of pe)if(we===Ce||(we==null||we.scrollIntoView({block:"nearest"}),we===je&&B&&(B.scrollTop=0),we===Fe&&B&&(B.scrollTop=B.scrollHeight),we==null||we.focus(),document.activeElement!==Ce))return},[q,B]),ne=N.useCallback(()=>Y([V,R]),[Y,V,R]);N.useEffect(()=>{Q&&ne()},[Q,ne]);const{onOpenChange:se,triggerPointerDownPosRef:me}=P;N.useEffect(()=>{if(R){let pe={x:0,y:0};const je=Fe=>{var Ce,we;pe={x:Math.abs(Math.round(Fe.pageX)-(((Ce=me.current)==null?void 0:Ce.x)??0)),y:Math.abs(Math.round(Fe.pageY)-(((we=me.current)==null?void 0:we.y)??0))}},xe=Fe=>{pe.x<=10&&pe.y<=10?Fe.preventDefault():R.contains(Fe.target)||se(!1),document.removeEventListener("pointermove",je),me.current=null};return me.current!==null&&(document.addEventListener("pointermove",je),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",je),document.removeEventListener("pointerup",xe,{capture:!0})}}},[R,se,me]),N.useEffect(()=>{const pe=()=>se(!1);return window.addEventListener("blur",pe),window.addEventListener("resize",pe),()=>{window.removeEventListener("blur",pe),window.removeEventListener("resize",pe)}},[se]);const[re,de]=yB(pe=>{const je=q().filter(Ce=>!Ce.disabled),xe=je.find(Ce=>Ce.ref.current===document.activeElement),Fe=bB(je,pe,xe);Fe&&setTimeout(()=>Fe.ref.current.focus())}),oe=N.useCallback((pe,je,xe)=>{const Fe=!J.current&&!xe;(P.value!==void 0&&P.value===je||Fe)&&(z(pe),Fe&&(J.current=!0))},[P.value]),he=N.useCallback(()=>R==null?void 0:R.focus(),[R]),Re=N.useCallback((pe,je,xe)=>{const Fe=!J.current&&!xe;(P.value!==void 0&&P.value===je||Fe)&&W(pe)},[P.value]),Le=r==="popper"?$S:aB,le=Le===$S?{side:d,sideOffset:m,align:h,alignOffset:p,arrowPadding:v,collisionBoundary:S,collisionPadding:A,sticky:T,hideWhenDetached:_,avoidCollisions:C}:{};return a.jsx(rB,{scope:n,content:R,viewport:B,onViewportChange:L,itemRefCallback:oe,selectedItem:V,onItemLeave:he,itemTextRefCallback:Re,focusSelectedItem:ne,selectedItemText:H,position:r,isPositioned:Q,searchRef:re,children:a.jsx(s1,{as:cie,allowPinchZoom:!0,children:a.jsx(Jv,{asChild:!0,trapped:P.open,onMountAutoFocus:pe=>{pe.preventDefault()},onUnmountAutoFocus:gt(i,pe=>{var je;(je=P.trigger)==null||je.focus({preventScroll:!0}),pe.preventDefault()}),children:a.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:l,onFocusOutside:pe=>pe.preventDefault(),onDismiss:()=>P.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:P.contentId,"data-state":P.open?"open":"closed",dir:P.dir,onContextMenu:pe=>pe.preventDefault(),...M,...le,onPlaced:()=>te(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...M.style},onKeyDown:gt(M.onKeyDown,pe=>{const je=pe.ctrlKey||pe.altKey||pe.metaKey;if(pe.key==="Tab"&&pe.preventDefault(),!je&&pe.key.length===1&&de(pe.key),["ArrowUp","ArrowDown","Home","End"].includes(pe.key)){let Fe=q().filter(Ce=>!Ce.disabled).map(Ce=>Ce.ref.current);if(["ArrowUp","End"].includes(pe.key)&&(Fe=Fe.slice().reverse()),["ArrowUp","ArrowDown"].includes(pe.key)){const Ce=pe.target,we=Fe.indexOf(Ce);Fe=Fe.slice(we+1)}setTimeout(()=>Y(Fe)),pe.preventDefault()}})})})})})})});iB.displayName=lie;var uie="SelectItemAlignedPosition",aB=N.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=su(xd,n),l=ou(xd,n),[d,m]=N.useState(null),[h,p]=N.useState(null),v=bn(t,F=>p(F)),S=l1(n),A=N.useRef(!1),T=N.useRef(!0),{viewport:_,selectedItem:C,selectedItemText:M,focusSelectedItem:P}=l,R=N.useCallback(()=>{if(s.trigger&&s.valueNode&&d&&h&&_&&C&&M){const F=s.trigger.getBoundingClientRect(),V=h.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),H=M.getBoundingClientRect();if(s.dir!=="rtl"){const Ce=H.left-V.left,we=z.left-Ce,We=F.left-we,Ue=F.width+We,Ze=Math.max(Ue,V.width),yt=window.innerWidth-Qs,Ke=qM(we,[Qs,Math.max(Qs,yt-Ze)]);d.style.minWidth=Ue+"px",d.style.left=Ke+"px"}else{const Ce=V.right-H.right,we=window.innerWidth-z.right-Ce,We=window.innerWidth-F.right-we,Ue=F.width+We,Ze=Math.max(Ue,V.width),yt=window.innerWidth-Qs,Ke=qM(we,[Qs,Math.max(Qs,yt-Ze)]);d.style.minWidth=Ue+"px",d.style.right=Ke+"px"}const W=S(),q=window.innerHeight-Qs*2,Q=_.scrollHeight,te=window.getComputedStyle(h),J=parseInt(te.borderTopWidth,10),Y=parseInt(te.paddingTop,10),ne=parseInt(te.borderBottomWidth,10),se=parseInt(te.paddingBottom,10),me=J+Y+Q+se+ne,re=Math.min(C.offsetHeight*5,me),de=window.getComputedStyle(_),oe=parseInt(de.paddingTop,10),he=parseInt(de.paddingBottom,10),Re=F.top+F.height/2-Qs,Le=q-Re,le=C.offsetHeight/2,pe=C.offsetTop+le,je=J+Y+pe,xe=me-je;if(je<=Re){const Ce=W.length>0&&C===W[W.length-1].ref.current;d.style.bottom="0px";const we=h.clientHeight-_.offsetTop-_.offsetHeight,We=Math.max(Le,le+(Ce?he:0)+we+ne),Ue=je+We;d.style.height=Ue+"px"}else{const Ce=W.length>0&&C===W[0].ref.current;d.style.top="0px";const We=Math.max(Re,J+_.offsetTop+(Ce?oe:0)+le)+xe;d.style.height=We+"px",_.scrollTop=je-Re+_.offsetTop}d.style.margin=`${Qs}px 0`,d.style.minHeight=re+"px",d.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>A.current=!0)}},[S,s.trigger,s.valueNode,d,h,_,C,M,s.dir,r]);ci(()=>R(),[R]);const[U,B]=N.useState();ci(()=>{h&&B(window.getComputedStyle(h).zIndex)},[h]);const L=N.useCallback(F=>{F&&T.current===!0&&(R(),P==null||P(),T.current=!1)},[R,P]);return a.jsx(fie,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:A,onScrollButtonChange:L,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:U},children:a.jsx(Ct.div,{...i,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});aB.displayName=uie;var die="SelectPopperPosition",$S=N.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Qs,...s}=e,l=c1(n);return a.jsx(BL,{...l,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$S.displayName=die;var[fie,gE]=Rh(xd,{}),HS="SelectViewport",sB=N.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=ou(HS,n),l=gE(HS,n),d=bn(t,s.onViewportChange),m=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(o1.Slot,{scope:n,children:a.jsx(Ct.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:gt(i.onScroll,h=>{const p=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:S}=l;if(S!=null&&S.current&&v){const A=Math.abs(m.current-p.scrollTop);if(A>0){const T=window.innerHeight-Qs*2,_=parseFloat(v.style.minHeight),C=parseFloat(v.style.height),M=Math.max(_,C);if(M<T){const P=M+A,R=Math.min(T,P),U=P-R;v.style.height=R+"px",v.style.bottom==="0px"&&(p.scrollTop=U>0?U:0,v.style.justifyContent="flex-end")}}}m.current=p.scrollTop})})})]})});sB.displayName=HS;var oB="SelectGroup",[hie,mie]=Rh(oB),gie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Fo();return a.jsx(hie,{scope:n,id:i,children:a.jsx(Ct.div,{role:"group","aria-labelledby":i,...r,ref:t})})});gie.displayName=oB;var lB="SelectLabel",pie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=mie(lB,n);return a.jsx(Ct.div,{id:i.id,...r,ref:t})});pie.displayName=lB;var Hx="SelectItem",[xie,cB]=Rh(Hx),uB=N.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...l}=e,d=su(Hx,n),m=ou(Hx,n),h=d.value===r,[p,v]=N.useState(s??""),[S,A]=N.useState(!1),T=bn(t,P=>{var R;return(R=m.itemRefCallback)==null?void 0:R.call(m,P,r,i)}),_=Fo(),C=N.useRef("touch"),M=()=>{i||(d.onValueChange(r),d.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(xie,{scope:n,value:r,disabled:i,textId:_,isSelected:h,onItemTextChange:N.useCallback(P=>{v(R=>R||((P==null?void 0:P.textContent)??"").trim())},[]),children:a.jsx(o1.ItemSlot,{scope:n,value:r,disabled:i,textValue:p,children:a.jsx(Ct.div,{role:"option","aria-labelledby":_,"data-highlighted":S?"":void 0,"aria-selected":h&&S,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:T,onFocus:gt(l.onFocus,()=>A(!0)),onBlur:gt(l.onBlur,()=>A(!1)),onClick:gt(l.onClick,()=>{C.current!=="mouse"&&M()}),onPointerUp:gt(l.onPointerUp,()=>{C.current==="mouse"&&M()}),onPointerDown:gt(l.onPointerDown,P=>{C.current=P.pointerType}),onPointerMove:gt(l.onPointerMove,P=>{var R;C.current=P.pointerType,i?(R=m.onItemLeave)==null||R.call(m):C.current==="mouse"&&P.currentTarget.focus({preventScroll:!0})}),onPointerLeave:gt(l.onPointerLeave,P=>{var R;P.currentTarget===document.activeElement&&((R=m.onItemLeave)==null||R.call(m))}),onKeyDown:gt(l.onKeyDown,P=>{var U;((U=m.searchRef)==null?void 0:U.current)!==""&&P.key===" "||(tie.includes(P.key)&&M(),P.key===" "&&P.preventDefault())})})})})});uB.displayName=Hx;var n0="SelectItemText",dB=N.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,l=su(n0,n),d=ou(n0,n),m=cB(n0,n),h=aie(n0,n),[p,v]=N.useState(null),S=bn(t,M=>v(M),m.onItemTextChange,M=>{var P;return(P=d.itemTextRefCallback)==null?void 0:P.call(d,M,m.value,m.disabled)}),A=p==null?void 0:p.textContent,T=N.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:A},m.value),[m.disabled,m.value,A]),{onNativeOptionAdd:_,onNativeOptionRemove:C}=h;return ci(()=>(_(T),()=>C(T)),[_,C,T]),a.jsxs(a.Fragment,{children:[a.jsx(Ct.span,{id:m.textId,...s,ref:S}),m.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ed.createPortal(s.children,l.valueNode):null]})});dB.displayName=n0;var fB="SelectItemIndicator",hB=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return cB(fB,n).isSelected?a.jsx(Ct.span,{"aria-hidden":!0,...r,ref:t}):null});hB.displayName=fB;var qS="SelectScrollUpButton",mB=N.forwardRef((e,t)=>{const n=ou(qS,e.__scopeSelect),r=gE(qS,e.__scopeSelect),[i,s]=N.useState(!1),l=bn(t,r.onScrollButtonChange);return ci(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=m.scrollTop>0;s(h)};const m=n.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?a.jsx(pB,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=n;d&&m&&(d.scrollTop=d.scrollTop-m.offsetHeight)}}):null});mB.displayName=qS;var YS="SelectScrollDownButton",gB=N.forwardRef((e,t)=>{const n=ou(YS,e.__scopeSelect),r=gE(YS,e.__scopeSelect),[i,s]=N.useState(!1),l=bn(t,r.onScrollButtonChange);return ci(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=m.scrollHeight-m.clientHeight,p=Math.ceil(m.scrollTop)<h;s(p)};const m=n.viewport;return d(),m.addEventListener("scroll",d),()=>m.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?a.jsx(pB,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:m}=n;d&&m&&(d.scrollTop=d.scrollTop+m.offsetHeight)}}):null});gB.displayName=YS;var pB=N.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=ou("SelectScrollButton",n),l=N.useRef(null),d=l1(n),m=N.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return N.useEffect(()=>()=>m(),[m]),ci(()=>{var p;const h=d().find(v=>v.ref.current===document.activeElement);(p=h==null?void 0:h.ref.current)==null||p.scrollIntoView({block:"nearest"})},[d]),a.jsx(Ct.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:gt(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:gt(i.onPointerMove,()=>{var h;(h=s.onItemLeave)==null||h.call(s),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:gt(i.onPointerLeave,()=>{m()})})}),vie="SelectSeparator",yie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(Ct.div,{"aria-hidden":!0,...r,ref:t})});yie.displayName=vie;var WS="SelectArrow",bie=N.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=c1(n),s=su(WS,n),l=ou(WS,n);return s.open&&l.position==="popper"?a.jsx(FL,{...i,...r,ref:t}):null});bie.displayName=WS;var wie="SelectBubbleInput",xB=N.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=N.useRef(null),s=bn(r,i),l=eE(t);return N.useEffect(()=>{const d=i.current;if(!d)return;const m=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(m,"value").set;if(l!==t&&p){const v=new Event("change",{bubbles:!0});p.call(d,t),d.dispatchEvent(v)}},[l,t]),a.jsx(Ct.select,{...n,style:{...UL,...n.style},ref:s,defaultValue:t})});xB.displayName=wie;function vB(e){return e===""||e===void 0}function yB(e){const t=ro(e),n=N.useRef(""),r=N.useRef(0),i=N.useCallback(l=>{const d=n.current+l;t(d),function m(h){n.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(d)},[t]),s=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function bB(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=jie(e,Math.max(s,0));i.length===1&&(l=l.filter(h=>h!==n));const m=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function jie(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Sie=KL,Nie=QL,Aie=JL,Eie=eB,_ie=tB,Cie=nB,Tie=sB,Oie=uB,Mie=dB,Die=hB,Rie=mB,Pie=gB;function pr({...e}){return a.jsx(Sie,{"data-slot":"select",...e})}function xr({...e}){return a.jsx(Aie,{"data-slot":"select-value",...e})}function vr({className:e,size:t="default",children:n,...r}){return a.jsxs(Nie,{"data-slot":"select-trigger","data-size":t,className:At("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r,children:[n,a.jsx(Eie,{asChild:!0,children:a.jsx(eL,{className:"size-4 opacity-50"})})]})}function yr({className:e,children:t,position:n="popper",...r}){return a.jsx(_ie,{children:a.jsxs(Cie,{"data-slot":"select-content",className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(Iie,{}),a.jsx(Tie,{className:At("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),a.jsx(kie,{})]})})}function at({className:e,children:t,...n}){return a.jsxs(Oie,{"data-slot":"select-item",className:At("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:a.jsx(Die,{children:a.jsx(J5,{className:"size-4"})})}),a.jsx(Mie,{children:t})]})}function Iie({className:e,...t}){return a.jsx(Rie,{"data-slot":"select-scroll-up-button",className:At("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(see,{className:"size-4"})})}function kie({className:e,...t}){return a.jsx(Pie,{"data-slot":"select-scroll-down-button",className:At("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(eL,{className:"size-4"})})}const Lie=e=>({passenger:[e("features.digitalWallet"),e("features.qrPayments"),e("features.eventTickets"),e("features.transactionHistory")],driver:[e("features.driverDashboard"),e("features.earningsTracking"),e("features.qrGeneration"),e("features.tripManagement")],merchant:[e("features.businessDashboard"),e("features.paymentProcessing"),e("features.analyticsInsights"),e("features.customerManagement")],event_admin:[e("features.eventCreation"),e("features.ticketManagement"),e("features.attendeeAnalytics"),e("features.revenueTracking")]});function Bie(){const[e,t]=N.useState({email:"",password:"",confirmPassword:"",fullName:"",phoneNumber:"",userRole:"passenger"}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[l,d]=N.useState(""),[m,h]=N.useState(!1),{signUp:p}=cn(),{t:v}=Yt(),S=Yl(),A=async M=>{if(M.preventDefault(),d(""),e.password!==e.confirmPassword){d("Passwords do not match");return}if(e.password.length<6){d("Password must be at least 6 characters");return}h(!0);try{const{error:P}=await p(e.email,e.password,{full_name:e.fullName,phone_number:e.phoneNumber,user_role:e.userRole});P?d(P.message):S(`/otp-verification?type=email_verification&email=${encodeURIComponent(e.email)}`)}catch{d("An unexpected error occurred")}finally{h(!1)}},T=(M,P)=>{t(R=>({...R,[M]:P}))},C=Lie(v)[e.userRole]||[];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse"})]}),a.jsxs("div",{className:"w-full max-w-4xl relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Vt,{to:"/",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(ng,{className:"h-4 w-4"}),v("registration.backToHome")]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(gte,{className:"h-4 w-4 text-green-400"}),a.jsx("span",{className:"text-white/70 text-sm",children:v("registration.joinRevolution")})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsx(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:a.jsxs(ve,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Ie,{className:"text-center",children:[a.jsx(ke,{className:"text-2xl font-bold text-white",children:v("auth.register")}),a.jsx(lt,{className:"text-gray-400",children:v("auth.getStartedDescription")})]}),a.jsxs(ye,{className:"space-y-6",children:[a.jsxs("form",{onSubmit:A,className:"space-y-4",children:[l&&a.jsx(Oa,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(Ma,{className:"text-red-400",children:l})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"userRole",className:"text-white",children:v("auth.accountType")}),a.jsxs(pr,{value:e.userRole,onValueChange:M=>T("userRole",M),children:[a.jsx(vr,{className:"bg-white/5 border-white/10 text-white focus:border-blue-400/50 focus:ring-blue-400/20",children:a.jsx(xr,{})}),a.jsxs(yr,{className:"bg-slate-900 border-white/10",children:[a.jsx(at,{value:"passenger",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),v("auth.passenger")]})}),a.jsx(at,{value:"driver",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),v("auth.driver")]})}),a.jsx(at,{value:"merchant",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),v("auth.merchant")]})}),a.jsx(at,{value:"event_admin",className:"text-white hover:bg-white/10",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),v("auth.eventAdmin")]})})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"fullName",className:"text-white",children:v("auth.fullName")}),a.jsx(Pt,{id:"fullName",type:"text",value:e.fullName,onChange:M=>T("fullName",M.target.value),placeholder:v("auth.fullNamePlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",className:"text-white",children:v("auth.email")}),a.jsx(Pt,{id:"email",type:"email",value:e.email,onChange:M=>T("email",M.target.value),placeholder:v("auth.emailPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(et,{htmlFor:"phoneNumber",className:"text-white",children:[v("auth.phoneNumber")," (",v("common.optional"),")"]}),a.jsx(Pt,{id:"phoneNumber",type:"tel",value:e.phoneNumber,onChange:M=>T("phoneNumber",M.target.value),placeholder:v("auth.phoneNumberPlaceholder"),className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",className:"text-white",children:v("auth.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"password",type:n?"text":"password",value:e.password,onChange:M=>T("password",M.target.value),placeholder:v("auth.createPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>r(!n),children:n?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"confirmPassword",className:"text-white",children:v("auth.confirmPassword")}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"confirmPassword",type:i?"text":"password",value:e.confirmPassword,onChange:M=>T("confirmPassword",M.target.value),placeholder:v("auth.confirmPasswordPlaceholder"),required:!0,className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 focus:border-blue-400/50 focus:ring-blue-400/20 pr-12"}),a.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent text-gray-400 hover:text-white",onClick:()=>s(!i),children:i?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]})]}),a.jsxs(_e,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:m,children:[m&&a.jsx(Bo,{className:"mr-2 h-5 w-5 animate-spin"}),v("auth.register")]})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"text-sm text-gray-400",children:[v("auth.alreadyHaveAccount")," ",a.jsx(Vt,{to:"/login",className:"text-blue-400 hover:text-blue-300 transition-colors font-semibold",children:v("auth.signInHere")})]})})]})]})}),a.jsxs(He.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"space-y-6",children:[a.jsxs(ve,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:[a.jsx(Ie,{children:a.jsxs(ke,{className:"text-white flex items-center gap-2",children:[a.jsx(JA,{className:"h-5 w-5 text-yellow-400"}),e.userRole==="passenger"&&v("registration.personalAccountFeatures"),e.userRole==="driver"&&v("registration.driverAccountFeatures"),e.userRole==="merchant"&&v("registration.businessAccountFeatures"),e.userRole==="event_admin"&&v("registration.eventOrganizerFeatures")]})}),a.jsx(ye,{children:a.jsx("ul",{className:"space-y-3",children:C.map((M,P)=>a.jsxs(He.li,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:P*.1},className:"flex items-center gap-3 text-gray-300",children:[a.jsx(yi,{className:"h-4 w-4 text-green-400 flex-shrink-0"}),M]},M))})})]}),a.jsx(ve,{className:"bg-black/40 backdrop-blur-xl border-white/10",children:a.jsxs(ye,{className:"p-6",children:[a.jsx("h3",{className:"text-white font-semibold mb-4",children:v("registration.whyChooseTickets")}),a.jsxs("div",{className:"space-y-3 text-sm text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:v("registration.bankGradeSecurity")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:v("registration.instantTransactions")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:v("registration.customerSupport")})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-2 h-2 bg-yellow-400 rounded-full"}),a.jsx("span",{children:v("registration.lowFees")})]})]})]})})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:v("registration.soc2Certified")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:v("registration.iso27001")})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:v("registration.pciCompliant")})]})]})})]})]})}function Fie(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(""),[l,d]=N.useState(!1),{t:m}=Yt(),h=Yl(),p=async v=>{v.preventDefault(),s(""),r(""),d(!0);try{const{error:S}=await rt.auth.resetPasswordForEmail(e,{redirectTo:`${window.location.origin}/reset-password`});S?s(S.message):h(`/otp-verification?type=password_reset&email=${encodeURIComponent(e)}`)}catch{s("An unexpected error occurred")}finally{d(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-purple-50 p-4",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(fa,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:m("app.name")})]}),a.jsx(ke,{className:"text-2xl font-bold",children:"Reset Password"}),a.jsx(lt,{children:"Enter your email address and we'll send you a link to reset your password"})]}),a.jsxs(ye,{children:[a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[i&&a.jsx(Oa,{variant:"destructive",children:a.jsx(Ma,{children:i})}),n&&a.jsx(Oa,{children:a.jsx(Ma,{children:n})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"email",children:m("auth.email")}),a.jsx(Pt,{id:"email",type:"email",value:e,onChange:v=>t(v.target.value),placeholder:"your@email.com",required:!0})]}),a.jsxs(_e,{type:"submit",className:"w-full",disabled:l,children:[l&&a.jsx(Bo,{className:"mr-2 h-4 w-4 animate-spin"}),"Send Reset Email"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Vt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(ng,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})})}var Uie=Object.defineProperty,zie=Object.defineProperties,Vie=Object.getOwnPropertyDescriptors,qx=Object.getOwnPropertySymbols,wB=Object.prototype.hasOwnProperty,jB=Object.prototype.propertyIsEnumerable,fD=(e,t,n)=>t in e?Uie(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,$ie=(e,t)=>{for(var n in t||(t={}))wB.call(t,n)&&fD(e,n,t[n]);if(qx)for(var n of qx(t))jB.call(t,n)&&fD(e,n,t[n]);return e},Hie=(e,t)=>zie(e,Vie(t)),qie=(e,t)=>{var n={};for(var r in e)wB.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&qx)for(var r of qx(e))t.indexOf(r)<0&&jB.call(e,r)&&(n[r]=e[r]);return n};function Yie(e){let t=setTimeout(e,0),n=setTimeout(e,10),r=setTimeout(e,50);return[t,n,r]}function Wie(e){let t=N.useRef();return N.useEffect(()=>{t.current=e}),t.current}var Gie=18,SB=40,Kie=`${SB}px`,Xie=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Qie({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=N.useState(!1),[l,d]=N.useState(!1),[m,h]=N.useState(!1),p=N.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&l,[i,l,n]),v=N.useCallback(()=>{let S=e.current,A=t.current;if(!S||!A||m||n==="none")return;let T=S,_=T.getBoundingClientRect().left+T.offsetWidth,C=T.getBoundingClientRect().top+T.offsetHeight/2,M=_-Gie,P=C;document.querySelectorAll(Xie).length===0&&document.elementFromPoint(M,P)===S||(s(!0),h(!0))},[e,t,m,n]);return N.useEffect(()=>{let S=e.current;if(!S||n==="none")return;function A(){let _=window.innerWidth-S.getBoundingClientRect().right;d(_>=SB)}A();let T=setInterval(A,1e3);return()=>{clearInterval(T)}},[e,n]),N.useEffect(()=>{let S=r||document.activeElement===t.current;if(n==="none"||!S)return;let A=setTimeout(v,0),T=setTimeout(v,2e3),_=setTimeout(v,5e3),C=setTimeout(()=>{h(!0)},6e3);return()=>{clearTimeout(A),clearTimeout(T),clearTimeout(_),clearTimeout(C)}},[t,r,n,v]),{hasPWMBadge:i,willPushPWMBadge:p,PWM_BADGE_SPACE_WIDTH:Kie}}var NB=N.createContext({}),AB=N.forwardRef((e,t)=>{var n=e,{value:r,onChange:i,maxLength:s,textAlign:l="left",pattern:d,placeholder:m,inputMode:h="numeric",onComplete:p,pushPasswordManagerStrategy:v="increase-width",pasteTransformer:S,containerClassName:A,noScriptCSSFallback:T=Zie,render:_,children:C}=n,M=qie(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),P,R,U,B,L;let[F,V]=N.useState(typeof M.defaultValue=="string"?M.defaultValue:""),z=r??F,H=Wie(z),W=N.useCallback(Ue=>{i==null||i(Ue),V(Ue)},[i]),q=N.useMemo(()=>d?typeof d=="string"?new RegExp(d):d:null,[d]),Q=N.useRef(null),te=N.useRef(null),J=N.useRef({value:z,onChange:W,isIOS:typeof window<"u"&&((R=(P=window==null?void 0:window.CSS)==null?void 0:P.supports)==null?void 0:R.call(P,"-webkit-touch-callout","none"))}),Y=N.useRef({prev:[(U=Q.current)==null?void 0:U.selectionStart,(B=Q.current)==null?void 0:B.selectionEnd,(L=Q.current)==null?void 0:L.selectionDirection]});N.useImperativeHandle(t,()=>Q.current,[]),N.useEffect(()=>{let Ue=Q.current,Ze=te.current;if(!Ue||!Ze)return;J.current.value!==Ue.value&&J.current.onChange(Ue.value),Y.current.prev=[Ue.selectionStart,Ue.selectionEnd,Ue.selectionDirection];function yt(){if(document.activeElement!==Ue){oe(null),Re(null);return}let tt=Ue.selectionStart,or=Ue.selectionEnd,it=Ue.selectionDirection,fn=Ue.maxLength,$r=Ue.value,lr=Y.current.prev,Ii=-1,vn=-1,zn;if($r.length!==0&&tt!==null&&or!==null){let Bs=tt===or,us=tt===$r.length&&$r.length<fn;if(Bs&&!us){let nn=tt;if(nn===0)Ii=0,vn=1,zn="forward";else if(nn===fn)Ii=nn-1,vn=nn,zn="backward";else if(fn>1&&$r.length>1){let Qe=0;if(lr[0]!==null&&lr[1]!==null){zn=nn<lr[1]?"backward":"forward";let hn=lr[0]===lr[1]&&lr[0]<fn;zn==="backward"&&!hn&&(Qe=-1)}Ii=Qe+nn,vn=Qe+nn+1}}Ii!==-1&&vn!==-1&&Ii!==vn&&Q.current.setSelectionRange(Ii,vn,zn)}let cr=Ii!==-1?Ii:tt,Jt=vn!==-1?vn:or,ka=zn??it;oe(cr),Re(Jt),Y.current.prev=[cr,Jt,ka]}if(document.addEventListener("selectionchange",yt,{capture:!0}),yt(),document.activeElement===Ue&&re(!0),!document.getElementById("input-otp-style")){let tt=document.createElement("style");if(tt.id="input-otp-style",document.head.appendChild(tt),tt.sheet){let or="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Vm(tt.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Vm(tt.sheet,`[data-input-otp]:autofill { ${or} }`),Vm(tt.sheet,`[data-input-otp]:-webkit-autofill { ${or} }`),Vm(tt.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Vm(tt.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let Ke=()=>{Ze&&Ze.style.setProperty("--root-height",`${Ue.clientHeight}px`)};Ke();let xt=new ResizeObserver(Ke);return xt.observe(Ue),()=>{document.removeEventListener("selectionchange",yt,{capture:!0}),xt.disconnect()}},[]);let[ne,se]=N.useState(!1),[me,re]=N.useState(!1),[de,oe]=N.useState(null),[he,Re]=N.useState(null);N.useEffect(()=>{Yie(()=>{var Ue,Ze,yt,Ke;(Ue=Q.current)==null||Ue.dispatchEvent(new Event("input"));let xt=(Ze=Q.current)==null?void 0:Ze.selectionStart,tt=(yt=Q.current)==null?void 0:yt.selectionEnd,or=(Ke=Q.current)==null?void 0:Ke.selectionDirection;xt!==null&&tt!==null&&(oe(xt),Re(tt),Y.current.prev=[xt,tt,or])})},[z,me]),N.useEffect(()=>{H!==void 0&&z!==H&&H.length<s&&z.length===s&&(p==null||p(z))},[s,p,H,z]);let Le=Qie({containerRef:te,inputRef:Q,pushPasswordManagerStrategy:v,isFocused:me}),le=N.useCallback(Ue=>{let Ze=Ue.currentTarget.value.slice(0,s);if(Ze.length>0&&q&&!q.test(Ze)){Ue.preventDefault();return}typeof H=="string"&&Ze.length<H.length&&document.dispatchEvent(new Event("selectionchange")),W(Ze)},[s,W,H,q]),pe=N.useCallback(()=>{var Ue;if(Q.current){let Ze=Math.min(Q.current.value.length,s-1),yt=Q.current.value.length;(Ue=Q.current)==null||Ue.setSelectionRange(Ze,yt),oe(Ze),Re(yt)}re(!0)},[s]),je=N.useCallback(Ue=>{var Ze,yt;let Ke=Q.current;if(!S&&(!J.current.isIOS||!Ue.clipboardData||!Ke))return;let xt=Ue.clipboardData.getData("text/plain"),tt=S?S(xt):xt;Ue.preventDefault();let or=(Ze=Q.current)==null?void 0:Ze.selectionStart,it=(yt=Q.current)==null?void 0:yt.selectionEnd,fn=(or!==it?z.slice(0,or)+tt+z.slice(it):z.slice(0,or)+tt+z.slice(or)).slice(0,s);if(fn.length>0&&q&&!q.test(fn))return;Ke.value=fn,W(fn);let $r=Math.min(fn.length,s-1),lr=fn.length;Ke.setSelectionRange($r,lr),oe($r),Re(lr)},[s,W,q,z]),xe=N.useMemo(()=>({position:"relative",cursor:M.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[M.disabled]),Fe=N.useMemo(()=>({position:"absolute",inset:0,width:Le.willPushPWMBadge?`calc(100% + ${Le.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:Le.willPushPWMBadge?`inset(0 ${Le.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:l,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[Le.PWM_BADGE_SPACE_WIDTH,Le.willPushPWMBadge,l]),Ce=N.useMemo(()=>N.createElement("input",Hie($ie({autoComplete:M.autoComplete||"one-time-code"},M),{"data-input-otp":!0,"data-input-otp-placeholder-shown":z.length===0||void 0,"data-input-otp-mss":de,"data-input-otp-mse":he,inputMode:h,pattern:q==null?void 0:q.source,"aria-placeholder":m,style:Fe,maxLength:s,value:z,ref:Q,onPaste:Ue=>{var Ze;je(Ue),(Ze=M.onPaste)==null||Ze.call(M,Ue)},onChange:le,onMouseOver:Ue=>{var Ze;se(!0),(Ze=M.onMouseOver)==null||Ze.call(M,Ue)},onMouseLeave:Ue=>{var Ze;se(!1),(Ze=M.onMouseLeave)==null||Ze.call(M,Ue)},onFocus:Ue=>{var Ze;pe(),(Ze=M.onFocus)==null||Ze.call(M,Ue)},onBlur:Ue=>{var Ze;re(!1),(Ze=M.onBlur)==null||Ze.call(M,Ue)}})),[le,pe,je,h,Fe,s,he,de,M,q==null?void 0:q.source,z]),we=N.useMemo(()=>({slots:Array.from({length:s}).map((Ue,Ze)=>{var yt;let Ke=me&&de!==null&&he!==null&&(de===he&&Ze===de||Ze>=de&&Ze<he),xt=z[Ze]!==void 0?z[Ze]:null,tt=z[0]!==void 0?null:(yt=m==null?void 0:m[Ze])!=null?yt:null;return{char:xt,placeholderChar:tt,isActive:Ke,hasFakeCaret:Ke&&xt===null}}),isFocused:me,isHovering:!M.disabled&&ne}),[me,ne,s,he,de,M.disabled,z]),We=N.useMemo(()=>_?_(we):N.createElement(NB.Provider,{value:we},C),[C,we,_]);return N.createElement(N.Fragment,null,T!==null&&N.createElement("noscript",null,N.createElement("style",null,T)),N.createElement("div",{ref:te,"data-input-otp-container":!0,style:xe,className:A},We,N.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},Ce)))});AB.displayName="Input";function Vm(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var Zie=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;function Jie({className:e,containerClassName:t,...n}){return a.jsx(AB,{"data-slot":"input-otp",containerClassName:At("flex items-center gap-2 has-disabled:opacity-50",t),className:At("disabled:cursor-not-allowed",e),...n})}function eae({className:e,...t}){return a.jsx("div",{"data-slot":"input-otp-group",className:At("flex items-center",e),...t})}function If({index:e,className:t,...n}){const r=N.useContext(NB),{char:i,hasFakeCaret:s,isActive:l}=(r==null?void 0:r.slots[e])??{};return a.jsxs("div",{"data-slot":"input-otp-slot","data-active":l,className:At("data-[active=true]:border-ring data-[active=true]:ring-ring/50 data-[active=true]:aria-invalid:ring-destructive/20 dark:data-[active=true]:aria-invalid:ring-destructive/40 aria-invalid:border-destructive data-[active=true]:aria-invalid:border-destructive dark:bg-input/30 border-input relative flex h-9 w-9 items-center justify-center border-y border-r text-sm shadow-xs transition-all outline-none first:rounded-l-md first:border-l last:rounded-r-md data-[active=true]:z-10 data-[active=true]:ring-[3px]",t),...n,children:[i,s&&a.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"animate-caret-blink bg-foreground h-4 w-px duration-1000"})})]})}function tae(){const[e,t]=N.useState(""),[n,r]=N.useState(""),[i,s]=N.useState(!1),[l,d]=N.useState(!1),[m,h]=N.useState(""),[p,v]=N.useState(60),[S,A]=N.useState(!1),[T]=a6(),_=Yl(),{t:C}=Yt(),{user:M}=cn(),P=T.get("type")||"email_verification",R=T.get("email")||(M==null?void 0:M.email)||"",U=T.get("phone")||"";N.useEffect(()=>{if(p>0){const H=setTimeout(()=>v(p-1),1e3);return()=>clearTimeout(H)}else A(!0)},[p]);const L=(()=>{switch(P){case"email_verification":return{title:"Verify Your Email",description:`We've sent a 6-digit verification code to ${R}. Please enter it below to verify your email address.`,icon:a.jsx(ZA,{className:"h-6 w-6"}),successMessage:"Email verified successfully!",resendText:"Resend verification email"};case"password_reset":return{title:"Reset Your Password",description:`We've sent a 6-digit code to ${R}. Enter it below to reset your password.`,icon:a.jsx(g0,{className:"h-6 w-6"}),successMessage:"Code verified! You can now reset your password.",resendText:"Resend reset code"};case"phone_verification":return{title:"Verify Your Phone",description:`We've sent a 6-digit verification code to ${U}. Please enter it below.`,icon:a.jsx(g0,{className:"h-6 w-6"}),successMessage:"Phone number verified successfully!",resendText:"Resend SMS code"};default:return{title:"Verify Code",description:"Please enter the verification code sent to you.",icon:a.jsx(g0,{className:"h-6 w-6"}),successMessage:"Code verified successfully!",resendText:"Resend code"}}})(),F=async()=>{if(e.length!==6){r("Please enter a 6-digit code");return}r(""),s(!0);try{switch(P){case"email_verification":const{error:H}=await rt.auth.verifyOtp({email:R,token:e,type:"signup"});H?r(H.message):(h(L.successMessage),setTimeout(()=>_("/"),2e3));break;case"password_reset":const{error:W}=await rt.auth.verifyOtp({email:R,token:e,type:"recovery"});W?r(W.message):(h(L.successMessage),setTimeout(()=>_(`/reset-password?token=${e}&email=${R}`),2e3));break;case"phone_verification":const{error:q}=await rt.auth.verifyOtp({phone:U,token:e,type:"sms"});q?r(q.message):(h(L.successMessage),setTimeout(()=>_("/"),2e3));break;default:r("Invalid verification type")}}catch{r("An unexpected error occurred. Please try again.")}finally{s(!1)}},V=async()=>{d(!0),r(""),h("");try{switch(P){case"email_verification":const{error:H}=await rt.auth.resend({type:"signup",email:R});H?r(H.message):(h("Verification email sent again!"),v(60),A(!1));break;case"password_reset":const{error:W}=await rt.auth.resetPasswordForEmail(R,{redirectTo:`${window.location.origin}/otp-verification?type=password_reset&email=${R}`});W?r(W.message):(h("Reset code sent again!"),v(60),A(!1));break;case"phone_verification":h("SMS code sent again!"),v(60),A(!1);break}}catch{r("Failed to resend code. Please try again.")}finally{d(!1)}},z=H=>{t(H),r(""),H.length===6&&setTimeout(F,500)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs(Vt,{to:"/login",className:"inline-flex items-center gap-2 text-white/70 hover:text-white transition-colors mb-6",children:[a.jsx(ng,{className:"h-4 w-4"}),"Back to Login"]}),a.jsxs(He.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"flex items-center justify-center gap-3 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:"/logo.svg",alt:"Tickets Logo",className:"h-12 w-12"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-lg blur opacity-50"})]}),a.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent",children:"Tickets"})]})]}),a.jsxs(ve,{className:"bg-black/40 backdrop-blur-xl border-white/10 shadow-2xl",children:[a.jsxs(Ie,{className:"text-center",children:[a.jsx("div",{className:"flex items-center justify-center mb-6",children:a.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-gradient-to-br from-blue-500/20 to-purple-500/20 border border-white/10",children:L.icon})}),a.jsx(ke,{className:"text-2xl font-bold text-white",children:L.title}),a.jsx(lt,{className:"text-center text-gray-400 leading-relaxed",children:L.description})]}),a.jsxs(ye,{className:"space-y-6",children:[n&&a.jsx(Oa,{variant:"destructive",className:"bg-red-500/10 border-red-500/20",children:a.jsx(Ma,{className:"text-red-400",children:n})}),m&&a.jsxs(Oa,{className:"bg-green-500/10 border-green-500/20",children:[a.jsx(yi,{className:"h-4 w-4 text-green-400"}),a.jsx(Ma,{className:"text-green-400",children:m})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(et,{className:"text-center block text-white",children:"Enter 6-digit verification code"}),a.jsx("div",{className:"flex justify-center",children:a.jsx(Jie,{maxLength:6,value:e,onChange:z,className:"gap-3",children:a.jsxs(eae,{children:[a.jsx(If,{index:0,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(If,{index:1,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(If,{index:2,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(If,{index:3,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(If,{index:4,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"}),a.jsx(If,{index:5,className:"h-14 w-14 text-xl bg-white/5 border-white/10 text-white focus:border-blue-400/50"})]})})})]}),a.jsxs(_e,{onClick:F,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 border-0 text-white py-6 text-lg font-semibold",disabled:i||e.length!==6,children:[i&&a.jsx(Bo,{className:"mr-2 h-5 w-5 animate-spin"}),"Verify Code"]}),a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"Didn't receive the code?"}),S?a.jsxs(_e,{variant:"ghost",onClick:V,disabled:l,className:"text-blue-400 hover:text-blue-300 hover:bg-blue-400/10",children:[l?a.jsx(Bo,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Wv,{className:"mr-2 h-4 w-4"}),L.resendText]}):a.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-400",children:[a.jsx(br,{className:"h-4 w-4"}),a.jsxs("span",{children:["Resend available in ",p,"s"]})]})]})]})]}),a.jsx("div",{className:"mt-8 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-6 text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),a.jsx("span",{children:"Secure Verification"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-blue-400 rounded-full"}),a.jsx("span",{children:"Encrypted"})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("div",{className:"w-2 h-2 bg-purple-400 rounded-full"}),a.jsx("span",{children:"Protected"})]})]})})]})]})}function nae(){const[e,t]=N.useState({password:"",confirmPassword:""}),[n,r]=N.useState(!1),[i,s]=N.useState(!1),[l,d]=N.useState(""),[m,h]=N.useState(!1),[p,v]=N.useState(""),[S]=a6(),A=Yl(),{t:T}=Yt(),_=S.get("token");S.get("email"),N.useEffect(()=>{_||A("/forgot-password")},[_,A]);const C=async P=>{if(P.preventDefault(),d(""),v(""),e.password!==e.confirmPassword){d("Passwords do not match");return}if(e.password.length<6){d("Password must be at least 6 characters");return}if(!_){d("Invalid reset token");return}h(!0);try{const{error:R}=await rt.auth.updateUser({password:e.password});R?d(R.message):(v("Password updated successfully! Redirecting to login..."),setTimeout(()=>A("/login"),3e3))}catch{d("An unexpected error occurred")}finally{h(!1)}},M=(P,R)=>{t(U=>({...U,[P]:R})),d("")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:[a.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[a.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"}),a.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(fa,{className:"h-6 w-6"})}),a.jsx("h1",{className:"text-2xl font-bold text-primary",children:T("app.name")})]}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10 text-primary",children:a.jsx(g0,{className:"h-6 w-6"})})}),a.jsx(ke,{className:"text-2xl font-bold",children:"Reset Your Password"}),a.jsx(lt,{children:"Enter your new password below"})]}),a.jsxs(ye,{children:[a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[l&&a.jsx(Oa,{variant:"destructive",children:a.jsx(Ma,{children:l})}),p&&a.jsx(Oa,{children:a.jsx(Ma,{className:"text-green-600",children:p})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"password",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"password",type:n?"text":"password",value:e.password,onChange:P=>M("password",P.target.value),placeholder:"Enter new password",required:!0,minLength:6}),a.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>r(!n),children:n?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Password must be at least 6 characters long"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"confirmPassword",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Pt,{id:"confirmPassword",type:i?"text":"password",value:e.confirmPassword,onChange:P=>M("confirmPassword",P.target.value),placeholder:"Confirm new password",required:!0}),a.jsx(_e,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!i),children:i?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]})]}),a.jsxs(_e,{type:"submit",className:"w-full",disabled:m,children:[m&&a.jsx(Bo,{className:"mr-2 h-4 w-4 animate-spin"}),"Update Password"]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs(Vt,{to:"/login",className:"inline-flex items-center text-sm text-primary hover:underline",children:[a.jsx(ng,{className:"mr-1 h-4 w-4"}),"Back to Login"]})})]})]})})]})}var zw={exports:{}},Vw={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function rae(){if(hD)return Vw;hD=1;var e=bh();function t(v,S){return v===S&&(v!==0||1/v===1/S)||v!==v&&S!==S}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,i=e.useEffect,s=e.useLayoutEffect,l=e.useDebugValue;function d(v,S){var A=S(),T=r({inst:{value:A,getSnapshot:S}}),_=T[0].inst,C=T[1];return s(function(){_.value=A,_.getSnapshot=S,m(_)&&C({inst:_})},[v,A,S]),i(function(){return m(_)&&C({inst:_}),v(function(){m(_)&&C({inst:_})})},[v]),l(A),A}function m(v){var S=v.getSnapshot;v=v.value;try{var A=S();return!n(v,A)}catch{return!0}}function h(v,S){return S()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return Vw.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Vw}var mD;function EB(){return mD||(mD=1,zw.exports=rae()),zw.exports}var iae=EB();function aae(){return iae.useSyncExternalStore(sae,()=>!0,()=>!1)}function sae(){return()=>{}}var pE="Avatar",[oae,MEe]=Is(pE),[lae,_B]=oae(pE),CB=N.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=N.useState("idle");return a.jsx(lae,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(Ct.span,{...r,ref:t})})});CB.displayName=pE;var TB="AvatarImage",OB=N.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,l=_B(TB,n),d=cae(r,s),m=ro(h=>{i(h),l.onImageLoadingStatusChange(h)});return ci(()=>{d!=="idle"&&m(d)},[d,m]),d==="loaded"?a.jsx(Ct.img,{...s,ref:t,src:r}):null});OB.displayName=TB;var MB="AvatarFallback",DB=N.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=_B(MB,n),[l,d]=N.useState(r===void 0);return N.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>d(!0),r);return()=>window.clearTimeout(m)}},[r]),l&&s.imageLoadingStatus!=="loaded"?a.jsx(Ct.span,{...i,ref:t}):null});DB.displayName=MB;function gD(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function cae(e,{referrerPolicy:t,crossOrigin:n}){const r=aae(),i=N.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[l,d]=N.useState(()=>gD(s,e));return ci(()=>{d(gD(s,e))},[s,e]),ci(()=>{const m=v=>()=>{d(v)};if(!s)return;const h=m("loaded"),p=m("error");return s.addEventListener("load",h),s.addEventListener("error",p),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",h),s.removeEventListener("error",p)}},[s,n,t]),l}var uae=CB,dae=OB,fae=DB;function GS({className:e,...t}){return a.jsx(uae,{"data-slot":"avatar",className:At("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function KS({className:e,...t}){return a.jsx(dae,{"data-slot":"avatar-image",className:At("aspect-square size-full",e),...t})}function XS({className:e,...t}){return a.jsx(fae,{"data-slot":"avatar-fallback",className:At("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const hae=qA("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function pt({className:e,variant:t,asChild:n=!1,...r}){const i=n?F5:"span";return a.jsx(i,{"data-slot":"badge",className:At(hae({variant:t}),e),...r})}var mae="Separator",pD="horizontal",gae=["horizontal","vertical"],RB=N.forwardRef((e,t)=>{const{decorative:n,orientation:r=pD,...i}=e,s=pae(r)?r:pD,d=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(Ct.div,{"data-orientation":s,...d,...i,ref:t})});RB.displayName=mae;function pae(e){return gae.includes(e)}var xae=RB;function qo({className:e,orientation:t="horizontal",decorative:n=!0,...r}){return a.jsx(xae,{"data-slot":"separator-root",decorative:n,orientation:t,className:At("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...r})}var $w="rovingFocusGroup.onEntryFocus",vae={bubbles:!1,cancelable:!0},sg="RovingFocusGroup",[QS,PB,yae]=rE(sg),[bae,u1]=Is(sg,[yae]),[wae,jae]=bae(sg),IB=N.forwardRef((e,t)=>a.jsx(QS.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(QS.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Sae,{...e,ref:t})})}));IB.displayName=sg;var Sae=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...v}=e,S=N.useRef(null),A=bn(t,S),T=Qv(s),[_,C]=Xc({prop:l,defaultProp:d??null,onChange:m,caller:sg}),[M,P]=N.useState(!1),R=ro(h),U=PB(n),B=N.useRef(!1),[L,F]=N.useState(0);return N.useEffect(()=>{const V=S.current;if(V)return V.addEventListener($w,R),()=>V.removeEventListener($w,R)},[R]),a.jsx(wae,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:_,onItemFocus:N.useCallback(V=>C(V),[C]),onItemShiftTab:N.useCallback(()=>P(!0),[]),onFocusableItemAdd:N.useCallback(()=>F(V=>V+1),[]),onFocusableItemRemove:N.useCallback(()=>F(V=>V-1),[]),children:a.jsx(Ct.div,{tabIndex:M||L===0?-1:0,"data-orientation":r,...v,ref:A,style:{outline:"none",...e.style},onMouseDown:gt(e.onMouseDown,()=>{B.current=!0}),onFocus:gt(e.onFocus,V=>{const z=!B.current;if(V.target===V.currentTarget&&z&&!M){const H=new CustomEvent($w,vae);if(V.currentTarget.dispatchEvent(H),!H.defaultPrevented){const W=U().filter(Y=>Y.focusable),q=W.find(Y=>Y.active),Q=W.find(Y=>Y.id===_),J=[q,Q,...W].filter(Boolean).map(Y=>Y.ref.current);BB(J,p)}}B.current=!1}),onBlur:gt(e.onBlur,()=>P(!1))})})}),kB="RovingFocusGroupItem",LB=N.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:l,...d}=e,m=Fo(),h=s||m,p=jae(kB,n),v=p.currentTabStopId===h,S=PB(n),{onFocusableItemAdd:A,onFocusableItemRemove:T,currentTabStopId:_}=p;return N.useEffect(()=>{if(r)return A(),()=>T()},[r,A,T]),a.jsx(QS.ItemSlot,{scope:n,id:h,focusable:r,active:i,children:a.jsx(Ct.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...d,ref:t,onMouseDown:gt(e.onMouseDown,C=>{r?p.onItemFocus(h):C.preventDefault()}),onFocus:gt(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:gt(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){p.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const M=Eae(C,p.orientation,p.dir);if(M!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let R=S().filter(U=>U.focusable).map(U=>U.ref.current);if(M==="last")R.reverse();else if(M==="prev"||M==="next"){M==="prev"&&R.reverse();const U=R.indexOf(C.currentTarget);R=p.loop?_ae(R,U+1):R.slice(U+1)}setTimeout(()=>BB(R))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:_!=null}):l})})});LB.displayName=kB;var Nae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Aae(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Eae(e,t,n){const r=Aae(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Nae[r]}function BB(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _ae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var FB=IB,UB=LB,ZS=["Enter"," "],Cae=["ArrowDown","PageUp","Home"],zB=["ArrowUp","PageDown","End"],Tae=[...Cae,...zB],Oae={ltr:[...ZS,"ArrowRight"],rtl:[...ZS,"ArrowLeft"]},Mae={ltr:["ArrowLeft"],rtl:["ArrowRight"]},og="Menu",[D0,Dae,Rae]=rE(og),[_d,VB]=Is(og,[Rae,r1,u1]),d1=r1(),$B=u1(),[Pae,Cd]=_d(og),[Iae,lg]=_d(og),HB=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:l=!0}=e,d=d1(t),[m,h]=N.useState(null),p=N.useRef(!1),v=ro(s),S=Qv(i);return N.useEffect(()=>{const A=()=>{p.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>p.current=!1;return document.addEventListener("keydown",A,{capture:!0}),()=>{document.removeEventListener("keydown",A,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),a.jsx(kL,{...d,children:a.jsx(Pae,{scope:t,open:n,onOpenChange:v,content:m,onContentChange:h,children:a.jsx(Iae,{scope:t,onClose:N.useCallback(()=>v(!1),[v]),isUsingKeyboardRef:p,dir:S,modal:l,children:r})})})};HB.displayName=og;var kae="MenuAnchor",xE=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=d1(n);return a.jsx(LL,{...i,...r,ref:t})});xE.displayName=kae;var vE="MenuPortal",[Lae,qB]=_d(vE,{forceMount:void 0}),YB=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=Cd(vE,t);return a.jsx(Lae,{scope:t,forceMount:n,children:a.jsx(Qo,{present:n||s.open,children:a.jsx(i1,{asChild:!0,container:i,children:r})})})};YB.displayName=vE;var Ts="MenuContent",[Bae,yE]=_d(Ts),WB=N.forwardRef((e,t)=>{const n=qB(Ts,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Cd(Ts,e.__scopeMenu),l=lg(Ts,e.__scopeMenu);return a.jsx(D0.Provider,{scope:e.__scopeMenu,children:a.jsx(Qo,{present:r||s.open,children:a.jsx(D0.Slot,{scope:e.__scopeMenu,children:l.modal?a.jsx(Fae,{...i,ref:t}):a.jsx(Uae,{...i,ref:t})})})})}),Fae=N.forwardRef((e,t)=>{const n=Cd(Ts,e.__scopeMenu),r=N.useRef(null),i=bn(t,r);return N.useEffect(()=>{const s=r.current;if(s)return mE(s)},[]),a.jsx(bE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:gt(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Uae=N.forwardRef((e,t)=>{const n=Cd(Ts,e.__scopeMenu);return a.jsx(bE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),zae=fd("MenuContent.ScrollLock"),bE=N.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:m,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:S,onDismiss:A,disableOutsideScroll:T,..._}=e,C=Cd(Ts,n),M=lg(Ts,n),P=d1(n),R=$B(n),U=Dae(n),[B,L]=N.useState(null),F=N.useRef(null),V=bn(t,F,C.onContentChange),z=N.useRef(0),H=N.useRef(""),W=N.useRef(0),q=N.useRef(null),Q=N.useRef("right"),te=N.useRef(0),J=T?s1:N.Fragment,Y=T?{as:zae,allowPinchZoom:!0}:void 0,ne=me=>{var pe,je;const re=H.current+me,de=U().filter(xe=>!xe.disabled),oe=document.activeElement,he=(pe=de.find(xe=>xe.ref.current===oe))==null?void 0:pe.textValue,Re=de.map(xe=>xe.textValue),Le=Jae(Re,re,he),le=(je=de.find(xe=>xe.textValue===Le))==null?void 0:je.ref.current;(function xe(Fe){H.current=Fe,window.clearTimeout(z.current),Fe!==""&&(z.current=window.setTimeout(()=>xe(""),1e3))})(re),le&&setTimeout(()=>le.focus())};N.useEffect(()=>()=>window.clearTimeout(z.current),[]),iE();const se=N.useCallback(me=>{var de,oe;return Q.current===((de=q.current)==null?void 0:de.side)&&tse(me,(oe=q.current)==null?void 0:oe.area)},[]);return a.jsx(Bae,{scope:n,searchRef:H,onItemEnter:N.useCallback(me=>{se(me)&&me.preventDefault()},[se]),onItemLeave:N.useCallback(me=>{var re;se(me)||((re=F.current)==null||re.focus(),L(null))},[se]),onTriggerLeave:N.useCallback(me=>{se(me)&&me.preventDefault()},[se]),pointerGraceTimerRef:W,onPointerGraceIntentChange:N.useCallback(me=>{q.current=me},[]),children:a.jsx(J,{...Y,children:a.jsx(Jv,{asChild:!0,trapped:i,onMountAutoFocus:gt(s,me=>{var re;me.preventDefault(),(re=F.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(Zv,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:v,onInteractOutside:S,onDismiss:A,children:a.jsx(FB,{asChild:!0,...R,dir:M.dir,orientation:"vertical",loop:r,currentTabStopId:B,onCurrentTabStopIdChange:L,onEntryFocus:gt(m,me=>{M.isUsingKeyboardRef.current||me.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(BL,{role:"menu","aria-orientation":"vertical","data-state":c7(C.open),"data-radix-menu-content":"",dir:M.dir,...P,..._,ref:V,style:{outline:"none",..._.style},onKeyDown:gt(_.onKeyDown,me=>{const de=me.target.closest("[data-radix-menu-content]")===me.currentTarget,oe=me.ctrlKey||me.altKey||me.metaKey,he=me.key.length===1;de&&(me.key==="Tab"&&me.preventDefault(),!oe&&he&&ne(me.key));const Re=F.current;if(me.target!==Re||!Tae.includes(me.key))return;me.preventDefault();const le=U().filter(pe=>!pe.disabled).map(pe=>pe.ref.current);zB.includes(me.key)&&le.reverse(),Qae(le)}),onBlur:gt(e.onBlur,me=>{me.currentTarget.contains(me.target)||(window.clearTimeout(z.current),H.current="")}),onPointerMove:gt(e.onPointerMove,R0(me=>{const re=me.target,de=te.current!==me.clientX;if(me.currentTarget.contains(re)&&de){const oe=me.clientX>te.current?"right":"left";Q.current=oe,te.current=me.clientX}}))})})})})})})});WB.displayName=Ts;var Vae="MenuGroup",wE=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ct.div,{role:"group",...r,ref:t})});wE.displayName=Vae;var $ae="MenuLabel",GB=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ct.div,{...r,ref:t})});GB.displayName=$ae;var Yx="MenuItem",xD="menu.itemSelect",f1=N.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=N.useRef(null),l=lg(Yx,e.__scopeMenu),d=yE(Yx,e.__scopeMenu),m=bn(t,s),h=N.useRef(!1),p=()=>{const v=s.current;if(!n&&v){const S=new CustomEvent(xD,{bubbles:!0,cancelable:!0});v.addEventListener(xD,A=>r==null?void 0:r(A),{once:!0}),rL(v,S),S.defaultPrevented?h.current=!1:l.onClose()}};return a.jsx(KB,{...i,ref:m,disabled:n,onClick:gt(e.onClick,p),onPointerDown:v=>{var S;(S=e.onPointerDown)==null||S.call(e,v),h.current=!0},onPointerUp:gt(e.onPointerUp,v=>{var S;h.current||(S=v.currentTarget)==null||S.click()}),onKeyDown:gt(e.onKeyDown,v=>{const S=d.searchRef.current!=="";n||S&&v.key===" "||ZS.includes(v.key)&&(v.currentTarget.click(),v.preventDefault())})})});f1.displayName=Yx;var KB=N.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,l=yE(Yx,n),d=$B(n),m=N.useRef(null),h=bn(t,m),[p,v]=N.useState(!1),[S,A]=N.useState("");return N.useEffect(()=>{const T=m.current;T&&A((T.textContent??"").trim())},[s.children]),a.jsx(D0.ItemSlot,{scope:n,disabled:r,textValue:i??S,children:a.jsx(UB,{asChild:!0,...d,focusable:!r,children:a.jsx(Ct.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:h,onPointerMove:gt(e.onPointerMove,R0(T=>{r?l.onItemLeave(T):(l.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:gt(e.onPointerLeave,R0(T=>l.onItemLeave(T))),onFocus:gt(e.onFocus,()=>v(!0)),onBlur:gt(e.onBlur,()=>v(!1))})})})}),Hae="MenuCheckboxItem",XB=N.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return a.jsx(t7,{scope:e.__scopeMenu,checked:n,children:a.jsx(f1,{role:"menuitemcheckbox","aria-checked":Wx(n)?"mixed":n,...i,ref:t,"data-state":SE(n),onSelect:gt(i.onSelect,()=>r==null?void 0:r(Wx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});XB.displayName=Hae;var QB="MenuRadioGroup",[qae,Yae]=_d(QB,{value:void 0,onValueChange:()=>{}}),ZB=N.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=ro(r);return a.jsx(qae,{scope:e.__scopeMenu,value:n,onValueChange:s,children:a.jsx(wE,{...i,ref:t})})});ZB.displayName=QB;var JB="MenuRadioItem",e7=N.forwardRef((e,t)=>{const{value:n,...r}=e,i=Yae(JB,e.__scopeMenu),s=n===i.value;return a.jsx(t7,{scope:e.__scopeMenu,checked:s,children:a.jsx(f1,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":SE(s),onSelect:gt(r.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});e7.displayName=JB;var jE="MenuItemIndicator",[t7,Wae]=_d(jE,{checked:!1}),n7=N.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=Wae(jE,n);return a.jsx(Qo,{present:r||Wx(s.checked)||s.checked===!0,children:a.jsx(Ct.span,{...i,ref:t,"data-state":SE(s.checked)})})});n7.displayName=jE;var Gae="MenuSeparator",r7=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Ct.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});r7.displayName=Gae;var Kae="MenuArrow",i7=N.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=d1(n);return a.jsx(FL,{...i,...r,ref:t})});i7.displayName=Kae;var Xae="MenuSub",[DEe,a7]=_d(Xae),r0="MenuSubTrigger",s7=N.forwardRef((e,t)=>{const n=Cd(r0,e.__scopeMenu),r=lg(r0,e.__scopeMenu),i=a7(r0,e.__scopeMenu),s=yE(r0,e.__scopeMenu),l=N.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:m}=s,h={__scopeMenu:e.__scopeMenu},p=N.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return N.useEffect(()=>p,[p]),N.useEffect(()=>{const v=d.current;return()=>{window.clearTimeout(v),m(null)}},[d,m]),a.jsx(xE,{asChild:!0,...h,children:a.jsx(KB,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":c7(n.open),...e,ref:Yv(t,i.onTriggerChange),onClick:v=>{var S;(S=e.onClick)==null||S.call(e,v),!(e.disabled||v.defaultPrevented)&&(v.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:gt(e.onPointerMove,R0(v=>{s.onItemEnter(v),!v.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(s.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:gt(e.onPointerLeave,R0(v=>{var A,T;p();const S=(A=n.content)==null?void 0:A.getBoundingClientRect();if(S){const _=(T=n.content)==null?void 0:T.dataset.side,C=_==="right",M=C?-5:5,P=S[C?"left":"right"],R=S[C?"right":"left"];s.onPointerGraceIntentChange({area:[{x:v.clientX+M,y:v.clientY},{x:P,y:S.top},{x:R,y:S.top},{x:R,y:S.bottom},{x:P,y:S.bottom}],side:_}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(v),v.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:gt(e.onKeyDown,v=>{var A;const S=s.searchRef.current!=="";e.disabled||S&&v.key===" "||Oae[r.dir].includes(v.key)&&(n.onOpenChange(!0),(A=n.content)==null||A.focus(),v.preventDefault())})})})});s7.displayName=r0;var o7="MenuSubContent",l7=N.forwardRef((e,t)=>{const n=qB(Ts,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=Cd(Ts,e.__scopeMenu),l=lg(Ts,e.__scopeMenu),d=a7(o7,e.__scopeMenu),m=N.useRef(null),h=bn(t,m);return a.jsx(D0.Provider,{scope:e.__scopeMenu,children:a.jsx(Qo,{present:r||s.open,children:a.jsx(D0.Slot,{scope:e.__scopeMenu,children:a.jsx(bE,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{var v;l.isUsingKeyboardRef.current&&((v=m.current)==null||v.focus()),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:gt(e.onFocusOutside,p=>{p.target!==d.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:gt(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:gt(e.onKeyDown,p=>{var A;const v=p.currentTarget.contains(p.target),S=Mae[l.dir].includes(p.key);v&&S&&(s.onOpenChange(!1),(A=d.trigger)==null||A.focus(),p.preventDefault())})})})})})});l7.displayName=o7;function c7(e){return e?"open":"closed"}function Wx(e){return e==="indeterminate"}function SE(e){return Wx(e)?"indeterminate":e?"checked":"unchecked"}function Qae(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function Zae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function Jae(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let l=Zae(e,Math.max(s,0));i.length===1&&(l=l.filter(h=>h!==n));const m=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return m!==n?m:void 0}function ese(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,l=t.length-1;s<t.length;l=s++){const d=t[s],m=t[l],h=d.x,p=d.y,v=m.x,S=m.y;p>r!=S>r&&n<(v-h)*(r-p)/(S-p)+h&&(i=!i)}return i}function tse(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return ese(n,t)}function R0(e){return t=>t.pointerType==="mouse"?e(t):void 0}var nse=HB,rse=xE,ise=YB,ase=WB,sse=wE,ose=GB,lse=f1,cse=XB,use=ZB,dse=e7,fse=n7,hse=r7,mse=i7,gse=s7,pse=l7,h1="DropdownMenu",[xse,REe]=Is(h1,[VB]),xa=VB(),[vse,u7]=xse(h1),d7=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:l,modal:d=!0}=e,m=xa(t),h=N.useRef(null),[p,v]=Xc({prop:i,defaultProp:s??!1,onChange:l,caller:h1});return a.jsx(vse,{scope:t,triggerId:Fo(),triggerRef:h,contentId:Fo(),open:p,onOpenChange:v,onOpenToggle:N.useCallback(()=>v(S=>!S),[v]),modal:d,children:a.jsx(nse,{...m,open:p,onOpenChange:v,dir:r,modal:d,children:n})})};d7.displayName=h1;var f7="DropdownMenuTrigger",h7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=u7(f7,n),l=xa(n);return a.jsx(rse,{asChild:!0,...l,children:a.jsx(Ct.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Yv(t,s.triggerRef),onPointerDown:gt(e.onPointerDown,d=>{!r&&d.button===0&&d.ctrlKey===!1&&(s.onOpenToggle(),s.open||d.preventDefault())}),onKeyDown:gt(e.onKeyDown,d=>{r||(["Enter"," "].includes(d.key)&&s.onOpenToggle(),d.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});h7.displayName=f7;var yse="DropdownMenuPortal",m7=e=>{const{__scopeDropdownMenu:t,...n}=e,r=xa(t);return a.jsx(ise,{...r,...n})};m7.displayName=yse;var g7="DropdownMenuContent",p7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=u7(g7,n),s=xa(n),l=N.useRef(!1);return a.jsx(ase,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:gt(e.onCloseAutoFocus,d=>{var m;l.current||(m=i.triggerRef.current)==null||m.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:gt(e.onInteractOutside,d=>{const m=d.detail.originalEvent,h=m.button===0&&m.ctrlKey===!0,p=m.button===2||h;(!i.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});p7.displayName=g7;var bse="DropdownMenuGroup",wse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(sse,{...i,...r,ref:t})});wse.displayName=bse;var jse="DropdownMenuLabel",x7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(ose,{...i,...r,ref:t})});x7.displayName=jse;var Sse="DropdownMenuItem",v7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(lse,{...i,...r,ref:t})});v7.displayName=Sse;var Nse="DropdownMenuCheckboxItem",Ase=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(cse,{...i,...r,ref:t})});Ase.displayName=Nse;var Ese="DropdownMenuRadioGroup",_se=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(use,{...i,...r,ref:t})});_se.displayName=Ese;var Cse="DropdownMenuRadioItem",Tse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(dse,{...i,...r,ref:t})});Tse.displayName=Cse;var Ose="DropdownMenuItemIndicator",Mse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(fse,{...i,...r,ref:t})});Mse.displayName=Ose;var Dse="DropdownMenuSeparator",y7=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(hse,{...i,...r,ref:t})});y7.displayName=Dse;var Rse="DropdownMenuArrow",Pse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(mse,{...i,...r,ref:t})});Pse.displayName=Rse;var Ise="DropdownMenuSubTrigger",kse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(gse,{...i,...r,ref:t})});kse.displayName=Ise;var Lse="DropdownMenuSubContent",Bse=N.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=xa(n);return a.jsx(pse,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bse.displayName=Lse;var Fse=d7,Use=h7,zse=m7,Vse=p7,$se=x7,Hse=v7,qse=y7;function b7({...e}){return a.jsx(Fse,{"data-slot":"dropdown-menu",...e})}function w7({...e}){return a.jsx(Use,{"data-slot":"dropdown-menu-trigger",...e})}function j7({className:e,sideOffset:t=4,...n}){return a.jsx(zse,{children:a.jsx(Vse,{"data-slot":"dropdown-menu-content",sideOffset:t,className:At("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...n})})}function eh({className:e,inset:t,variant:n="default",...r}){return a.jsx(Hse,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:At("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...r})}function Yse({className:e,inset:t,...n}){return a.jsx($se,{"data-slot":"dropdown-menu-label","data-inset":t,className:At("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",e),...n})}function vD({className:e,...t}){return a.jsx(qse,{"data-slot":"dropdown-menu-separator",className:At("bg-border -mx-1 my-1 h-px",e),...t})}var m1="Dialog",[S7,PEe]=Is(m1),[Wse,oo]=S7(m1),N7=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:l=!0}=e,d=N.useRef(null),m=N.useRef(null),[h,p]=Xc({prop:r,defaultProp:i??!1,onChange:s,caller:m1});return a.jsx(Wse,{scope:t,triggerRef:d,contentRef:m,contentId:Fo(),titleId:Fo(),descriptionId:Fo(),open:h,onOpenChange:p,onOpenToggle:N.useCallback(()=>p(v=>!v),[p]),modal:l,children:n})};N7.displayName=m1;var A7="DialogTrigger",E7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oo(A7,n),s=bn(t,i.triggerRef);return a.jsx(Ct.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":EE(i.open),...r,ref:s,onClick:gt(e.onClick,i.onOpenToggle)})});E7.displayName=A7;var NE="DialogPortal",[Gse,_7]=S7(NE,{forceMount:void 0}),C7=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=oo(NE,t);return a.jsx(Gse,{scope:t,forceMount:n,children:N.Children.map(r,l=>a.jsx(Qo,{present:n||s.open,children:a.jsx(i1,{asChild:!0,container:i,children:l})}))})};C7.displayName=NE;var Gx="DialogOverlay",T7=N.forwardRef((e,t)=>{const n=_7(Gx,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=oo(Gx,e.__scopeDialog);return s.modal?a.jsx(Qo,{present:r||s.open,children:a.jsx(Xse,{...i,ref:t})}):null});T7.displayName=Gx;var Kse=fd("DialogOverlay.RemoveScroll"),Xse=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oo(Gx,n);return a.jsx(s1,{as:Kse,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(Ct.div,{"data-state":EE(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),vd="DialogContent",O7=N.forwardRef((e,t)=>{const n=_7(vd,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=oo(vd,e.__scopeDialog);return a.jsx(Qo,{present:r||s.open,children:s.modal?a.jsx(Qse,{...i,ref:t}):a.jsx(Zse,{...i,ref:t})})});O7.displayName=vd;var Qse=N.forwardRef((e,t)=>{const n=oo(vd,e.__scopeDialog),r=N.useRef(null),i=bn(t,n.contentRef,r);return N.useEffect(()=>{const s=r.current;if(s)return mE(s)},[]),a.jsx(M7,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:gt(e.onCloseAutoFocus,s=>{var l;s.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:gt(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&s.preventDefault()}),onFocusOutside:gt(e.onFocusOutside,s=>s.preventDefault())})}),Zse=N.forwardRef((e,t)=>{const n=oo(vd,e.__scopeDialog),r=N.useRef(!1),i=N.useRef(!1);return a.jsx(M7,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,s),s.defaultPrevented||(r.current||(d=n.triggerRef.current)==null||d.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var m,h;(m=e.onInteractOutside)==null||m.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=s.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),M7=N.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...l}=e,d=oo(vd,n),m=N.useRef(null),h=bn(t,m);return iE(),a.jsxs(a.Fragment,{children:[a.jsx(Jv,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(Zv,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":EE(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Jse,{titleId:d.titleId}),a.jsx(toe,{contentRef:m,descriptionId:d.descriptionId})]})]})}),AE="DialogTitle",D7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oo(AE,n);return a.jsx(Ct.h2,{id:i.titleId,...r,ref:t})});D7.displayName=AE;var R7="DialogDescription",P7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oo(R7,n);return a.jsx(Ct.p,{id:i.descriptionId,...r,ref:t})});P7.displayName=R7;var I7="DialogClose",k7=N.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=oo(I7,n);return a.jsx(Ct.button,{type:"button",...r,ref:t,onClick:gt(e.onClick,()=>i.onOpenChange(!1))})});k7.displayName=I7;function EE(e){return e?"open":"closed"}var L7="DialogTitleWarning",[IEe,B7]=Tte(L7,{contentName:vd,titleName:AE,docsSlug:"dialog"}),Jse=({titleId:e})=>{const t=B7(L7),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return N.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eoe="DialogDescriptionWarning",toe=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${B7(eoe).contentName}}.`;return N.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},F7=N7,U7=E7,z7=C7,V7=T7,$7=O7,noe=D7,roe=P7,H7=k7;function ioe({...e}){return a.jsx(F7,{"data-slot":"sheet",...e})}function aoe({...e}){return a.jsx(U7,{"data-slot":"sheet-trigger",...e})}function soe({...e}){return a.jsx(z7,{"data-slot":"sheet-portal",...e})}function ooe({className:e,...t}){return a.jsx(V7,{"data-slot":"sheet-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function loe({className:e,children:t,side:n="right",...r}){return a.jsxs(soe,{children:[a.jsx(ooe,{}),a.jsxs($7,{"data-slot":"sheet-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500",n==="right"&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm",n==="left"&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm",n==="top"&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b",n==="bottom"&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",e),...r,children:[t,a.jsxs(H7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[a.jsx(ig,{className:"size-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function coe(){const{theme:e,setTheme:t}=QY(),n=()=>{switch(e){case"light":return a.jsx(LS,{className:"h-4 w-4"});case"dark":return a.jsx(PS,{className:"h-4 w-4"});default:return a.jsx(VM,{className:"h-4 w-4"})}};return a.jsxs(b7,{children:[a.jsx(w7,{asChild:!0,children:a.jsxs(_e,{variant:"ghost",size:"sm",className:"w-9 px-0",children:[n(),a.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),a.jsxs(j7,{align:"end",children:[a.jsxs(eh,{onClick:()=>t("light"),className:"cursor-pointer",children:[a.jsx(LS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Light"})]}),a.jsxs(eh,{onClick:()=>t("dark"),className:"cursor-pointer",children:[a.jsx(PS,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Dark"})]}),a.jsxs(eh,{onClick:()=>t("system"),className:"cursor-pointer",children:[a.jsx(VM,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"System"})]})]})]})}const uoe=[{label:"nav.dashboard",href:"",icon:See,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.wallet",href:"wallet",icon:md,roles:["passenger","driver","merchant","event_admin"]},{label:"nav.scanner",href:"scanner",icon:rr,roles:["passenger"]},{label:"nav.transactions",href:"transactions",icon:_0,roles:["passenger","driver","merchant","event_admin","admin"]},{label:"nav.events",href:"events",icon:ua,roles:["passenger","event_admin"]},{label:"nav.tickets",href:"tickets",icon:fa,roles:["passenger"]},{label:"nav.earnings",href:"earnings",icon:Xn,roles:["driver"]},{label:"nav.trips",href:"trips",icon:la,roles:["driver"]},{label:"nav.verification",href:"verification",icon:Ta,roles:["driver"]},{label:"nav.qrcode",href:"qr-generator",icon:rr,roles:["driver","merchant"]},{label:"nav.business",href:"business",icon:hd,roles:["merchant"]},{label:"nav.management",href:"management",icon:ua,roles:["event_admin"]},{label:"nav.analytics",href:"analytics",icon:GA,roles:["admin"]},{label:"nav.users",href:"users",icon:Xi,roles:["admin"]},{label:"nav.disputes",href:"disputes",icon:Ta,roles:["admin"]},{label:"nav.verificationReview",href:"verification-review",icon:Ta,roles:["admin"]}];function cg({children:e,userType:t}){var C;const[n,r]=N.useState(!1),{profile:i,signOut:s}=cn(),{t:l,language:d,setLanguage:m,isRTL:h}=Yt(),p=Xo(),v=Yl(),S=uoe.filter(M=>M.roles.includes(t)),A=async()=>{await s(),v("/login")},T=M=>{switch(M){case"passenger":return"bg-blue-500";case"driver":return"bg-green-500";case"merchant":return"bg-purple-500";case"event_admin":return"bg-orange-500";case"admin":return"bg-red-500";default:return"bg-gray-500"}},_=()=>{var M;return a.jsxs("div",{className:"flex h-full flex-col",children:[a.jsxs("div",{className:"flex h-16 items-center gap-2 border-b px-6",children:[a.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-white",children:a.jsx(fa,{className:"h-5 w-5"})}),a.jsx("h1",{className:"text-xl font-bold text-primary",children:l("app.name")})]}),a.jsx("div",{className:"border-b p-6",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(GS,{className:"h-10 w-10",children:[a.jsx(KS,{src:i==null?void 0:i.avatar_url,alt:i==null?void 0:i.full_name}),a.jsx(XS,{children:(M=i==null?void 0:i.full_name)==null?void 0:M.split(" ").map(P=>P[0]).join("").toUpperCase()})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"truncate text-sm font-medium",children:i==null?void 0:i.full_name}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(pt,{variant:"secondary",className:`text-xs text-white ${T(t)}`,children:l(`auth.${t}`)}),(i==null?void 0:i.is_verified)&&a.jsx(Kv,{className:"h-3 w-3 text-yellow-500"})]})]})]})}),a.jsx("nav",{className:"flex-1 space-y-1 px-3 py-4",children:S.map(P=>{const R=p.pathname===`/${t}/${P.href}`||P.href===""&&p.pathname===`/${t}`;return a.jsxs(Vt,{to:`/${t}/${P.href}`,className:`flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium transition-colors ${R?"bg-primary text-primary-foreground":"text-muted-foreground hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>r(!1),children:[a.jsx(P.icon,{className:"h-5 w-5"}),a.jsx("span",{className:"flex-1",children:l(P.label)}),P.badge&&a.jsx(pt,{variant:"secondary",className:"text-xs",children:P.badge}),a.jsx(iee,{className:"h-4 w-4"})]},P.href)})}),a.jsx(qo,{}),a.jsxs("div",{className:"space-y-1 p-3",children:[a.jsxs(Vt,{to:`/${t}/profile`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(lh,{className:"h-5 w-5"}),a.jsx("span",{children:l("nav.profile")})]}),a.jsxs(Vt,{to:`/${t}/settings`,className:"flex items-center gap-3 rounded-lg px-3 py-2 text-sm font-medium text-muted-foreground transition-colors hover:bg-accent hover:text-accent-foreground",onClick:()=>r(!1),children:[a.jsx(C0,{className:"h-5 w-5"}),a.jsx("span",{children:l("nav.settings")})]})]})]})};return a.jsxs("div",{className:`flex h-screen bg-background ${h?"rtl":"ltr"}`,children:[a.jsx("aside",{className:"hidden lg:flex lg:flex-col lg:w-72 lg:border-r",children:a.jsx(_,{})}),a.jsxs(ioe,{open:n,onOpenChange:r,children:[a.jsx(aoe,{asChild:!0,className:"lg:hidden",children:a.jsx(_e,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50",children:a.jsx(zM,{className:"h-5 w-5"})})}),a.jsx(loe,{side:h?"right":"left",className:"w-72 p-0",children:a.jsx(_,{})})]}),a.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[a.jsxs("header",{className:"flex h-16 items-center justify-between border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 px-4 lg:px-6",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsx(_e,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>r(!0),children:a.jsx(zM,{className:"h-5 w-5"})})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(_e,{variant:"ghost",size:"sm",onClick:()=>m(d==="en"?"ar":"en"),children:[a.jsx(QA,{className:"h-4 w-4 mr-2"}),d==="en"?"العربية":"English"]}),a.jsx(coe,{}),a.jsxs(_e,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(Z5,{className:"h-5 w-5"}),a.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 rounded-full bg-red-500 text-xs text-white flex items-center justify-center",children:"3"})]}),a.jsxs(b7,{children:[a.jsx(w7,{asChild:!0,children:a.jsx(_e,{variant:"ghost",className:"relative h-8 w-8 rounded-full",children:a.jsxs(GS,{className:"h-8 w-8",children:[a.jsx(KS,{src:i==null?void 0:i.avatar_url,alt:i==null?void 0:i.full_name}),a.jsx(XS,{children:(C=i==null?void 0:i.full_name)==null?void 0:C.split(" ").map(M=>M[0]).join("").toUpperCase()})]})})}),a.jsxs(j7,{className:"w-56",align:"end",forceMount:!0,children:[a.jsx(Yse,{className:"font-normal",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium",children:i==null?void 0:i.full_name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:i==null?void 0:i.email})]})}),a.jsx(vD,{}),a.jsx(eh,{asChild:!0,children:a.jsxs(Vt,{to:`/${t}/profile`,children:[a.jsx(lh,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:l("nav.profile")})]})}),a.jsx(eh,{asChild:!0,children:a.jsxs(Vt,{to:`/${t}/settings`,children:[a.jsx(C0,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:l("nav.settings")})]})}),a.jsx(vD,{}),a.jsxs(eh,{onClick:A,children:[a.jsx(Eee,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:l("auth.logout")})]})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto",children:a.jsx(bX,{mode:"wait",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"h-full",children:e},p.pathname)})})]})]})}function doe(){var U;const[e,t]=N.useState(null),[n,r]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[m,h]=N.useState(!0),[p,v]=N.useState(!0),{profile:S}=cn(),{t:A,isRTL:T}=Yt();N.useEffect(()=>{S&&_()},[S]);const _=async()=>{try{const{data:B}=await rt.from("wallets").select("*").eq("user_id",S==null?void 0:S.id).single();B&&t(B);const{data:L}=await rt.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${S==null?void 0:S.id},to_user_id.eq.${S==null?void 0:S.id}`).order("created_at",{ascending:!1}).limit(5);if(L){const z=L.map(H=>{var W,q;return{...H,from_user_name:(W=H.from_profile)==null?void 0:W.full_name,to_user_name:(q=H.to_profile)==null?void 0:q.full_name}});r(z)}const{data:F}=await rt.from("events").select("*").eq("is_active",!0).gte("start_date",new Date().toISOString()).order("start_date",{ascending:!0}).limit(3);F&&s(F);const{data:V}=await rt.from("user_tickets").select("*").eq("user_id",S==null?void 0:S.id).eq("status","active").order("purchased_at",{ascending:!1}).limit(3);V&&d(V)}catch(B){console.error("Error fetching dashboard data:",B)}finally{v(!1)}},C=B=>new Intl.NumberFormat(T?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(B),M=B=>new Date(B).toLocaleDateString(T?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=(B,L)=>B==="recharge"?a.jsx(Cs,{className:"h-4 w-4 text-green-600"}):L?a.jsx(Bl,{className:"h-4 w-4 text-red-600"}):a.jsx(Xn,{className:"h-4 w-4 text-green-600"}),R=()=>a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(Vt,{to:"/passenger/scanner",children:a.jsx(ve,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(ye,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-primary/10 p-3 mb-3",children:a.jsx(rr,{className:"h-6 w-6 text-primary"})}),a.jsx("h3",{className:"font-medium text-center",children:A("scanner.title")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Pay with QR code"})]})})}),a.jsx(Vt,{to:"/passenger/wallet",children:a.jsx(ve,{className:"cursor-pointer transition-all hover:shadow-md hover:scale-105",children:a.jsxs(ye,{className:"flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"rounded-full bg-green-500/10 p-3 mb-3",children:a.jsx(Cs,{className:"h-6 w-6 text-green-600"})}),a.jsx("h3",{className:"font-medium text-center",children:A("wallet.recharge")}),a.jsx("p",{className:"text-xs text-muted-foreground text-center mt-1",children:"Add money to wallet"})]})})})]});return p?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:A("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold",children:[A("app.welcome"),", ",(U=S==null?void 0:S.full_name)==null?void 0:U.split(" ")[0],"!"]}),a.jsx("p",{className:"text-muted-foreground",children:new Date().toLocaleDateString(T?"ar-SY":"en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),a.jsx(pt,{variant:"outline",className:"hidden sm:flex",children:A("auth.passenger")})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(ve,{className:"bg-gradient-to-r from-primary via-primary/90 to-primary/80 text-white",children:a.jsxs(ye,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(md,{className:"h-5 w-5"}),a.jsx("span",{className:"font-medium",children:A("wallet.title")})]}),a.jsx(_e,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20",onClick:()=>h(!m),children:m?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm opacity-90",children:A("wallet.balance")}),a.jsx("p",{className:"text-3xl font-bold",children:m?C((e==null?void 0:e.balance)||0):"••••••"}),(e==null?void 0:e.is_frozen)&&a.jsx(pt,{variant:"destructive",className:"mt-2",children:"Account Frozen"})]}),a.jsxs("div",{className:"flex gap-2 mt-6",children:[a.jsx(Vt,{to:"/passenger/wallet",className:"flex-1",children:a.jsxs(_e,{variant:"secondary",className:"w-full",children:[a.jsx(Cs,{className:"h-4 w-4 mr-2"}),A("wallet.recharge")]})}),a.jsx(Vt,{to:"/passenger/transactions",className:"flex-1",children:a.jsxs(_e,{variant:"outline",className:"w-full border-white/20 text-white hover:bg-white/10",children:[a.jsx(Xn,{className:"h-4 w-4 mr-2"}),"History"]})})]})]})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(R,{})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:A("transactions.recent")}),a.jsx(Vt,{to:"/passenger/transactions",children:a.jsxs(_e,{variant:"ghost",size:"sm",children:["View All",a.jsx(m0,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ye,{className:"space-y-4",children:n.length>0?n.map(B=>{const L=B.from_user_id===(S==null?void 0:S.id),F=L?B.to_user_name:B.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[P(B.transaction_type,L),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:B.description||`${L?"Payment to":"Payment from"} ${F}`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(B.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${L?"text-red-600":"text-green-600"}`,children:[L?"-":"+",C(B.amount)]}),a.jsx(pt,{variant:B.status==="completed"?"default":"secondary",className:"text-xs",children:B.status})]})]},B.id)}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ki,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No transactions yet"})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:A("events.upcoming")}),a.jsx(Vt,{to:"/passenger/events",children:a.jsxs(_e,{variant:"ghost",size:"sm",children:["View All",a.jsx(m0,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ye,{className:"space-y-4",children:i.length>0?i.map(B=>a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg border",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:a.jsx(ua,{className:"h-6 w-6 text-primary"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",children:B.title}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx(br,{className:"h-3 w-3"}),a.jsx("span",{children:M(B.start_date)})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx($o,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:B.location})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-sm",children:C(B.price||0)}),a.jsx(Vt,{to:"/passenger/events",children:a.jsx(_e,{size:"sm",variant:"outline",className:"mt-1",children:"Buy"})})]})]},B.id)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(ua,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No upcoming events"})]})})]})})]}),l.length>0&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.5},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:A("nav.tickets")}),a.jsx(Vt,{to:"/passenger/tickets",children:a.jsxs(_e,{variant:"ghost",size:"sm",children:["View All",a.jsx(m0,{className:"h-4 w-4 ml-1"})]})})]}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(B=>{var L;return a.jsxs("div",{className:"p-4 rounded-lg border bg-gradient-to-br from-blue-50 to-purple-50",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx(fa,{className:"h-4 w-4 text-primary"}),a.jsxs("span",{className:"text-sm font-medium",children:["#",B.ticket_number.slice(-6)]})]}),a.jsx("h4",{className:"font-medium text-sm mb-1",children:(L=B.event_details_snapshot)==null?void 0:L.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:M(B.purchased_at)}),a.jsx(pt,{variant:"secondary",className:"mt-2 text-xs",children:B.status})]},B.id)})})})]})})]})}function ha({...e}){return a.jsx(F7,{"data-slot":"dialog",...e})}function Ph({...e}){return a.jsx(U7,{"data-slot":"dialog-trigger",...e})}function foe({...e}){return a.jsx(z7,{"data-slot":"dialog-portal",...e})}function hoe({className:e,...t}){return a.jsx(V7,{"data-slot":"dialog-overlay",className:At("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function ma({className:e,children:t,...n}){return a.jsxs(foe,{"data-slot":"dialog-portal",children:[a.jsx(hoe,{}),a.jsxs($7,{"data-slot":"dialog-content",className:At("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...n,children:[t,a.jsxs(H7,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[a.jsx(ig,{}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function ga({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-header",className:At("flex flex-col gap-2 text-center sm:text-left",e),...t})}function moe({className:e,...t}){return a.jsx("div",{"data-slot":"dialog-footer",className:At("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...t})}function pa({className:e,...t}){return a.jsx(noe,{"data-slot":"dialog-title",className:At("text-lg leading-none font-semibold",e),...t})}function Ra({className:e,...t}){return a.jsx(roe,{"data-slot":"dialog-description",className:At("text-muted-foreground text-sm",e),...t})}function goe(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const poe=e=>{switch(e){case"success":return yoe;case"info":return woe;case"warning":return boe;case"error":return joe;default:return null}},xoe=Array(12).fill(0),voe=({visible:e,className:t})=>Je.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Je.createElement("div",{className:"sonner-spinner"},xoe.map((n,r)=>Je.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),yoe=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),boe=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),woe=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),joe=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Je.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Soe=Je.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Je.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Je.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Noe=()=>{const[e,t]=Je.useState(document.hidden);return Je.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let JS=1;class Aoe{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...i}=t,s=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:JS++,l=this.toasts.find(m=>m.id===s),d=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),l?this.toasts=this.toasts.map(m=>m.id===s?(this.publish({...m,...t,id:s,title:r}),{...m,...t,id:s,dismissible:d,title:r}):m):this.addToast({title:r,...i,dismissible:d,id:s}),s},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let s=r!==void 0,l;const d=i.then(async h=>{if(l=["resolve",h],Je.isValidElement(h))s=!1,this.create({id:r,type:"default",message:h});else if(_oe(h)&&!h.ok){s=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${h.status}`):n.error,S=typeof n.description=="function"?await n.description(`HTTP error! status: ${h.status}`):n.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:S,...T})}else if(h instanceof Error){s=!1;const v=typeof n.error=="function"?await n.error(h):n.error,S=typeof n.description=="function"?await n.description(h):n.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:S,...T})}else if(n.success!==void 0){s=!1;const v=typeof n.success=="function"?await n.success(h):n.success,S=typeof n.description=="function"?await n.description(h):n.description,T=typeof v=="object"&&!Je.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:S,...T})}}).catch(async h=>{if(l=["reject",h],n.error!==void 0){s=!1;const p=typeof n.error=="function"?await n.error(h):n.error,v=typeof n.description=="function"?await n.description(h):n.description,A=typeof p=="object"&&!Je.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:v,...A})}}).finally(()=>{s&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),m=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:m}:Object.assign(r,{unwrap:m})},this.custom=(t,n)=>{const r=(n==null?void 0:n.id)||JS++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Aa=new Aoe,Eoe=(e,t)=>{const n=(t==null?void 0:t.id)||JS++;return Aa.addToast({title:e,...t,id:n}),n},_oe=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Coe=Eoe,Toe=()=>Aa.toasts,Ooe=()=>Aa.getActiveToasts(),Ge=Object.assign(Coe,{success:Aa.success,info:Aa.info,warning:Aa.warning,error:Aa.error,custom:Aa.custom,message:Aa.message,promise:Aa.promise,dismiss:Aa.dismiss,loading:Aa.loading},{getHistory:Toe,getToasts:Ooe});goe("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function tx(e){return e.label!==void 0}const Moe=3,Doe="24px",Roe="16px",yD=4e3,Poe=356,Ioe=14,koe=45,Loe=200;function _o(...e){return e.filter(Boolean).join(" ")}function Boe(e){const[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}const Foe=e=>{var t,n,r,i,s,l,d,m,h;const{invert:p,toast:v,unstyled:S,interacting:A,setHeights:T,visibleToasts:_,heights:C,index:M,toasts:P,expanded:R,removeToast:U,defaultRichColors:B,closeButton:L,style:F,cancelButtonStyle:V,actionButtonStyle:z,className:H="",descriptionClassName:W="",duration:q,position:Q,gap:te,expandByDefault:J,classNames:Y,icons:ne,closeButtonAriaLabel:se="Close toast"}=e,[me,re]=Je.useState(null),[de,oe]=Je.useState(null),[he,Re]=Je.useState(!1),[Le,le]=Je.useState(!1),[pe,je]=Je.useState(!1),[xe,Fe]=Je.useState(!1),[Ce,we]=Je.useState(!1),[We,Ue]=Je.useState(0),[Ze,yt]=Je.useState(0),Ke=Je.useRef(v.duration||q||yD),xt=Je.useRef(null),tt=Je.useRef(null),or=M===0,it=M+1<=_,fn=v.type,$r=v.dismissible!==!1,lr=v.className||"",Ii=v.descriptionClassName||"",vn=Je.useMemo(()=>C.findIndex(Mt=>Mt.toastId===v.id)||0,[C,v.id]),zn=Je.useMemo(()=>{var Mt;return(Mt=v.closeButton)!=null?Mt:L},[v.closeButton,L]),cr=Je.useMemo(()=>v.duration||q||yD,[v.duration,q]),Jt=Je.useRef(0),ka=Je.useRef(0),Bs=Je.useRef(0),us=Je.useRef(null),[nn,Qe]=Q.split("-"),hn=Je.useMemo(()=>C.reduce((Mt,dn,Qn)=>Qn>=vn?Mt:Mt+dn.height,0),[C,vn]),rn=Noe(),wn=v.invert||p,Fs=fn==="loading";ka.current=Je.useMemo(()=>vn*te+hn,[vn,hn]),Je.useEffect(()=>{Ke.current=cr},[cr]),Je.useEffect(()=>{Re(!0)},[]),Je.useEffect(()=>{const Mt=tt.current;if(Mt){const dn=Mt.getBoundingClientRect().height;return yt(dn),T(Qn=>[{toastId:v.id,height:dn,position:v.position},...Qn]),()=>T(Qn=>Qn.filter(sn=>sn.toastId!==v.id))}},[T,v.id]),Je.useLayoutEffect(()=>{if(!he)return;const Mt=tt.current,dn=Mt.style.height;Mt.style.height="auto";const Qn=Mt.getBoundingClientRect().height;Mt.style.height=dn,yt(Qn),T(sn=>sn.find(Zn=>Zn.toastId===v.id)?sn.map(Zn=>Zn.toastId===v.id?{...Zn,height:Qn}:Zn):[{toastId:v.id,height:Qn,position:v.position},...sn])},[he,v.title,v.description,T,v.id,v.jsx,v.action,v.cancel]);const ea=Je.useCallback(()=>{le(!0),Ue(ka.current),T(Mt=>Mt.filter(dn=>dn.toastId!==v.id)),setTimeout(()=>{U(v)},Loe)},[v,U,T,ka]);Je.useEffect(()=>{if(v.promise&&fn==="loading"||v.duration===1/0||v.type==="loading")return;let Mt;return R||A||rn?(()=>{if(Bs.current<Jt.current){const sn=new Date().getTime()-Jt.current;Ke.current=Ke.current-sn}Bs.current=new Date().getTime()})():(()=>{Ke.current!==1/0&&(Jt.current=new Date().getTime(),Mt=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),ea()},Ke.current))})(),()=>clearTimeout(Mt)},[R,A,v,fn,rn,ea]),Je.useEffect(()=>{v.delete&&(ea(),v.onDismiss==null||v.onDismiss.call(v,v))},[ea,v.delete]);function mu(){var Mt;if(ne!=null&&ne.loading){var dn;return Je.createElement("div",{className:_o(Y==null?void 0:Y.loader,v==null||(dn=v.classNames)==null?void 0:dn.loader,"sonner-loader"),"data-visible":fn==="loading"},ne.loading)}return Je.createElement(voe,{className:_o(Y==null?void 0:Y.loader,v==null||(Mt=v.classNames)==null?void 0:Mt.loader),visible:fn==="loading"})}const Gt=v.icon||(ne==null?void 0:ne[fn])||poe(fn);var ki,gu;return Je.createElement("li",{tabIndex:0,ref:tt,className:_o(H,lr,Y==null?void 0:Y.toast,v==null||(t=v.classNames)==null?void 0:t.toast,Y==null?void 0:Y.default,Y==null?void 0:Y[fn],v==null||(n=v.classNames)==null?void 0:n[fn]),"data-sonner-toast":"","data-rich-colors":(ki=v.richColors)!=null?ki:B,"data-styled":!(v.jsx||v.unstyled||S),"data-mounted":he,"data-promise":!!v.promise,"data-swiped":Ce,"data-removed":Le,"data-visible":it,"data-y-position":nn,"data-x-position":Qe,"data-index":M,"data-front":or,"data-swiping":pe,"data-dismissible":$r,"data-type":fn,"data-invert":wn,"data-swipe-out":xe,"data-swipe-direction":de,"data-expanded":!!(R||J&&he),style:{"--index":M,"--toasts-before":M,"--z-index":P.length-M,"--offset":`${Le?We:ka.current}px`,"--initial-height":J?"auto":`${Ze}px`,...F,...v.style},onDragEnd:()=>{je(!1),re(null),us.current=null},onPointerDown:Mt=>{Mt.button!==2&&(Fs||!$r||(xt.current=new Date,Ue(ka.current),Mt.target.setPointerCapture(Mt.pointerId),Mt.target.tagName!=="BUTTON"&&(je(!0),us.current={x:Mt.clientX,y:Mt.clientY})))},onPointerUp:()=>{var Mt,dn,Qn;if(xe||!$r)return;us.current=null;const sn=Number(((Mt=tt.current)==null?void 0:Mt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),va=Number(((dn=tt.current)==null?void 0:dn.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zn=new Date().getTime()-((Qn=xt.current)==null?void 0:Qn.getTime()),mn=me==="x"?sn:va,ur=Math.abs(mn)/Zn;if(Math.abs(mn)>=koe||ur>.11){Ue(ka.current),v.onDismiss==null||v.onDismiss.call(v,v),oe(me==="x"?sn>0?"right":"left":va>0?"down":"up"),ea(),Fe(!0);return}else{var on,jr;(on=tt.current)==null||on.style.setProperty("--swipe-amount-x","0px"),(jr=tt.current)==null||jr.style.setProperty("--swipe-amount-y","0px")}we(!1),je(!1),re(null)},onPointerMove:Mt=>{var dn,Qn,sn;if(!us.current||!$r||((dn=window.getSelection())==null?void 0:dn.toString().length)>0)return;const Zn=Mt.clientY-us.current.y,mn=Mt.clientX-us.current.x;var ur;const on=(ur=e.swipeDirections)!=null?ur:Boe(Q);!me&&(Math.abs(mn)>1||Math.abs(Zn)>1)&&re(Math.abs(mn)>Math.abs(Zn)?"x":"y");let jr={x:0,y:0};const Or=Ni=>1/(1.5+Math.abs(Ni)/20);if(me==="y"){if(on.includes("top")||on.includes("bottom"))if(on.includes("top")&&Zn<0||on.includes("bottom")&&Zn>0)jr.y=Zn;else{const Ni=Zn*Or(Zn);jr.y=Math.abs(Ni)<Math.abs(Zn)?Ni:Zn}}else if(me==="x"&&(on.includes("left")||on.includes("right")))if(on.includes("left")&&mn<0||on.includes("right")&&mn>0)jr.x=mn;else{const Ni=mn*Or(mn);jr.x=Math.abs(Ni)<Math.abs(mn)?Ni:mn}(Math.abs(jr.x)>0||Math.abs(jr.y)>0)&&we(!0),(Qn=tt.current)==null||Qn.style.setProperty("--swipe-amount-x",`${jr.x}px`),(sn=tt.current)==null||sn.style.setProperty("--swipe-amount-y",`${jr.y}px`)}},zn&&!v.jsx&&fn!=="loading"?Je.createElement("button",{"aria-label":se,"data-disabled":Fs,"data-close-button":!0,onClick:Fs||!$r?()=>{}:()=>{ea(),v.onDismiss==null||v.onDismiss.call(v,v)},className:_o(Y==null?void 0:Y.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(gu=ne==null?void 0:ne.close)!=null?gu:Soe):null,(fn||v.icon||v.promise)&&v.icon!==null&&((ne==null?void 0:ne[fn])!==null||v.icon)?Je.createElement("div",{"data-icon":"",className:_o(Y==null?void 0:Y.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||mu():null,v.type!=="loading"?Gt:null):null,Je.createElement("div",{"data-content":"",className:_o(Y==null?void 0:Y.content,v==null||(s=v.classNames)==null?void 0:s.content)},Je.createElement("div",{"data-title":"",className:_o(Y==null?void 0:Y.title,v==null||(l=v.classNames)==null?void 0:l.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?Je.createElement("div",{"data-description":"",className:_o(W,Ii,Y==null?void 0:Y.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),Je.isValidElement(v.cancel)?v.cancel:v.cancel&&tx(v.cancel)?Je.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||V,onClick:Mt=>{tx(v.cancel)&&$r&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,Mt),ea())},className:_o(Y==null?void 0:Y.cancelButton,v==null||(m=v.classNames)==null?void 0:m.cancelButton)},v.cancel.label):null,Je.isValidElement(v.action)?v.action:v.action&&tx(v.action)?Je.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||z,onClick:Mt=>{tx(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,Mt),!Mt.defaultPrevented&&ea())},className:_o(Y==null?void 0:Y.actionButton,v==null||(h=v.classNames)==null?void 0:h.actionButton)},v.action.label):null)};function bD(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Uoe(e,t){const n={};return[e,t].forEach((r,i)=>{const s=i===1,l=s?"--mobile-offset":"--offset",d=s?Roe:Doe;function m(h){["top","right","bottom","left"].forEach(p=>{n[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof r=="number"||typeof r=="string"?m(r):typeof r=="object"?["top","right","bottom","left"].forEach(h=>{r[h]===void 0?n[`${l}-${h}`]=d:n[`${l}-${h}`]=typeof r[h]=="number"?`${r[h]}px`:r[h]}):m(d)}),n}const zoe=Je.forwardRef(function(t,n){const{invert:r,position:i="bottom-right",hotkey:s=["altKey","KeyT"],expand:l,closeButton:d,className:m,offset:h,mobileOffset:p,theme:v="light",richColors:S,duration:A,style:T,visibleToasts:_=Moe,toastOptions:C,dir:M=bD(),gap:P=Ioe,icons:R,containerAriaLabel:U="Notifications"}=t,[B,L]=Je.useState([]),F=Je.useMemo(()=>Array.from(new Set([i].concat(B.filter(de=>de.position).map(de=>de.position)))),[B,i]),[V,z]=Je.useState([]),[H,W]=Je.useState(!1),[q,Q]=Je.useState(!1),[te,J]=Je.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=Je.useRef(null),ne=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=Je.useRef(null),me=Je.useRef(!1),re=Je.useCallback(de=>{L(oe=>{var he;return(he=oe.find(Re=>Re.id===de.id))!=null&&he.delete||Aa.dismiss(de.id),oe.filter(({id:Re})=>Re!==de.id)})},[]);return Je.useEffect(()=>Aa.subscribe(de=>{if(de.dismiss){requestAnimationFrame(()=>{L(oe=>oe.map(he=>he.id===de.id?{...he,delete:!0}:he))});return}setTimeout(()=>{s6.flushSync(()=>{L(oe=>{const he=oe.findIndex(Re=>Re.id===de.id);return he!==-1?[...oe.slice(0,he),{...oe[he],...de},...oe.slice(he+1)]:[de,...oe]})})})}),[B]),Je.useEffect(()=>{if(v!=="system"){J(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:oe})=>{J(oe?"dark":"light")})}catch{de.addListener(({matches:he})=>{try{J(he?"dark":"light")}catch(Re){console.error(Re)}})}},[v]),Je.useEffect(()=>{B.length<=1&&W(!1)},[B]),Je.useEffect(()=>{const de=oe=>{var he;if(s.every(le=>oe[le]||oe.code===le)){var Le;W(!0),(Le=Y.current)==null||Le.focus()}oe.code==="Escape"&&(document.activeElement===Y.current||(he=Y.current)!=null&&he.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[s]),Je.useEffect(()=>{if(Y.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,me.current=!1)}},[Y.current]),Je.createElement("section",{ref:n,"aria-label":`${U} ${ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},F.map((de,oe)=>{var he;const[Re,Le]=de.split("-");return B.length?Je.createElement("ol",{key:de,dir:M==="auto"?bD():M,tabIndex:-1,ref:Y,className:m,"data-sonner-toaster":!0,"data-sonner-theme":te,"data-y-position":Re,"data-x-position":Le,style:{"--front-toast-height":`${((he=V[0])==null?void 0:he.height)||0}px`,"--width":`${Poe}px`,"--gap":`${P}px`,...T,...Uoe(h,p)},onBlur:le=>{me.current&&!le.currentTarget.contains(le.relatedTarget)&&(me.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||me.current||(me.current=!0,se.current=le.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{q||W(!1)},onDragEnd:()=>W(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||Q(!0)},onPointerUp:()=>Q(!1)},B.filter(le=>!le.position&&oe===0||le.position===de).map((le,pe)=>{var je,xe;return Je.createElement(Foe,{key:le.id,icons:R,index:pe,toast:le,defaultRichColors:S,duration:(je=C==null?void 0:C.duration)!=null?je:A,className:C==null?void 0:C.className,descriptionClassName:C==null?void 0:C.descriptionClassName,invert:r,visibleToasts:_,closeButton:(xe=C==null?void 0:C.closeButton)!=null?xe:d,interacting:q,position:de,style:C==null?void 0:C.style,unstyled:C==null?void 0:C.unstyled,classNames:C==null?void 0:C.classNames,cancelButtonStyle:C==null?void 0:C.cancelButtonStyle,actionButtonStyle:C==null?void 0:C.actionButtonStyle,closeButtonAriaLabel:C==null?void 0:C.closeButtonAriaLabel,removeToast:re,toasts:B.filter(Fe=>Fe.position==le.position),heights:V.filter(Fe=>Fe.position==le.position),setHeights:z,expandByDefault:l,gap:P,expanded:H,swipeDirections:t.swipeDirections})})):null}))}),nx=[{id:"mtn_cash",name:"MTN Cash",icon:p0,description:"Pay using MTN Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"syriatel_cash",name:"Syriatel Cash",icon:p0,description:"Pay using Syriatel Cash mobile wallet",minAmount:1e3,maxAmount:5e5,fees:0,available:!0},{id:"sham_cash",name:"ShamCash",icon:p0,description:"Pay using ShamCash mobile wallet",minAmount:1e3,maxAmount:3e5,fees:0,available:!0},{id:"fatora",name:"Fatora",icon:Ki,description:"Pay using Fatora payment gateway",minAmount:500,maxAmount:1e6,fees:25,available:!0},{id:"stripe",name:"Credit Card",icon:Ki,description:"International credit/debit cards via Stripe",minAmount:1e3,maxAmount:2e6,fees:50,available:!1}];function Voe(){const[e,t]=N.useState(null),[n,r]=N.useState([]),[i,s]=N.useState(!1),[l,d]=N.useState(""),[m,h]=N.useState(""),[p,v]=N.useState(!0),[S,A]=N.useState(!0),[T,_]=N.useState(!1),{profile:C}=cn(),{t:M,isRTL:P}=Yt();N.useEffect(()=>{C&&(R(),U())},[C]);const R=async()=>{try{const{data:H,error:W}=await rt.from("wallets").select("*").eq("user_id",C==null?void 0:C.id).single();if(W)throw W;t(H)}catch(H){console.error("Error fetching wallet data:",H),Ge.error("Failed to load wallet data")}finally{A(!1)}},U=async()=>{try{const{data:H,error:W}=await rt.from("transactions").select("*").or(`from_user_id.eq.${C==null?void 0:C.id},to_user_id.eq.${C==null?void 0:C.id}`).in("transaction_type",["recharge","withdrawal"]).order("created_at",{ascending:!1}).limit(10);if(W)throw W;r(H||[])}catch(H){console.error("Error fetching transactions:",H)}},B=async()=>{if(!l||!m)return;const H=parseFloat(m),W=nx.find(q=>q.id===l);if(W){if(H<W.minAmount||H>W.maxAmount){Ge.error(`Amount must be between ${L(W.minAmount)} and ${L(W.maxAmount)}`);return}_(!0);try{await new Promise(te=>setTimeout(te,2e3));const{data:q,error:Q}=await rt.rpc("handle_recharge",{p_user_id:C==null?void 0:C.id,p_amount:H,p_provider_type:W.name});if(Q)throw Q;if(q&&q.length>0){const te=q[0];te.error_message?Ge.error(te.error_message):(Ge.success(M("wallet.rechargeSuccess")),s(!1),h(""),d(""),R(),U())}}catch(q){console.error("Error processing recharge:",q),Ge.error("Failed to process recharge")}finally{_(!1)}}},L=H=>new Intl.NumberFormat(P?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(H),F=H=>new Date(H).toLocaleDateString(P?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),V=(H,W)=>W==="pending"?a.jsx(br,{className:"h-4 w-4 text-yellow-500"}):W==="failed"?a.jsx(ig,{className:"h-4 w-4 text-red-500"}):H==="recharge"?a.jsx(Xn,{className:"h-4 w-4 text-green-500"}):a.jsx(Bl,{className:"h-4 w-4 text-red-500"}),z=H=>{switch(H){case"completed":return a.jsx(pt,{className:"bg-green-500 text-white",children:M("transactions.completed")});case"pending":return a.jsx(pt,{variant:"secondary",children:M("transactions.pending")});case"failed":return a.jsx(pt,{variant:"destructive",children:M("transactions.failed")});default:return a.jsx(pt,{variant:"outline",children:H})}};return S?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:M("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:M("wallet.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your digital wallet and transactions"})]}),a.jsxs(ha,{open:i,onOpenChange:s,children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{className:"gap-2",children:[a.jsx(Cs,{className:"h-4 w-4"}),M("wallet.recharge")]})}),a.jsxs(ma,{className:"sm:max-w-md",children:[a.jsxs(ga,{children:[a.jsx(pa,{children:M("wallet.recharge")}),a.jsx(Ra,{children:"Add money to your wallet using various payment methods"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"amount",children:M("wallet.rechargeAmount")}),a.jsx(Pt,{id:"amount",type:"number",placeholder:"Enter amount",value:m,onChange:H=>h(H.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:M("wallet.paymentMethod")}),a.jsxs(pr,{value:l,onValueChange:d,children:[a.jsx(vr,{children:a.jsx(xr,{placeholder:"Select payment method"})}),a.jsx(yr,{children:nx.map(H=>a.jsx(at,{value:H.id,disabled:!H.available,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H.icon,{className:"h-4 w-4"}),a.jsx("span",{children:H.name}),!H.available&&a.jsx(pt,{variant:"secondary",className:"text-xs",children:"Soon"})]})},H.id))})]})]}),l&&a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:(()=>{const H=nx.find(W=>W.id===l);return H?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium",children:H.name}),a.jsx("p",{className:"text-xs text-muted-foreground",children:H.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("span",{children:["Min: ",L(H.minAmount)]}),a.jsxs("span",{children:["Max: ",L(H.maxAmount)]})]}),H.fees>0&&a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Processing fee: ",L(H.fees)]})]}):null})()})}),a.jsx(_e,{onClick:B,disabled:!l||!m||T,className:"w-full",children:T?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cs,{className:"mr-2 h-4 w-4"}),"Recharge ",m&&L(parseFloat(m))]})})]})]})]})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx("div",{className:"relative overflow-hidden",children:a.jsxs(ve,{className:"bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white border-0 shadow-2xl",children:[a.jsxs(ye,{className:"p-8 relative z-10",children:[a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white rounded-full transform translate-x-16 -translate-y-16"}),a.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white rounded-full transform -translate-x-12 translate-y-12"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 w-16 h-16 bg-white rounded-full transform -translate-x-8 -translate-y-8"})]}),a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-sm",children:a.jsx(md,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:M("wallet.balance")}),a.jsx("p",{className:"text-sm opacity-75",children:"Main Wallet"})]})]}),a.jsx(_e,{variant:"ghost",size:"sm",className:"text-white hover:bg-white/20 rounded-xl transition-all duration-200",onClick:()=>v(!p),children:p?a.jsx(da,{className:"h-5 w-5"}):a.jsx(Kn,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(He.p,{className:"text-5xl font-bold tracking-tight",initial:{scale:.9},animate:{scale:1},transition:{duration:.3},children:p?L((e==null?void 0:e.balance)||0):"••••••"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm opacity-75",children:(e==null?void 0:e.currency)||"SYP"}),a.jsx("div",{className:"h-1 w-1 bg-white/50 rounded-full"}),a.jsx("span",{className:"text-sm opacity-75",children:"Syrian Pound"})]})]}),(e==null?void 0:e.is_frozen)&&a.jsx(He.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-red-500/20 border border-red-500/30 rounded-xl p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ta,{className:"h-4 w-4 text-red-400"}),a.jsx("span",{className:"text-sm text-red-200",children:"Your wallet is currently frozen. Contact support for assistance."})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-white/20",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-400 animate-pulse"}),a.jsx("span",{className:"text-sm font-medium",children:"Active"})]}),a.jsxs("span",{className:"text-xs opacity-75",children:["Updated ",F((e==null?void 0:e.updated_at)||"")]})]})]})]}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-purple-600/20 via-blue-600/20 to-purple-600/20 animate-pulse"})]})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4",children:[a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ve,{className:"cursor-pointer hover:shadow-lg transition-all duration-200 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 hover:border-green-300",onClick:()=>s(!0),children:a.jsxs(ye,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-green-500 text-white rounded-xl w-fit mx-auto",children:a.jsx(Cs,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-green-700",children:"Add Money"}),a.jsx("p",{className:"text-xs text-green-600",children:"Top up your wallet"})]})})}),a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ve,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ye,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(Bl,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Withdraw"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ve,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ye,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(Kv,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Auto-reload"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})}),a.jsx(He.div,{whileHover:{scale:1.02},whileTap:{scale:.98},transition:{duration:.2},children:a.jsx(ve,{className:"cursor-not-allowed bg-gray-50 border-gray-200 opacity-50",children:a.jsxs(ye,{className:"p-6 text-center space-y-2",children:[a.jsx("div",{className:"p-3 bg-gray-400 text-white rounded-xl w-fit mx-auto",children:a.jsx(Ta,{className:"h-6 w-6"})}),a.jsx("h4",{className:"font-semibold text-gray-600",children:"Security"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Coming soon"})]})})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center gap-2",children:[a.jsx(_0,{className:"h-5 w-5"}),M("transactions.recent")]}),a.jsx(lt,{children:"Recent wallet recharges and withdrawals"})]}),a.jsx(ye,{children:n.length>0?a.jsx("div",{className:"space-y-4",children:n.map(H=>a.jsxs("div",{className:"flex items-center justify-between py-3 border-b last:border-b-0",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[V(H.transaction_type,H.status),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:H.description||`${H.transaction_type} transaction`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:F(H.created_at)})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`font-medium text-sm ${H.transaction_type==="recharge"?"text-green-600":"text-red-600"}`,children:[H.transaction_type==="recharge"?"+":"-",L(H.amount)]}),z(H.status)]})]},H.id))}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ki,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No wallet transactions yet"}),a.jsx("p",{className:"text-sm",children:"Recharge your wallet to get started"})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Available Payment Methods"}),a.jsx(lt,{children:"Various ways to add money to your wallet"})]}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:nx.map(H=>a.jsx(ve,{className:H.available?"":"opacity-50",children:a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx(H.icon,{className:"h-5 w-5 text-primary"}),a.jsx("span",{className:"font-medium",children:H.name}),!H.available&&a.jsx(pt,{variant:"secondary",className:"text-xs",children:"Soon"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:H.description}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[a.jsxs("p",{children:["Min: ",L(H.minAmount)]}),a.jsxs("p",{children:["Max: ",L(H.maxAmount)]}),H.fees>0&&a.jsxs("p",{children:["Fee: ",L(H.fees)]})]})]})},H.id))})})]})})]})}var g1="Tabs",[$oe,kEe]=Is(g1,[u1]),q7=u1(),[Hoe,_E]=$oe(g1),Y7=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:l="horizontal",dir:d,activationMode:m="automatic",...h}=e,p=Qv(d),[v,S]=Xc({prop:r,onChange:i,defaultProp:s??"",caller:g1});return a.jsx(Hoe,{scope:n,baseId:Fo(),value:v,onValueChange:S,orientation:l,dir:p,activationMode:m,children:a.jsx(Ct.div,{dir:p,"data-orientation":l,...h,ref:t})})});Y7.displayName=g1;var W7="TabsList",G7=N.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=_E(W7,n),l=q7(n);return a.jsx(FB,{asChild:!0,...l,orientation:s.orientation,dir:s.dir,loop:r,children:a.jsx(Ct.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});G7.displayName=W7;var K7="TabsTrigger",X7=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,l=_E(K7,n),d=q7(n),m=J7(l.baseId,r),h=e9(l.baseId,r),p=r===l.value;return a.jsx(UB,{asChild:!0,...d,focusable:!i,active:p,children:a.jsx(Ct.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...s,ref:t,onMouseDown:gt(e.onMouseDown,v=>{!i&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:gt(e.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:gt(e.onFocus,()=>{const v=l.activationMode!=="manual";!p&&!i&&v&&l.onValueChange(r)})})})});X7.displayName=K7;var Q7="TabsContent",Z7=N.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...l}=e,d=_E(Q7,n),m=J7(d.baseId,r),h=e9(d.baseId,r),p=r===d.value,v=N.useRef(p);return N.useEffect(()=>{const S=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(S)},[]),a.jsx(Qo,{present:i||p,children:({present:S})=>a.jsx(Ct.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":m,hidden:!S,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:v.current?"0s":void 0},children:S&&s})})});Z7.displayName=Q7;function J7(e,t){return`${e}-trigger-${t}`}function e9(e,t){return`${e}-content-${t}`}var qoe=Y7,Yoe=G7,Woe=X7,Goe=Z7;function Jo({className:e,...t}){return a.jsx(qoe,{"data-slot":"tabs",className:At("flex flex-col gap-2",e),...t})}function el({className:e,...t}){return a.jsx(Yoe,{"data-slot":"tabs-list",className:At("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function Dt({className:e,...t}){return a.jsx(Woe,{"data-slot":"tabs-trigger",className:At("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function Lt({className:e,...t}){return a.jsx(Goe,{"data-slot":"tabs-content",className:At("flex-1 outline-none",e),...t})}var ct;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ct||(ct={}));var wD=new Map([[ct.QR_CODE,"QR_CODE"],[ct.AZTEC,"AZTEC"],[ct.CODABAR,"CODABAR"],[ct.CODE_39,"CODE_39"],[ct.CODE_93,"CODE_93"],[ct.CODE_128,"CODE_128"],[ct.DATA_MATRIX,"DATA_MATRIX"],[ct.MAXICODE,"MAXICODE"],[ct.ITF,"ITF"],[ct.EAN_13,"EAN_13"],[ct.EAN_8,"EAN_8"],[ct.PDF_417,"PDF_417"],[ct.RSS_14,"RSS_14"],[ct.RSS_EXPANDED,"RSS_EXPANDED"],[ct.UPC_A,"UPC_A"],[ct.UPC_E,"UPC_E"],[ct.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),jD;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(jD||(jD={}));function Koe(e){return Object.values(ct).includes(e)}var Jc;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Jc||(Jc={}));var Js=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Jc.SCAN_TYPE_CAMERA,Jc.SCAN_TYPE_FILE],e}(),t9=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!wD.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,wD.get(t))},e}(),SD=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),eN;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(eN||(eN={}));var n9=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:eN.UNKWOWN_ERROR}},e}(),r9=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function To(e){return typeof e>"u"||e===null}function Xoe(e,t,n){return e>n?n:e<t?t:e}var Gf=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Mn=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),ND=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),i9=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),l=Object.keys(t),d=0,m=l;d<m.length;d++){var h=m[d];if(s.has(h))return n.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},e}(),i0={exports:{}},Qoe=i0.exports,AD;function Zoe(){return AD||(AD=1,function(e,t){(function(n,r){r(t)})(Qoe,function(n){function r(K){return K==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(K,c){K.__proto__=c}||function(K,c){for(var f in c)c.hasOwnProperty(f)&&(K[f]=c[f])};function s(K,c){i(K,c);function f(){this.constructor=K}K.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}function l(K,c){var f=Object.setPrototypeOf;f?f(K,c):K.__proto__=c}function d(K,c){c===void 0&&(c=K.constructor);var f=Error.captureStackTrace;f&&f(K,c)}var m=function(K){s(c,K);function c(f){var g=this.constructor,y=K.call(this,f)||this;return Object.defineProperty(y,"name",{value:g.name,enumerable:!1}),l(y,g.prototype),d(y),y}return c}(Error);class h extends m{constructor(c=void 0){super(c),this.message=c}getKind(){return this.constructor.kind}}h.kind="Exception";class p extends h{}p.kind="ArgumentException";class v extends h{}v.kind="IllegalArgumentException";class S{constructor(c){if(this.binarizer=c,c===null)throw new v("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(c,f){return this.binarizer.getBlackRow(c,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(c,f,g,y){const b=this.binarizer.getLuminanceSource().crop(c,f,g,y);return new S(this.binarizer.createBinarizer(b))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new S(this.binarizer.createBinarizer(c))}rotateCounterClockwise45(){const c=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new S(this.binarizer.createBinarizer(c))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class A extends h{static getChecksumInstance(){return new A}}A.kind="ChecksumException";class T{constructor(c){this.source=c}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class _{static arraycopy(c,f,g,y,b){for(;b--;)g[y++]=c[f++]}static currentTimeMillis(){return Date.now()}}class C extends h{}C.kind="IndexOutOfBoundsException";class M extends C{constructor(c=void 0,f=void 0){super(f),this.index=c,this.message=f}}M.kind="ArrayIndexOutOfBoundsException";class P{static fill(c,f){for(let g=0,y=c.length;g<y;g++)c[g]=f}static fillWithin(c,f,g,y){P.rangeCheck(c.length,f,g);for(let b=f;b<g;b++)c[b]=y}static rangeCheck(c,f,g){if(f>g)throw new v("fromIndex("+f+") > toIndex("+g+")");if(f<0)throw new M(f);if(g>c)throw new M(g)}static asList(...c){return c}static create(c,f,g){return Array.from({length:c}).map(b=>Array.from({length:f}).fill(g))}static createInt32Array(c,f,g){return Array.from({length:c}).map(b=>Int32Array.from({length:f}).fill(g))}static equals(c,f){if(!c||!f||!c.length||!f.length||c.length!==f.length)return!1;for(let g=0,y=c.length;g<y;g++)if(c[g]!==f[g])return!1;return!0}static hashCode(c){if(c===null)return 0;let f=1;for(const g of c)f=31*f+g;return f}static fillUint8Array(c,f){for(let g=0;g!==c.length;g++)c[g]=f}static copyOf(c,f){return c.slice(0,f)}static copyOfUint8Array(c,f){if(c.length<=f){const g=new Uint8Array(f);return g.set(c),g}return c.slice(0,f)}static copyOfRange(c,f,g){const y=g-f,b=new Int32Array(y);return _.arraycopy(c,f,b,0,y),b}static binarySearch(c,f,g){g===void 0&&(g=P.numberComparator);let y=0,b=c.length-1;for(;y<=b;){const j=b+y>>1,E=g(f,c[j]);if(E>0)y=j+1;else if(E<0)b=j-1;else return j}return-y-1}static numberComparator(c,f){return c-f}}class R{static numberOfTrailingZeros(c){let f;if(c===0)return 32;let g=31;return f=c<<16,f!==0&&(g-=16,c=f),f=c<<8,f!==0&&(g-=8,c=f),f=c<<4,f!==0&&(g-=4,c=f),f=c<<2,f!==0&&(g-=2,c=f),g-(c<<1>>>31)}static numberOfLeadingZeros(c){if(c===0)return 32;let f=1;return c>>>16||(f+=16,c<<=16),c>>>24||(f+=8,c<<=8),c>>>28||(f+=4,c<<=4),c>>>30||(f+=2,c<<=2),f-=c>>>31,f}static toHexString(c){return c.toString(16)}static toBinaryString(c){return String(parseInt(String(c),2))}static bitCount(c){return c=c-(c>>>1&1431655765),c=(c&858993459)+(c>>>2&858993459),c=c+(c>>>4)&252645135,c=c+(c>>>8),c=c+(c>>>16),c&63}static truncDivision(c,f){return Math.trunc(c/f)}static parseInt(c,f=void 0){return parseInt(c,f)}}R.MIN_VALUE_32_BITS=-2147483648,R.MAX_VALUE=Number.MAX_SAFE_INTEGER;class U{constructor(c,f){c===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=c,f==null?this.bits=U.makeArray(c):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(c){if(c>this.bits.length*32){const f=U.makeArray(c);_.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(c){return(this.bits[Math.floor(c/32)]&1<<(c&31))!==0}set(c){this.bits[Math.floor(c/32)]|=1<<(c&31)}flip(c){this.bits[Math.floor(c/32)]^=1<<(c&31)}getNextSet(c){const f=this.size;if(c>=f)return f;const g=this.bits;let y=Math.floor(c/32),b=g[y];b&=~((1<<(c&31))-1);const j=g.length;for(;b===0;){if(++y===j)return f;b=g[y]}const E=y*32+R.numberOfTrailingZeros(b);return E>f?f:E}getNextUnset(c){const f=this.size;if(c>=f)return f;const g=this.bits;let y=Math.floor(c/32),b=~g[y];b&=~((1<<(c&31))-1);const j=g.length;for(;b===0;){if(++y===j)return f;b=~g[y]}const E=y*32+R.numberOfTrailingZeros(b);return E>f?f:E}setBulk(c,f){this.bits[Math.floor(c/32)]=f}setRange(c,f){if(f<c||c<0||f>this.size)throw new v;if(f===c)return;f--;const g=Math.floor(c/32),y=Math.floor(f/32),b=this.bits;for(let j=g;j<=y;j++){const E=j>g?0:c&31,k=(2<<(j<y?31:f&31))-(1<<E);b[j]|=k}}clear(){const c=this.bits.length,f=this.bits;for(let g=0;g<c;g++)f[g]=0}isRange(c,f,g){if(f<c||c<0||f>this.size)throw new v;if(f===c)return!0;f--;const y=Math.floor(c/32),b=Math.floor(f/32),j=this.bits;for(let E=y;E<=b;E++){const D=E>y?0:c&31,$=(2<<(E<b?31:f&31))-(1<<D)&4294967295;if((j[E]&$)!==(g?$:0))return!1}return!0}appendBit(c){this.ensureCapacity(this.size+1),c&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(c,f){if(f<0||f>32)throw new v("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let g=f;g>0;g--)this.appendBit((c>>g-1&1)===1)}appendBitArray(c){const f=c.size;this.ensureCapacity(this.size+f);for(let g=0;g<f;g++)this.appendBit(c.get(g))}xor(c){if(this.size!==c.size)throw new v("Sizes don't match");const f=this.bits;for(let g=0,y=f.length;g<y;g++)f[g]^=c.bits[g]}toBytes(c,f,g,y){for(let b=0;b<y;b++){let j=0;for(let E=0;E<8;E++)this.get(c)&&(j|=1<<7-E),c++;f[g+b]=j}}getBitArray(){return this.bits}reverse(){const c=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),g=f+1,y=this.bits;for(let b=0;b<g;b++){let j=y[b];j=j>>1&1431655765|(j&1431655765)<<1,j=j>>2&858993459|(j&858993459)<<2,j=j>>4&252645135|(j&252645135)<<4,j=j>>8&16711935|(j&16711935)<<8,j=j>>16&65535|(j&65535)<<16,c[f-b]=j}if(this.size!==g*32){const b=g*32-this.size;let j=c[0]>>>b;for(let E=1;E<g;E++){const D=c[E];j|=D<<32-b,c[E-1]=j,j=D>>>b}c[g-1]=j}this.bits=c}static makeArray(c){return new Int32Array(Math.floor((c+31)/32))}equals(c){if(!(c instanceof U))return!1;const f=c;return this.size===f.size&&P.equals(this.bits,f.bits)}hashCode(){return 31*this.size+P.hashCode(this.bits)}toString(){let c="";for(let f=0,g=this.size;f<g;f++)(f&7)===0&&(c+=" "),c+=this.get(f)?"X":".";return c}clone(){return new U(this.size,this.bits.slice())}}var B;(function(K){K[K.OTHER=0]="OTHER",K[K.PURE_BARCODE=1]="PURE_BARCODE",K[K.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",K[K.TRY_HARDER=3]="TRY_HARDER",K[K.CHARACTER_SET=4]="CHARACTER_SET",K[K.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",K[K.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",K[K.ASSUME_GS1=7]="ASSUME_GS1",K[K.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",K[K.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",K[K.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(B||(B={}));var L=B;class F extends h{static getFormatInstance(){return new F}}F.kind="FormatException";var V;(function(K){K[K.Cp437=0]="Cp437",K[K.ISO8859_1=1]="ISO8859_1",K[K.ISO8859_2=2]="ISO8859_2",K[K.ISO8859_3=3]="ISO8859_3",K[K.ISO8859_4=4]="ISO8859_4",K[K.ISO8859_5=5]="ISO8859_5",K[K.ISO8859_6=6]="ISO8859_6",K[K.ISO8859_7=7]="ISO8859_7",K[K.ISO8859_8=8]="ISO8859_8",K[K.ISO8859_9=9]="ISO8859_9",K[K.ISO8859_10=10]="ISO8859_10",K[K.ISO8859_11=11]="ISO8859_11",K[K.ISO8859_13=12]="ISO8859_13",K[K.ISO8859_14=13]="ISO8859_14",K[K.ISO8859_15=14]="ISO8859_15",K[K.ISO8859_16=15]="ISO8859_16",K[K.SJIS=16]="SJIS",K[K.Cp1250=17]="Cp1250",K[K.Cp1251=18]="Cp1251",K[K.Cp1252=19]="Cp1252",K[K.Cp1256=20]="Cp1256",K[K.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",K[K.UTF8=22]="UTF8",K[K.ASCII=23]="ASCII",K[K.Big5=24]="Big5",K[K.GB18030=25]="GB18030",K[K.EUC_KR=26]="EUC_KR"})(V||(V={}));class z{constructor(c,f,g,...y){this.valueIdentifier=c,this.name=g,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=y,z.VALUE_IDENTIFIER_TO_ECI.set(c,this),z.NAME_TO_ECI.set(g,this);const b=this.values;for(let j=0,E=b.length;j!==E;j++){const D=b[j];z.VALUES_TO_ECI.set(D,this)}for(const j of y)z.NAME_TO_ECI.set(j,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(c){if(c<0||c>=900)throw new F("incorect value");const f=z.VALUES_TO_ECI.get(c);if(f===void 0)throw new F("incorect value");return f}static getCharacterSetECIByName(c){const f=z.NAME_TO_ECI.get(c);if(f===void 0)throw new F("incorect value");return f}equals(c){if(!(c instanceof z))return!1;const f=c;return this.getName()===f.getName()}}z.VALUE_IDENTIFIER_TO_ECI=new Map,z.VALUES_TO_ECI=new Map,z.NAME_TO_ECI=new Map,z.Cp437=new z(V.Cp437,Int32Array.from([0,2]),"Cp437"),z.ISO8859_1=new z(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),z.ISO8859_2=new z(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),z.ISO8859_3=new z(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),z.ISO8859_4=new z(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),z.ISO8859_5=new z(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),z.ISO8859_6=new z(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),z.ISO8859_7=new z(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),z.ISO8859_8=new z(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),z.ISO8859_9=new z(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),z.ISO8859_10=new z(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),z.ISO8859_11=new z(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),z.ISO8859_13=new z(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),z.ISO8859_14=new z(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),z.ISO8859_15=new z(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),z.ISO8859_16=new z(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),z.SJIS=new z(V.SJIS,20,"SJIS","Shift_JIS"),z.Cp1250=new z(V.Cp1250,21,"Cp1250","windows-1250"),z.Cp1251=new z(V.Cp1251,22,"Cp1251","windows-1251"),z.Cp1252=new z(V.Cp1252,23,"Cp1252","windows-1252"),z.Cp1256=new z(V.Cp1256,24,"Cp1256","windows-1256"),z.UnicodeBigUnmarked=new z(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),z.UTF8=new z(V.UTF8,26,"UTF8","UTF-8"),z.ASCII=new z(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),z.Big5=new z(V.Big5,28,"Big5"),z.GB18030=new z(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),z.EUC_KR=new z(V.EUC_KR,30,"EUC_KR","EUC-KR");class H extends h{}H.kind="UnsupportedOperationException";class W{static decode(c,f){const g=this.encodingName(f);return this.customDecoder?this.customDecoder(c,g):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(g)?this.decodeFallback(c,g):new TextDecoder(g).decode(c)}static shouldDecodeOnFallback(c){return!W.isBrowser()&&c==="ISO-8859-1"}static encode(c,f){const g=this.encodingName(f);return this.customEncoder?this.customEncoder(c,g):typeof TextEncoder>"u"?this.encodeFallback(c):new TextEncoder().encode(c)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(c){return typeof c=="string"?c:c.getName()}static encodingCharacterSet(c){return c instanceof z?c:z.getCharacterSetECIByName(c)}static decodeFallback(c,f){const g=this.encodingCharacterSet(f);if(W.isDecodeFallbackSupported(g)){let y="";for(let b=0,j=c.length;b<j;b++){let E=c[b].toString(16);E.length<2&&(E="0"+E),y+="%"+E}return decodeURIComponent(y)}if(g.equals(z.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(c.buffer));throw new H(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(c){return c.equals(z.UTF8)||c.equals(z.ISO8859_1)||c.equals(z.ASCII)}static encodeFallback(c){const g=btoa(unescape(encodeURIComponent(c))).split(""),y=[];for(let b=0;b<g.length;b++)y.push(g[b].charCodeAt(0));return new Uint8Array(y)}}class q{static castAsNonUtf8Char(c,f=null){const g=f?f.getName():this.ISO88591;return W.decode(new Uint8Array([c]),g)}static guessEncoding(c,f){if(f!=null&&f.get(L.CHARACTER_SET)!==void 0)return f.get(L.CHARACTER_SET).toString();const g=c.length;let y=!0,b=!0,j=!0,E=0,D=0,k=0,$=0,X=0,Z=0,ae=0,ue=0,fe=0,Se=0,Oe=0;const Ye=c.length>3&&c[0]===239&&c[1]===187&&c[2]===191;for(let Xe=0;Xe<g&&(y||b||j);Xe++){const qe=c[Xe]&255;j&&(E>0?(qe&128)===0?j=!1:E--:(qe&128)!==0&&((qe&64)===0?j=!1:(E++,(qe&32)===0?D++:(E++,(qe&16)===0?k++:(E++,(qe&8)===0?$++:j=!1))))),y&&(qe>127&&qe<160?y=!1:qe>159&&(qe<192||qe===215||qe===247)&&Oe++),b&&(X>0?qe<64||qe===127||qe>252?b=!1:X--:qe===128||qe===160||qe>239?b=!1:qe>160&&qe<224?(Z++,ue=0,ae++,ae>fe&&(fe=ae)):qe>127?(X++,ae=0,ue++,ue>Se&&(Se=ue)):(ae=0,ue=0))}return j&&E>0&&(j=!1),b&&X>0&&(b=!1),j&&(Ye||D+k+$>0)?q.UTF8:b&&(q.ASSUME_SHIFT_JIS||fe>=3||Se>=3)?q.SHIFT_JIS:y&&b?fe===2&&Z===2||Oe*10>=g?q.SHIFT_JIS:q.ISO88591:y?q.ISO88591:b?q.SHIFT_JIS:j?q.UTF8:q.PLATFORM_DEFAULT_ENCODING}static format(c,...f){let g=-1;function y(j,E,D,k,$,X){if(j==="%%")return"%";if(f[++g]===void 0)return;j=k?parseInt(k.substr(1)):void 0;let Z=$?parseInt($.substr(1)):void 0,ae;switch(X){case"s":ae=f[g];break;case"c":ae=f[g][0];break;case"f":ae=parseFloat(f[g]).toFixed(j);break;case"p":ae=parseFloat(f[g]).toPrecision(j);break;case"e":ae=parseFloat(f[g]).toExponential(j);break;case"x":ae=parseInt(f[g]).toString(Z||16);break;case"d":ae=parseFloat(parseInt(f[g],Z||10).toPrecision(j)).toFixed(0);break}ae=typeof ae=="object"?JSON.stringify(ae):(+ae).toString(Z);let ue=parseInt(D),fe=D&&D[0]+""=="0"?"0":" ";for(;ae.length<ue;)ae=E!==void 0?ae+fe:fe+ae;return ae}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}static getBytes(c,f){return W.encode(c,f)}static getCharCode(c,f=0){return c.charCodeAt(f)}static getCharAt(c){return String.fromCharCode(c)}}q.SHIFT_JIS=z.SJIS.getName(),q.GB2312="GB2312",q.ISO88591=z.ISO8859_1.getName(),q.EUC_JP="EUC_JP",q.UTF8=z.UTF8.getName(),q.PLATFORM_DEFAULT_ENCODING=q.UTF8,q.ASSUME_SHIFT_JIS=!1;class Q{constructor(c=""){this.value=c}enableDecoding(c){return this.encoding=c,this}append(c){return typeof c=="string"?this.value+=c.toString():this.encoding?this.value+=q.castAsNonUtf8Char(c,this.encoding):this.value+=String.fromCharCode(c),this}appendChars(c,f,g){for(let y=f;f<f+g;y++)this.append(c[y]);return this}length(){return this.value.length}charAt(c){return this.value.charAt(c)}deleteCharAt(c){this.value=this.value.substr(0,c)+this.value.substring(c+1)}setCharAt(c,f){this.value=this.value.substr(0,c)+f+this.value.substr(c+1)}substring(c,f){return this.value.substring(c,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(c,f){this.value=this.value.substr(0,c)+f+this.value.substr(c+f.length)}}class te{constructor(c,f,g,y){if(this.width=c,this.height=f,this.rowSize=g,this.bits=y,f==null&&(f=c),this.height=f,c<1||f<1)throw new v("Both dimensions must be greater than 0");g==null&&(g=Math.floor((c+31)/32)),this.rowSize=g,y==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(c){const f=c.length,g=c[0].length,y=new te(g,f);for(let b=0;b<f;b++){const j=c[b];for(let E=0;E<g;E++)j[E]&&y.set(E,b)}return y}static parseFromString(c,f,g){if(c===null)throw new v("stringRepresentation cannot be null");const y=new Array(c.length);let b=0,j=0,E=-1,D=0,k=0;for(;k<c.length;)if(c.charAt(k)===`
`||c.charAt(k)==="\r"){if(b>j){if(E===-1)E=b-j;else if(b-j!==E)throw new v("row lengths do not match");j=b,D++}k++}else if(c.substring(k,k+f.length)===f)k+=f.length,y[b]=!0,b++;else if(c.substring(k,k+g.length)===g)k+=g.length,y[b]=!1,b++;else throw new v("illegal character encountered: "+c.substring(k));if(b>j){if(E===-1)E=b-j;else if(b-j!==E)throw new v("row lengths do not match");D++}const $=new te(E,D);for(let X=0;X<b;X++)y[X]&&$.set(Math.floor(X%E),Math.floor(X/E));return $}get(c,f){const g=f*this.rowSize+Math.floor(c/32);return(this.bits[g]>>>(c&31)&1)!==0}set(c,f){const g=f*this.rowSize+Math.floor(c/32);this.bits[g]|=1<<(c&31)&4294967295}unset(c,f){const g=f*this.rowSize+Math.floor(c/32);this.bits[g]&=~(1<<(c&31)&4294967295)}flip(c,f){const g=f*this.rowSize+Math.floor(c/32);this.bits[g]^=1<<(c&31)&4294967295}xor(c){if(this.width!==c.getWidth()||this.height!==c.getHeight()||this.rowSize!==c.getRowSize())throw new v("input matrix dimensions do not match");const f=new U(Math.floor(this.width/32)+1),g=this.rowSize,y=this.bits;for(let b=0,j=this.height;b<j;b++){const E=b*g,D=c.getRow(b,f).getBitArray();for(let k=0;k<g;k++)y[E+k]^=D[k]}}clear(){const c=this.bits,f=c.length;for(let g=0;g<f;g++)c[g]=0}setRegion(c,f,g,y){if(f<0||c<0)throw new v("Left and top must be nonnegative");if(y<1||g<1)throw new v("Height and width must be at least 1");const b=c+g,j=f+y;if(j>this.height||b>this.width)throw new v("The region must fit inside the matrix");const E=this.rowSize,D=this.bits;for(let k=f;k<j;k++){const $=k*E;for(let X=c;X<b;X++)D[$+Math.floor(X/32)]|=1<<(X&31)&4294967295}}getRow(c,f){f==null||f.getSize()<this.width?f=new U(this.width):f.clear();const g=this.rowSize,y=this.bits,b=c*g;for(let j=0;j<g;j++)f.setBulk(j*32,y[b+j]);return f}setRow(c,f){_.arraycopy(f.getBitArray(),0,this.bits,c*this.rowSize,this.rowSize)}rotate180(){const c=this.getWidth(),f=this.getHeight();let g=new U(c),y=new U(c);for(let b=0,j=Math.floor((f+1)/2);b<j;b++)g=this.getRow(b,g),y=this.getRow(f-1-b,y),g.reverse(),y.reverse(),this.setRow(b,y),this.setRow(f-1-b,g)}getEnclosingRectangle(){const c=this.width,f=this.height,g=this.rowSize,y=this.bits;let b=c,j=f,E=-1,D=-1;for(let k=0;k<f;k++)for(let $=0;$<g;$++){const X=y[k*g+$];if(X!==0){if(k<j&&(j=k),k>D&&(D=k),$*32<b){let Z=0;for(;(X<<31-Z&4294967295)===0;)Z++;$*32+Z<b&&(b=$*32+Z)}if($*32+31>E){let Z=31;for(;!(X>>>Z);)Z--;$*32+Z>E&&(E=$*32+Z)}}}return E<b||D<j?null:Int32Array.from([b,j,E-b+1,D-j+1])}getTopLeftOnBit(){const c=this.rowSize,f=this.bits;let g=0;for(;g<f.length&&f[g]===0;)g++;if(g===f.length)return null;const y=g/c;let b=g%c*32;const j=f[g];let E=0;for(;(j<<31-E&4294967295)===0;)E++;return b+=E,Int32Array.from([b,y])}getBottomRightOnBit(){const c=this.rowSize,f=this.bits;let g=f.length-1;for(;g>=0&&f[g]===0;)g--;if(g<0)return null;const y=Math.floor(g/c);let b=Math.floor(g%c)*32;const j=f[g];let E=31;for(;!(j>>>E);)E--;return b+=E,Int32Array.from([b,y])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(c){if(!(c instanceof te))return!1;const f=c;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&P.equals(this.bits,f.bits)}hashCode(){let c=this.width;return c=31*c+this.width,c=31*c+this.height,c=31*c+this.rowSize,c=31*c+P.hashCode(this.bits),c}toString(c="X ",f="  ",g=`
`){return this.buildToString(c,f,g)}buildToString(c,f,g){let y=new Q;for(let b=0,j=this.height;b<j;b++){for(let E=0,D=this.width;E<D;E++)y.append(this.get(E,b)?c:f);y.append(g)}return y.toString()}clone(){return new te(this.width,this.height,this.rowSize,this.bits.slice())}}class J extends h{static getNotFoundInstance(){return new J}}J.kind="NotFoundException";class Y extends T{constructor(c){super(c),this.luminances=Y.EMPTY,this.buckets=new Int32Array(Y.LUMINANCE_BUCKETS)}getBlackRow(c,f){const g=this.getLuminanceSource(),y=g.getWidth();f==null||f.getSize()<y?f=new U(y):f.clear(),this.initArrays(y);const b=g.getRow(c,this.luminances),j=this.buckets;for(let D=0;D<y;D++)j[(b[D]&255)>>Y.LUMINANCE_SHIFT]++;const E=Y.estimateBlackPoint(j);if(y<3)for(let D=0;D<y;D++)(b[D]&255)<E&&f.set(D);else{let D=b[0]&255,k=b[1]&255;for(let $=1;$<y-1;$++){const X=b[$+1]&255;(k*4-D-X)/2<E&&f.set($),D=k,k=X}}return f}getBlackMatrix(){const c=this.getLuminanceSource(),f=c.getWidth(),g=c.getHeight(),y=new te(f,g);this.initArrays(f);const b=this.buckets;for(let D=1;D<5;D++){const k=Math.floor(g*D/5),$=c.getRow(k,this.luminances),X=Math.floor(f*4/5);for(let Z=Math.floor(f/5);Z<X;Z++){const ae=$[Z]&255;b[ae>>Y.LUMINANCE_SHIFT]++}}const j=Y.estimateBlackPoint(b),E=c.getMatrix();for(let D=0;D<g;D++){const k=D*f;for(let $=0;$<f;$++)(E[k+$]&255)<j&&y.set($,D)}return y}createBinarizer(c){return new Y(c)}initArrays(c){this.luminances.length<c&&(this.luminances=new Uint8ClampedArray(c));const f=this.buckets;for(let g=0;g<Y.LUMINANCE_BUCKETS;g++)f[g]=0}static estimateBlackPoint(c){const f=c.length;let g=0,y=0,b=0;for(let $=0;$<f;$++)c[$]>b&&(y=$,b=c[$]),c[$]>g&&(g=c[$]);let j=0,E=0;for(let $=0;$<f;$++){const X=$-y,Z=c[$]*X*X;Z>E&&(j=$,E=Z)}if(y>j){const $=y;y=j,j=$}if(j-y<=f/16)throw new J;let D=j-1,k=-1;for(let $=j-1;$>y;$--){const X=$-y,Z=X*X*(j-$)*(g-c[$]);Z>k&&(D=$,k=Z)}return D<<Y.LUMINANCE_SHIFT}}Y.LUMINANCE_BITS=5,Y.LUMINANCE_SHIFT=8-Y.LUMINANCE_BITS,Y.LUMINANCE_BUCKETS=1<<Y.LUMINANCE_BITS,Y.EMPTY=Uint8ClampedArray.from([0]);class ne extends Y{constructor(c){super(c),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const c=this.getLuminanceSource(),f=c.getWidth(),g=c.getHeight();if(f>=ne.MINIMUM_DIMENSION&&g>=ne.MINIMUM_DIMENSION){const y=c.getMatrix();let b=f>>ne.BLOCK_SIZE_POWER;(f&ne.BLOCK_SIZE_MASK)!==0&&b++;let j=g>>ne.BLOCK_SIZE_POWER;(g&ne.BLOCK_SIZE_MASK)!==0&&j++;const E=ne.calculateBlackPoints(y,b,j,f,g),D=new te(f,g);ne.calculateThresholdForBlock(y,b,j,f,g,E,D),this.matrix=D}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(c){return new ne(c)}static calculateThresholdForBlock(c,f,g,y,b,j,E){const D=b-ne.BLOCK_SIZE,k=y-ne.BLOCK_SIZE;for(let $=0;$<g;$++){let X=$<<ne.BLOCK_SIZE_POWER;X>D&&(X=D);const Z=ne.cap($,2,g-3);for(let ae=0;ae<f;ae++){let ue=ae<<ne.BLOCK_SIZE_POWER;ue>k&&(ue=k);const fe=ne.cap(ae,2,f-3);let Se=0;for(let Ye=-2;Ye<=2;Ye++){const Xe=j[Z+Ye];Se+=Xe[fe-2]+Xe[fe-1]+Xe[fe]+Xe[fe+1]+Xe[fe+2]}const Oe=Se/25;ne.thresholdBlock(c,ue,X,Oe,y,E)}}}static cap(c,f,g){return c<f?f:c>g?g:c}static thresholdBlock(c,f,g,y,b,j){for(let E=0,D=g*b+f;E<ne.BLOCK_SIZE;E++,D+=b)for(let k=0;k<ne.BLOCK_SIZE;k++)(c[D+k]&255)<=y&&j.set(f+k,g+E)}static calculateBlackPoints(c,f,g,y,b){const j=b-ne.BLOCK_SIZE,E=y-ne.BLOCK_SIZE,D=new Array(g);for(let k=0;k<g;k++){D[k]=new Int32Array(f);let $=k<<ne.BLOCK_SIZE_POWER;$>j&&($=j);for(let X=0;X<f;X++){let Z=X<<ne.BLOCK_SIZE_POWER;Z>E&&(Z=E);let ae=0,ue=255,fe=0;for(let Oe=0,Ye=$*y+Z;Oe<ne.BLOCK_SIZE;Oe++,Ye+=y){for(let Xe=0;Xe<ne.BLOCK_SIZE;Xe++){const qe=c[Ye+Xe]&255;ae+=qe,qe<ue&&(ue=qe),qe>fe&&(fe=qe)}if(fe-ue>ne.MIN_DYNAMIC_RANGE)for(Oe++,Ye+=y;Oe<ne.BLOCK_SIZE;Oe++,Ye+=y)for(let Xe=0;Xe<ne.BLOCK_SIZE;Xe++)ae+=c[Ye+Xe]&255}let Se=ae>>ne.BLOCK_SIZE_POWER*2;if(fe-ue<=ne.MIN_DYNAMIC_RANGE&&(Se=ue/2,k>0&&X>0)){const Oe=(D[k-1][X]+2*D[k][X-1]+D[k-1][X-1])/4;ue<Oe&&(Se=Oe)}D[k][X]=Se}}return D}}ne.BLOCK_SIZE_POWER=3,ne.BLOCK_SIZE=1<<ne.BLOCK_SIZE_POWER,ne.BLOCK_SIZE_MASK=ne.BLOCK_SIZE-1,ne.MINIMUM_DIMENSION=ne.BLOCK_SIZE*5,ne.MIN_DYNAMIC_RANGE=24;class se{constructor(c,f){this.width=c,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(c,f,g,y){throw new H("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new H("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new H("This luminance source does not support rotation by 45 degrees.")}toString(){const c=new Uint8ClampedArray(this.width);let f=new Q;for(let g=0;g<this.height;g++){const y=this.getRow(g,c);for(let b=0;b<this.width;b++){const j=y[b]&255;let E;j<64?E="#":j<128?E="+":j<192?E=".":E=" ",f.append(E)}f.append(`
`)}return f.toString()}}class me extends se{constructor(c){super(c.getWidth(),c.getHeight()),this.delegate=c}getRow(c,f){const g=this.delegate.getRow(c,f),y=this.getWidth();for(let b=0;b<y;b++)g[b]=255-(g[b]&255);return g}getMatrix(){const c=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),g=new Uint8ClampedArray(f);for(let y=0;y<f;y++)g[y]=255-(c[y]&255);return g}isCropSupported(){return this.delegate.isCropSupported()}crop(c,f,g,y){return new me(this.delegate.crop(c,f,g,y))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new me(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new me(this.delegate.rotateCounterClockwise45())}}class re extends se{constructor(c){super(c.width,c.height),this.canvas=c,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(c)}static makeBufferFromCanvasImageData(c){const f=c.getContext("2d").getImageData(0,0,c.width,c.height);return re.toGrayscaleBuffer(f.data,c.width,c.height)}static toGrayscaleBuffer(c,f,g){const y=new Uint8ClampedArray(f*g);for(let b=0,j=0,E=c.length;b<E;b+=4,j++){let D;if(c[b+3]===0)D=255;else{const $=c[b],X=c[b+1],Z=c[b+2];D=306*$+601*X+117*Z+512>>10}y[j]=D}return y}getRow(c,f){if(c<0||c>=this.getHeight())throw new v("Requested row is outside the image: "+c);const g=this.getWidth(),y=c*g;return f===null?f=this.buffer.slice(y,y+g):(f.length<g&&(f=new Uint8ClampedArray(g)),f.set(this.buffer.slice(y,y+g))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(c,f,g,y){return super.crop(c,f,g,y),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const c=this.canvas.ownerDocument.createElement("canvas");c.width=this.canvas.width,c.height=this.canvas.height,this.tempCanvasElement=c}return this.tempCanvasElement}rotate(c){const f=this.getTempCanvasElement(),g=f.getContext("2d"),y=c*re.DEGREE_TO_RADIANS,b=this.canvas.width,j=this.canvas.height,E=Math.ceil(Math.abs(Math.cos(y))*b+Math.abs(Math.sin(y))*j),D=Math.ceil(Math.abs(Math.sin(y))*b+Math.abs(Math.cos(y))*j);return f.width=E,f.height=D,g.translate(E/2,D/2),g.rotate(y),g.drawImage(this.canvas,b/-2,j/-2),this.buffer=re.makeBufferFromCanvasImageData(f),this}invert(){return new me(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class de{constructor(c,f,g){this.deviceId=c,this.label=f,this.kind="videoinput",this.groupId=g||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var oe=(globalThis||Lp||self||window||void 0)&&(globalThis||Lp||self||window||void 0).__awaiter||function(K,c,f,g){function y(b){return b instanceof f?b:new f(function(j){j(b)})}return new(f||(f=Promise))(function(b,j){function E($){try{k(g.next($))}catch(X){j(X)}}function D($){try{k(g.throw($))}catch(X){j(X)}}function k($){$.done?b($.value):y($.value).then(E,D)}k((g=g.apply(K,c||[])).next())})};class he{constructor(c,f=500,g){this.reader=c,this.timeBetweenScansMillis=f,this._hints=g,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(c){this._timeBetweenDecodingAttempts=c<0?0:c}set hints(c){this._hints=c||null}get hints(){return this._hints}listVideoInputDevices(){return oe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const c=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const g of c){const y=g.kind==="video"?"videoinput":g.kind;if(y!=="videoinput")continue;const b=g.deviceId||g.id,j=g.label||`Video device ${f.length+1}`,E=g.groupId,D={deviceId:b,label:j,kind:y,groupId:E};f.push(D)}return f})}getVideoInputDevices(){return oe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new de(f.deviceId,f.label))})}findDeviceById(c){return oe(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(g=>g.deviceId===c):null})}decodeFromInputVideoDevice(c,f){return oe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(c,f)})}decodeOnceFromVideoDevice(c,f){return oe(this,void 0,void 0,function*(){this.reset();let g;c?g={deviceId:{exact:c}}:g={facingMode:"environment"};const y={video:g};return yield this.decodeOnceFromConstraints(y,f)})}decodeOnceFromConstraints(c,f){return oe(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeOnceFromStream(g,f)})}decodeOnceFromStream(c,f){return oe(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(c,f);return yield this.decodeOnce(g)})}decodeFromInputVideoDeviceContinuously(c,f,g){return oe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(c,f,g)})}decodeFromVideoDevice(c,f,g){return oe(this,void 0,void 0,function*(){let y;c?y={deviceId:{exact:c}}:y={facingMode:"environment"};const b={video:y};return yield this.decodeFromConstraints(b,f,g)})}decodeFromConstraints(c,f,g){return oe(this,void 0,void 0,function*(){const y=yield navigator.mediaDevices.getUserMedia(c);return yield this.decodeFromStream(y,f,g)})}decodeFromStream(c,f,g){return oe(this,void 0,void 0,function*(){this.reset();const y=yield this.attachStreamToVideo(c,f);return yield this.decodeContinuously(y,g)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(c,f){return oe(this,void 0,void 0,function*(){const g=this.prepareVideoElement(f);return this.addVideoSource(g,c),this.videoElement=g,this.stream=c,yield this.playVideoOnLoadAsync(g),g})}playVideoOnLoadAsync(c){return new Promise((f,g)=>this.playVideoOnLoad(c,()=>f()))}playVideoOnLoad(c,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(c),c.addEventListener("ended",this.videoEndedListener),c.addEventListener("canplay",this.videoCanPlayListener),c.addEventListener("playing",f),this.tryPlayVideo(c)}isVideoPlaying(c){return c.currentTime>0&&!c.paused&&!c.ended&&c.readyState>2}tryPlayVideo(c){return oe(this,void 0,void 0,function*(){if(this.isVideoPlaying(c)){console.warn("Trying to play video that is already playing.");return}try{yield c.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(c,f){const g=document.getElementById(c);if(!g)throw new p(`element with id '${c}' not found`);if(g.nodeName.toLowerCase()!==f.toLowerCase())throw new p(`element with id '${c}' must be an ${f} element`);return g}decodeFromImage(c,f){if(!c&&!f)throw new p("either imageElement with a src set or an url must be provided");return f&&!c?this.decodeFromImageUrl(f):this.decodeFromImageElement(c)}decodeFromVideo(c,f){if(!c&&!f)throw new p("Either an element with a src set or an URL must be provided");return f&&!c?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(c)}decodeFromVideoContinuously(c,f,g){if(c===void 0&&f===void 0)throw new p("Either an element with a src set or an URL must be provided");return f&&!c?this.decodeFromVideoUrlContinuously(f,g):this.decodeFromVideoElementContinuously(c,g)}decodeFromImageElement(c){if(!c)throw new p("An image element must be provided.");this.reset();const f=this.prepareImageElement(c);this.imageElement=f;let g;return this.isImageLoaded(f)?g=this.decodeOnce(f,!1,!0):g=this._decodeOnLoadImage(f),g}decodeFromVideoElement(c){const f=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(c,f){const g=this._decodeFromVideoElementSetup(c);return this._decodeOnLoadVideoContinuously(g,f)}_decodeFromVideoElementSetup(c){if(!c)throw new p("A video element must be provided.");this.reset();const f=this.prepareVideoElement(c);return this.videoElement=f,f}decodeFromImageUrl(c){if(!c)throw new p("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const g=this._decodeOnLoadImage(f);return f.src=c,g}decodeFromVideoUrl(c){if(!c)throw new p("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),g=this.decodeFromVideoElement(f);return f.src=c,g}decodeFromVideoUrlContinuously(c,f){if(!c)throw new p("An URL must be provided.");this.reset();const g=this.prepareVideoElement(),y=this.decodeFromVideoElementContinuously(g,f);return g.src=c,y}_decodeOnLoadImage(c){return new Promise((f,g)=>{this.imageLoadedListener=()=>this.decodeOnce(c,!1,!0).then(f,g),c.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(c){return oe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(c),yield this.decodeOnce(c)})}_decodeOnLoadVideoContinuously(c,f){return oe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(c),this.decodeContinuously(c,f)})}isImageLoaded(c){return!(!c.complete||c.naturalWidth===0)}prepareImageElement(c){let f;return typeof c>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof c=="string"&&(f=this.getMediaElement(c,"img")),c instanceof HTMLImageElement&&(f=c),f}prepareVideoElement(c){let f;return!c&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof c=="string"&&(f=this.getMediaElement(c,"video")),c instanceof HTMLVideoElement&&(f=c),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(c,f=!0,g=!0){this._stopAsyncDecode=!1;const y=(b,j)=>{if(this._stopAsyncDecode){j(new J("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const E=this.decode(c);b(E)}catch(E){const D=f&&E instanceof J,$=(E instanceof A||E instanceof F)&&g;if(D||$)return setTimeout(y,this._timeBetweenDecodingAttempts,b,j);j(E)}};return new Promise((b,j)=>y(b,j))}decodeContinuously(c,f){this._stopContinuousDecode=!1;const g=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const y=this.decode(c);f(y,null),setTimeout(g,this.timeBetweenScansMillis)}catch(y){f(null,y);const b=y instanceof A||y instanceof F,j=y instanceof J;(b||j)&&setTimeout(g,this._timeBetweenDecodingAttempts)}};g()}decode(c){const f=this.createBinaryBitmap(c);return this.decodeBitmap(f)}_isHTMLVideoElement(c){return c.videoWidth!==0}drawFrameOnCanvas(c,f,g){f||(f={sx:0,sy:0,sWidth:c.videoWidth,sHeight:c.videoHeight,dx:0,dy:0,dWidth:c.videoWidth,dHeight:c.videoHeight}),g||(g=this.captureCanvasContext),g.drawImage(c,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(c,f,g=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:c.naturalWidth,sHeight:c.naturalHeight,dx:0,dy:0,dWidth:c.naturalWidth,dHeight:c.naturalHeight}),g||(g=this.captureCanvasContext),g.drawImage(c,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(c){this.getCaptureCanvasContext(c),this._isHTMLVideoElement(c)?this.drawFrameOnCanvas(c):this.drawImageOnCanvas(c);const f=this.getCaptureCanvas(c),g=new re(f),y=new ne(g);return new S(y)}getCaptureCanvasContext(c){if(!this.captureCanvasContext){const g=this.getCaptureCanvas(c).getContext("2d");this.captureCanvasContext=g}return this.captureCanvasContext}getCaptureCanvas(c){if(!this.captureCanvas){const f=this.createCaptureCanvas(c);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(c){return this.reader.decode(c,this._hints)}createCaptureCanvas(c){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let g,y;return typeof c<"u"&&(c instanceof HTMLVideoElement?(g=c.videoWidth,y=c.videoHeight):c instanceof HTMLImageElement&&(g=c.naturalWidth||c.width,y=c.naturalHeight||c.height)),f.style.width=g+"px",f.style.height=y+"px",f.width=g,f.height=y,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(c=>c.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(c,f){try{c.srcObject=f}catch{c.src=URL.createObjectURL(f)}}cleanVideoSource(c){try{c.srcObject=null}catch{c.src=""}this.videoElement.removeAttribute("src")}}class Re{constructor(c,f,g=f==null?0:8*f.length,y,b,j=_.currentTimeMillis()){this.text=c,this.rawBytes=f,this.numBits=g,this.resultPoints=y,this.format=b,this.timestamp=j,this.text=c,this.rawBytes=f,g==null?this.numBits=f==null?0:8*f.length:this.numBits=g,this.resultPoints=y,this.format=b,this.resultMetadata=null,j==null?this.timestamp=_.currentTimeMillis():this.timestamp=j}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(c,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(c,f)}putAllMetadata(c){c!==null&&(this.resultMetadata===null?this.resultMetadata=c:this.resultMetadata=new Map(c))}addResultPoints(c){const f=this.resultPoints;if(f===null)this.resultPoints=c;else if(c!==null&&c.length>0){const g=new Array(f.length+c.length);_.arraycopy(f,0,g,0,f.length),_.arraycopy(c,0,g,f.length,c.length),this.resultPoints=g}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Le;(function(K){K[K.AZTEC=0]="AZTEC",K[K.CODABAR=1]="CODABAR",K[K.CODE_39=2]="CODE_39",K[K.CODE_93=3]="CODE_93",K[K.CODE_128=4]="CODE_128",K[K.DATA_MATRIX=5]="DATA_MATRIX",K[K.EAN_8=6]="EAN_8",K[K.EAN_13=7]="EAN_13",K[K.ITF=8]="ITF",K[K.MAXICODE=9]="MAXICODE",K[K.PDF_417=10]="PDF_417",K[K.QR_CODE=11]="QR_CODE",K[K.RSS_14=12]="RSS_14",K[K.RSS_EXPANDED=13]="RSS_EXPANDED",K[K.UPC_A=14]="UPC_A",K[K.UPC_E=15]="UPC_E",K[K.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Le||(Le={}));var le=Le,pe;(function(K){K[K.OTHER=0]="OTHER",K[K.ORIENTATION=1]="ORIENTATION",K[K.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",K[K.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",K[K.ISSUE_NUMBER=4]="ISSUE_NUMBER",K[K.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",K[K.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",K[K.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",K[K.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",K[K.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",K[K.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(pe||(pe={}));var je=pe;class xe{constructor(c,f,g,y,b=-1,j=-1){this.rawBytes=c,this.text=f,this.byteSegments=g,this.ecLevel=y,this.structuredAppendSequenceNumber=b,this.structuredAppendParity=j,this.numBits=c==null?0:8*c.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(c){this.numBits=c}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(c){this.errorsCorrected=c}getErasures(){return this.erasures}setErasures(c){this.erasures=c}getOther(){return this.other}setOther(c){this.other=c}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Fe{exp(c){return this.expTable[c]}log(c){if(c===0)throw new v;return this.logTable[c]}static addOrSubtract(c,f){return c^f}}class Ce{constructor(c,f){if(f.length===0)throw new v;this.field=c;const g=f.length;if(g>1&&f[0]===0){let y=1;for(;y<g&&f[y]===0;)y++;y===g?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(g-y),_.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);const f=this.coefficients;let g;if(c===1){g=0;for(let j=0,E=f.length;j!==E;j++){const D=f[j];g=Fe.addOrSubtract(g,D)}return g}g=f[0];const y=f.length,b=this.field;for(let j=1;j<y;j++)g=Fe.addOrSubtract(b.multiply(c,g),f[j]);return g}addOrSubtract(c){if(!this.field.equals(c.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero())return c;if(c.isZero())return this;let f=this.coefficients,g=c.coefficients;if(f.length>g.length){const j=f;f=g,g=j}let y=new Int32Array(g.length);const b=g.length-f.length;_.arraycopy(g,0,y,0,b);for(let j=b;j<g.length;j++)y[j]=Fe.addOrSubtract(f[j-b],g[j]);return new Ce(this.field,y)}multiply(c){if(!this.field.equals(c.field))throw new v("GenericGFPolys do not have same GenericGF field");if(this.isZero()||c.isZero())return this.field.getZero();const f=this.coefficients,g=f.length,y=c.coefficients,b=y.length,j=new Int32Array(g+b-1),E=this.field;for(let D=0;D<g;D++){const k=f[D];for(let $=0;$<b;$++)j[D+$]=Fe.addOrSubtract(j[D+$],E.multiply(k,y[$]))}return new Ce(E,j)}multiplyScalar(c){if(c===0)return this.field.getZero();if(c===1)return this;const f=this.coefficients.length,g=this.field,y=new Int32Array(f),b=this.coefficients;for(let j=0;j<f;j++)y[j]=g.multiply(b[j],c);return new Ce(g,y)}multiplyByMonomial(c,f){if(c<0)throw new v;if(f===0)return this.field.getZero();const g=this.coefficients,y=g.length,b=new Int32Array(y+c),j=this.field;for(let E=0;E<y;E++)b[E]=j.multiply(g[E],f);return new Ce(j,b)}divide(c){if(!this.field.equals(c.field))throw new v("GenericGFPolys do not have same GenericGF field");if(c.isZero())throw new v("Divide by 0");const f=this.field;let g=f.getZero(),y=this;const b=c.getCoefficient(c.getDegree()),j=f.inverse(b);for(;y.getDegree()>=c.getDegree()&&!y.isZero();){const E=y.getDegree()-c.getDegree(),D=f.multiply(y.getCoefficient(y.getDegree()),j),k=c.multiplyByMonomial(E,D),$=f.buildMonomial(E,D);g=g.addOrSubtract($),y=y.addOrSubtract(k)}return[g,y]}toString(){let c="";for(let f=this.getDegree();f>=0;f--){let g=this.getCoefficient(f);if(g!==0){if(g<0?(c+=" - ",g=-g):c.length>0&&(c+=" + "),f===0||g!==1){const y=this.field.log(g);y===0?c+="1":y===1?c+="a":(c+="a^",c+=y)}f!==0&&(f===1?c+="x":(c+="x^",c+=f))}}return c}}class we extends h{}we.kind="ArithmeticException";class We extends Fe{constructor(c,f,g){super(),this.primitive=c,this.size=f,this.generatorBase=g;const y=new Int32Array(f);let b=1;for(let E=0;E<f;E++)y[E]=b,b*=2,b>=f&&(b^=c,b&=f-1);this.expTable=y;const j=new Int32Array(f);for(let E=0;E<f-1;E++)j[y[E]]=E;this.logTable=j,this.zero=new Ce(this,Int32Array.from([0])),this.one=new Ce(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,f){if(c<0)throw new v;if(f===0)return this.zero;const g=new Int32Array(c+1);return g[0]=f,new Ce(this,g)}inverse(c){if(c===0)throw new we;return this.expTable[this.size-this.logTable[c]-1]}multiply(c,f){return c===0||f===0?0:this.expTable[(this.logTable[c]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+R.toHexString(this.primitive)+","+this.size+")"}equals(c){return c===this}}We.AZTEC_DATA_12=new We(4201,4096,1),We.AZTEC_DATA_10=new We(1033,1024,1),We.AZTEC_DATA_6=new We(67,64,1),We.AZTEC_PARAM=new We(19,16,1),We.QR_CODE_FIELD_256=new We(285,256,0),We.DATA_MATRIX_FIELD_256=new We(301,256,1),We.AZTEC_DATA_8=We.DATA_MATRIX_FIELD_256,We.MAXICODE_FIELD_64=We.AZTEC_DATA_6;class Ue extends h{}Ue.kind="ReedSolomonException";class Ze extends h{}Ze.kind="IllegalStateException";class yt{constructor(c){this.field=c}decode(c,f){const g=this.field,y=new Ce(g,c),b=new Int32Array(f);let j=!0;for(let ae=0;ae<f;ae++){const ue=y.evaluateAt(g.exp(ae+g.getGeneratorBase()));b[b.length-1-ae]=ue,ue!==0&&(j=!1)}if(j)return;const E=new Ce(g,b),D=this.runEuclideanAlgorithm(g.buildMonomial(f,1),E,f),k=D[0],$=D[1],X=this.findErrorLocations(k),Z=this.findErrorMagnitudes($,X);for(let ae=0;ae<X.length;ae++){const ue=c.length-1-g.log(X[ae]);if(ue<0)throw new Ue("Bad error location");c[ue]=We.addOrSubtract(c[ue],Z[ae])}}runEuclideanAlgorithm(c,f,g){if(c.getDegree()<f.getDegree()){const ae=c;c=f,f=ae}const y=this.field;let b=c,j=f,E=y.getZero(),D=y.getOne();for(;j.getDegree()>=(g/2|0);){let ae=b,ue=E;if(b=j,E=D,b.isZero())throw new Ue("r_{i-1} was zero");j=ae;let fe=y.getZero();const Se=b.getCoefficient(b.getDegree()),Oe=y.inverse(Se);for(;j.getDegree()>=b.getDegree()&&!j.isZero();){const Ye=j.getDegree()-b.getDegree(),Xe=y.multiply(j.getCoefficient(j.getDegree()),Oe);fe=fe.addOrSubtract(y.buildMonomial(Ye,Xe)),j=j.addOrSubtract(b.multiplyByMonomial(Ye,Xe))}if(D=fe.multiply(E).addOrSubtract(ue),j.getDegree()>=b.getDegree())throw new Ze("Division algorithm failed to reduce polynomial?")}const k=D.getCoefficient(0);if(k===0)throw new Ue("sigmaTilde(0) was zero");const $=y.inverse(k),X=D.multiplyScalar($),Z=j.multiplyScalar($);return[X,Z]}findErrorLocations(c){const f=c.getDegree();if(f===1)return Int32Array.from([c.getCoefficient(1)]);const g=new Int32Array(f);let y=0;const b=this.field;for(let j=1;j<b.getSize()&&y<f;j++)c.evaluateAt(j)===0&&(g[y]=b.inverse(j),y++);if(y!==f)throw new Ue("Error locator degree does not match number of roots");return g}findErrorMagnitudes(c,f){const g=f.length,y=new Int32Array(g),b=this.field;for(let j=0;j<g;j++){const E=b.inverse(f[j]);let D=1;for(let k=0;k<g;k++)if(j!==k){const $=b.multiply(f[k],E),X=($&1)===0?$|1:$&-2;D=b.multiply(D,X)}y[j]=b.multiply(c.evaluateAt(E),b.inverse(D)),b.getGeneratorBase()!==0&&(y[j]=b.multiply(y[j],E))}return y}}var Ke;(function(K){K[K.UPPER=0]="UPPER",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.DIGIT=3]="DIGIT",K[K.PUNCT=4]="PUNCT",K[K.BINARY=5]="BINARY"})(Ke||(Ke={}));class xt{decode(c){this.ddata=c;let f=c.getBits(),g=this.extractBits(f),y=this.correctBits(g),b=xt.convertBoolArrayToByteArray(y),j=xt.getEncodedData(y),E=new xe(b,j,null,null);return E.setNumBits(y.length),E}static highLevelDecode(c){return this.getEncodedData(c)}static getEncodedData(c){let f=c.length,g=Ke.UPPER,y=Ke.UPPER,b="",j=0;for(;j<f;)if(y===Ke.BINARY){if(f-j<5)break;let E=xt.readCode(c,j,5);if(j+=5,E===0){if(f-j<11)break;E=xt.readCode(c,j,11)+31,j+=11}for(let D=0;D<E;D++){if(f-j<8){j=f;break}const k=xt.readCode(c,j,8);b+=q.castAsNonUtf8Char(k),j+=8}y=g}else{let E=y===Ke.DIGIT?4:5;if(f-j<E)break;let D=xt.readCode(c,j,E);j+=E;let k=xt.getCharacter(y,D);k.startsWith("CTRL_")?(g=y,y=xt.getTable(k.charAt(5)),k.charAt(6)==="L"&&(g=y)):(b+=k,y=g)}return b}static getTable(c){switch(c){case"L":return Ke.LOWER;case"P":return Ke.PUNCT;case"M":return Ke.MIXED;case"D":return Ke.DIGIT;case"B":return Ke.BINARY;case"U":default:return Ke.UPPER}}static getCharacter(c,f){switch(c){case Ke.UPPER:return xt.UPPER_TABLE[f];case Ke.LOWER:return xt.LOWER_TABLE[f];case Ke.MIXED:return xt.MIXED_TABLE[f];case Ke.PUNCT:return xt.PUNCT_TABLE[f];case Ke.DIGIT:return xt.DIGIT_TABLE[f];default:throw new Ze("Bad table")}}correctBits(c){let f,g;this.ddata.getNbLayers()<=2?(g=6,f=We.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(g=8,f=We.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(g=10,f=We.AZTEC_DATA_10):(g=12,f=We.AZTEC_DATA_12);let y=this.ddata.getNbDatablocks(),b=c.length/g;if(b<y)throw new F;let j=c.length%g,E=new Int32Array(b);for(let Z=0;Z<b;Z++,j+=g)E[Z]=xt.readCode(c,j,g);try{new yt(f).decode(E,b-y)}catch(Z){throw new F(Z)}let D=(1<<g)-1,k=0;for(let Z=0;Z<y;Z++){let ae=E[Z];if(ae===0||ae===D)throw new F;(ae===1||ae===D-1)&&k++}let $=new Array(y*g-k),X=0;for(let Z=0;Z<y;Z++){let ae=E[Z];if(ae===1||ae===D-1)$.fill(ae>1,X,X+g-1),X+=g-1;else for(let ue=g-1;ue>=0;--ue)$[X++]=(ae&1<<ue)!==0}return $}extractBits(c){let f=this.ddata.isCompact(),g=this.ddata.getNbLayers(),y=(f?11:14)+g*4,b=new Int32Array(y),j=new Array(this.totalBitsInLayer(g,f));if(f)for(let E=0;E<b.length;E++)b[E]=E;else{let E=y+1+2*R.truncDivision(R.truncDivision(y,2)-1,15),D=y/2,k=R.truncDivision(E,2);for(let $=0;$<D;$++){let X=$+R.truncDivision($,15);b[D-$-1]=k-X-1,b[D+$]=k+X+1}}for(let E=0,D=0;E<g;E++){let k=(g-E)*4+(f?9:12),$=E*2,X=y-1-$;for(let Z=0;Z<k;Z++){let ae=Z*2;for(let ue=0;ue<2;ue++)j[D+ae+ue]=c.get(b[$+ue],b[$+Z]),j[D+2*k+ae+ue]=c.get(b[$+Z],b[X-ue]),j[D+4*k+ae+ue]=c.get(b[X-ue],b[X-Z]),j[D+6*k+ae+ue]=c.get(b[X-Z],b[$+ue])}D+=k*8}return j}static readCode(c,f,g){let y=0;for(let b=f;b<f+g;b++)y<<=1,c[b]&&(y|=1);return y}static readByte(c,f){let g=c.length-f;return g>=8?xt.readCode(c,f,8):xt.readCode(c,f,g)<<8-g}static convertBoolArrayToByteArray(c){let f=new Uint8Array((c.length+7)/8);for(let g=0;g<f.length;g++)f[g]=xt.readByte(c,8*g);return f}totalBitsInLayer(c,f){return((f?88:112)+16*c)*c}}xt.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],xt.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],xt.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],xt.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],xt.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class tt{constructor(){}static round(c){return c===NaN?0:c<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:c>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:c+(c<0?-.5:.5)|0}static distance(c,f,g,y){const b=c-g,j=f-y;return Math.sqrt(b*b+j*j)}static sum(c){let f=0;for(let g=0,y=c.length;g!==y;g++){const b=c[g];f+=b}return f}}class or{static floatToIntBits(c){return c}}or.MAX_VALUE=Number.MAX_SAFE_INTEGER;class it{constructor(c,f){this.x=c,this.y=f}getX(){return this.x}getY(){return this.y}equals(c){if(c instanceof it){const f=c;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*or.floatToIntBits(this.x)+or.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(c){const f=this.distance(c[0],c[1]),g=this.distance(c[1],c[2]),y=this.distance(c[0],c[2]);let b,j,E;if(g>=f&&g>=y?(j=c[0],b=c[1],E=c[2]):y>=g&&y>=f?(j=c[1],b=c[0],E=c[2]):(j=c[2],b=c[0],E=c[1]),this.crossProductZ(b,j,E)<0){const D=b;b=E,E=D}c[0]=b,c[1]=j,c[2]=E}static distance(c,f){return tt.distance(c.x,c.y,f.x,f.y)}static crossProductZ(c,f,g){const y=f.x,b=f.y;return(g.x-y)*(c.y-b)-(g.y-b)*(c.x-y)}}class fn{constructor(c,f){this.bits=c,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class $r extends fn{constructor(c,f,g,y,b){super(c,f),this.compact=g,this.nbDatablocks=y,this.nbLayers=b}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class lr{constructor(c,f,g,y){this.image=c,this.height=c.getHeight(),this.width=c.getWidth(),f==null&&(f=lr.INIT_SIZE),g==null&&(g=c.getWidth()/2|0),y==null&&(y=c.getHeight()/2|0);const b=f/2|0;if(this.leftInit=g-b,this.rightInit=g+b,this.upInit=y-b,this.downInit=y+b,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new J}detect(){let c=this.leftInit,f=this.rightInit,g=this.upInit,y=this.downInit,b=!1,j=!0,E=!1,D=!1,k=!1,$=!1,X=!1;const Z=this.width,ae=this.height;for(;j;){j=!1;let ue=!0;for(;(ue||!D)&&f<Z;)ue=this.containsBlackPoint(g,y,f,!1),ue?(f++,j=!0,D=!0):D||f++;if(f>=Z){b=!0;break}let fe=!0;for(;(fe||!k)&&y<ae;)fe=this.containsBlackPoint(c,f,y,!0),fe?(y++,j=!0,k=!0):k||y++;if(y>=ae){b=!0;break}let Se=!0;for(;(Se||!$)&&c>=0;)Se=this.containsBlackPoint(g,y,c,!1),Se?(c--,j=!0,$=!0):$||c--;if(c<0){b=!0;break}let Oe=!0;for(;(Oe||!X)&&g>=0;)Oe=this.containsBlackPoint(c,f,g,!0),Oe?(g--,j=!0,X=!0):X||g--;if(g<0){b=!0;break}j&&(E=!0)}if(!b&&E){const ue=f-c;let fe=null;for(let Xe=1;fe===null&&Xe<ue;Xe++)fe=this.getBlackPointOnSegment(c,y-Xe,c+Xe,y);if(fe==null)throw new J;let Se=null;for(let Xe=1;Se===null&&Xe<ue;Xe++)Se=this.getBlackPointOnSegment(c,g+Xe,c+Xe,g);if(Se==null)throw new J;let Oe=null;for(let Xe=1;Oe===null&&Xe<ue;Xe++)Oe=this.getBlackPointOnSegment(f,g+Xe,f-Xe,g);if(Oe==null)throw new J;let Ye=null;for(let Xe=1;Ye===null&&Xe<ue;Xe++)Ye=this.getBlackPointOnSegment(f,y-Xe,f-Xe,y);if(Ye==null)throw new J;return this.centerEdges(Ye,fe,Oe,Se)}else throw new J}getBlackPointOnSegment(c,f,g,y){const b=tt.round(tt.distance(c,f,g,y)),j=(g-c)/b,E=(y-f)/b,D=this.image;for(let k=0;k<b;k++){const $=tt.round(c+k*j),X=tt.round(f+k*E);if(D.get($,X))return new it($,X)}return null}centerEdges(c,f,g,y){const b=c.getX(),j=c.getY(),E=f.getX(),D=f.getY(),k=g.getX(),$=g.getY(),X=y.getX(),Z=y.getY(),ae=lr.CORR;return b<this.width/2?[new it(X-ae,Z+ae),new it(E+ae,D+ae),new it(k-ae,$-ae),new it(b+ae,j-ae)]:[new it(X+ae,Z+ae),new it(E+ae,D-ae),new it(k-ae,$+ae),new it(b-ae,j-ae)]}containsBlackPoint(c,f,g,y){const b=this.image;if(y){for(let j=c;j<=f;j++)if(b.get(j,g))return!0}else for(let j=c;j<=f;j++)if(b.get(g,j))return!0;return!1}}lr.INIT_SIZE=10,lr.CORR=1;class Ii{static checkAndNudgePoints(c,f){const g=c.getWidth(),y=c.getHeight();let b=!0;for(let j=0;j<f.length&&b;j+=2){const E=Math.floor(f[j]),D=Math.floor(f[j+1]);if(E<-1||E>g||D<-1||D>y)throw new J;b=!1,E===-1?(f[j]=0,b=!0):E===g&&(f[j]=g-1,b=!0),D===-1?(f[j+1]=0,b=!0):D===y&&(f[j+1]=y-1,b=!0)}b=!0;for(let j=f.length-2;j>=0&&b;j-=2){const E=Math.floor(f[j]),D=Math.floor(f[j+1]);if(E<-1||E>g||D<-1||D>y)throw new J;b=!1,E===-1?(f[j]=0,b=!0):E===g&&(f[j]=g-1,b=!0),D===-1?(f[j+1]=0,b=!0):D===y&&(f[j+1]=y-1,b=!0)}}}class vn{constructor(c,f,g,y,b,j,E,D,k){this.a11=c,this.a21=f,this.a31=g,this.a12=y,this.a22=b,this.a32=j,this.a13=E,this.a23=D,this.a33=k}static quadrilateralToQuadrilateral(c,f,g,y,b,j,E,D,k,$,X,Z,ae,ue,fe,Se){const Oe=vn.quadrilateralToSquare(c,f,g,y,b,j,E,D);return vn.squareToQuadrilateral(k,$,X,Z,ae,ue,fe,Se).times(Oe)}transformPoints(c){const f=c.length,g=this.a11,y=this.a12,b=this.a13,j=this.a21,E=this.a22,D=this.a23,k=this.a31,$=this.a32,X=this.a33;for(let Z=0;Z<f;Z+=2){const ae=c[Z],ue=c[Z+1],fe=b*ae+D*ue+X;c[Z]=(g*ae+j*ue+k)/fe,c[Z+1]=(y*ae+E*ue+$)/fe}}transformPointsWithValues(c,f){const g=this.a11,y=this.a12,b=this.a13,j=this.a21,E=this.a22,D=this.a23,k=this.a31,$=this.a32,X=this.a33,Z=c.length;for(let ae=0;ae<Z;ae++){const ue=c[ae],fe=f[ae],Se=b*ue+D*fe+X;c[ae]=(g*ue+j*fe+k)/Se,f[ae]=(y*ue+E*fe+$)/Se}}static squareToQuadrilateral(c,f,g,y,b,j,E,D){const k=c-g+b-E,$=f-y+j-D;if(k===0&&$===0)return new vn(g-c,b-g,c,y-f,j-y,f,0,0,1);{const X=g-b,Z=E-b,ae=y-j,ue=D-j,fe=X*ue-Z*ae,Se=(k*ue-Z*$)/fe,Oe=(X*$-k*ae)/fe;return new vn(g-c+Se*g,E-c+Oe*E,c,y-f+Se*y,D-f+Oe*D,f,Se,Oe,1)}}static quadrilateralToSquare(c,f,g,y,b,j,E,D){return vn.squareToQuadrilateral(c,f,g,y,b,j,E,D).buildAdjoint()}buildAdjoint(){return new vn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(c){return new vn(this.a11*c.a11+this.a21*c.a12+this.a31*c.a13,this.a11*c.a21+this.a21*c.a22+this.a31*c.a23,this.a11*c.a31+this.a21*c.a32+this.a31*c.a33,this.a12*c.a11+this.a22*c.a12+this.a32*c.a13,this.a12*c.a21+this.a22*c.a22+this.a32*c.a23,this.a12*c.a31+this.a22*c.a32+this.a32*c.a33,this.a13*c.a11+this.a23*c.a12+this.a33*c.a13,this.a13*c.a21+this.a23*c.a22+this.a33*c.a23,this.a13*c.a31+this.a23*c.a32+this.a33*c.a33)}}class zn extends Ii{sampleGrid(c,f,g,y,b,j,E,D,k,$,X,Z,ae,ue,fe,Se,Oe,Ye,Xe){const qe=vn.quadrilateralToQuadrilateral(y,b,j,E,D,k,$,X,Z,ae,ue,fe,Se,Oe,Ye,Xe);return this.sampleGridWithTransform(c,f,g,qe)}sampleGridWithTransform(c,f,g,y){if(f<=0||g<=0)throw new J;const b=new te(f,g),j=new Float32Array(2*f);for(let E=0;E<g;E++){const D=j.length,k=E+.5;for(let $=0;$<D;$+=2)j[$]=$/2+.5,j[$+1]=k;y.transformPoints(j),Ii.checkAndNudgePoints(c,j);try{for(let $=0;$<D;$+=2)c.get(Math.floor(j[$]),Math.floor(j[$+1]))&&b.set($/2,E)}catch{throw new J}}return b}}class cr{static setGridSampler(c){cr.gridSampler=c}static getInstance(){return cr.gridSampler}}cr.gridSampler=new zn;class Jt{constructor(c,f){this.x=c,this.y=f}toResultPoint(){return new it(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ka{constructor(c){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=c}detect(){return this.detectMirror(!1)}detectMirror(c){let f=this.getMatrixCenter(),g=this.getBullsEyeCorners(f);if(c){let j=g[0];g[0]=g[2],g[2]=j}this.extractParameters(g);let y=this.sampleGrid(this.image,g[this.shift%4],g[(this.shift+1)%4],g[(this.shift+2)%4],g[(this.shift+3)%4]),b=this.getMatrixCornerPoints(g);return new $r(y,b,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(c){if(!this.isValidPoint(c[0])||!this.isValidPoint(c[1])||!this.isValidPoint(c[2])||!this.isValidPoint(c[3]))throw new J;let f=2*this.nbCenterLayers,g=new Int32Array([this.sampleLine(c[0],c[1],f),this.sampleLine(c[1],c[2],f),this.sampleLine(c[2],c[3],f),this.sampleLine(c[3],c[0],f)]);this.shift=this.getRotation(g,f);let y=0;for(let j=0;j<4;j++){let E=g[(this.shift+j)%4];this.compact?(y<<=7,y+=E>>1&127):(y<<=10,y+=(E>>2&992)+(E>>1&31))}let b=this.getCorrectedParameterData(y,this.compact);this.compact?(this.nbLayers=(b>>6)+1,this.nbDataBlocks=(b&63)+1):(this.nbLayers=(b>>11)+1,this.nbDataBlocks=(b&2047)+1)}getRotation(c,f){let g=0;c.forEach((y,b,j)=>{let E=(y>>f-2<<1)+(y&1);g=(g<<3)+E}),g=((g&1)<<11)+(g>>1);for(let y=0;y<4;y++)if(R.bitCount(g^this.EXPECTED_CORNER_BITS[y])<=2)return y;throw new J}getCorrectedParameterData(c,f){let g,y;f?(g=7,y=2):(g=10,y=4);let b=g-y,j=new Int32Array(g);for(let D=g-1;D>=0;--D)j[D]=c&15,c>>=4;try{new yt(We.AZTEC_PARAM).decode(j,b)}catch{throw new J}let E=0;for(let D=0;D<y;D++)E=(E<<4)+j[D];return E}getBullsEyeCorners(c){let f=c,g=c,y=c,b=c,j=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let X=this.getFirstDifferent(f,j,1,-1),Z=this.getFirstDifferent(g,j,1,1),ae=this.getFirstDifferent(y,j,-1,1),ue=this.getFirstDifferent(b,j,-1,-1);if(this.nbCenterLayers>2){let fe=this.distancePoint(ue,X)*this.nbCenterLayers/(this.distancePoint(b,f)*(this.nbCenterLayers+2));if(fe<.75||fe>1.25||!this.isWhiteOrBlackRectangle(X,Z,ae,ue))break}f=X,g=Z,y=ae,b=ue,j=!j}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new J;this.compact=this.nbCenterLayers===5;let E=new it(f.getX()+.5,f.getY()-.5),D=new it(g.getX()+.5,g.getY()+.5),k=new it(y.getX()-.5,y.getY()+.5),$=new it(b.getX()-.5,b.getY()-.5);return this.expandSquare([E,D,k,$],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let c,f,g,y;try{let E=new lr(this.image).detect();c=E[0],f=E[1],g=E[2],y=E[3]}catch{let D=this.image.getWidth()/2,k=this.image.getHeight()/2;c=this.getFirstDifferent(new Jt(D+7,k-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Jt(D+7,k+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Jt(D-7,k+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Jt(D-7,k-7),!1,-1,-1).toResultPoint()}let b=tt.round((c.getX()+y.getX()+f.getX()+g.getX())/4),j=tt.round((c.getY()+y.getY()+f.getY()+g.getY())/4);try{let E=new lr(this.image,15,b,j).detect();c=E[0],f=E[1],g=E[2],y=E[3]}catch{c=this.getFirstDifferent(new Jt(b+7,j-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Jt(b+7,j+7),!1,1,1).toResultPoint(),g=this.getFirstDifferent(new Jt(b-7,j+7),!1,-1,1).toResultPoint(),y=this.getFirstDifferent(new Jt(b-7,j-7),!1,-1,-1).toResultPoint()}return b=tt.round((c.getX()+y.getX()+f.getX()+g.getX())/4),j=tt.round((c.getY()+y.getY()+f.getY()+g.getY())/4),new Jt(b,j)}getMatrixCornerPoints(c){return this.expandSquare(c,2*this.nbCenterLayers,this.getDimension())}sampleGrid(c,f,g,y,b){let j=cr.getInstance(),E=this.getDimension(),D=E/2-this.nbCenterLayers,k=E/2+this.nbCenterLayers;return j.sampleGrid(c,E,E,D,D,k,D,k,k,D,k,f.getX(),f.getY(),g.getX(),g.getY(),y.getX(),y.getY(),b.getX(),b.getY())}sampleLine(c,f,g){let y=0,b=this.distanceResultPoint(c,f),j=b/g,E=c.getX(),D=c.getY(),k=j*(f.getX()-c.getX())/b,$=j*(f.getY()-c.getY())/b;for(let X=0;X<g;X++)this.image.get(tt.round(E+X*k),tt.round(D+X*$))&&(y|=1<<g-X-1);return y}isWhiteOrBlackRectangle(c,f,g,y){let b=3;c=new Jt(c.getX()-b,c.getY()+b),f=new Jt(f.getX()-b,f.getY()-b),g=new Jt(g.getX()+b,g.getY()-b),y=new Jt(y.getX()+b,y.getY()+b);let j=this.getColor(y,c);if(j===0)return!1;let E=this.getColor(c,f);return E!==j||(E=this.getColor(f,g),E!==j)?!1:(E=this.getColor(g,y),E===j)}getColor(c,f){let g=this.distancePoint(c,f),y=(f.getX()-c.getX())/g,b=(f.getY()-c.getY())/g,j=0,E=c.getX(),D=c.getY(),k=this.image.get(c.getX(),c.getY()),$=Math.ceil(g);for(let Z=0;Z<$;Z++)E+=y,D+=b,this.image.get(tt.round(E),tt.round(D))!==k&&j++;let X=j/g;return X>.1&&X<.9?0:X<=.1===k?1:-1}getFirstDifferent(c,f,g,y){let b=c.getX()+g,j=c.getY()+y;for(;this.isValid(b,j)&&this.image.get(b,j)===f;)b+=g,j+=y;for(b-=g,j-=y;this.isValid(b,j)&&this.image.get(b,j)===f;)b+=g;for(b-=g;this.isValid(b,j)&&this.image.get(b,j)===f;)j+=y;return j-=y,new Jt(b,j)}expandSquare(c,f,g){let y=g/(2*f),b=c[0].getX()-c[2].getX(),j=c[0].getY()-c[2].getY(),E=(c[0].getX()+c[2].getX())/2,D=(c[0].getY()+c[2].getY())/2,k=new it(E+y*b,D+y*j),$=new it(E-y*b,D-y*j);b=c[1].getX()-c[3].getX(),j=c[1].getY()-c[3].getY(),E=(c[1].getX()+c[3].getX())/2,D=(c[1].getY()+c[3].getY())/2;let X=new it(E+y*b,D+y*j),Z=new it(E-y*b,D-y*j);return[k,X,$,Z]}isValid(c,f){return c>=0&&c<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(c){let f=tt.round(c.getX()),g=tt.round(c.getY());return this.isValid(f,g)}distancePoint(c,f){return tt.distance(c.getX(),c.getY(),f.getX(),f.getY())}distanceResultPoint(c,f){return tt.distance(c.getX(),c.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(R.truncDivision(this.nbLayers-4,8)+1)+15}}class Bs{decode(c,f=null){let g=null,y=new ka(c.getBlackMatrix()),b=null,j=null;try{let $=y.detectMirror(!1);b=$.getPoints(),this.reportFoundResultPoints(f,b),j=new xt().decode($)}catch($){g=$}if(j==null)try{let $=y.detectMirror(!0);b=$.getPoints(),this.reportFoundResultPoints(f,b),j=new xt().decode($)}catch($){throw g??$}let E=new Re(j.getText(),j.getRawBytes(),j.getNumBits(),b,le.AZTEC,_.currentTimeMillis()),D=j.getByteSegments();D!=null&&E.putMetadata(je.BYTE_SEGMENTS,D);let k=j.getECLevel();return k!=null&&E.putMetadata(je.ERROR_CORRECTION_LEVEL,k),E}reportFoundResultPoints(c,f){if(c!=null){let g=c.get(L.NEED_RESULT_POINT_CALLBACK);g!=null&&f.forEach((y,b,j)=>{g.foundPossibleResultPoint(y)})}}reset(){}}class us extends he{constructor(c=500){super(new Bs,c)}}class nn{decode(c,f){try{return this.doDecode(c,f)}catch{if(f&&f.get(L.TRY_HARDER)===!0&&c.isRotateSupported()){const b=c.rotateCounterClockwise(),j=this.doDecode(b,f),E=j.getResultMetadata();let D=270;E!==null&&E.get(je.ORIENTATION)===!0&&(D=D+E.get(je.ORIENTATION)%360),j.putMetadata(je.ORIENTATION,D);const k=j.getResultPoints();if(k!==null){const $=b.getHeight();for(let X=0;X<k.length;X++)k[X]=new it($-k[X].getY()-1,k[X].getX())}return j}else throw new J}}reset(){}doDecode(c,f){const g=c.getWidth(),y=c.getHeight();let b=new U(g);const j=f&&f.get(L.TRY_HARDER)===!0,E=Math.max(1,y>>(j?8:5));let D;j?D=y:D=15;const k=Math.trunc(y/2);for(let $=0;$<D;$++){const X=Math.trunc(($+1)/2),Z=($&1)===0,ae=k+E*(Z?X:-X);if(ae<0||ae>=y)break;try{b=c.getBlackRow(ae,b)}catch{continue}for(let ue=0;ue<2;ue++){if(ue===1&&(b.reverse(),f&&f.get(L.NEED_RESULT_POINT_CALLBACK)===!0)){const fe=new Map;f.forEach((Se,Oe)=>fe.set(Oe,Se)),fe.delete(L.NEED_RESULT_POINT_CALLBACK),f=fe}try{const fe=this.decodeRow(ae,b,f);if(ue===1){fe.putMetadata(je.ORIENTATION,180);const Se=fe.getResultPoints();Se!==null&&(Se[0]=new it(g-Se[0].getX()-1,Se[0].getY()),Se[1]=new it(g-Se[1].getX()-1,Se[1].getY()))}return fe}catch{}}}throw new J}static recordPattern(c,f,g){const y=g.length;for(let k=0;k<y;k++)g[k]=0;const b=c.getSize();if(f>=b)throw new J;let j=!c.get(f),E=0,D=f;for(;D<b;){if(c.get(D)!==j)g[E]++;else{if(++E===y)break;g[E]=1,j=!j}D++}if(!(E===y||E===y-1&&D===b))throw new J}static recordPatternInReverse(c,f,g){let y=g.length,b=c.get(f);for(;f>0&&y>=0;)c.get(--f)!==b&&(y--,b=!b);if(y>=0)throw new J;nn.recordPattern(c,f+1,g)}static patternMatchVariance(c,f,g){const y=c.length;let b=0,j=0;for(let k=0;k<y;k++)b+=c[k],j+=f[k];if(b<j)return Number.POSITIVE_INFINITY;const E=b/j;g*=E;let D=0;for(let k=0;k<y;k++){const $=c[k],X=f[k]*E,Z=$>X?$-X:X-$;if(Z>g)return Number.POSITIVE_INFINITY;D+=Z}return D/b}}class Qe extends nn{static findStartPattern(c){const f=c.getSize(),g=c.getNextSet(0);let y=0,b=Int32Array.from([0,0,0,0,0,0]),j=g,E=!1;const D=6;for(let k=g;k<f;k++)if(c.get(k)!==E)b[y]++;else{if(y===D-1){let $=Qe.MAX_AVG_VARIANCE,X=-1;for(let Z=Qe.CODE_START_A;Z<=Qe.CODE_START_C;Z++){const ae=nn.patternMatchVariance(b,Qe.CODE_PATTERNS[Z],Qe.MAX_INDIVIDUAL_VARIANCE);ae<$&&($=ae,X=Z)}if(X>=0&&c.isRange(Math.max(0,j-(k-j)/2),j,!1))return Int32Array.from([j,k,X]);j+=b[0]+b[1],b=b.slice(2,b.length-1),b[y-1]=0,b[y]=0,y--}else y++;b[y]=1,E=!E}throw new J}static decodeCode(c,f,g){nn.recordPattern(c,g,f);let y=Qe.MAX_AVG_VARIANCE,b=-1;for(let j=0;j<Qe.CODE_PATTERNS.length;j++){const E=Qe.CODE_PATTERNS[j],D=this.patternMatchVariance(f,E,Qe.MAX_INDIVIDUAL_VARIANCE);D<y&&(y=D,b=j)}if(b>=0)return b;throw new J}decodeRow(c,f,g){const y=g&&g.get(L.ASSUME_GS1)===!0,b=Qe.findStartPattern(f),j=b[2];let E=0;const D=new Uint8Array(20);D[E++]=j;let k;switch(j){case Qe.CODE_START_A:k=Qe.CODE_CODE_A;break;case Qe.CODE_START_B:k=Qe.CODE_CODE_B;break;case Qe.CODE_START_C:k=Qe.CODE_CODE_C;break;default:throw new F}let $=!1,X=!1,Z="",ae=b[0],ue=b[1];const fe=Int32Array.from([0,0,0,0,0,0]);let Se=0,Oe=0,Ye=j,Xe=0,qe=!0,kt=!1,Rt=!1;for(;!$;){const wo=X;switch(X=!1,Se=Oe,Oe=Qe.decodeCode(f,fe,ue),D[E++]=Oe,Oe!==Qe.CODE_STOP&&(qe=!0),Oe!==Qe.CODE_STOP&&(Xe++,Ye+=Xe*Oe),ae=ue,ue+=fe.reduce((Fa,Lg)=>Fa+Lg,0),Oe){case Qe.CODE_START_A:case Qe.CODE_START_B:case Qe.CODE_START_C:throw new F}switch(k){case Qe.CODE_CODE_A:if(Oe<64)Rt===kt?Z+=String.fromCharCode(32+Oe):Z+=String.fromCharCode(32+Oe+128),Rt=!1;else if(Oe<96)Rt===kt?Z+=String.fromCharCode(Oe-64):Z+=String.fromCharCode(Oe+64),Rt=!1;else switch(Oe!==Qe.CODE_STOP&&(qe=!1),Oe){case Qe.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Qe.CODE_FNC_2:case Qe.CODE_FNC_3:break;case Qe.CODE_FNC_4_A:!kt&&Rt?(kt=!0,Rt=!1):kt&&Rt?(kt=!1,Rt=!1):Rt=!0;break;case Qe.CODE_SHIFT:X=!0,k=Qe.CODE_CODE_B;break;case Qe.CODE_CODE_B:k=Qe.CODE_CODE_B;break;case Qe.CODE_CODE_C:k=Qe.CODE_CODE_C;break;case Qe.CODE_STOP:$=!0;break}break;case Qe.CODE_CODE_B:if(Oe<96)Rt===kt?Z+=String.fromCharCode(32+Oe):Z+=String.fromCharCode(32+Oe+128),Rt=!1;else switch(Oe!==Qe.CODE_STOP&&(qe=!1),Oe){case Qe.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Qe.CODE_FNC_2:case Qe.CODE_FNC_3:break;case Qe.CODE_FNC_4_B:!kt&&Rt?(kt=!0,Rt=!1):kt&&Rt?(kt=!1,Rt=!1):Rt=!0;break;case Qe.CODE_SHIFT:X=!0,k=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_A:k=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_C:k=Qe.CODE_CODE_C;break;case Qe.CODE_STOP:$=!0;break}break;case Qe.CODE_CODE_C:if(Oe<100)Oe<10&&(Z+="0"),Z+=Oe;else switch(Oe!==Qe.CODE_STOP&&(qe=!1),Oe){case Qe.CODE_FNC_1:y&&(Z.length===0?Z+="]C1":Z+="");break;case Qe.CODE_CODE_A:k=Qe.CODE_CODE_A;break;case Qe.CODE_CODE_B:k=Qe.CODE_CODE_B;break;case Qe.CODE_STOP:$=!0;break}break}wo&&(k=k===Qe.CODE_CODE_A?Qe.CODE_CODE_B:Qe.CODE_CODE_A)}const Ai=ue-ae;if(ue=f.getNextUnset(ue),!f.isRange(ue,Math.min(f.getSize(),ue+(ue-ae)/2),!1))throw new J;if(Ye-=Xe*Se,Ye%103!==Se)throw new A;const ba=Z.length;if(ba===0)throw new J;ba>0&&qe&&(k===Qe.CODE_CODE_C?Z=Z.substring(0,ba-2):Z=Z.substring(0,ba-1));const Ui=(b[1]+b[0])/2,_n=ae+Ai/2,ii=D.length,zi=new Uint8Array(ii);for(let wo=0;wo<ii;wo++)zi[wo]=D[wo];const sl=[new it(Ui,c),new it(_n,c)];return new Re(Z,zi,0,sl,le.CODE_128,new Date().getTime())}}Qe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Qe.MAX_AVG_VARIANCE=.25,Qe.MAX_INDIVIDUAL_VARIANCE=.7,Qe.CODE_SHIFT=98,Qe.CODE_CODE_C=99,Qe.CODE_CODE_B=100,Qe.CODE_CODE_A=101,Qe.CODE_FNC_1=102,Qe.CODE_FNC_2=97,Qe.CODE_FNC_3=96,Qe.CODE_FNC_4_A=101,Qe.CODE_FNC_4_B=100,Qe.CODE_START_A=103,Qe.CODE_START_B=104,Qe.CODE_START_C=105,Qe.CODE_STOP=106;class hn extends nn{constructor(c=!1,f=!1){super(),this.usingCheckDigit=c,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(c,f,g){let y=this.counters;y.fill(0),this.decodeRowResult="";let b=hn.findAsteriskPattern(f,y),j=f.getNextSet(b[1]),E=f.getSize(),D,k;do{hn.recordPattern(f,j,y);let fe=hn.toNarrowWidePattern(y);if(fe<0)throw new J;D=hn.patternToChar(fe),this.decodeRowResult+=D,k=j;for(let Se of y)j+=Se;j=f.getNextSet(j)}while(D!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let $=0;for(let fe of y)$+=fe;let X=j-k-$;if(j!==E&&X*2<$)throw new J;if(this.usingCheckDigit){let fe=this.decodeRowResult.length-1,Se=0;for(let Oe=0;Oe<fe;Oe++)Se+=hn.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Oe));if(this.decodeRowResult.charAt(fe)!==hn.ALPHABET_STRING.charAt(Se%43))throw new A;this.decodeRowResult=this.decodeRowResult.substring(0,fe)}if(this.decodeRowResult.length===0)throw new J;let Z;this.extendedMode?Z=hn.decodeExtended(this.decodeRowResult):Z=this.decodeRowResult;let ae=(b[1]+b[0])/2,ue=k+$/2;return new Re(Z,null,0,[new it(ae,c),new it(ue,c)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(c,f){let g=c.getSize(),y=c.getNextSet(0),b=0,j=y,E=!1,D=f.length;for(let k=y;k<g;k++)if(c.get(k)!==E)f[b]++;else{if(b===D-1){if(this.toNarrowWidePattern(f)===hn.ASTERISK_ENCODING&&c.isRange(Math.max(0,j-Math.floor((k-j)/2)),j,!1))return[j,k];j+=f[0]+f[1],f.copyWithin(0,2,2+b-1),f[b-1]=0,f[b]=0,b--}else b++;f[b]=1,E=!E}throw new J}static toNarrowWidePattern(c){let f=c.length,g=0,y;do{let b=2147483647;for(let D of c)D<b&&D>g&&(b=D);g=b,y=0;let j=0,E=0;for(let D=0;D<f;D++){let k=c[D];k>g&&(E|=1<<f-1-D,y++,j+=k)}if(y===3){for(let D=0;D<f&&y>0;D++){let k=c[D];if(k>g&&(y--,k*2>=j))return-1}return E}}while(y>3);return-1}static patternToChar(c){for(let f=0;f<hn.CHARACTER_ENCODINGS.length;f++)if(hn.CHARACTER_ENCODINGS[f]===c)return hn.ALPHABET_STRING.charAt(f);if(c===hn.ASTERISK_ENCODING)return"*";throw new J}static decodeExtended(c){let f=c.length,g="";for(let y=0;y<f;y++){let b=c.charAt(y);if(b==="+"||b==="$"||b==="%"||b==="/"){let j=c.charAt(y+1),E="\0";switch(b){case"+":if(j>="A"&&j<="Z")E=String.fromCharCode(j.charCodeAt(0)+32);else throw new F;break;case"$":if(j>="A"&&j<="Z")E=String.fromCharCode(j.charCodeAt(0)-64);else throw new F;break;case"%":if(j>="A"&&j<="E")E=String.fromCharCode(j.charCodeAt(0)-38);else if(j>="F"&&j<="J")E=String.fromCharCode(j.charCodeAt(0)-11);else if(j>="K"&&j<="O")E=String.fromCharCode(j.charCodeAt(0)+16);else if(j>="P"&&j<="T")E=String.fromCharCode(j.charCodeAt(0)+43);else if(j==="U")E="\0";else if(j==="V")E="@";else if(j==="W")E="`";else if(j==="X"||j==="Y"||j==="Z")E="";else throw new F;break;case"/":if(j>="A"&&j<="O")E=String.fromCharCode(j.charCodeAt(0)-32);else if(j==="Z")E=":";else throw new F;break}g+=E,y++}else g+=b}return g}}hn.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",hn.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],hn.ASTERISK_ENCODING=148;class rn extends nn{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(c,f,g){let y=this.decodeStart(f),b=this.decodeEnd(f),j=new Q;rn.decodeMiddle(f,y[1],b[0],j);let E=j.toString(),D=null;g!=null&&(D=g.get(L.ALLOWED_LENGTHS)),D==null&&(D=rn.DEFAULT_ALLOWED_LENGTHS);let k=E.length,$=!1,X=0;for(let ue of D){if(k===ue){$=!0;break}ue>X&&(X=ue)}if(!$&&k>X&&($=!0),!$)throw new F;const Z=[new it(y[1],c),new it(b[0],c)];return new Re(E,null,0,Z,le.ITF,new Date().getTime())}static decodeMiddle(c,f,g,y){let b=new Int32Array(10),j=new Int32Array(5),E=new Int32Array(5);for(b.fill(0),j.fill(0),E.fill(0);f<g;){nn.recordPattern(c,f,b);for(let k=0;k<5;k++){let $=2*k;j[k]=b[$],E[k]=b[$+1]}let D=rn.decodeDigit(j);y.append(D.toString()),D=this.decodeDigit(E),y.append(D.toString()),b.forEach(function(k){f+=k})}}decodeStart(c){let f=rn.skipWhiteSpace(c),g=rn.findGuardPattern(c,f,rn.START_PATTERN);return this.narrowLineWidth=(g[1]-g[0])/4,this.validateQuietZone(c,g[0]),g}validateQuietZone(c,f){let g=this.narrowLineWidth*10;g=g<f?g:f;for(let y=f-1;g>0&&y>=0&&!c.get(y);y--)g--;if(g!==0)throw new J}static skipWhiteSpace(c){const f=c.getSize(),g=c.getNextSet(0);if(g===f)throw new J;return g}decodeEnd(c){c.reverse();try{let f=rn.skipWhiteSpace(c),g;try{g=rn.findGuardPattern(c,f,rn.END_PATTERN_REVERSED[0])}catch(b){b instanceof J&&(g=rn.findGuardPattern(c,f,rn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(c,g[0]);let y=g[0];return g[0]=c.getSize()-g[1],g[1]=c.getSize()-y,g}finally{c.reverse()}}static findGuardPattern(c,f,g){let y=g.length,b=new Int32Array(y),j=c.getSize(),E=!1,D=0,k=f;b.fill(0);for(let $=f;$<j;$++)if(c.get($)!==E)b[D]++;else{if(D===y-1){if(nn.patternMatchVariance(b,g,rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return[k,$];k+=b[0]+b[1],_.arraycopy(b,2,b,0,D-1),b[D-1]=0,b[D]=0,D--}else D++;b[D]=1,E=!E}throw new J}static decodeDigit(c){let f=rn.MAX_AVG_VARIANCE,g=-1,y=rn.PATTERNS.length;for(let b=0;b<y;b++){let j=rn.PATTERNS[b],E=nn.patternMatchVariance(c,j,rn.MAX_INDIVIDUAL_VARIANCE);E<f?(f=E,g=b):E===f&&(g=-1)}if(g>=0)return g%10;throw new J}}rn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],rn.MAX_AVG_VARIANCE=.38,rn.MAX_INDIVIDUAL_VARIANCE=.5,rn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],rn.START_PATTERN=Int32Array.from([1,1,1,1]),rn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class wn extends nn{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(c){let f=!1,g,y=0,b=Int32Array.from([0,0,0]);for(;!f;){b=Int32Array.from([0,0,0]),g=wn.findGuardPattern(c,y,!1,this.START_END_PATTERN,b);let j=g[0];y=g[1];let E=j-(y-j);E>=0&&(f=c.isRange(E,j,!1))}return g}static checkChecksum(c){return wn.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let f=c.length;if(f===0)return!1;let g=parseInt(c.charAt(f-1),10);return wn.getStandardUPCEANChecksum(c.substring(0,f-1))===g}static getStandardUPCEANChecksum(c){let f=c.length,g=0;for(let y=f-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;g+=b}g*=3;for(let y=f-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;g+=b}return(1e3-g)%10}static decodeEnd(c,f){return wn.findGuardPattern(c,f,!1,wn.START_END_PATTERN,new Int32Array(wn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(c,f,g,y){return this.findGuardPattern(c,f,g,y,new Int32Array(y.length))}static findGuardPattern(c,f,g,y,b){let j=c.getSize();f=g?c.getNextUnset(f):c.getNextSet(f);let E=0,D=f,k=y.length,$=g;for(let X=f;X<j;X++)if(c.get(X)!==$)b[E]++;else{if(E===k-1){if(nn.patternMatchVariance(b,y,wn.MAX_INDIVIDUAL_VARIANCE)<wn.MAX_AVG_VARIANCE)return Int32Array.from([D,X]);D+=b[0]+b[1];let Z=b.slice(2,b.length-1);for(let ae=0;ae<E-1;ae++)b[ae]=Z[ae];b[E-1]=0,b[E]=0,E--}else E++;b[E]=1,$=!$}throw new J}static decodeDigit(c,f,g,y){this.recordPattern(c,g,f);let b=this.MAX_AVG_VARIANCE,j=-1,E=y.length;for(let D=0;D<E;D++){let k=y[D],$=nn.patternMatchVariance(f,k,wn.MAX_INDIVIDUAL_VARIANCE);$<b&&(b=$,j=D)}if(j>=0)return j;throw new J}}wn.MAX_AVG_VARIANCE=.48,wn.MAX_INDIVIDUAL_VARIANCE=.7,wn.START_END_PATTERN=Int32Array.from([1,1,1]),wn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),wn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),wn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Fs{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,f,g){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(f,g,y),j=y.toString(),E=Fs.parseExtensionString(j),D=[new it((g[0]+g[1])/2,c),new it(b,c)],k=new Re(j,null,0,D,le.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&k.putAllMetadata(E),k}decodeMiddle(c,f,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),j=f[1],E=0;for(let k=0;k<5&&j<b;k++){let $=wn.decodeDigit(c,y,j,wn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+$%10);for(let X of y)j+=X;$>=10&&(E|=1<<4-k),k!==4&&(j=c.getNextSet(j),j=c.getNextUnset(j))}if(g.length!==5)throw new J;let D=this.determineCheckDigit(E);if(Fs.extensionChecksum(g.toString())!==D)throw new J;return j}static extensionChecksum(c){let f=c.length,g=0;for(let y=f-2;y>=0;y-=2)g+=c.charAt(y).charCodeAt(0)-48;g*=3;for(let y=f-1;y>=0;y-=2)g+=c.charAt(y).charCodeAt(0)-48;return g*=3,g%10}determineCheckDigit(c){for(let f=0;f<10;f++)if(c===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new J}static parseExtensionString(c){if(c.length!==5)return null;let f=Fs.parseExtension5String(c);return f==null?null:new Map([[je.SUGGESTED_PRICE,f]])}static parseExtension5String(c){let f;switch(c.charAt(0)){case"0":f="£";break;case"5":f="$";break;case"9":switch(c){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let g=parseInt(c.substring(1)),y=(g/100).toString(),b=g%100,j=b<10?"0"+b:b.toString();return f+y+"."+j}}class ea{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(c,f,g){let y=this.decodeRowStringBuffer,b=this.decodeMiddle(f,g,y),j=y.toString(),E=ea.parseExtensionString(j),D=[new it((g[0]+g[1])/2,c),new it(b,c)],k=new Re(j,null,0,D,le.UPC_EAN_EXTENSION,new Date().getTime());return E!=null&&k.putAllMetadata(E),k}decodeMiddle(c,f,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),j=f[1],E=0;for(let D=0;D<2&&j<b;D++){let k=wn.decodeDigit(c,y,j,wn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+k%10);for(let $ of y)j+=$;k>=10&&(E|=1<<1-D),D!==1&&(j=c.getNextSet(j),j=c.getNextUnset(j))}if(g.length!==2)throw new J;if(parseInt(g.toString())%4!==E)throw new J;return j}static parseExtensionString(c){return c.length!==2?null:new Map([[je.ISSUE_NUMBER,parseInt(c)]])}}class mu{static decodeRow(c,f,g){let y=wn.findGuardPattern(f,g,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Fs().decodeRow(c,f,y)}catch{return new ea().decodeRow(c,f,y)}}}mu.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Gt extends wn{constructor(){super(),this.decodeRowStringBuffer="",Gt.L_AND_G_PATTERNS=Gt.L_PATTERNS.map(c=>Int32Array.from(c));for(let c=10;c<20;c++){let f=Gt.L_PATTERNS[c-10],g=new Int32Array(f.length);for(let y=0;y<f.length;y++)g[y]=f[f.length-y-1];Gt.L_AND_G_PATTERNS[c]=g}}decodeRow(c,f,g){let y=Gt.findStartGuardPattern(f),b=g==null?null:g.get(L.NEED_RESULT_POINT_CALLBACK);if(b!=null){const qe=new it((y[0]+y[1])/2,c);b.foundPossibleResultPoint(qe)}let j=this.decodeMiddle(f,y,this.decodeRowStringBuffer),E=j.rowOffset,D=j.resultString;if(b!=null){const qe=new it(E,c);b.foundPossibleResultPoint(qe)}let k=this.decodeEnd(f,E);if(b!=null){const qe=new it((k[0]+k[1])/2,c);b.foundPossibleResultPoint(qe)}let $=k[1],X=$+($-k[0]);if(X>=f.getSize()||!f.isRange($,X,!1))throw new J;let Z=D.toString();if(Z.length<8)throw new F;if(!Gt.checkChecksum(Z))throw new A;let ae=(y[1]+y[0])/2,ue=(k[1]+k[0])/2,fe=this.getBarcodeFormat(),Se=[new it(ae,c),new it(ue,c)],Oe=new Re(Z,null,0,Se,fe,new Date().getTime()),Ye=0;try{let qe=mu.decodeRow(c,f,k[1]);Oe.putMetadata(je.UPC_EAN_EXTENSION,qe.getText()),Oe.putAllMetadata(qe.getResultMetadata()),Oe.addResultPoints(qe.getResultPoints()),Ye=qe.getText().length}catch{}let Xe=g==null?null:g.get(L.ALLOWED_EAN_EXTENSIONS);if(Xe!=null){let qe=!1;for(let kt in Xe)if(Ye.toString()===kt){qe=!0;break}if(!qe)throw new J}return Oe}decodeEnd(c,f){return Gt.findGuardPattern(c,f,!1,Gt.START_END_PATTERN,new Int32Array(Gt.START_END_PATTERN.length).fill(0))}static checkChecksum(c){return Gt.checkStandardUPCEANChecksum(c)}static checkStandardUPCEANChecksum(c){let f=c.length;if(f===0)return!1;let g=parseInt(c.charAt(f-1),10);return Gt.getStandardUPCEANChecksum(c.substring(0,f-1))===g}static getStandardUPCEANChecksum(c){let f=c.length,g=0;for(let y=f-1;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;g+=b}g*=3;for(let y=f-2;y>=0;y-=2){let b=c.charAt(y).charCodeAt(0)-48;if(b<0||b>9)throw new F;g+=b}return(1e3-g)%10}}class ki extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,f,g){let y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),j=f[1],E=0;for(let k=0;k<6&&j<b;k++){let $=Gt.decodeDigit(c,y,j,Gt.L_AND_G_PATTERNS);g+=String.fromCharCode(48+$%10);for(let X of y)j+=X;$>=10&&(E|=1<<5-k)}g=ki.determineFirstDigit(g,E),j=Gt.findGuardPattern(c,j,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let k=0;k<6&&j<b;k++){let $=Gt.decodeDigit(c,y,j,Gt.L_PATTERNS);g+=String.fromCharCode(48+$);for(let X of y)j+=X}return{rowOffset:j,resultString:g}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(c,f){for(let g=0;g<10;g++)if(f===this.FIRST_DIGIT_ENCODINGS[g])return c=String.fromCharCode(48+g)+c,c;throw new J}}ki.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class gu extends Gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(c,f,g){const y=this.decodeMiddleCounters;y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),j=f[1];for(let D=0;D<4&&j<b;D++){let k=Gt.decodeDigit(c,y,j,Gt.L_PATTERNS);g+=String.fromCharCode(48+k);for(let $ of y)j+=$}j=Gt.findGuardPattern(c,j,!0,Gt.MIDDLE_PATTERN,new Int32Array(Gt.MIDDLE_PATTERN.length).fill(0))[1];for(let D=0;D<4&&j<b;D++){let k=Gt.decodeDigit(c,y,j,Gt.L_PATTERNS);g+=String.fromCharCode(48+k);for(let $ of y)j+=$}return{rowOffset:j,resultString:g}}getBarcodeFormat(){return le.EAN_8}}class Mt extends Gt{constructor(){super(...arguments),this.ean13Reader=new ki}getBarcodeFormat(){return le.UPC_A}decode(c,f){return this.maybeReturnResult(this.ean13Reader.decode(c))}decodeRow(c,f,g){return this.maybeReturnResult(this.ean13Reader.decodeRow(c,f,g))}decodeMiddle(c,f,g){return this.ean13Reader.decodeMiddle(c,f,g)}maybeReturnResult(c){let f=c.getText();if(f.charAt(0)==="0"){let g=new Re(f.substring(1),null,null,c.getResultPoints(),le.UPC_A);return c.getResultMetadata()!=null&&g.putAllMetadata(c.getResultMetadata()),g}else throw new J}reset(){this.ean13Reader.reset()}}class dn extends Gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(c,f,g){const y=this.decodeMiddleCounters.map(k=>k);y[0]=0,y[1]=0,y[2]=0,y[3]=0;const b=c.getSize();let j=f[1],E=0;for(let k=0;k<6&&j<b;k++){const $=dn.decodeDigit(c,y,j,dn.L_AND_G_PATTERNS);g+=String.fromCharCode(48+$%10);for(let X of y)j+=X;$>=10&&(E|=1<<5-k)}let D=dn.determineNumSysAndCheckDigit(g,E);return{rowOffset:j,resultString:D}}decodeEnd(c,f){return dn.findGuardPatternWithoutCounters(c,f,!0,dn.MIDDLE_END_PATTERN)}checkChecksum(c){return Gt.checkChecksum(dn.convertUPCEtoUPCA(c))}static determineNumSysAndCheckDigit(c,f){for(let g=0;g<=1;g++)for(let y=0;y<10;y++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[g][y]){let b=String.fromCharCode(48+g),j=String.fromCharCode(48+y);return b+c+j}throw J.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(c){const f=c.slice(1,7).split("").map(b=>b.charCodeAt(0)),g=new Q;g.append(c.charAt(0));let y=f[5];switch(y){case 0:case 1:case 2:g.appendChars(f,0,2),g.append(y),g.append("0000"),g.appendChars(f,2,3);break;case 3:g.appendChars(f,0,3),g.append("00000"),g.appendChars(f,3,2);break;case 4:g.appendChars(f,0,4),g.append("00000"),g.append(f[4]);break;default:g.appendChars(f,0,5),g.append("0000"),g.append(y);break}return c.length>=8&&g.append(c.charAt(7)),g.toString()}}dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Qn extends nn{constructor(c){super();let f=c==null?null:c.get(L.POSSIBLE_FORMATS),g=[];r(f)?(g.push(new ki),g.push(new Mt),g.push(new gu),g.push(new dn)):(f.indexOf(le.EAN_13)>-1&&g.push(new ki),f.indexOf(le.UPC_A)>-1&&g.push(new Mt),f.indexOf(le.EAN_8)>-1&&g.push(new gu),f.indexOf(le.UPC_E)>-1&&g.push(new dn)),this.readers=g}decodeRow(c,f,g){for(let y of this.readers)try{const b=y.decodeRow(c,f,g),j=b.getBarcodeFormat()===le.EAN_13&&b.getText().charAt(0)==="0",E=g==null?null:g.get(L.POSSIBLE_FORMATS),D=E==null||E.includes(le.UPC_A);if(j&&D){const k=b.getRawBytes(),$=new Re(b.getText().substring(1),k,k?k.length:null,b.getResultPoints(),le.UPC_A);return $.putAllMetadata(b.getResultMetadata()),$}return b}catch{}throw new J}reset(){for(let c of this.readers)c.reset()}}class sn extends nn{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(c,f){for(let g=0;g<f.length;g++)if(nn.patternMatchVariance(c,f[g],sn.MAX_INDIVIDUAL_VARIANCE)<sn.MAX_AVG_VARIANCE)return g;throw new J}static count(c){return tt.sum(new Int32Array(c))}static increment(c,f){let g=0,y=f[0];for(let b=1;b<c.length;b++)f[b]>y&&(y=f[b],g=b);c[g]++}static decrement(c,f){let g=0,y=f[0];for(let b=1;b<c.length;b++)f[b]<y&&(y=f[b],g=b);c[g]--}static isFinderPattern(c){let f=c[0]+c[1],g=f+c[2]+c[3],y=f/g;if(y>=sn.MIN_FINDER_PATTERN_RATIO&&y<=sn.MAX_FINDER_PATTERN_RATIO){let b=Number.MAX_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;for(let E of c)E>j&&(j=E),E<b&&(b=E);return j<10*b}return!1}}sn.MAX_AVG_VARIANCE=.2,sn.MAX_INDIVIDUAL_VARIANCE=.45,sn.MIN_FINDER_PATTERN_RATIO=9.5/12,sn.MAX_FINDER_PATTERN_RATIO=12.5/14;class va{constructor(c,f){this.value=c,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(c){if(!(c instanceof va))return!1;const f=c;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zn{constructor(c,f,g,y,b){this.value=c,this.startEnd=f,this.value=c,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new it(g,b)),this.resultPoints.push(new it(y,b))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(c){if(!(c instanceof Zn))return!1;const f=c;return this.value===f.value}hashCode(){return this.value}}class mn{constructor(){}static getRSSvalue(c,f,g){let y=0;for(let D of c)y+=D;let b=0,j=0,E=c.length;for(let D=0;D<E-1;D++){let k;for(k=1,j|=1<<D;k<c[D];k++,j&=~(1<<D)){let $=mn.combins(y-k-1,E-D-2);if(g&&j===0&&y-k-(E-D-1)>=E-D-1&&($-=mn.combins(y-k-(E-D),E-D-2)),E-D-1>1){let X=0;for(let Z=y-k-(E-D-2);Z>f;Z--)X+=mn.combins(y-k-Z-1,E-D-3);$-=X*(E-1-D)}else y-k>f&&$--;b+=$}y-=k}return b}static combins(c,f){let g,y;c-f>f?(y=f,g=c-f):(y=c-f,g=f);let b=1,j=1;for(let E=c;E>g;E--)b*=E,j<=y&&(b/=j,j++);for(;j<=y;)b/=j,j++;return b}}class ur{static buildBitArray(c){let f=c.length*2-1;c[c.length-1].getRightChar()==null&&(f-=1);let g=12*f,y=new U(g),b=0,E=c[0].getRightChar().getValue();for(let D=11;D>=0;--D)(E&1<<D)!=0&&y.set(b),b++;for(let D=1;D<c.length;++D){let k=c[D],$=k.getLeftChar().getValue();for(let X=11;X>=0;--X)($&1<<X)!=0&&y.set(b),b++;if(k.getRightChar()!=null){let X=k.getRightChar().getValue();for(let Z=11;Z>=0;--Z)(X&1<<Z)!=0&&y.set(b),b++}}return y}}class on{constructor(c,f){f?this.decodedInformation=null:(this.finished=c,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class jr{constructor(c){this.newPosition=c}getNewPosition(){return this.newPosition}}class Or extends jr{constructor(c,f){super(c),this.value=f}getValue(){return this.value}isFNC1(){return this.value===Or.FNC1}}Or.FNC1="$";class Ni extends jr{constructor(c,f,g){super(c),g?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ta extends jr{constructor(c,f,g){if(super(c),f<0||f>10||g<0||g>10)throw new F;this.firstDigit=f,this.secondDigit=g}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ta.FNC1}isSecondDigitFNC1(){return this.secondDigit===ta.FNC1}isAnyFNC1(){return this.firstDigit===ta.FNC1||this.secondDigit===ta.FNC1}}ta.FNC1=10;class ot{constructor(){}static parseFieldsInGeneralPurpose(c){if(!c)return null;if(c.length<2)throw new J;let f=c.substring(0,2);for(let b of ot.TWO_DIGIT_DATA_LENGTH)if(b[0]===f)return b[1]===ot.VARIABLE_LENGTH?ot.processVariableAI(2,b[2],c):ot.processFixedAI(2,b[1],c);if(c.length<3)throw new J;let g=c.substring(0,3);for(let b of ot.THREE_DIGIT_DATA_LENGTH)if(b[0]===g)return b[1]===ot.VARIABLE_LENGTH?ot.processVariableAI(3,b[2],c):ot.processFixedAI(3,b[1],c);for(let b of ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(b[0]===g)return b[1]===ot.VARIABLE_LENGTH?ot.processVariableAI(4,b[2],c):ot.processFixedAI(4,b[1],c);if(c.length<4)throw new J;let y=c.substring(0,4);for(let b of ot.FOUR_DIGIT_DATA_LENGTH)if(b[0]===y)return b[1]===ot.VARIABLE_LENGTH?ot.processVariableAI(4,b[2],c):ot.processFixedAI(4,b[1],c);throw new J}static processFixedAI(c,f,g){if(g.length<c)throw new J;let y=g.substring(0,c);if(g.length<c+f)throw new J;let b=g.substring(c,c+f),j=g.substring(c+f),E="("+y+")"+b,D=ot.parseFieldsInGeneralPurpose(j);return D==null?E:E+D}static processVariableAI(c,f,g){let y=g.substring(0,c),b;g.length<c+f?b=g.length:b=c+f;let j=g.substring(c,b),E=g.substring(b),D="("+y+")"+j,k=ot.parseFieldsInGeneralPurpose(E);return k==null?D:D+k}}ot.VARIABLE_LENGTH=[],ot.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ot.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ot.VARIABLE_LENGTH,20],["22",ot.VARIABLE_LENGTH,29],["30",ot.VARIABLE_LENGTH,8],["37",ot.VARIABLE_LENGTH,8],["90",ot.VARIABLE_LENGTH,30],["91",ot.VARIABLE_LENGTH,30],["92",ot.VARIABLE_LENGTH,30],["93",ot.VARIABLE_LENGTH,30],["94",ot.VARIABLE_LENGTH,30],["95",ot.VARIABLE_LENGTH,30],["96",ot.VARIABLE_LENGTH,30],["97",ot.VARIABLE_LENGTH,3],["98",ot.VARIABLE_LENGTH,30],["99",ot.VARIABLE_LENGTH,30]],ot.THREE_DIGIT_DATA_LENGTH=[["240",ot.VARIABLE_LENGTH,30],["241",ot.VARIABLE_LENGTH,30],["242",ot.VARIABLE_LENGTH,6],["250",ot.VARIABLE_LENGTH,30],["251",ot.VARIABLE_LENGTH,30],["253",ot.VARIABLE_LENGTH,17],["254",ot.VARIABLE_LENGTH,20],["400",ot.VARIABLE_LENGTH,30],["401",ot.VARIABLE_LENGTH,30],["402",17],["403",ot.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ot.VARIABLE_LENGTH,20],["421",ot.VARIABLE_LENGTH,15],["422",3],["423",ot.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ot.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ot.VARIABLE_LENGTH,15],["391",ot.VARIABLE_LENGTH,18],["392",ot.VARIABLE_LENGTH,15],["393",ot.VARIABLE_LENGTH,18],["703",ot.VARIABLE_LENGTH,30]],ot.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ot.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ot.VARIABLE_LENGTH,20],["8003",ot.VARIABLE_LENGTH,30],["8004",ot.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ot.VARIABLE_LENGTH,30],["8008",ot.VARIABLE_LENGTH,12],["8018",18],["8020",ot.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ot.VARIABLE_LENGTH,70],["8200",ot.VARIABLE_LENGTH,70]];class ds{constructor(c){this.buffer=new Q,this.information=c}decodeAllCodes(c,f){let g=f,y=null;do{let b=this.decodeGeneralPurposeField(g,y),j=ot.parseFieldsInGeneralPurpose(b.getNewString());if(j!=null&&c.append(j),b.isRemaining()?y=""+b.getRemainingValue():y=null,g===b.getNewPosition())break;g=b.getNewPosition()}while(!0);return c.toString()}isStillNumeric(c){if(c+7>this.information.getSize())return c+4<=this.information.getSize();for(let f=c;f<c+3;++f)if(this.information.get(f))return!0;return this.information.get(c+3)}decodeNumeric(c){if(c+7>this.information.getSize()){let b=this.extractNumericValueFromBitArray(c,4);return b===0?new ta(this.information.getSize(),ta.FNC1,ta.FNC1):new ta(this.information.getSize(),b-1,ta.FNC1)}let f=this.extractNumericValueFromBitArray(c,7),g=(f-8)/11,y=(f-8)%11;return new ta(c+7,g,y)}extractNumericValueFromBitArray(c,f){return ds.extractNumericValueFromBitArray(this.information,c,f)}static extractNumericValueFromBitArray(c,f,g){let y=0;for(let b=0;b<g;++b)c.get(f+b)&&(y|=1<<g-b-1);return y}decodeGeneralPurposeField(c,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(c);let g=this.parseBlocks();return g!=null&&g.isRemaining()?new Ni(this.current.getPosition(),this.buffer.toString(),g.getRemainingValue()):new Ni(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let c,f;do{let g=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),c=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),c=f.isFinished()):(f=this.parseNumericBlock(),c=f.isFinished()),!(g!==this.current.getPosition())&&!c)break}while(!c);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let c=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFirstDigitFNC1()){let f;return c.isSecondDigitFNC1()?f=new Ni(this.current.getPosition(),this.buffer.toString()):f=new Ni(this.current.getPosition(),this.buffer.toString(),c.getSecondDigit()),new on(!0,f)}if(this.buffer.append(c.getFirstDigit()),c.isSecondDigitFNC1()){let f=new Ni(this.current.getPosition(),this.buffer.toString());return new on(!0,f)}this.buffer.append(c.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new on(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let c=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let f=new Ni(this.current.getPosition(),this.buffer.toString());return new on(!0,f)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new on(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let c=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(c.getNewPosition()),c.isFNC1()){let f=new Ni(this.current.getPosition(),this.buffer.toString());return new on(!0,f)}this.buffer.append(c.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new on(!1)}isStillIsoIec646(c){if(c+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,5);if(f>=5&&f<16)return!0;if(c+7>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,7);if(g>=64&&g<116)return!0;if(c+8>this.information.getSize())return!1;let y=this.extractNumericValueFromBitArray(c,8);return y>=232&&y<253}decodeIsoIec646(c){let f=this.extractNumericValueFromBitArray(c,5);if(f===15)return new Or(c+5,Or.FNC1);if(f>=5&&f<15)return new Or(c+5,"0"+(f-5));let g=this.extractNumericValueFromBitArray(c,7);if(g>=64&&g<90)return new Or(c+7,""+(g+1));if(g>=90&&g<116)return new Or(c+7,""+(g+7));let y=this.extractNumericValueFromBitArray(c,8),b;switch(y){case 232:b="!";break;case 233:b='"';break;case 234:b="%";break;case 235:b="&";break;case 236:b="'";break;case 237:b="(";break;case 238:b=")";break;case 239:b="*";break;case 240:b="+";break;case 241:b=",";break;case 242:b="-";break;case 243:b=".";break;case 244:b="/";break;case 245:b=":";break;case 246:b=";";break;case 247:b="<";break;case 248:b="=";break;case 249:b=">";break;case 250:b="?";break;case 251:b="_";break;case 252:b=" ";break;default:throw new F}return new Or(c+8,b)}isStillAlpha(c){if(c+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(c,5);if(f>=5&&f<16)return!0;if(c+6>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(c,6);return g>=16&&g<63}decodeAlphanumeric(c){let f=this.extractNumericValueFromBitArray(c,5);if(f===15)return new Or(c+5,Or.FNC1);if(f>=5&&f<15)return new Or(c+5,"0"+(f-5));let g=this.extractNumericValueFromBitArray(c,6);if(g>=32&&g<58)return new Or(c+6,""+(g+33));let y;switch(g){case 58:y="*";break;case 59:y=",";break;case 60:y="-";break;case 61:y=".";break;case 62:y="/";break;default:throw new Ze("Decoding invalid alphanumeric value: "+g)}return new Or(c+6,y)}isAlphaTo646ToAlphaLatch(c){if(c+1>this.information.getSize())return!1;for(let f=0;f<5&&f+c<this.information.getSize();++f)if(f===2){if(!this.information.get(c+2))return!1}else if(this.information.get(c+f))return!1;return!0}isAlphaOr646ToNumericLatch(c){if(c+3>this.information.getSize())return!1;for(let f=c;f<c+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(c){if(c+1>this.information.getSize())return!1;for(let f=0;f<4&&f+c<this.information.getSize();++f)if(this.information.get(c+f))return!1;return!0}}class pu{constructor(c){this.information=c,this.generalDecoder=new ds(c)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Mr extends pu{constructor(c){super(c)}encodeCompressedGtin(c,f){c.append("(01)");let g=c.length();c.append("9"),this.encodeCompressedGtinWithoutAI(c,f,g)}encodeCompressedGtinWithoutAI(c,f,g){for(let y=0;y<4;++y){let b=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*y,10);b/100===0&&c.append("0"),b/10===0&&c.append("0"),c.append(b)}Mr.appendCheckDigit(c,g)}static appendCheckDigit(c,f){let g=0;for(let y=0;y<13;y++){let b=c.charAt(y+f).charCodeAt(0)-48;g+=(y&1)===0?3*b:b}g=10-g%10,g===10&&(g=0),c.append(g)}}Mr.GTIN_SIZE=40;class La extends Mr{constructor(c){super(c)}parseInformation(){let c=new Q;c.append("(01)");let f=c.length(),g=this.getGeneralDecoder().extractNumericValueFromBitArray(La.HEADER_SIZE,4);return c.append(g),this.encodeCompressedGtinWithoutAI(c,La.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(c,La.HEADER_SIZE+44)}}La.HEADER_SIZE=4;class co extends pu{constructor(c){super(c)}parseInformation(){let c=new Q;return this.getGeneralDecoder().decodeAllCodes(c,co.HEADER_SIZE)}}co.HEADER_SIZE=5;class Us extends Mr{constructor(c){super(c)}encodeCompressedWeight(c,f,g){let y=this.getGeneralDecoder().extractNumericValueFromBitArray(f,g);this.addWeightCode(c,y);let b=this.checkWeight(y),j=1e5;for(let E=0;E<5;++E)b/j===0&&c.append("0"),j/=10;c.append(b)}}class An extends Us{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()!=An.HEADER_SIZE+Us.GTIN_SIZE+An.WEIGHT_SIZE)throw new J;let c=new Q;return this.encodeCompressedGtin(c,An.HEADER_SIZE),this.encodeCompressedWeight(c,An.HEADER_SIZE+Us.GTIN_SIZE,An.WEIGHT_SIZE),c.toString()}}An.HEADER_SIZE=5,An.WEIGHT_SIZE=15;class Cg extends An{constructor(c){super(c)}addWeightCode(c,f){c.append("(3103)")}checkWeight(c){return c}}class Tg extends An{constructor(c){super(c)}addWeightCode(c,f){f<1e4?c.append("(3202)"):c.append("(3203)")}checkWeight(c){return c<1e4?c:c-1e4}}class fi extends Mr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<fi.HEADER_SIZE+Mr.GTIN_SIZE)throw new J;let c=new Q;this.encodeCompressedGtin(c,fi.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(fi.HEADER_SIZE+Mr.GTIN_SIZE,fi.LAST_DIGIT_SIZE);c.append("(392"),c.append(f),c.append(")");let g=this.getGeneralDecoder().decodeGeneralPurposeField(fi.HEADER_SIZE+Mr.GTIN_SIZE+fi.LAST_DIGIT_SIZE,null);return c.append(g.getNewString()),c.toString()}}fi.HEADER_SIZE=8,fi.LAST_DIGIT_SIZE=2;class Sr extends Mr{constructor(c){super(c)}parseInformation(){if(this.getInformation().getSize()<Sr.HEADER_SIZE+Mr.GTIN_SIZE)throw new J;let c=new Q;this.encodeCompressedGtin(c,Sr.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+Mr.GTIN_SIZE,Sr.LAST_DIGIT_SIZE);c.append("(393"),c.append(f),c.append(")");let g=this.getGeneralDecoder().extractNumericValueFromBitArray(Sr.HEADER_SIZE+Mr.GTIN_SIZE+Sr.LAST_DIGIT_SIZE,Sr.FIRST_THREE_DIGITS_SIZE);g/100==0&&c.append("0"),g/10==0&&c.append("0"),c.append(g);let y=this.getGeneralDecoder().decodeGeneralPurposeField(Sr.HEADER_SIZE+Mr.GTIN_SIZE+Sr.LAST_DIGIT_SIZE+Sr.FIRST_THREE_DIGITS_SIZE,null);return c.append(y.getNewString()),c.toString()}}Sr.HEADER_SIZE=8,Sr.LAST_DIGIT_SIZE=2,Sr.FIRST_THREE_DIGITS_SIZE=10;class Vn extends Us{constructor(c,f,g){super(c),this.dateCode=g,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=Vn.HEADER_SIZE+Vn.GTIN_SIZE+Vn.WEIGHT_SIZE+Vn.DATE_SIZE)throw new J;let c=new Q;return this.encodeCompressedGtin(c,Vn.HEADER_SIZE),this.encodeCompressedWeight(c,Vn.HEADER_SIZE+Vn.GTIN_SIZE,Vn.WEIGHT_SIZE),this.encodeCompressedDate(c,Vn.HEADER_SIZE+Vn.GTIN_SIZE+Vn.WEIGHT_SIZE),c.toString()}encodeCompressedDate(c,f){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(f,Vn.DATE_SIZE);if(g==38400)return;c.append("("),c.append(this.dateCode),c.append(")");let y=g%32;g/=32;let b=g%12+1;g/=12;let j=g;j/10==0&&c.append("0"),c.append(j),b/10==0&&c.append("0"),c.append(b),y/10==0&&c.append("0"),c.append(y)}addWeightCode(c,f){c.append("("),c.append(this.firstAIdigits),c.append(f/1e5),c.append(")")}checkWeight(c){return c%1e5}}Vn.HEADER_SIZE=8,Vn.WEIGHT_SIZE=20,Vn.DATE_SIZE=16;function $h(K){try{if(K.get(1))return new La(K);if(!K.get(2))return new co(K);switch(ds.extractNumericValueFromBitArray(K,1,4)){case 4:return new Cg(K);case 5:return new Tg(K)}switch(ds.extractNumericValueFromBitArray(K,1,5)){case 12:return new fi(K);case 13:return new Sr(K)}switch(ds.extractNumericValueFromBitArray(K,1,7)){case 56:return new Vn(K,"310","11");case 57:return new Vn(K,"320","11");case 58:return new Vn(K,"310","13");case 59:return new Vn(K,"320","13");case 60:return new Vn(K,"310","15");case 61:return new Vn(K,"320","15");case 62:return new Vn(K,"310","17");case 63:return new Vn(K,"320","17")}}catch(c){throw console.log(c),new Ze("unknown decoder: "+K)}}class zs{constructor(c,f,g,y){this.leftchar=c,this.rightchar=f,this.finderpattern=g,this.maybeLast=y}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(c,f){return c instanceof zs?zs.equalsOrNull(c.leftchar,f.leftchar)&&zs.equalsOrNull(c.rightchar,f.rightchar)&&zs.equalsOrNull(c.finderpattern,f.finderpattern):!1}static equalsOrNull(c,f){return c===null?f===null:zs.equals(c,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Hh{constructor(c,f,g){this.pairs=c,this.rowNumber=f,this.wasReversed=g}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(c){return this.checkEqualitity(this,c)}toString(){return"{ "+this.pairs+" }"}equals(c,f){return c instanceof Hh?this.checkEqualitity(c,f)&&c.wasReversed===f.wasReversed:!1}checkEqualitity(c,f){if(!c||!f)return;let g;return c.forEach((y,b)=>{f.forEach(j=>{y.getLeftChar().getValue()===j.getLeftChar().getValue()&&y.getRightChar().getValue()===j.getRightChar().getValue()&&y.getFinderPatter().getValue()===j.getFinderPatter().getValue()&&(g=!0)})}),g}}class $e extends sn{constructor(c){super(...arguments),this.pairs=new Array($e.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=c===!0}decodeRow(c,f,g){this.pairs.length=0,this.startFromEven=!1;try{return $e.constructResult(this.decodeRow2pairs(c,f))}catch(y){this.verbose&&console.log(y)}return this.pairs.length=0,this.startFromEven=!0,$e.constructResult(this.decodeRow2pairs(c,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(c,f){let g=!1;for(;!g;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,c))}catch(b){if(b instanceof J){if(!this.pairs.length)throw new J;g=!0}}if(this.checkChecksum())return this.pairs;let y;if(this.rows.length?y=!0:y=!1,this.storeRow(c,!1),y){let b=this.checkRowsBoolean(!1);if(b!=null||(b=this.checkRowsBoolean(!0),b!=null))return b}throw new J}checkRowsBoolean(c){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,c&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(g){this.verbose&&console.log(g)}return c&&(this.rows=this.rows.reverse()),f}checkRows(c,f){for(let g=f;g<this.rows.length;g++){let y=this.rows[g];this.pairs.length=0;for(let j of c)this.pairs.push(j.getPairs());if(this.pairs.push(y.getPairs()),!$e.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let b=new Array(c);b.push(y);try{return this.checkRows(b,g+1)}catch(j){this.verbose&&console.log(j)}}throw new J}static isValidSequence(c){for(let f of $e.FINDER_PATTERN_SEQUENCES){if(c.length>f.length)continue;let g=!0;for(let y=0;y<c.length;y++)if(c[y].getFinderPattern().getValue()!=f[y]){g=!1;break}if(g)return!0}return!1}storeRow(c,f){let g=0,y=!1,b=!1;for(;g<this.rows.length;){let j=this.rows[g];if(j.getRowNumber()>c){b=j.isEquivalent(this.pairs);break}y=j.isEquivalent(this.pairs),g++}b||y||$e.isPartialRow(this.pairs,this.rows)||(this.rows.push(g,new Hh(this.pairs,c,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(c,f){for(let g of f)if(g.getPairs().length!==c.length){for(let y of g.getPairs())for(let b of c)if(zs.equals(y,b))break}}static isPartialRow(c,f){for(let g of f){let y=!0;for(let b of c){let j=!1;for(let E of g.getPairs())if(b.equals(E)){j=!0;break}if(!j){y=!1;break}}if(y)return!0}return!1}getRows(){return this.rows}static constructResult(c){let f=ur.buildBitArray(c),y=$h(f).parseInformation(),b=c[0].getFinderPattern().getResultPoints(),j=c[c.length-1].getFinderPattern().getResultPoints(),E=[b[0],b[1],j[0],j[1]];return new Re(y,null,null,E,le.RSS_EXPANDED,null)}checkChecksum(){let c=this.pairs.get(0),f=c.getLeftChar(),g=c.getRightChar();if(g==null)return!1;let y=g.getChecksumPortion(),b=2;for(let E=1;E<this.pairs.size();++E){let D=this.pairs.get(E);y+=D.getLeftChar().getChecksumPortion(),b++;let k=D.getRightChar();k!=null&&(y+=k.getChecksumPortion(),b++)}return y%=211,211*(b-4)+y==f.getValue()}static getNextSecondBar(c,f){let g;return c.get(f)?(g=c.getNextUnset(f),g=c.getNextSet(g)):(g=c.getNextSet(f),g=c.getNextUnset(g)),g}retrieveNextPair(c,f,g){let y=f.length%2==0;this.startFromEven&&(y=!y);let b,j=!0,E=-1;do this.findNextPair(c,f,E),b=this.parseFoundFinderPattern(c,g,y),b==null?E=$e.getNextSecondBar(c,this.startEnd[0]):j=!1;while(j);let D=this.decodeDataCharacter(c,b,y,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new J;let k;try{k=this.decodeDataCharacter(c,b,y,!1)}catch($){k=null,this.verbose&&console.log($)}return new zs(D,k,b,!0)}isEmptyPair(c){return c.length===0}findNextPair(c,f,g){let y=this.getDecodeFinderCounters();y[0]=0,y[1]=0,y[2]=0,y[3]=0;let b=c.getSize(),j;g>=0?j=g:this.isEmptyPair(f)?j=0:j=f[f.length-1].getFinderPattern().getStartEnd()[1];let E=f.length%2!=0;this.startFromEven&&(E=!E);let D=!1;for(;j<b&&(D=!c.get(j),!!D);)j++;let k=0,$=j;for(let X=j;X<b;X++)if(c.get(X)!=D)y[k]++;else{if(k==3){if(E&&$e.reverseCounters(y),$e.isFinderPattern(y)){this.startEnd[0]=$,this.startEnd[1]=X;return}E&&$e.reverseCounters(y),$+=y[0]+y[1],y[0]=y[2],y[1]=y[3],y[2]=0,y[3]=0,k--}else k++;y[k]=1,D=!D}throw new J}static reverseCounters(c){let f=c.length;for(let g=0;g<f/2;++g){let y=c[g];c[g]=c[f-g-1],c[f-g-1]=y}}parseFoundFinderPattern(c,f,g){let y,b,j;if(g){let k=this.startEnd[0]-1;for(;k>=0&&!c.get(k);)k--;k++,y=this.startEnd[0]-k,b=k,j=this.startEnd[1]}else b=this.startEnd[0],j=c.getNextUnset(this.startEnd[1]+1),y=j-this.startEnd[1];let E=this.getDecodeFinderCounters();_.arraycopy(E,0,E,1,E.length-1),E[0]=y;let D;try{D=this.parseFinderValue(E,$e.FINDER_PATTERNS)}catch{return null}return new Zn(D,[b,j],b,j,f)}decodeDataCharacter(c,f,g,y){let b=this.getDataCharacterCounters();for(let _n=0;_n<b.length;_n++)b[_n]=0;if(y)$e.recordPatternInReverse(c,f.getStartEnd()[0],b);else{$e.recordPattern(c,f.getStartEnd()[1],b);for(let _n=0,ii=b.length-1;_n<ii;_n++,ii--){let zi=b[_n];b[_n]=b[ii],b[ii]=zi}}let j=17,E=tt.sum(new Int32Array(b))/j,D=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(E-D)/D>.3)throw new J;let k=this.getOddCounts(),$=this.getEvenCounts(),X=this.getOddRoundingErrors(),Z=this.getEvenRoundingErrors();for(let _n=0;_n<b.length;_n++){let ii=1*b[_n]/E,zi=ii+.5;if(zi<1){if(ii<.3)throw new J;zi=1}else if(zi>8){if(ii>8.7)throw new J;zi=8}let sl=_n/2;(_n&1)==0?(k[sl]=zi,X[sl]=ii-zi):($[sl]=zi,Z[sl]=ii-zi)}this.adjustOddEvenCounts(j);let ae=4*f.getValue()+(g?0:2)+(y?0:1)-1,ue=0,fe=0;for(let _n=k.length-1;_n>=0;_n--){if($e.isNotA1left(f,g,y)){let ii=$e.WEIGHTS[ae][2*_n];fe+=k[_n]*ii}ue+=k[_n]}let Se=0;for(let _n=$.length-1;_n>=0;_n--)if($e.isNotA1left(f,g,y)){let ii=$e.WEIGHTS[ae][2*_n+1];Se+=$[_n]*ii}let Oe=fe+Se;if((ue&1)!=0||ue>13||ue<4)throw new J;let Ye=(13-ue)/2,Xe=$e.SYMBOL_WIDEST[Ye],qe=9-Xe,kt=mn.getRSSvalue(k,Xe,!0),Rt=mn.getRSSvalue($,qe,!1),Ai=$e.EVEN_TOTAL_SUBSET[Ye],ba=$e.GSUM[Ye],Ui=kt*Ai+Rt+ba;return new va(Ui,Oe)}static isNotA1left(c,f,g){return!(c.getValue()==0&&f&&g)}adjustOddEvenCounts(c){let f=tt.sum(new Int32Array(this.getOddCounts())),g=tt.sum(new Int32Array(this.getEvenCounts())),y=!1,b=!1;f>13?b=!0:f<4&&(y=!0);let j=!1,E=!1;g>13?E=!0:g<4&&(j=!0);let D=f+g-c,k=(f&1)==1,$=(g&1)==0;if(D==1)if(k){if($)throw new J;b=!0}else{if(!$)throw new J;E=!0}else if(D==-1)if(k){if($)throw new J;y=!0}else{if(!$)throw new J;j=!0}else if(D==0){if(k){if(!$)throw new J;f<g?(y=!0,E=!0):(b=!0,j=!0)}else if($)throw new J}else throw new J;if(y){if(b)throw new J;$e.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(b&&$e.decrement(this.getOddCounts(),this.getOddRoundingErrors()),j){if(E)throw new J;$e.increment(this.getEvenCounts(),this.getOddRoundingErrors())}E&&$e.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}$e.SYMBOL_WIDEST=[7,5,4,3,1],$e.EVEN_TOTAL_SUBSET=[4,20,52,104,204],$e.GSUM=[0,348,1388,2948,3988],$e.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],$e.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],$e.FINDER_PAT_A=0,$e.FINDER_PAT_B=1,$e.FINDER_PAT_C=2,$e.FINDER_PAT_D=3,$e.FINDER_PAT_E=4,$e.FINDER_PAT_F=5,$e.FINDER_PATTERN_SEQUENCES=[[$e.FINDER_PAT_A,$e.FINDER_PAT_A],[$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B],[$e.FINDER_PAT_A,$e.FINDER_PAT_C,$e.FINDER_PAT_B,$e.FINDER_PAT_D],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_C],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_D,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_E,$e.FINDER_PAT_B,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_D],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_E],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F],[$e.FINDER_PAT_A,$e.FINDER_PAT_A,$e.FINDER_PAT_B,$e.FINDER_PAT_B,$e.FINDER_PAT_C,$e.FINDER_PAT_D,$e.FINDER_PAT_D,$e.FINDER_PAT_E,$e.FINDER_PAT_E,$e.FINDER_PAT_F,$e.FINDER_PAT_F]],$e.MAX_PAIRS=11;class kd extends va{constructor(c,f,g){super(c,f),this.count=0,this.finderPattern=g}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gn extends sn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(c,f,g){const y=this.decodePair(f,!1,c,g);gn.addOrTally(this.possibleLeftPairs,y),f.reverse();let b=this.decodePair(f,!0,c,g);gn.addOrTally(this.possibleRightPairs,b),f.reverse();for(let j of this.possibleLeftPairs)if(j.getCount()>1){for(let E of this.possibleRightPairs)if(E.getCount()>1&&gn.checkChecksum(j,E))return gn.constructResult(j,E)}throw new J}static addOrTally(c,f){if(f==null)return;let g=!1;for(let y of c)if(y.getValue()===f.getValue()){y.incrementCount(),g=!0;break}g||c.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(c,f){let g=4537077*c.getValue()+f.getValue(),y=new String(g).toString(),b=new Q;for(let k=13-y.length;k>0;k--)b.append("0");b.append(y);let j=0;for(let k=0;k<13;k++){let $=b.charAt(k).charCodeAt(0)-48;j+=(k&1)===0?3*$:$}j=10-j%10,j===10&&(j=0),b.append(j.toString());let E=c.getFinderPattern().getResultPoints(),D=f.getFinderPattern().getResultPoints();return new Re(b.toString(),null,0,[E[0],E[1],D[0],D[1]],le.RSS_14,new Date().getTime())}static checkChecksum(c,f){let g=(c.getChecksumPortion()+16*f.getChecksumPortion())%79,y=9*c.getFinderPattern().getValue()+f.getFinderPattern().getValue();return y>72&&y--,y>8&&y--,g===y}decodePair(c,f,g,y){try{let b=this.findFinderPattern(c,f),j=this.parseFoundFinderPattern(c,g,f,b),E=y==null?null:y.get(L.NEED_RESULT_POINT_CALLBACK);if(E!=null){let $=(b[0]+b[1])/2;f&&($=c.getSize()-1-$),E.foundPossibleResultPoint(new it($,g))}let D=this.decodeDataCharacter(c,j,!0),k=this.decodeDataCharacter(c,j,!1);return new kd(1597*D.getValue()+k.getValue(),D.getChecksumPortion()+4*k.getChecksumPortion(),j)}catch{return null}}decodeDataCharacter(c,f,g){let y=this.getDataCharacterCounters();for(let Se=0;Se<y.length;Se++)y[Se]=0;if(g)nn.recordPatternInReverse(c,f.getStartEnd()[0],y);else{nn.recordPattern(c,f.getStartEnd()[1]+1,y);for(let Se=0,Oe=y.length-1;Se<Oe;Se++,Oe--){let Ye=y[Se];y[Se]=y[Oe],y[Oe]=Ye}}let b=g?16:15,j=tt.sum(new Int32Array(y))/b,E=this.getOddCounts(),D=this.getEvenCounts(),k=this.getOddRoundingErrors(),$=this.getEvenRoundingErrors();for(let Se=0;Se<y.length;Se++){let Oe=y[Se]/j,Ye=Math.floor(Oe+.5);Ye<1?Ye=1:Ye>8&&(Ye=8);let Xe=Math.floor(Se/2);(Se&1)===0?(E[Xe]=Ye,k[Xe]=Oe-Ye):(D[Xe]=Ye,$[Xe]=Oe-Ye)}this.adjustOddEvenCounts(g,b);let X=0,Z=0;for(let Se=E.length-1;Se>=0;Se--)Z*=9,Z+=E[Se],X+=E[Se];let ae=0,ue=0;for(let Se=D.length-1;Se>=0;Se--)ae*=9,ae+=D[Se],ue+=D[Se];let fe=Z+3*ae;if(g){if((X&1)!==0||X>12||X<4)throw new J;let Se=(12-X)/2,Oe=gn.OUTSIDE_ODD_WIDEST[Se],Ye=9-Oe,Xe=mn.getRSSvalue(E,Oe,!1),qe=mn.getRSSvalue(D,Ye,!0),kt=gn.OUTSIDE_EVEN_TOTAL_SUBSET[Se],Rt=gn.OUTSIDE_GSUM[Se];return new va(Xe*kt+qe+Rt,fe)}else{if((ue&1)!==0||ue>10||ue<4)throw new J;let Se=(10-ue)/2,Oe=gn.INSIDE_ODD_WIDEST[Se],Ye=9-Oe,Xe=mn.getRSSvalue(E,Oe,!0),qe=mn.getRSSvalue(D,Ye,!1),kt=gn.INSIDE_ODD_TOTAL_SUBSET[Se],Rt=gn.INSIDE_GSUM[Se];return new va(qe*kt+Xe+Rt,fe)}}findFinderPattern(c,f){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let y=c.getSize(),b=!1,j=0;for(;j<y&&(b=!c.get(j),f!==b);)j++;let E=0,D=j;for(let k=j;k<y;k++)if(c.get(k)!==b)g[E]++;else{if(E===3){if(sn.isFinderPattern(g))return[D,k];D+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,E--}else E++;g[E]=1,b=!b}throw new J}parseFoundFinderPattern(c,f,g,y){let b=c.get(y[0]),j=y[0]-1;for(;j>=0&&b!==c.get(j);)j--;j++;const E=y[0]-j,D=this.getDecodeFinderCounters(),k=new Int32Array(D.length);_.arraycopy(D,0,k,1,D.length-1),k[0]=E;const $=this.parseFinderValue(k,gn.FINDER_PATTERNS);let X=j,Z=y[1];return g&&(X=c.getSize()-1-X,Z=c.getSize()-1-Z),new Zn($,[j,y[1]],X,Z,f)}adjustOddEvenCounts(c,f){let g=tt.sum(new Int32Array(this.getOddCounts())),y=tt.sum(new Int32Array(this.getEvenCounts())),b=!1,j=!1,E=!1,D=!1;c?(g>12?j=!0:g<4&&(b=!0),y>12?D=!0:y<4&&(E=!0)):(g>11?j=!0:g<5&&(b=!0),y>10?D=!0:y<4&&(E=!0));let k=g+y-f,$=(g&1)===(c?1:0),X=(y&1)===1;if(k===1)if($){if(X)throw new J;j=!0}else{if(!X)throw new J;D=!0}else if(k===-1)if($){if(X)throw new J;b=!0}else{if(!X)throw new J;E=!0}else if(k===0){if($){if(!X)throw new J;g<y?(b=!0,D=!0):(j=!0,E=!0)}else if(X)throw new J}else throw new J;if(b){if(j)throw new J;sn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(j&&sn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),E){if(D)throw new J;sn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}D&&sn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gn.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gn.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gn.OUTSIDE_GSUM=[0,161,961,2015,2715],gn.INSIDE_GSUM=[0,336,1036,1516],gn.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gn.INSIDE_ODD_WIDEST=[2,4,6,8],gn.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class uo extends nn{constructor(c,f){super(),this.readers=[],this.verbose=f===!0;const g=c?c.get(L.POSSIBLE_FORMATS):null,y=c&&c.get(L.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;g?((g.includes(le.EAN_13)||g.includes(le.UPC_A)||g.includes(le.EAN_8)||g.includes(le.UPC_E))&&this.readers.push(new Qn(c)),g.includes(le.CODE_39)&&this.readers.push(new hn(y)),g.includes(le.CODE_128)&&this.readers.push(new Qe),g.includes(le.ITF)&&this.readers.push(new rn),g.includes(le.RSS_14)&&this.readers.push(new gn),g.includes(le.RSS_EXPANDED)&&this.readers.push(new $e(this.verbose))):(this.readers.push(new Qn(c)),this.readers.push(new hn),this.readers.push(new Qn(c)),this.readers.push(new Qe),this.readers.push(new rn),this.readers.push(new gn),this.readers.push(new $e(this.verbose)))}decodeRow(c,f,g){for(let y=0;y<this.readers.length;y++)try{return this.readers[y].decodeRow(c,f,g)}catch{}throw new J}reset(){this.readers.forEach(c=>c.reset())}}class Og extends he{constructor(c=500,f){super(new uo(f),c,f)}}class Kt{constructor(c,f,g){this.ecCodewords=c,this.ecBlocks=[f],g&&this.ecBlocks.push(g)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class an{constructor(c,f){this.count=c,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class $t{constructor(c,f,g,y,b,j){this.versionNumber=c,this.symbolSizeRows=f,this.symbolSizeColumns=g,this.dataRegionSizeRows=y,this.dataRegionSizeColumns=b,this.ecBlocks=j;let E=0;const D=j.getECCodewords(),k=j.getECBlocks();for(let $ of k)E+=$.getCount()*($.getDataCodewords()+D);this.totalCodewords=E}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(c,f){if((c&1)!==0||(f&1)!==0)throw new F;for(let g of $t.VERSIONS)if(g.symbolSizeRows===c&&g.symbolSizeColumns===f)return g;throw new F}toString(){return""+this.versionNumber}static buildVersions(){return[new $t(1,10,10,8,8,new Kt(5,new an(1,3))),new $t(2,12,12,10,10,new Kt(7,new an(1,5))),new $t(3,14,14,12,12,new Kt(10,new an(1,8))),new $t(4,16,16,14,14,new Kt(12,new an(1,12))),new $t(5,18,18,16,16,new Kt(14,new an(1,18))),new $t(6,20,20,18,18,new Kt(18,new an(1,22))),new $t(7,22,22,20,20,new Kt(20,new an(1,30))),new $t(8,24,24,22,22,new Kt(24,new an(1,36))),new $t(9,26,26,24,24,new Kt(28,new an(1,44))),new $t(10,32,32,14,14,new Kt(36,new an(1,62))),new $t(11,36,36,16,16,new Kt(42,new an(1,86))),new $t(12,40,40,18,18,new Kt(48,new an(1,114))),new $t(13,44,44,20,20,new Kt(56,new an(1,144))),new $t(14,48,48,22,22,new Kt(68,new an(1,174))),new $t(15,52,52,24,24,new Kt(42,new an(2,102))),new $t(16,64,64,14,14,new Kt(56,new an(2,140))),new $t(17,72,72,16,16,new Kt(36,new an(4,92))),new $t(18,80,80,18,18,new Kt(48,new an(4,114))),new $t(19,88,88,20,20,new Kt(56,new an(4,144))),new $t(20,96,96,22,22,new Kt(68,new an(4,174))),new $t(21,104,104,24,24,new Kt(56,new an(6,136))),new $t(22,120,120,18,18,new Kt(68,new an(6,175))),new $t(23,132,132,20,20,new Kt(62,new an(8,163))),new $t(24,144,144,22,22,new Kt(62,new an(8,156),new an(2,155))),new $t(25,8,18,6,16,new Kt(7,new an(1,5))),new $t(26,8,32,6,14,new Kt(11,new an(1,10))),new $t(27,12,26,10,24,new Kt(14,new an(1,16))),new $t(28,12,36,10,16,new Kt(18,new an(1,22))),new $t(29,16,36,14,16,new Kt(24,new an(1,32))),new $t(30,16,48,14,22,new Kt(28,new an(1,49)))]}}$t.VERSIONS=$t.buildVersions();class qh{constructor(c){const f=c.getHeight();if(f<8||f>144||(f&1)!==0)throw new F;this.version=qh.readVersion(c),this.mappingBitMatrix=this.extractDataRegion(c),this.readMappingMatrix=new te(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(c){const f=c.getHeight(),g=c.getWidth();return $t.getVersionForDimensions(f,g)}readCodewords(){const c=new Int8Array(this.version.getTotalCodewords());let f=0,g=4,y=0;const b=this.mappingBitMatrix.getHeight(),j=this.mappingBitMatrix.getWidth();let E=!1,D=!1,k=!1,$=!1;do if(g===b&&y===0&&!E)c[f++]=this.readCorner1(b,j)&255,g-=2,y+=2,E=!0;else if(g===b-2&&y===0&&(j&3)!==0&&!D)c[f++]=this.readCorner2(b,j)&255,g-=2,y+=2,D=!0;else if(g===b+4&&y===2&&(j&7)===0&&!k)c[f++]=this.readCorner3(b,j)&255,g-=2,y+=2,k=!0;else if(g===b-2&&y===0&&(j&7)===4&&!$)c[f++]=this.readCorner4(b,j)&255,g-=2,y+=2,$=!0;else{do g<b&&y>=0&&!this.readMappingMatrix.get(y,g)&&(c[f++]=this.readUtah(g,y,b,j)&255),g-=2,y+=2;while(g>=0&&y<j);g+=1,y+=3;do g>=0&&y<j&&!this.readMappingMatrix.get(y,g)&&(c[f++]=this.readUtah(g,y,b,j)&255),g+=2,y-=2;while(g<b&&y>=0);g+=3,y+=1}while(g<b||y<j);if(f!==this.version.getTotalCodewords())throw new F;return c}readModule(c,f,g,y){return c<0&&(c+=g,f+=4-(g+4&7)),f<0&&(f+=y,c+=4-(y+4&7)),this.readMappingMatrix.set(f,c),this.mappingBitMatrix.get(f,c)}readUtah(c,f,g,y){let b=0;return this.readModule(c-2,f-2,g,y)&&(b|=1),b<<=1,this.readModule(c-2,f-1,g,y)&&(b|=1),b<<=1,this.readModule(c-1,f-2,g,y)&&(b|=1),b<<=1,this.readModule(c-1,f-1,g,y)&&(b|=1),b<<=1,this.readModule(c-1,f,g,y)&&(b|=1),b<<=1,this.readModule(c,f-2,g,y)&&(b|=1),b<<=1,this.readModule(c,f-1,g,y)&&(b|=1),b<<=1,this.readModule(c,f,g,y)&&(b|=1),b}readCorner1(c,f){let g=0;return this.readModule(c-1,0,c,f)&&(g|=1),g<<=1,this.readModule(c-1,1,c,f)&&(g|=1),g<<=1,this.readModule(c-1,2,c,f)&&(g|=1),g<<=1,this.readModule(0,f-2,c,f)&&(g|=1),g<<=1,this.readModule(0,f-1,c,f)&&(g|=1),g<<=1,this.readModule(1,f-1,c,f)&&(g|=1),g<<=1,this.readModule(2,f-1,c,f)&&(g|=1),g<<=1,this.readModule(3,f-1,c,f)&&(g|=1),g}readCorner2(c,f){let g=0;return this.readModule(c-3,0,c,f)&&(g|=1),g<<=1,this.readModule(c-2,0,c,f)&&(g|=1),g<<=1,this.readModule(c-1,0,c,f)&&(g|=1),g<<=1,this.readModule(0,f-4,c,f)&&(g|=1),g<<=1,this.readModule(0,f-3,c,f)&&(g|=1),g<<=1,this.readModule(0,f-2,c,f)&&(g|=1),g<<=1,this.readModule(0,f-1,c,f)&&(g|=1),g<<=1,this.readModule(1,f-1,c,f)&&(g|=1),g}readCorner3(c,f){let g=0;return this.readModule(c-1,0,c,f)&&(g|=1),g<<=1,this.readModule(c-1,f-1,c,f)&&(g|=1),g<<=1,this.readModule(0,f-3,c,f)&&(g|=1),g<<=1,this.readModule(0,f-2,c,f)&&(g|=1),g<<=1,this.readModule(0,f-1,c,f)&&(g|=1),g<<=1,this.readModule(1,f-3,c,f)&&(g|=1),g<<=1,this.readModule(1,f-2,c,f)&&(g|=1),g<<=1,this.readModule(1,f-1,c,f)&&(g|=1),g}readCorner4(c,f){let g=0;return this.readModule(c-3,0,c,f)&&(g|=1),g<<=1,this.readModule(c-2,0,c,f)&&(g|=1),g<<=1,this.readModule(c-1,0,c,f)&&(g|=1),g<<=1,this.readModule(0,f-2,c,f)&&(g|=1),g<<=1,this.readModule(0,f-1,c,f)&&(g|=1),g<<=1,this.readModule(1,f-1,c,f)&&(g|=1),g<<=1,this.readModule(2,f-1,c,f)&&(g|=1),g<<=1,this.readModule(3,f-1,c,f)&&(g|=1),g}extractDataRegion(c){const f=this.version.getSymbolSizeRows(),g=this.version.getSymbolSizeColumns();if(c.getHeight()!==f)throw new v("Dimension of bitMatrix must match the version size");const y=this.version.getDataRegionSizeRows(),b=this.version.getDataRegionSizeColumns(),j=f/y|0,E=g/b|0,D=j*y,k=E*b,$=new te(k,D);for(let X=0;X<j;++X){const Z=X*y;for(let ae=0;ae<E;++ae){const ue=ae*b;for(let fe=0;fe<y;++fe){const Se=X*(y+2)+1+fe,Oe=Z+fe;for(let Ye=0;Ye<b;++Ye){const Xe=ae*(b+2)+1+Ye;if(c.get(Xe,Se)){const qe=ue+Ye;$.set(qe,Oe)}}}}}return $}}class Ld{constructor(c,f){this.numDataCodewords=c,this.codewords=f}static getDataBlocks(c,f){const g=f.getECBlocks();let y=0;const b=g.getECBlocks();for(let fe of b)y+=fe.getCount();const j=new Array(y);let E=0;for(let fe of b)for(let Se=0;Se<fe.getCount();Se++){const Oe=fe.getDataCodewords(),Ye=g.getECCodewords()+Oe;j[E++]=new Ld(Oe,new Uint8Array(Ye))}const k=j[0].codewords.length-g.getECCodewords(),$=k-1;let X=0;for(let fe=0;fe<$;fe++)for(let Se=0;Se<E;Se++)j[Se].codewords[fe]=c[X++];const Z=f.getVersionNumber()===24,ae=Z?8:E;for(let fe=0;fe<ae;fe++)j[fe].codewords[k-1]=c[X++];const ue=j[0].codewords.length;for(let fe=k;fe<ue;fe++)for(let Se=0;Se<E;Se++){const Oe=Z?(Se+8)%E:Se,Ye=Z&&Oe>7?fe-1:fe;j[Oe].codewords[Ye]=c[X++]}if(X!==c.length)throw new v;return j}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Li{constructor(c){this.bytes=c,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(c){if(c<1||c>32||c>this.available())throw new v(""+c);let f=0,g=this.bitOffset,y=this.byteOffset;const b=this.bytes;if(g>0){const j=8-g,E=c<j?c:j,D=j-E,k=255>>8-E<<D;f=(b[y]&k)>>D,c-=E,g+=E,g===8&&(g=0,y++)}if(c>0){for(;c>=8;)f=f<<8|b[y]&255,y++,c-=8;if(c>0){const j=8-c,E=255>>j<<j;f=f<<c|(b[y]&E)>>j,g+=c}}return this.bitOffset=g,this.byteOffset=y,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nr;(function(K){K[K.PAD_ENCODE=0]="PAD_ENCODE",K[K.ASCII_ENCODE=1]="ASCII_ENCODE",K[K.C40_ENCODE=2]="C40_ENCODE",K[K.TEXT_ENCODE=3]="TEXT_ENCODE",K[K.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",K[K.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",K[K.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nr||(Nr={}));class fo{static decode(c){const f=new Li(c),g=new Q,y=new Q,b=new Array;let j=Nr.ASCII_ENCODE;do if(j===Nr.ASCII_ENCODE)j=this.decodeAsciiSegment(f,g,y);else{switch(j){case Nr.C40_ENCODE:this.decodeC40Segment(f,g);break;case Nr.TEXT_ENCODE:this.decodeTextSegment(f,g);break;case Nr.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,g);break;case Nr.EDIFACT_ENCODE:this.decodeEdifactSegment(f,g);break;case Nr.BASE256_ENCODE:this.decodeBase256Segment(f,g,b);break;default:throw new F}j=Nr.ASCII_ENCODE}while(j!==Nr.PAD_ENCODE&&f.available()>0);return y.length()>0&&g.append(y.toString()),new xe(c,g.toString(),b.length===0?null:b,null)}static decodeAsciiSegment(c,f,g){let y=!1;do{let b=c.readBits(8);if(b===0)throw new F;if(b<=128)return y&&(b+=128),f.append(String.fromCharCode(b-1)),Nr.ASCII_ENCODE;if(b===129)return Nr.PAD_ENCODE;if(b<=229){const j=b-130;j<10&&f.append("0"),f.append(""+j)}else switch(b){case 230:return Nr.C40_ENCODE;case 231:return Nr.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:y=!0;break;case 236:f.append("[)>05"),g.insert(0,"");break;case 237:f.append("[)>06"),g.insert(0,"");break;case 238:return Nr.ANSIX12_ENCODE;case 239:return Nr.TEXT_ENCODE;case 240:return Nr.EDIFACT_ENCODE;case 241:break;default:if(b!==254||c.available()!==0)throw new F;break}}while(c.available()>0);return Nr.ASCII_ENCODE}static decodeC40Segment(c,f){let g=!1;const y=[];let b=0;do{if(c.available()===8)return;const j=c.readBits(8);if(j===254)return;this.parseTwoBytes(j,c.readBits(8),y);for(let E=0;E<3;E++){const D=y[E];switch(b){case 0:if(D<3)b=D+1;else if(D<this.C40_BASIC_SET_CHARS.length){const k=this.C40_BASIC_SET_CHARS[D];g?(f.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):f.append(k)}else throw new F;break;case 1:g?(f.append(String.fromCharCode(D+128)),g=!1):f.append(String.fromCharCode(D)),b=0;break;case 2:if(D<this.C40_SHIFT2_SET_CHARS.length){const k=this.C40_SHIFT2_SET_CHARS[D];g?(f.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):f.append(k)}else switch(D){case 27:f.append("");break;case 30:g=!0;break;default:throw new F}b=0;break;case 3:g?(f.append(String.fromCharCode(D+224)),g=!1):f.append(String.fromCharCode(D+96)),b=0;break;default:throw new F}}}while(c.available()>0)}static decodeTextSegment(c,f){let g=!1,y=[],b=0;do{if(c.available()===8)return;const j=c.readBits(8);if(j===254)return;this.parseTwoBytes(j,c.readBits(8),y);for(let E=0;E<3;E++){const D=y[E];switch(b){case 0:if(D<3)b=D+1;else if(D<this.TEXT_BASIC_SET_CHARS.length){const k=this.TEXT_BASIC_SET_CHARS[D];g?(f.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):f.append(k)}else throw new F;break;case 1:g?(f.append(String.fromCharCode(D+128)),g=!1):f.append(String.fromCharCode(D)),b=0;break;case 2:if(D<this.TEXT_SHIFT2_SET_CHARS.length){const k=this.TEXT_SHIFT2_SET_CHARS[D];g?(f.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):f.append(k)}else switch(D){case 27:f.append("");break;case 30:g=!0;break;default:throw new F}b=0;break;case 3:if(D<this.TEXT_SHIFT3_SET_CHARS.length){const k=this.TEXT_SHIFT3_SET_CHARS[D];g?(f.append(String.fromCharCode(k.charCodeAt(0)+128)),g=!1):f.append(k),b=0}else throw new F;break;default:throw new F}}}while(c.available()>0)}static decodeAnsiX12Segment(c,f){const g=[];do{if(c.available()===8)return;const y=c.readBits(8);if(y===254)return;this.parseTwoBytes(y,c.readBits(8),g);for(let b=0;b<3;b++){const j=g[b];switch(j){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(j<14)f.append(String.fromCharCode(j+44));else if(j<40)f.append(String.fromCharCode(j+51));else throw new F;break}}}while(c.available()>0)}static parseTwoBytes(c,f,g){let y=(c<<8)+f-1,b=Math.floor(y/1600);g[0]=b,y-=b*1600,b=Math.floor(y/40),g[1]=b,g[2]=y-b*40}static decodeEdifactSegment(c,f){do{if(c.available()<=16)return;for(let g=0;g<4;g++){let y=c.readBits(6);if(y===31){const b=8-c.getBitOffset();b!==8&&c.readBits(b);return}(y&32)===0&&(y|=64),f.append(String.fromCharCode(y))}}while(c.available()>0)}static decodeBase256Segment(c,f,g){let y=1+c.getByteOffset();const b=this.unrandomize255State(c.readBits(8),y++);let j;if(b===0?j=c.available()/8|0:b<250?j=b:j=250*(b-249)+this.unrandomize255State(c.readBits(8),y++),j<0)throw new F;const E=new Uint8Array(j);for(let D=0;D<j;D++){if(c.available()<8)throw new F;E[D]=this.unrandomize255State(c.readBits(8),y++)}g.push(E);try{f.append(W.decode(E,q.ISO88591))}catch(D){throw new Ze("Platform does not support required encoding: "+D.message)}}static unrandomize255State(c,f){const g=149*f%255+1,y=c-g;return y>=0?y:y+256}}fo.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],fo.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],fo.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],fo.TEXT_SHIFT2_SET_CHARS=fo.C40_SHIFT2_SET_CHARS,fo.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Bd{constructor(){this.rsDecoder=new yt(We.DATA_MATRIX_FIELD_256)}decode(c){const f=new qh(c),g=f.getVersion(),y=f.readCodewords(),b=Ld.getDataBlocks(y,g);let j=0;for(let k of b)j+=k.getNumDataCodewords();const E=new Uint8Array(j),D=b.length;for(let k=0;k<D;k++){const $=b[k],X=$.getCodewords(),Z=$.getNumDataCodewords();this.correctErrors(X,Z);for(let ae=0;ae<Z;ae++)E[ae*D+k]=X[ae]}return fo.decode(E)}correctErrors(c,f){const g=new Int32Array(c);try{this.rsDecoder.decode(g,c.length-f)}catch{throw new A}for(let y=0;y<f;y++)c[y]=g[y]}}class Jn{constructor(c){this.image=c,this.rectangleDetector=new lr(this.image)}detect(){const c=this.rectangleDetector.detect();let f=this.detectSolid1(c);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new J;f=this.shiftToModuleCenter(f);const g=f[0],y=f[1],b=f[2],j=f[3];let E=this.transitionsBetween(g,j)+1,D=this.transitionsBetween(b,j)+1;(E&1)===1&&(E+=1),(D&1)===1&&(D+=1),4*E<7*D&&4*D<7*E&&(E=D=Math.max(E,D));let k=Jn.sampleGrid(this.image,g,y,b,j,E,D);return new fn(k,[g,y,b,j])}static shiftPoint(c,f,g){let y=(f.getX()-c.getX())/(g+1),b=(f.getY()-c.getY())/(g+1);return new it(c.getX()+y,c.getY()+b)}static moveAway(c,f,g){let y=c.getX(),b=c.getY();return y<f?y-=1:y+=1,b<g?b-=1:b+=1,new it(y,b)}detectSolid1(c){let f=c[0],g=c[1],y=c[3],b=c[2],j=this.transitionsBetween(f,g),E=this.transitionsBetween(g,y),D=this.transitionsBetween(y,b),k=this.transitionsBetween(b,f),$=j,X=[b,f,g,y];return $>E&&($=E,X[0]=f,X[1]=g,X[2]=y,X[3]=b),$>D&&($=D,X[0]=g,X[1]=y,X[2]=b,X[3]=f),$>k&&(X[0]=y,X[1]=b,X[2]=f,X[3]=g),X}detectSolid2(c){let f=c[0],g=c[1],y=c[2],b=c[3],j=this.transitionsBetween(f,b),E=Jn.shiftPoint(g,y,(j+1)*4),D=Jn.shiftPoint(y,g,(j+1)*4),k=this.transitionsBetween(E,f),$=this.transitionsBetween(D,b);return k<$?(c[0]=f,c[1]=g,c[2]=y,c[3]=b):(c[0]=g,c[1]=y,c[2]=b,c[3]=f),c}correctTopRight(c){let f=c[0],g=c[1],y=c[2],b=c[3],j=this.transitionsBetween(f,b),E=this.transitionsBetween(g,b),D=Jn.shiftPoint(f,g,(E+1)*4),k=Jn.shiftPoint(y,g,(j+1)*4);j=this.transitionsBetween(D,b),E=this.transitionsBetween(k,b);let $=new it(b.getX()+(y.getX()-g.getX())/(j+1),b.getY()+(y.getY()-g.getY())/(j+1)),X=new it(b.getX()+(f.getX()-g.getX())/(E+1),b.getY()+(f.getY()-g.getY())/(E+1));if(!this.isValid($))return this.isValid(X)?X:null;if(!this.isValid(X))return $;let Z=this.transitionsBetween(D,$)+this.transitionsBetween(k,$),ae=this.transitionsBetween(D,X)+this.transitionsBetween(k,X);return Z>ae?$:X}shiftToModuleCenter(c){let f=c[0],g=c[1],y=c[2],b=c[3],j=this.transitionsBetween(f,b)+1,E=this.transitionsBetween(y,b)+1,D=Jn.shiftPoint(f,g,E*4),k=Jn.shiftPoint(y,g,j*4);j=this.transitionsBetween(D,b)+1,E=this.transitionsBetween(k,b)+1,(j&1)===1&&(j+=1),(E&1)===1&&(E+=1);let $=(f.getX()+g.getX()+y.getX()+b.getX())/4,X=(f.getY()+g.getY()+y.getY()+b.getY())/4;f=Jn.moveAway(f,$,X),g=Jn.moveAway(g,$,X),y=Jn.moveAway(y,$,X),b=Jn.moveAway(b,$,X);let Z,ae;return D=Jn.shiftPoint(f,g,E*4),D=Jn.shiftPoint(D,b,j*4),Z=Jn.shiftPoint(g,f,E*4),Z=Jn.shiftPoint(Z,y,j*4),k=Jn.shiftPoint(y,b,E*4),k=Jn.shiftPoint(k,g,j*4),ae=Jn.shiftPoint(b,y,E*4),ae=Jn.shiftPoint(ae,f,j*4),[D,Z,k,ae]}isValid(c){return c.getX()>=0&&c.getX()<this.image.getWidth()&&c.getY()>0&&c.getY()<this.image.getHeight()}static sampleGrid(c,f,g,y,b,j,E){return cr.getInstance().sampleGrid(c,j,E,.5,.5,j-.5,.5,j-.5,E-.5,.5,E-.5,f.getX(),f.getY(),b.getX(),b.getY(),y.getX(),y.getY(),g.getX(),g.getY())}transitionsBetween(c,f){let g=Math.trunc(c.getX()),y=Math.trunc(c.getY()),b=Math.trunc(f.getX()),j=Math.trunc(f.getY()),E=Math.abs(j-y)>Math.abs(b-g);if(E){let fe=g;g=y,y=fe,fe=b,b=j,j=fe}let D=Math.abs(b-g),k=Math.abs(j-y),$=-D/2,X=y<j?1:-1,Z=g<b?1:-1,ae=0,ue=this.image.get(E?y:g,E?g:y);for(let fe=g,Se=y;fe!==b;fe+=Z){let Oe=this.image.get(E?Se:fe,E?fe:Se);if(Oe!==ue&&(ae++,ue=Oe),$+=k,$>0){if(Se===j)break;Se+=X,$-=D}}return ae}}class Ba{constructor(){this.decoder=new Bd}decode(c,f=null){let g,y;if(f!=null&&f.has(L.PURE_BARCODE)){const k=Ba.extractPureBits(c.getBlackMatrix());g=this.decoder.decode(k),y=Ba.NO_POINTS}else{const k=new Jn(c.getBlackMatrix()).detect();g=this.decoder.decode(k.getBits()),y=k.getPoints()}const b=g.getRawBytes(),j=new Re(g.getText(),b,8*b.length,y,le.DATA_MATRIX,_.currentTimeMillis()),E=g.getByteSegments();E!=null&&j.putMetadata(je.BYTE_SEGMENTS,E);const D=g.getECLevel();return D!=null&&j.putMetadata(je.ERROR_CORRECTION_LEVEL,D),j}reset(){}static extractPureBits(c){const f=c.getTopLeftOnBit(),g=c.getBottomRightOnBit();if(f==null||g==null)throw new J;const y=this.moduleSize(f,c);let b=f[1];const j=g[1];let E=f[0];const k=(g[0]-E+1)/y,$=(j-b+1)/y;if(k<=0||$<=0)throw new J;const X=y/2;b+=X,E+=X;const Z=new te(k,$);for(let ae=0;ae<$;ae++){const ue=b+ae*y;for(let fe=0;fe<k;fe++)c.get(E+fe*y,ue)&&Z.set(fe,ae)}return Z}static moduleSize(c,f){const g=f.getWidth();let y=c[0];const b=c[1];for(;y<g&&f.get(y,b);)y++;if(y===g)throw new J;const j=y-c[0];if(j===0)throw new J;return j}}Ba.NO_POINTS=[];class sy extends he{constructor(c=500){super(new Ba,c)}}var ei;(function(K){K[K.L=0]="L",K[K.M=1]="M",K[K.Q=2]="Q",K[K.H=3]="H"})(ei||(ei={}));class jn{constructor(c,f,g){this.value=c,this.stringValue=f,this.bits=g,jn.FOR_BITS.set(g,this),jn.FOR_VALUE.set(c,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(c){switch(c){case"L":return jn.L;case"M":return jn.M;case"Q":return jn.Q;case"H":return jn.H;default:throw new p(c+"not available")}}toString(){return this.stringValue}equals(c){if(!(c instanceof jn))return!1;const f=c;return this.value===f.value}static forBits(c){if(c<0||c>=jn.FOR_BITS.size)throw new v;return jn.FOR_BITS.get(c)}}jn.FOR_BITS=new Map,jn.FOR_VALUE=new Map,jn.L=new jn(ei.L,"L",1),jn.M=new jn(ei.M,"M",0),jn.Q=new jn(ei.Q,"Q",3),jn.H=new jn(ei.H,"H",2);class ti{constructor(c){this.errorCorrectionLevel=jn.forBits(c>>3&3),this.dataMask=c&7}static numBitsDiffering(c,f){return R.bitCount(c^f)}static decodeFormatInformation(c,f){const g=ti.doDecodeFormatInformation(c,f);return g!==null?g:ti.doDecodeFormatInformation(c^ti.FORMAT_INFO_MASK_QR,f^ti.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(c,f){let g=Number.MAX_SAFE_INTEGER,y=0;for(const b of ti.FORMAT_INFO_DECODE_LOOKUP){const j=b[0];if(j===c||j===f)return new ti(b[1]);let E=ti.numBitsDiffering(c,j);E<g&&(y=b[1],g=E),c!==f&&(E=ti.numBitsDiffering(f,j),E<g&&(y=b[1],g=E))}return g<=3?new ti(y):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(c){if(!(c instanceof ti))return!1;const f=c;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}ti.FORMAT_INFO_MASK_QR=21522,ti.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Ne{constructor(c,...f){this.ecCodewordsPerBlock=c,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let c=0;const f=this.ecBlocks;for(const g of f)c+=g.getCount();return c}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class ie{constructor(c,f){this.count=c,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class vt{constructor(c,f,...g){this.versionNumber=c,this.alignmentPatternCenters=f,this.ecBlocks=g;let y=0;const b=g[0].getECCodewordsPerBlock(),j=g[0].getECBlocks();for(const E of j)y+=E.getCount()*(E.getDataCodewords()+b);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(c){return this.ecBlocks[c.getValue()]}static getProvisionalVersionForDimension(c){if(c%4!==1)throw new F;try{return this.getVersionForNumber((c-17)/4)}catch{throw new F}}static getVersionForNumber(c){if(c<1||c>40)throw new v;return vt.VERSIONS[c-1]}static decodeVersionInformation(c){let f=Number.MAX_SAFE_INTEGER,g=0;for(let y=0;y<vt.VERSION_DECODE_INFO.length;y++){const b=vt.VERSION_DECODE_INFO[y];if(b===c)return vt.getVersionForNumber(y+7);const j=ti.numBitsDiffering(c,b);j<f&&(g=y+7,f=j)}return f<=3?vt.getVersionForNumber(g):null}buildFunctionPattern(){const c=this.getDimensionForVersion(),f=new te(c);f.setRegion(0,0,9,9),f.setRegion(c-8,0,8,9),f.setRegion(0,c-8,9,8);const g=this.alignmentPatternCenters.length;for(let y=0;y<g;y++){const b=this.alignmentPatternCenters[y]-2;for(let j=0;j<g;j++)y===0&&(j===0||j===g-1)||y===g-1&&j===0||f.setRegion(this.alignmentPatternCenters[j]-2,b,5,5)}return f.setRegion(6,9,1,c-17),f.setRegion(9,6,c-17,1),this.versionNumber>6&&(f.setRegion(c-11,0,3,6),f.setRegion(0,c-11,6,3)),f}toString(){return""+this.versionNumber}}vt.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),vt.VERSIONS=[new vt(1,new Int32Array(0),new Ne(7,new ie(1,19)),new Ne(10,new ie(1,16)),new Ne(13,new ie(1,13)),new Ne(17,new ie(1,9))),new vt(2,Int32Array.from([6,18]),new Ne(10,new ie(1,34)),new Ne(16,new ie(1,28)),new Ne(22,new ie(1,22)),new Ne(28,new ie(1,16))),new vt(3,Int32Array.from([6,22]),new Ne(15,new ie(1,55)),new Ne(26,new ie(1,44)),new Ne(18,new ie(2,17)),new Ne(22,new ie(2,13))),new vt(4,Int32Array.from([6,26]),new Ne(20,new ie(1,80)),new Ne(18,new ie(2,32)),new Ne(26,new ie(2,24)),new Ne(16,new ie(4,9))),new vt(5,Int32Array.from([6,30]),new Ne(26,new ie(1,108)),new Ne(24,new ie(2,43)),new Ne(18,new ie(2,15),new ie(2,16)),new Ne(22,new ie(2,11),new ie(2,12))),new vt(6,Int32Array.from([6,34]),new Ne(18,new ie(2,68)),new Ne(16,new ie(4,27)),new Ne(24,new ie(4,19)),new Ne(28,new ie(4,15))),new vt(7,Int32Array.from([6,22,38]),new Ne(20,new ie(2,78)),new Ne(18,new ie(4,31)),new Ne(18,new ie(2,14),new ie(4,15)),new Ne(26,new ie(4,13),new ie(1,14))),new vt(8,Int32Array.from([6,24,42]),new Ne(24,new ie(2,97)),new Ne(22,new ie(2,38),new ie(2,39)),new Ne(22,new ie(4,18),new ie(2,19)),new Ne(26,new ie(4,14),new ie(2,15))),new vt(9,Int32Array.from([6,26,46]),new Ne(30,new ie(2,116)),new Ne(22,new ie(3,36),new ie(2,37)),new Ne(20,new ie(4,16),new ie(4,17)),new Ne(24,new ie(4,12),new ie(4,13))),new vt(10,Int32Array.from([6,28,50]),new Ne(18,new ie(2,68),new ie(2,69)),new Ne(26,new ie(4,43),new ie(1,44)),new Ne(24,new ie(6,19),new ie(2,20)),new Ne(28,new ie(6,15),new ie(2,16))),new vt(11,Int32Array.from([6,30,54]),new Ne(20,new ie(4,81)),new Ne(30,new ie(1,50),new ie(4,51)),new Ne(28,new ie(4,22),new ie(4,23)),new Ne(24,new ie(3,12),new ie(8,13))),new vt(12,Int32Array.from([6,32,58]),new Ne(24,new ie(2,92),new ie(2,93)),new Ne(22,new ie(6,36),new ie(2,37)),new Ne(26,new ie(4,20),new ie(6,21)),new Ne(28,new ie(7,14),new ie(4,15))),new vt(13,Int32Array.from([6,34,62]),new Ne(26,new ie(4,107)),new Ne(22,new ie(8,37),new ie(1,38)),new Ne(24,new ie(8,20),new ie(4,21)),new Ne(22,new ie(12,11),new ie(4,12))),new vt(14,Int32Array.from([6,26,46,66]),new Ne(30,new ie(3,115),new ie(1,116)),new Ne(24,new ie(4,40),new ie(5,41)),new Ne(20,new ie(11,16),new ie(5,17)),new Ne(24,new ie(11,12),new ie(5,13))),new vt(15,Int32Array.from([6,26,48,70]),new Ne(22,new ie(5,87),new ie(1,88)),new Ne(24,new ie(5,41),new ie(5,42)),new Ne(30,new ie(5,24),new ie(7,25)),new Ne(24,new ie(11,12),new ie(7,13))),new vt(16,Int32Array.from([6,26,50,74]),new Ne(24,new ie(5,98),new ie(1,99)),new Ne(28,new ie(7,45),new ie(3,46)),new Ne(24,new ie(15,19),new ie(2,20)),new Ne(30,new ie(3,15),new ie(13,16))),new vt(17,Int32Array.from([6,30,54,78]),new Ne(28,new ie(1,107),new ie(5,108)),new Ne(28,new ie(10,46),new ie(1,47)),new Ne(28,new ie(1,22),new ie(15,23)),new Ne(28,new ie(2,14),new ie(17,15))),new vt(18,Int32Array.from([6,30,56,82]),new Ne(30,new ie(5,120),new ie(1,121)),new Ne(26,new ie(9,43),new ie(4,44)),new Ne(28,new ie(17,22),new ie(1,23)),new Ne(28,new ie(2,14),new ie(19,15))),new vt(19,Int32Array.from([6,30,58,86]),new Ne(28,new ie(3,113),new ie(4,114)),new Ne(26,new ie(3,44),new ie(11,45)),new Ne(26,new ie(17,21),new ie(4,22)),new Ne(26,new ie(9,13),new ie(16,14))),new vt(20,Int32Array.from([6,34,62,90]),new Ne(28,new ie(3,107),new ie(5,108)),new Ne(26,new ie(3,41),new ie(13,42)),new Ne(30,new ie(15,24),new ie(5,25)),new Ne(28,new ie(15,15),new ie(10,16))),new vt(21,Int32Array.from([6,28,50,72,94]),new Ne(28,new ie(4,116),new ie(4,117)),new Ne(26,new ie(17,42)),new Ne(28,new ie(17,22),new ie(6,23)),new Ne(30,new ie(19,16),new ie(6,17))),new vt(22,Int32Array.from([6,26,50,74,98]),new Ne(28,new ie(2,111),new ie(7,112)),new Ne(28,new ie(17,46)),new Ne(30,new ie(7,24),new ie(16,25)),new Ne(24,new ie(34,13))),new vt(23,Int32Array.from([6,30,54,78,102]),new Ne(30,new ie(4,121),new ie(5,122)),new Ne(28,new ie(4,47),new ie(14,48)),new Ne(30,new ie(11,24),new ie(14,25)),new Ne(30,new ie(16,15),new ie(14,16))),new vt(24,Int32Array.from([6,28,54,80,106]),new Ne(30,new ie(6,117),new ie(4,118)),new Ne(28,new ie(6,45),new ie(14,46)),new Ne(30,new ie(11,24),new ie(16,25)),new Ne(30,new ie(30,16),new ie(2,17))),new vt(25,Int32Array.from([6,32,58,84,110]),new Ne(26,new ie(8,106),new ie(4,107)),new Ne(28,new ie(8,47),new ie(13,48)),new Ne(30,new ie(7,24),new ie(22,25)),new Ne(30,new ie(22,15),new ie(13,16))),new vt(26,Int32Array.from([6,30,58,86,114]),new Ne(28,new ie(10,114),new ie(2,115)),new Ne(28,new ie(19,46),new ie(4,47)),new Ne(28,new ie(28,22),new ie(6,23)),new Ne(30,new ie(33,16),new ie(4,17))),new vt(27,Int32Array.from([6,34,62,90,118]),new Ne(30,new ie(8,122),new ie(4,123)),new Ne(28,new ie(22,45),new ie(3,46)),new Ne(30,new ie(8,23),new ie(26,24)),new Ne(30,new ie(12,15),new ie(28,16))),new vt(28,Int32Array.from([6,26,50,74,98,122]),new Ne(30,new ie(3,117),new ie(10,118)),new Ne(28,new ie(3,45),new ie(23,46)),new Ne(30,new ie(4,24),new ie(31,25)),new Ne(30,new ie(11,15),new ie(31,16))),new vt(29,Int32Array.from([6,30,54,78,102,126]),new Ne(30,new ie(7,116),new ie(7,117)),new Ne(28,new ie(21,45),new ie(7,46)),new Ne(30,new ie(1,23),new ie(37,24)),new Ne(30,new ie(19,15),new ie(26,16))),new vt(30,Int32Array.from([6,26,52,78,104,130]),new Ne(30,new ie(5,115),new ie(10,116)),new Ne(28,new ie(19,47),new ie(10,48)),new Ne(30,new ie(15,24),new ie(25,25)),new Ne(30,new ie(23,15),new ie(25,16))),new vt(31,Int32Array.from([6,30,56,82,108,134]),new Ne(30,new ie(13,115),new ie(3,116)),new Ne(28,new ie(2,46),new ie(29,47)),new Ne(30,new ie(42,24),new ie(1,25)),new Ne(30,new ie(23,15),new ie(28,16))),new vt(32,Int32Array.from([6,34,60,86,112,138]),new Ne(30,new ie(17,115)),new Ne(28,new ie(10,46),new ie(23,47)),new Ne(30,new ie(10,24),new ie(35,25)),new Ne(30,new ie(19,15),new ie(35,16))),new vt(33,Int32Array.from([6,30,58,86,114,142]),new Ne(30,new ie(17,115),new ie(1,116)),new Ne(28,new ie(14,46),new ie(21,47)),new Ne(30,new ie(29,24),new ie(19,25)),new Ne(30,new ie(11,15),new ie(46,16))),new vt(34,Int32Array.from([6,34,62,90,118,146]),new Ne(30,new ie(13,115),new ie(6,116)),new Ne(28,new ie(14,46),new ie(23,47)),new Ne(30,new ie(44,24),new ie(7,25)),new Ne(30,new ie(59,16),new ie(1,17))),new vt(35,Int32Array.from([6,30,54,78,102,126,150]),new Ne(30,new ie(12,121),new ie(7,122)),new Ne(28,new ie(12,47),new ie(26,48)),new Ne(30,new ie(39,24),new ie(14,25)),new Ne(30,new ie(22,15),new ie(41,16))),new vt(36,Int32Array.from([6,24,50,76,102,128,154]),new Ne(30,new ie(6,121),new ie(14,122)),new Ne(28,new ie(6,47),new ie(34,48)),new Ne(30,new ie(46,24),new ie(10,25)),new Ne(30,new ie(2,15),new ie(64,16))),new vt(37,Int32Array.from([6,28,54,80,106,132,158]),new Ne(30,new ie(17,122),new ie(4,123)),new Ne(28,new ie(29,46),new ie(14,47)),new Ne(30,new ie(49,24),new ie(10,25)),new Ne(30,new ie(24,15),new ie(46,16))),new vt(38,Int32Array.from([6,32,58,84,110,136,162]),new Ne(30,new ie(4,122),new ie(18,123)),new Ne(28,new ie(13,46),new ie(32,47)),new Ne(30,new ie(48,24),new ie(14,25)),new Ne(30,new ie(42,15),new ie(32,16))),new vt(39,Int32Array.from([6,26,54,82,110,138,166]),new Ne(30,new ie(20,117),new ie(4,118)),new Ne(28,new ie(40,47),new ie(7,48)),new Ne(30,new ie(43,24),new ie(22,25)),new Ne(30,new ie(10,15),new ie(67,16))),new vt(40,Int32Array.from([6,30,58,86,114,142,170]),new Ne(30,new ie(19,118),new ie(6,119)),new Ne(28,new ie(18,47),new ie(31,48)),new Ne(30,new ie(34,24),new ie(34,25)),new Ne(30,new ie(20,15),new ie(61,16)))];var Dr;(function(K){K[K.DATA_MASK_000=0]="DATA_MASK_000",K[K.DATA_MASK_001=1]="DATA_MASK_001",K[K.DATA_MASK_010=2]="DATA_MASK_010",K[K.DATA_MASK_011=3]="DATA_MASK_011",K[K.DATA_MASK_100=4]="DATA_MASK_100",K[K.DATA_MASK_101=5]="DATA_MASK_101",K[K.DATA_MASK_110=6]="DATA_MASK_110",K[K.DATA_MASK_111=7]="DATA_MASK_111"})(Dr||(Dr={}));class ni{constructor(c,f){this.value=c,this.isMasked=f}unmaskBitMatrix(c,f){for(let g=0;g<f;g++)for(let y=0;y<f;y++)this.isMasked(g,y)&&c.flip(y,g)}}ni.values=new Map([[Dr.DATA_MASK_000,new ni(Dr.DATA_MASK_000,(K,c)=>(K+c&1)===0)],[Dr.DATA_MASK_001,new ni(Dr.DATA_MASK_001,(K,c)=>(K&1)===0)],[Dr.DATA_MASK_010,new ni(Dr.DATA_MASK_010,(K,c)=>c%3===0)],[Dr.DATA_MASK_011,new ni(Dr.DATA_MASK_011,(K,c)=>(K+c)%3===0)],[Dr.DATA_MASK_100,new ni(Dr.DATA_MASK_100,(K,c)=>(Math.floor(K/2)+Math.floor(c/3)&1)===0)],[Dr.DATA_MASK_101,new ni(Dr.DATA_MASK_101,(K,c)=>K*c%6===0)],[Dr.DATA_MASK_110,new ni(Dr.DATA_MASK_110,(K,c)=>K*c%6<3)],[Dr.DATA_MASK_111,new ni(Dr.DATA_MASK_111,(K,c)=>(K+c+K*c%3&1)===0)]]);class oy{constructor(c){const f=c.getHeight();if(f<21||(f&3)!==1)throw new F;this.bitMatrix=c}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let c=0;for(let b=0;b<6;b++)c=this.copyBit(b,8,c);c=this.copyBit(7,8,c),c=this.copyBit(8,8,c),c=this.copyBit(8,7,c);for(let b=5;b>=0;b--)c=this.copyBit(8,b,c);const f=this.bitMatrix.getHeight();let g=0;const y=f-7;for(let b=f-1;b>=y;b--)g=this.copyBit(8,b,g);for(let b=f-8;b<f;b++)g=this.copyBit(b,8,g);if(this.parsedFormatInfo=ti.decodeFormatInformation(c,g),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new F}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const c=this.bitMatrix.getHeight(),f=Math.floor((c-17)/4);if(f<=6)return vt.getVersionForNumber(f);let g=0;const y=c-11;for(let j=5;j>=0;j--)for(let E=c-9;E>=y;E--)g=this.copyBit(E,j,g);let b=vt.decodeVersionInformation(g);if(b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;g=0;for(let j=5;j>=0;j--)for(let E=c-9;E>=y;E--)g=this.copyBit(j,E,g);if(b=vt.decodeVersionInformation(g),b!==null&&b.getDimensionForVersion()===c)return this.parsedVersion=b,b;throw new F}copyBit(c,f,g){return(this.isMirror?this.bitMatrix.get(f,c):this.bitMatrix.get(c,f))?g<<1|1:g<<1}readCodewords(){const c=this.readFormatInformation(),f=this.readVersion(),g=ni.values.get(c.getDataMask()),y=this.bitMatrix.getHeight();g.unmaskBitMatrix(this.bitMatrix,y);const b=f.buildFunctionPattern();let j=!0;const E=new Uint8Array(f.getTotalCodewords());let D=0,k=0,$=0;for(let X=y-1;X>0;X-=2){X===6&&X--;for(let Z=0;Z<y;Z++){const ae=j?y-1-Z:Z;for(let ue=0;ue<2;ue++)b.get(X-ue,ae)||($++,k<<=1,this.bitMatrix.get(X-ue,ae)&&(k|=1),$===8&&(E[D++]=k,$=0,k=0))}j=!j}if(D!==f.getTotalCodewords())throw new F;return E}remask(){if(this.parsedFormatInfo===null)return;const c=ni.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,f)}setMirror(c){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=c}mirror(){const c=this.bitMatrix;for(let f=0,g=c.getWidth();f<g;f++)for(let y=f+1,b=c.getHeight();y<b;y++)c.get(f,y)!==c.get(y,f)&&(c.flip(y,f),c.flip(f,y))}}class Fd{constructor(c,f){this.numDataCodewords=c,this.codewords=f}static getDataBlocks(c,f,g){if(c.length!==f.getTotalCodewords())throw new v;const y=f.getECBlocksForLevel(g);let b=0;const j=y.getECBlocks();for(const ue of j)b+=ue.getCount();const E=new Array(b);let D=0;for(const ue of j)for(let fe=0;fe<ue.getCount();fe++){const Se=ue.getDataCodewords(),Oe=y.getECCodewordsPerBlock()+Se;E[D++]=new Fd(Se,new Uint8Array(Oe))}const k=E[0].codewords.length;let $=E.length-1;for(;$>=0&&E[$].codewords.length!==k;)$--;$++;const X=k-y.getECCodewordsPerBlock();let Z=0;for(let ue=0;ue<X;ue++)for(let fe=0;fe<D;fe++)E[fe].codewords[ue]=c[Z++];for(let ue=$;ue<D;ue++)E[ue].codewords[X]=c[Z++];const ae=E[0].codewords.length;for(let ue=X;ue<ae;ue++)for(let fe=0;fe<D;fe++){const Se=fe<$?ue:ue+1;E[fe].codewords[Se]=c[Z++]}return E}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var na;(function(K){K[K.TERMINATOR=0]="TERMINATOR",K[K.NUMERIC=1]="NUMERIC",K[K.ALPHANUMERIC=2]="ALPHANUMERIC",K[K.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",K[K.BYTE=4]="BYTE",K[K.ECI=5]="ECI",K[K.KANJI=6]="KANJI",K[K.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",K[K.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",K[K.HANZI=9]="HANZI"})(na||(na={}));class bt{constructor(c,f,g,y){this.value=c,this.stringValue=f,this.characterCountBitsForVersions=g,this.bits=y,bt.FOR_BITS.set(y,this),bt.FOR_VALUE.set(c,this)}static forBits(c){const f=bt.FOR_BITS.get(c);if(f===void 0)throw new v;return f}getCharacterCountBits(c){const f=c.getVersionNumber();let g;return f<=9?g=0:f<=26?g=1:g=2,this.characterCountBitsForVersions[g]}getValue(){return this.value}getBits(){return this.bits}equals(c){if(!(c instanceof bt))return!1;const f=c;return this.value===f.value}toString(){return this.stringValue}}bt.FOR_BITS=new Map,bt.FOR_VALUE=new Map,bt.TERMINATOR=new bt(na.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),bt.NUMERIC=new bt(na.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),bt.ALPHANUMERIC=new bt(na.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),bt.STRUCTURED_APPEND=new bt(na.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),bt.BYTE=new bt(na.BYTE,"BYTE",Int32Array.from([8,16,16]),4),bt.ECI=new bt(na.ECI,"ECI",Int32Array.from([0,0,0]),7),bt.KANJI=new bt(na.KANJI,"KANJI",Int32Array.from([8,10,12]),8),bt.FNC1_FIRST_POSITION=new bt(na.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),bt.FNC1_SECOND_POSITION=new bt(na.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),bt.HANZI=new bt(na.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Yn{static decode(c,f,g,y){const b=new Li(c);let j=new Q;const E=new Array;let D=-1,k=-1;try{let $=null,X=!1,Z;do{if(b.available()<4)Z=bt.TERMINATOR;else{const ae=b.readBits(4);Z=bt.forBits(ae)}switch(Z){case bt.TERMINATOR:break;case bt.FNC1_FIRST_POSITION:case bt.FNC1_SECOND_POSITION:X=!0;break;case bt.STRUCTURED_APPEND:if(b.available()<16)throw new F;D=b.readBits(8),k=b.readBits(8);break;case bt.ECI:const ae=Yn.parseECIValue(b);if($=z.getCharacterSetECIByValue(ae),$===null)throw new F;break;case bt.HANZI:const ue=b.readBits(4),fe=b.readBits(Z.getCharacterCountBits(f));ue===Yn.GB2312_SUBSET&&Yn.decodeHanziSegment(b,j,fe);break;default:const Se=b.readBits(Z.getCharacterCountBits(f));switch(Z){case bt.NUMERIC:Yn.decodeNumericSegment(b,j,Se);break;case bt.ALPHANUMERIC:Yn.decodeAlphanumericSegment(b,j,Se,X);break;case bt.BYTE:Yn.decodeByteSegment(b,j,Se,$,E,y);break;case bt.KANJI:Yn.decodeKanjiSegment(b,j,Se);break;default:throw new F}break}}while(Z!==bt.TERMINATOR)}catch{throw new F}return new xe(c,j.toString(),E.length===0?null:E,g===null?null:g.toString(),D,k)}static decodeHanziSegment(c,f,g){if(g*13>c.available())throw new F;const y=new Uint8Array(2*g);let b=0;for(;g>0;){const j=c.readBits(13);let E=j/96<<8&4294967295|j%96;E<959?E+=41377:E+=42657,y[b]=E>>8&255,y[b+1]=E&255,b+=2,g--}try{f.append(W.decode(y,q.GB2312))}catch(j){throw new F(j)}}static decodeKanjiSegment(c,f,g){if(g*13>c.available())throw new F;const y=new Uint8Array(2*g);let b=0;for(;g>0;){const j=c.readBits(13);let E=j/192<<8&4294967295|j%192;E<7936?E+=33088:E+=49472,y[b]=E>>8,y[b+1]=E,b+=2,g--}try{f.append(W.decode(y,q.SHIFT_JIS))}catch(j){throw new F(j)}}static decodeByteSegment(c,f,g,y,b,j){if(8*g>c.available())throw new F;const E=new Uint8Array(g);for(let k=0;k<g;k++)E[k]=c.readBits(8);let D;y===null?D=q.guessEncoding(E,j):D=y.getName();try{f.append(W.decode(E,D))}catch(k){throw new F(k)}b.push(E)}static toAlphaNumericChar(c){if(c>=Yn.ALPHANUMERIC_CHARS.length)throw new F;return Yn.ALPHANUMERIC_CHARS[c]}static decodeAlphanumericSegment(c,f,g,y){const b=f.length();for(;g>1;){if(c.available()<11)throw new F;const j=c.readBits(11);f.append(Yn.toAlphaNumericChar(Math.floor(j/45))),f.append(Yn.toAlphaNumericChar(j%45)),g-=2}if(g===1){if(c.available()<6)throw new F;f.append(Yn.toAlphaNumericChar(c.readBits(6)))}if(y)for(let j=b;j<f.length();j++)f.charAt(j)==="%"&&(j<f.length()-1&&f.charAt(j+1)==="%"?f.deleteCharAt(j+1):f.setCharAt(j,""))}static decodeNumericSegment(c,f,g){for(;g>=3;){if(c.available()<10)throw new F;const y=c.readBits(10);if(y>=1e3)throw new F;f.append(Yn.toAlphaNumericChar(Math.floor(y/100))),f.append(Yn.toAlphaNumericChar(Math.floor(y/10)%10)),f.append(Yn.toAlphaNumericChar(y%10)),g-=3}if(g===2){if(c.available()<7)throw new F;const y=c.readBits(7);if(y>=100)throw new F;f.append(Yn.toAlphaNumericChar(Math.floor(y/10))),f.append(Yn.toAlphaNumericChar(y%10))}else if(g===1){if(c.available()<4)throw new F;const y=c.readBits(4);if(y>=10)throw new F;f.append(Yn.toAlphaNumericChar(y))}}static parseECIValue(c){const f=c.readBits(8);if((f&128)===0)return f&127;if((f&192)===128){const g=c.readBits(8);return(f&63)<<8&4294967295|g}if((f&224)===192){const g=c.readBits(16);return(f&31)<<16&4294967295|g}throw new F}}Yn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Yn.GB2312_SUBSET=1;class Mg{constructor(c){this.mirrored=c}isMirrored(){return this.mirrored}applyMirroredCorrection(c){if(!this.mirrored||c===null||c.length<3)return;const f=c[0];c[0]=c[2],c[2]=f}}class Ud{constructor(){this.rsDecoder=new yt(We.QR_CODE_FIELD_256)}decodeBooleanArray(c,f){return this.decodeBitMatrix(te.parseFromBooleanArray(c),f)}decodeBitMatrix(c,f){const g=new oy(c);let y=null;try{return this.decodeBitMatrixParser(g,f)}catch(b){y=b}try{g.remask(),g.setMirror(!0),g.readVersion(),g.readFormatInformation(),g.mirror();const b=this.decodeBitMatrixParser(g,f);return b.setOther(new Mg(!0)),b}catch(b){throw y!==null?y:b}}decodeBitMatrixParser(c,f){const g=c.readVersion(),y=c.readFormatInformation().getErrorCorrectionLevel(),b=c.readCodewords(),j=Fd.getDataBlocks(b,g,y);let E=0;for(const $ of j)E+=$.getNumDataCodewords();const D=new Uint8Array(E);let k=0;for(const $ of j){const X=$.getCodewords(),Z=$.getNumDataCodewords();this.correctErrors(X,Z);for(let ae=0;ae<Z;ae++)D[k++]=X[ae]}return Yn.decode(D,g,y,f)}correctErrors(c,f){const g=new Int32Array(c);try{this.rsDecoder.decode(g,c.length-f)}catch{throw new A}for(let y=0;y<f;y++)c[y]=g[y]}}class xu extends it{constructor(c,f,g){super(c,f),this.estimatedModuleSize=g}aboutEquals(c,f,g){if(Math.abs(f-this.getY())<=c&&Math.abs(g-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,f,g){const y=(this.getX()+f)/2,b=(this.getY()+c)/2,j=(this.estimatedModuleSize+g)/2;return new xu(y,b,j)}}class Jl{constructor(c,f,g,y,b,j,E){this.image=c,this.startX=f,this.startY=g,this.width=y,this.height=b,this.moduleSize=j,this.resultPointCallback=E,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const c=this.startX,f=this.height,g=this.width,y=c+g,b=this.startY+f/2,j=new Int32Array(3),E=this.image;for(let D=0;D<f;D++){const k=b+((D&1)===0?Math.floor((D+1)/2):-Math.floor((D+1)/2));j[0]=0,j[1]=0,j[2]=0;let $=c;for(;$<y&&!E.get($,k);)$++;let X=0;for(;$<y;){if(E.get($,k))if(X===1)j[1]++;else if(X===2){if(this.foundPatternCross(j)){const Z=this.handlePossibleCenter(j,k,$);if(Z!==null)return Z}j[0]=j[2],j[1]=1,j[2]=0,X=1}else j[++X]++;else X===1&&X++,j[X]++;$++}if(this.foundPatternCross(j)){const Z=this.handlePossibleCenter(j,k,y);if(Z!==null)return Z}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new J}static centerFromEnd(c,f){return f-c[2]-c[1]/2}foundPatternCross(c){const f=this.moduleSize,g=f/2;for(let y=0;y<3;y++)if(Math.abs(f-c[y])>=g)return!1;return!0}crossCheckVertical(c,f,g,y){const b=this.image,j=b.getHeight(),E=this.crossCheckStateCount;E[0]=0,E[1]=0,E[2]=0;let D=c;for(;D>=0&&b.get(f,D)&&E[1]<=g;)E[1]++,D--;if(D<0||E[1]>g)return NaN;for(;D>=0&&!b.get(f,D)&&E[0]<=g;)E[0]++,D--;if(E[0]>g)return NaN;for(D=c+1;D<j&&b.get(f,D)&&E[1]<=g;)E[1]++,D++;if(D===j||E[1]>g)return NaN;for(;D<j&&!b.get(f,D)&&E[2]<=g;)E[2]++,D++;if(E[2]>g)return NaN;const k=E[0]+E[1]+E[2];return 5*Math.abs(k-y)>=2*y?NaN:this.foundPatternCross(E)?Jl.centerFromEnd(E,D):NaN}handlePossibleCenter(c,f,g){const y=c[0]+c[1]+c[2],b=Jl.centerFromEnd(c,g),j=this.crossCheckVertical(f,b,2*c[1],y);if(!isNaN(j)){const E=(c[0]+c[1]+c[2])/3;for(const k of this.possibleCenters)if(k.aboutEquals(E,j,b))return k.combineEstimate(j,b,E);const D=new xu(b,j,E);this.possibleCenters.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return null}}class ho extends it{constructor(c,f,g,y){super(c,f),this.estimatedModuleSize=g,this.count=y,y===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(c,f,g){if(Math.abs(f-this.getY())<=c&&Math.abs(g-this.getX())<=c){const y=Math.abs(c-this.estimatedModuleSize);return y<=1||y<=this.estimatedModuleSize}return!1}combineEstimate(c,f,g){const y=this.count+1,b=(this.count*this.getX()+f)/y,j=(this.count*this.getY()+c)/y,E=(this.count*this.estimatedModuleSize+g)/y;return new ho(b,j,E,y)}}class ec{constructor(c){this.bottomLeft=c[0],this.topLeft=c[1],this.topRight=c[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rr{constructor(c,f){this.image=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(c){const f=c!=null&&c.get(L.TRY_HARDER)!==void 0,g=c!=null&&c.get(L.PURE_BARCODE)!==void 0,y=this.image,b=y.getHeight(),j=y.getWidth();let E=Math.floor(3*b/(4*Rr.MAX_MODULES));(E<Rr.MIN_SKIP||f)&&(E=Rr.MIN_SKIP);let D=!1;const k=new Int32Array(5);for(let X=E-1;X<b&&!D;X+=E){k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0;let Z=0;for(let ae=0;ae<j;ae++)if(y.get(ae,X))(Z&1)===1&&Z++,k[Z]++;else if((Z&1)===0)if(Z===4)if(Rr.foundPatternCross(k)){if(this.handlePossibleCenter(k,X,ae,g)===!0)if(E=2,this.hasSkipped===!0)D=this.haveMultiplyConfirmedCenters();else{const fe=this.findRowSkip();fe>k[2]&&(X+=fe-k[2]-E,ae=j-1)}else{k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,Z=3;continue}Z=0,k[0]=0,k[1]=0,k[2]=0,k[3]=0,k[4]=0}else k[0]=k[2],k[1]=k[3],k[2]=k[4],k[3]=1,k[4]=0,Z=3;else k[++Z]++;else k[Z]++;Rr.foundPatternCross(k)&&this.handlePossibleCenter(k,X,j,g)===!0&&(E=k[0],this.hasSkipped&&(D=this.haveMultiplyConfirmedCenters()))}const $=this.selectBestPatterns();return it.orderBestPatterns($),new ec($)}static centerFromEnd(c,f){return f-c[4]-c[3]-c[2]/2}static foundPatternCross(c){let f=0;for(let b=0;b<5;b++){const j=c[b];if(j===0)return!1;f+=j}if(f<7)return!1;const g=f/7,y=g/2;return Math.abs(g-c[0])<y&&Math.abs(g-c[1])<y&&Math.abs(3*g-c[2])<3*y&&Math.abs(g-c[3])<y&&Math.abs(g-c[4])<y}getCrossCheckStateCount(){const c=this.crossCheckStateCount;return c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0,c}crossCheckDiagonal(c,f,g,y){const b=this.getCrossCheckStateCount();let j=0;const E=this.image;for(;c>=j&&f>=j&&E.get(f-j,c-j);)b[2]++,j++;if(c<j||f<j)return!1;for(;c>=j&&f>=j&&!E.get(f-j,c-j)&&b[1]<=g;)b[1]++,j++;if(c<j||f<j||b[1]>g)return!1;for(;c>=j&&f>=j&&E.get(f-j,c-j)&&b[0]<=g;)b[0]++,j++;if(b[0]>g)return!1;const D=E.getHeight(),k=E.getWidth();for(j=1;c+j<D&&f+j<k&&E.get(f+j,c+j);)b[2]++,j++;if(c+j>=D||f+j>=k)return!1;for(;c+j<D&&f+j<k&&!E.get(f+j,c+j)&&b[3]<g;)b[3]++,j++;if(c+j>=D||f+j>=k||b[3]>=g)return!1;for(;c+j<D&&f+j<k&&E.get(f+j,c+j)&&b[4]<g;)b[4]++,j++;if(b[4]>=g)return!1;const $=b[0]+b[1]+b[2]+b[3]+b[4];return Math.abs($-y)<2*y&&Rr.foundPatternCross(b)}crossCheckVertical(c,f,g,y){const b=this.image,j=b.getHeight(),E=this.getCrossCheckStateCount();let D=c;for(;D>=0&&b.get(f,D);)E[2]++,D--;if(D<0)return NaN;for(;D>=0&&!b.get(f,D)&&E[1]<=g;)E[1]++,D--;if(D<0||E[1]>g)return NaN;for(;D>=0&&b.get(f,D)&&E[0]<=g;)E[0]++,D--;if(E[0]>g)return NaN;for(D=c+1;D<j&&b.get(f,D);)E[2]++,D++;if(D===j)return NaN;for(;D<j&&!b.get(f,D)&&E[3]<g;)E[3]++,D++;if(D===j||E[3]>=g)return NaN;for(;D<j&&b.get(f,D)&&E[4]<g;)E[4]++,D++;if(E[4]>=g)return NaN;const k=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(k-y)>=2*y?NaN:Rr.foundPatternCross(E)?Rr.centerFromEnd(E,D):NaN}crossCheckHorizontal(c,f,g,y){const b=this.image,j=b.getWidth(),E=this.getCrossCheckStateCount();let D=c;for(;D>=0&&b.get(D,f);)E[2]++,D--;if(D<0)return NaN;for(;D>=0&&!b.get(D,f)&&E[1]<=g;)E[1]++,D--;if(D<0||E[1]>g)return NaN;for(;D>=0&&b.get(D,f)&&E[0]<=g;)E[0]++,D--;if(E[0]>g)return NaN;for(D=c+1;D<j&&b.get(D,f);)E[2]++,D++;if(D===j)return NaN;for(;D<j&&!b.get(D,f)&&E[3]<g;)E[3]++,D++;if(D===j||E[3]>=g)return NaN;for(;D<j&&b.get(D,f)&&E[4]<g;)E[4]++,D++;if(E[4]>=g)return NaN;const k=E[0]+E[1]+E[2]+E[3]+E[4];return 5*Math.abs(k-y)>=y?NaN:Rr.foundPatternCross(E)?Rr.centerFromEnd(E,D):NaN}handlePossibleCenter(c,f,g,y){const b=c[0]+c[1]+c[2]+c[3]+c[4];let j=Rr.centerFromEnd(c,g),E=this.crossCheckVertical(f,Math.floor(j),c[2],b);if(!isNaN(E)&&(j=this.crossCheckHorizontal(Math.floor(j),Math.floor(E),c[2],b),!isNaN(j)&&(!y||this.crossCheckDiagonal(Math.floor(E),Math.floor(j),c[2],b)))){const D=b/7;let k=!1;const $=this.possibleCenters;for(let X=0,Z=$.length;X<Z;X++){const ae=$[X];if(ae.aboutEquals(D,E,j)){$[X]=ae.combineEstimate(E,j,D),k=!0;break}}if(!k){const X=new ho(j,E,D);$.push(X),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(X)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const g of this.possibleCenters)if(g.getCount()>=Rr.CENTER_QUORUM)if(f==null)f=g;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-g.getX())-Math.abs(f.getY()-g.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let c=0,f=0;const g=this.possibleCenters.length;for(const j of this.possibleCenters)j.getCount()>=Rr.CENTER_QUORUM&&(c++,f+=j.getEstimatedModuleSize());if(c<3)return!1;const y=f/g;let b=0;for(const j of this.possibleCenters)b+=Math.abs(j.getEstimatedModuleSize()-y);return b<=.05*f}selectBestPatterns(){const c=this.possibleCenters.length;if(c<3)throw new J;const f=this.possibleCenters;let g;if(c>3){let y=0,b=0;for(const D of this.possibleCenters){const k=D.getEstimatedModuleSize();y+=k,b+=k*k}g=y/c;let j=Math.sqrt(b/c-g*g);f.sort((D,k)=>{const $=Math.abs(k.getEstimatedModuleSize()-g),X=Math.abs(D.getEstimatedModuleSize()-g);return $<X?-1:$>X?1:0});const E=Math.max(.2*g,j);for(let D=0;D<f.length&&f.length>3;D++){const k=f[D];Math.abs(k.getEstimatedModuleSize()-g)>E&&(f.splice(D,1),D--)}}if(f.length>3){let y=0;for(const b of f)y+=b.getEstimatedModuleSize();g=y/f.length,f.sort((b,j)=>{if(j.getCount()===b.getCount()){const E=Math.abs(j.getEstimatedModuleSize()-g),D=Math.abs(b.getEstimatedModuleSize()-g);return E<D?1:E>D?-1:0}else return j.getCount()-b.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}Rr.CENTER_QUORUM=2,Rr.MIN_SKIP=3,Rr.MAX_MODULES=57;class nl{constructor(c){this.image=c}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(c){this.resultPointCallback=c==null?null:c.get(L.NEED_RESULT_POINT_CALLBACK);const g=new Rr(this.image,this.resultPointCallback).find(c);return this.processFinderPatternInfo(g)}processFinderPatternInfo(c){const f=c.getTopLeft(),g=c.getTopRight(),y=c.getBottomLeft(),b=this.calculateModuleSize(f,g,y);if(b<1)throw new J("No pattern found in proccess finder.");const j=nl.computeDimension(f,g,y,b),E=vt.getProvisionalVersionForDimension(j),D=E.getDimensionForVersion()-7;let k=null;if(E.getAlignmentPatternCenters().length>0){const ae=g.getX()-f.getX()+y.getX(),ue=g.getY()-f.getY()+y.getY(),fe=1-3/D,Se=Math.floor(f.getX()+fe*(ae-f.getX())),Oe=Math.floor(f.getY()+fe*(ue-f.getY()));for(let Ye=4;Ye<=16;Ye<<=1)try{k=this.findAlignmentInRegion(b,Se,Oe,Ye);break}catch(Xe){if(!(Xe instanceof J))throw Xe}}const $=nl.createTransform(f,g,y,k,j),X=nl.sampleGrid(this.image,$,j);let Z;return k===null?Z=[y,f,g]:Z=[y,f,g,k],new fn(X,Z)}static createTransform(c,f,g,y,b){const j=b-3.5;let E,D,k,$;return y!==null?(E=y.getX(),D=y.getY(),k=j-3,$=k):(E=f.getX()-c.getX()+g.getX(),D=f.getY()-c.getY()+g.getY(),k=j,$=j),vn.quadrilateralToQuadrilateral(3.5,3.5,j,3.5,k,$,3.5,j,c.getX(),c.getY(),f.getX(),f.getY(),E,D,g.getX(),g.getY())}static sampleGrid(c,f,g){return cr.getInstance().sampleGridWithTransform(c,g,g,f)}static computeDimension(c,f,g,y){const b=tt.round(it.distance(c,f)/y),j=tt.round(it.distance(c,g)/y);let E=Math.floor((b+j)/2)+7;switch(E&3){case 0:E++;break;case 2:E--;break;case 3:throw new J("Dimensions could be not found.")}return E}calculateModuleSize(c,f,g){return(this.calculateModuleSizeOneWay(c,f)+this.calculateModuleSizeOneWay(c,g))/2}calculateModuleSizeOneWay(c,f){const g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.getX()),Math.floor(c.getY()),Math.floor(f.getX()),Math.floor(f.getY())),y=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(c.getX()),Math.floor(c.getY()));return isNaN(g)?y/7:isNaN(y)?g/7:(g+y)/14}sizeOfBlackWhiteBlackRunBothWays(c,f,g,y){let b=this.sizeOfBlackWhiteBlackRun(c,f,g,y),j=1,E=c-(g-c);E<0?(j=c/(c-E),E=0):E>=this.image.getWidth()&&(j=(this.image.getWidth()-1-c)/(E-c),E=this.image.getWidth()-1);let D=Math.floor(f-(y-f)*j);return j=1,D<0?(j=f/(f-D),D=0):D>=this.image.getHeight()&&(j=(this.image.getHeight()-1-f)/(D-f),D=this.image.getHeight()-1),E=Math.floor(c+(E-c)*j),b+=this.sizeOfBlackWhiteBlackRun(c,f,E,D),b-1}sizeOfBlackWhiteBlackRun(c,f,g,y){const b=Math.abs(y-f)>Math.abs(g-c);if(b){let ae=c;c=f,f=ae,ae=g,g=y,y=ae}const j=Math.abs(g-c),E=Math.abs(y-f);let D=-j/2;const k=c<g?1:-1,$=f<y?1:-1;let X=0;const Z=g+k;for(let ae=c,ue=f;ae!==Z;ae+=k){const fe=b?ue:ae,Se=b?ae:ue;if(X===1===this.image.get(fe,Se)){if(X===2)return tt.distance(ae,ue,c,f);X++}if(D+=E,D>0){if(ue===y)break;ue+=$,D-=j}}return X===2?tt.distance(g+k,y,c,f):NaN}findAlignmentInRegion(c,f,g,y){const b=Math.floor(y*c),j=Math.max(0,f-b),E=Math.min(this.image.getWidth()-1,f+b);if(E-j<c*3)throw new J("Alignment top exceeds estimated module size.");const D=Math.max(0,g-b),k=Math.min(this.image.getHeight()-1,g+b);if(k-D<c*3)throw new J("Alignment bottom exceeds estimated module size.");return new Jl(this.image,j,D,E-j,k-D,c,this.resultPointCallback).find()}}class Vs{constructor(){this.decoder=new Ud}getDecoder(){return this.decoder}decode(c,f){let g,y;if(f!=null&&f.get(L.PURE_BARCODE)!==void 0){const D=Vs.extractPureBits(c.getBlackMatrix());g=this.decoder.decodeBitMatrix(D,f),y=Vs.NO_POINTS}else{const D=new nl(c.getBlackMatrix()).detect(f);g=this.decoder.decodeBitMatrix(D.getBits(),f),y=D.getPoints()}g.getOther()instanceof Mg&&g.getOther().applyMirroredCorrection(y);const b=new Re(g.getText(),g.getRawBytes(),void 0,y,le.QR_CODE,void 0),j=g.getByteSegments();j!==null&&b.putMetadata(je.BYTE_SEGMENTS,j);const E=g.getECLevel();return E!==null&&b.putMetadata(je.ERROR_CORRECTION_LEVEL,E),g.hasStructuredAppend()&&(b.putMetadata(je.STRUCTURED_APPEND_SEQUENCE,g.getStructuredAppendSequenceNumber()),b.putMetadata(je.STRUCTURED_APPEND_PARITY,g.getStructuredAppendParity())),b}reset(){}static extractPureBits(c){const f=c.getTopLeftOnBit(),g=c.getBottomRightOnBit();if(f===null||g===null)throw new J;const y=this.moduleSize(f,c);let b=f[1],j=g[1],E=f[0],D=g[0];if(E>=D||b>=j)throw new J;if(j-b!==D-E&&(D=E+(j-b),D>=c.getWidth()))throw new J;const k=Math.round((D-E+1)/y),$=Math.round((j-b+1)/y);if(k<=0||$<=0)throw new J;if($!==k)throw new J;const X=Math.floor(y/2);b+=X,E+=X;const Z=E+Math.floor((k-1)*y)-D;if(Z>0){if(Z>X)throw new J;E-=Z}const ae=b+Math.floor(($-1)*y)-j;if(ae>0){if(ae>X)throw new J;b-=ae}const ue=new te(k,$);for(let fe=0;fe<$;fe++){const Se=b+Math.floor(fe*y);for(let Oe=0;Oe<k;Oe++)c.get(E+Math.floor(Oe*y),Se)&&ue.set(Oe,fe)}return ue}static moduleSize(c,f){const g=f.getHeight(),y=f.getWidth();let b=c[0],j=c[1],E=!0,D=0;for(;b<y&&j<g;){if(E!==f.get(b,j)){if(++D===5)break;E=!E}b++,j++}if(b===y||j===g)throw new J;return(b-c[0])/7}}Vs.NO_POINTS=new Array;class jt{PDF417Common(){}static getBitCountSum(c){return tt.sum(c)}static toIntArray(c){if(c==null||!c.length)return jt.EMPTY_INT_ARRAY;const f=new Int32Array(c.length);let g=0;for(const y of c)f[g++]=y;return f}static getCodeword(c){const f=P.binarySearch(jt.SYMBOL_TABLE,c&262143);return f<0?-1:(jt.CODEWORD_TABLE[f]-1)%jt.NUMBER_OF_CODEWORDS}}jt.NUMBER_OF_CODEWORDS=929,jt.MAX_CODEWORDS_IN_BARCODE=jt.NUMBER_OF_CODEWORDS-1,jt.MIN_ROWS_IN_BARCODE=3,jt.MAX_ROWS_IN_BARCODE=90,jt.MODULES_IN_CODEWORD=17,jt.MODULES_IN_STOP_PATTERN=18,jt.BARS_IN_MODULE=8,jt.EMPTY_INT_ARRAY=new Int32Array([]),jt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),jt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class $s{constructor(c,f){this.bits=c,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class It{static detectMultiple(c,f,g){let y=c.getBlackMatrix(),b=It.detect(g,y);return b.length||(y=y.clone(),y.rotate180(),b=It.detect(g,y)),new $s(y,b)}static detect(c,f){const g=new Array;let y=0,b=0,j=!1;for(;y<f.getHeight();){const E=It.findVertices(f,y,b);if(E[0]==null&&E[3]==null){if(!j)break;j=!1,b=0;for(const D of g)D[1]!=null&&(y=Math.trunc(Math.max(y,D[1].getY()))),D[3]!=null&&(y=Math.max(y,Math.trunc(D[3].getY())));y+=It.ROW_STEP;continue}if(j=!0,g.push(E),!c)break;E[2]!=null?(b=Math.trunc(E[2].getX()),y=Math.trunc(E[2].getY())):(b=Math.trunc(E[4].getX()),y=Math.trunc(E[4].getY()))}return g}static findVertices(c,f,g){const y=c.getHeight(),b=c.getWidth(),j=new Array(8);return It.copyToResult(j,It.findRowsWithPattern(c,y,b,f,g,It.START_PATTERN),It.INDEXES_START_PATTERN),j[4]!=null&&(g=Math.trunc(j[4].getX()),f=Math.trunc(j[4].getY())),It.copyToResult(j,It.findRowsWithPattern(c,y,b,f,g,It.STOP_PATTERN),It.INDEXES_STOP_PATTERN),j}static copyToResult(c,f,g){for(let y=0;y<g.length;y++)c[g[y]]=f[y]}static findRowsWithPattern(c,f,g,y,b,j){const E=new Array(4);let D=!1;const k=new Int32Array(j.length);for(;y<f;y+=It.ROW_STEP){let X=It.findGuardPattern(c,b,y,g,!1,j,k);if(X!=null){for(;y>0;){const Z=It.findGuardPattern(c,b,--y,g,!1,j,k);if(Z!=null)X=Z;else{y++;break}}E[0]=new it(X[0],y),E[1]=new it(X[1],y),D=!0;break}}let $=y+1;if(D){let X=0,Z=Int32Array.from([Math.trunc(E[0].getX()),Math.trunc(E[1].getX())]);for(;$<f;$++){const ae=It.findGuardPattern(c,Z[0],$,g,!1,j,k);if(ae!=null&&Math.abs(Z[0]-ae[0])<It.MAX_PATTERN_DRIFT&&Math.abs(Z[1]-ae[1])<It.MAX_PATTERN_DRIFT)Z=ae,X=0;else{if(X>It.SKIPPED_ROW_COUNT_MAX)break;X++}}$-=X+1,E[2]=new it(Z[0],$),E[3]=new it(Z[1],$)}return $-y<It.BARCODE_MIN_HEIGHT&&P.fill(E,null),E}static findGuardPattern(c,f,g,y,b,j,E){P.fillWithin(E,0,E.length,0);let D=f,k=0;for(;c.get(D,g)&&D>0&&k++<It.MAX_PIXEL_DRIFT;)D--;let $=D,X=0,Z=j.length;for(let ae=b;$<y;$++)if(c.get($,g)!==ae)E[X]++;else{if(X===Z-1){if(It.patternMatchVariance(E,j,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE)return new Int32Array([D,$]);D+=E[0]+E[1],_.arraycopy(E,2,E,0,X-1),E[X-1]=0,E[X]=0,X--}else X++;E[X]=1,ae=!ae}return X===Z-1&&It.patternMatchVariance(E,j,It.MAX_INDIVIDUAL_VARIANCE)<It.MAX_AVG_VARIANCE?new Int32Array([D,$-1]):null}static patternMatchVariance(c,f,g){let y=c.length,b=0,j=0;for(let k=0;k<y;k++)b+=c[k],j+=f[k];if(b<j)return 1/0;let E=b/j;g*=E;let D=0;for(let k=0;k<y;k++){let $=c[k],X=f[k]*E,Z=$>X?$-X:X-$;if(Z>g)return 1/0;D+=Z}return D/b}}It.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),It.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),It.MAX_AVG_VARIANCE=.42,It.MAX_INDIVIDUAL_VARIANCE=.8,It.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),It.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),It.MAX_PIXEL_DRIFT=3,It.MAX_PATTERN_DRIFT=5,It.SKIPPED_ROW_COUNT_MAX=25,It.ROW_STEP=5,It.BARCODE_MIN_HEIGHT=10;class dr{constructor(c,f){if(f.length===0)throw new v;this.field=c;let g=f.length;if(g>1&&f[0]===0){let y=1;for(;y<g&&f[y]===0;)y++;y===g?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(g-y),_.arraycopy(f,y,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(c){return this.coefficients[this.coefficients.length-1-c]}evaluateAt(c){if(c===0)return this.getCoefficient(0);if(c===1){let y=0;for(let b of this.coefficients)y=this.field.add(y,b);return y}let f=this.coefficients[0],g=this.coefficients.length;for(let y=1;y<g;y++)f=this.field.add(this.field.multiply(c,f),this.coefficients[y]);return f}add(c){if(!this.field.equals(c.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero())return c;if(c.isZero())return this;let f=this.coefficients,g=c.coefficients;if(f.length>g.length){let j=f;f=g,g=j}let y=new Int32Array(g.length),b=g.length-f.length;_.arraycopy(g,0,y,0,b);for(let j=b;j<g.length;j++)y[j]=this.field.add(f[j-b],g[j]);return new dr(this.field,y)}subtract(c){if(!this.field.equals(c.field))throw new v("ModulusPolys do not have same ModulusGF field");return c.isZero()?this:this.add(c.negative())}multiply(c){return c instanceof dr?this.multiplyOther(c):this.multiplyScalar(c)}multiplyOther(c){if(!this.field.equals(c.field))throw new v("ModulusPolys do not have same ModulusGF field");if(this.isZero()||c.isZero())return new dr(this.field,new Int32Array([0]));let f=this.coefficients,g=f.length,y=c.coefficients,b=y.length,j=new Int32Array(g+b-1);for(let E=0;E<g;E++){let D=f[E];for(let k=0;k<b;k++)j[E+k]=this.field.add(j[E+k],this.field.multiply(D,y[k]))}return new dr(this.field,j)}negative(){let c=this.coefficients.length,f=new Int32Array(c);for(let g=0;g<c;g++)f[g]=this.field.subtract(0,this.coefficients[g]);return new dr(this.field,f)}multiplyScalar(c){if(c===0)return new dr(this.field,new Int32Array([0]));if(c===1)return this;let f=this.coefficients.length,g=new Int32Array(f);for(let y=0;y<f;y++)g[y]=this.field.multiply(this.coefficients[y],c);return new dr(this.field,g)}multiplyByMonomial(c,f){if(c<0)throw new v;if(f===0)return new dr(this.field,new Int32Array([0]));let g=this.coefficients.length,y=new Int32Array(g+c);for(let b=0;b<g;b++)y[b]=this.field.multiply(this.coefficients[b],f);return new dr(this.field,y)}toString(){let c=new Q;for(let f=this.getDegree();f>=0;f--){let g=this.getCoefficient(f);g!==0&&(g<0?(c.append(" - "),g=-g):c.length()>0&&c.append(" + "),(f===0||g!==1)&&c.append(g),f!==0&&(f===1?c.append("x"):(c.append("x^"),c.append(f))))}return c.toString()}}class mo{add(c,f){return(c+f)%this.modulus}subtract(c,f){return(this.modulus+c-f)%this.modulus}exp(c){return this.expTable[c]}log(c){if(c===0)throw new v;return this.logTable[c]}inverse(c){if(c===0)throw new we;return this.expTable[this.modulus-this.logTable[c]-1]}multiply(c,f){return c===0||f===0?0:this.expTable[(this.logTable[c]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(c){return c===this}}class vu extends mo{constructor(c,f){super(),this.modulus=c,this.expTable=new Int32Array(c),this.logTable=new Int32Array(c);let g=1;for(let y=0;y<c;y++)this.expTable[y]=g,g=g*f%c;for(let y=0;y<c-1;y++)this.logTable[this.expTable[y]]=y;this.zero=new dr(this,new Int32Array([0])),this.one=new dr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(c,f){if(c<0)throw new v;if(f===0)return this.zero;let g=new Int32Array(c+1);return g[0]=f,new dr(this,g)}}vu.PDF417_GF=new vu(jt.NUMBER_OF_CODEWORDS,3);class yu{constructor(){this.field=vu.PDF417_GF}decode(c,f,g){let y=new dr(this.field,c),b=new Int32Array(f),j=!1;for(let ue=f;ue>0;ue--){let fe=y.evaluateAt(this.field.exp(ue));b[f-ue]=fe,fe!==0&&(j=!0)}if(!j)return 0;let E=this.field.getOne();if(g!=null)for(const ue of g){let fe=this.field.exp(c.length-1-ue),Se=new dr(this.field,new Int32Array([this.field.subtract(0,fe),1]));E=E.multiply(Se)}let D=new dr(this.field,b),k=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),D,f),$=k[0],X=k[1],Z=this.findErrorLocations($),ae=this.findErrorMagnitudes(X,$,Z);for(let ue=0;ue<Z.length;ue++){let fe=c.length-1-this.field.log(Z[ue]);if(fe<0)throw A.getChecksumInstance();c[fe]=this.field.subtract(c[fe],ae[ue])}return Z.length}runEuclideanAlgorithm(c,f,g){if(c.getDegree()<f.getDegree()){let Z=c;c=f,f=Z}let y=c,b=f,j=this.field.getZero(),E=this.field.getOne();for(;b.getDegree()>=Math.round(g/2);){let Z=y,ae=j;if(y=b,j=E,y.isZero())throw A.getChecksumInstance();b=Z;let ue=this.field.getZero(),fe=y.getCoefficient(y.getDegree()),Se=this.field.inverse(fe);for(;b.getDegree()>=y.getDegree()&&!b.isZero();){let Oe=b.getDegree()-y.getDegree(),Ye=this.field.multiply(b.getCoefficient(b.getDegree()),Se);ue=ue.add(this.field.buildMonomial(Oe,Ye)),b=b.subtract(y.multiplyByMonomial(Oe,Ye))}E=ue.multiply(j).subtract(ae).negative()}let D=E.getCoefficient(0);if(D===0)throw A.getChecksumInstance();let k=this.field.inverse(D),$=E.multiply(k),X=b.multiply(k);return[$,X]}findErrorLocations(c){let f=c.getDegree(),g=new Int32Array(f),y=0;for(let b=1;b<this.field.getSize()&&y<f;b++)c.evaluateAt(b)===0&&(g[y]=this.field.inverse(b),y++);if(y!==f)throw A.getChecksumInstance();return g}findErrorMagnitudes(c,f,g){let y=f.getDegree(),b=new Int32Array(y);for(let k=1;k<=y;k++)b[y-k]=this.field.multiply(k,f.getCoefficient(k));let j=new dr(this.field,b),E=g.length,D=new Int32Array(E);for(let k=0;k<E;k++){let $=this.field.inverse(g[k]),X=this.field.subtract(0,c.evaluateAt($)),Z=this.field.inverse(j.evaluateAt($));D[k]=this.field.multiply(X,Z)}return D}}class go{constructor(c,f,g,y,b){c instanceof go?this.constructor_2(c):this.constructor_1(c,f,g,y,b)}constructor_1(c,f,g,y,b){const j=f==null||g==null,E=y==null||b==null;if(j&&E)throw new J;j?(f=new it(0,y.getY()),g=new it(0,b.getY())):E&&(y=new it(c.getWidth()-1,f.getY()),b=new it(c.getWidth()-1,g.getY())),this.image=c,this.topLeft=f,this.bottomLeft=g,this.topRight=y,this.bottomRight=b,this.minX=Math.trunc(Math.min(f.getX(),g.getX())),this.maxX=Math.trunc(Math.max(y.getX(),b.getX())),this.minY=Math.trunc(Math.min(f.getY(),y.getY())),this.maxY=Math.trunc(Math.max(g.getY(),b.getY()))}constructor_2(c){this.image=c.image,this.topLeft=c.getTopLeft(),this.bottomLeft=c.getBottomLeft(),this.topRight=c.getTopRight(),this.bottomRight=c.getBottomRight(),this.minX=c.getMinX(),this.maxX=c.getMaxX(),this.minY=c.getMinY(),this.maxY=c.getMaxY()}static merge(c,f){return c==null?f:f==null?c:new go(c.image,c.topLeft,c.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(c,f,g){let y=this.topLeft,b=this.bottomLeft,j=this.topRight,E=this.bottomRight;if(c>0){let D=g?this.topLeft:this.topRight,k=Math.trunc(D.getY()-c);k<0&&(k=0);let $=new it(D.getX(),k);g?y=$:j=$}if(f>0){let D=g?this.bottomLeft:this.bottomRight,k=Math.trunc(D.getY()+f);k>=this.image.getHeight()&&(k=this.image.getHeight()-1);let $=new it(D.getX(),k);g?b=$:E=$}return new go(this.image,y,b,j,E)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class zd{constructor(c,f,g,y){this.columnCount=c,this.errorCorrectionLevel=y,this.rowCountUpperPart=f,this.rowCountLowerPart=g,this.rowCount=f+g}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class po{constructor(){this.buffer=""}static form(c,f){let g=-1;function y(j,E,D,k,$,X){if(j==="%%")return"%";if(f[++g]===void 0)return;j=k?parseInt(k.substr(1)):void 0;let Z=$?parseInt($.substr(1)):void 0,ae;switch(X){case"s":ae=f[g];break;case"c":ae=f[g][0];break;case"f":ae=parseFloat(f[g]).toFixed(j);break;case"p":ae=parseFloat(f[g]).toPrecision(j);break;case"e":ae=parseFloat(f[g]).toExponential(j);break;case"x":ae=parseInt(f[g]).toString(Z||16);break;case"d":ae=parseFloat(parseInt(f[g],Z||10).toPrecision(j)).toFixed(0);break}ae=typeof ae=="object"?JSON.stringify(ae):(+ae).toString(Z);let ue=parseInt(D),fe=D&&D[0]+""=="0"?"0":" ";for(;ae.length<ue;)ae=E!==void 0?ae+fe:fe+ae;return ae}let b=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return c.replace(b,y)}format(c,...f){this.buffer+=po.form(c,f)}toString(){return this.buffer}}class tc{constructor(c){this.boundingBox=new go(c),this.codewords=new Array(c.getMaxY()-c.getMinY()+1)}getCodewordNearby(c){let f=this.getCodeword(c);if(f!=null)return f;for(let g=1;g<tc.MAX_NEARBY_DISTANCE;g++){let y=this.imageRowToCodewordIndex(c)-g;if(y>=0&&(f=this.codewords[y],f!=null)||(y=this.imageRowToCodewordIndex(c)+g,y<this.codewords.length&&(f=this.codewords[y],f!=null)))return f}return null}imageRowToCodewordIndex(c){return c-this.boundingBox.getMinY()}setCodeword(c,f){this.codewords[this.imageRowToCodewordIndex(c)]=f}getCodeword(c){return this.codewords[this.imageRowToCodewordIndex(c)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const c=new po;let f=0;for(const g of this.codewords){if(g==null){c.format("%3d:    |   %n",f++);continue}c.format("%3d: %3d|%3d%n",f++,g.getRowNumber(),g.getValue())}return c.toString()}}tc.MAX_NEARBY_DISTANCE=5;class Hr{constructor(){this.values=new Map}setValue(c){c=Math.trunc(c);let f=this.values.get(c);f==null&&(f=0),f++,this.values.set(c,f)}getValue(){let c=-1,f=new Array;for(const[g,y]of this.values.entries()){const b={getKey:()=>g,getValue:()=>y};b.getValue()>c?(c=b.getValue(),f=[],f.push(b.getKey())):b.getValue()===c&&f.push(b.getKey())}return jt.toIntArray(f)}getConfidence(c){return this.values.get(c)}}class xo extends tc{constructor(c,f){super(c),this._isLeft=f}setRowNumbers(){for(let c of this.getCodewords())c!=null&&c.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(c){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,c);let g=this.getBoundingBox(),y=this._isLeft?g.getTopLeft():g.getTopRight(),b=this._isLeft?g.getBottomLeft():g.getBottomRight(),j=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.imageRowToCodewordIndex(Math.trunc(b.getY())),D=-1,k=1,$=0;for(let X=j;X<E;X++){if(f[X]==null)continue;let Z=f[X],ae=Z.getRowNumber()-D;if(ae===0)$++;else if(ae===1)k=Math.max(k,$),$=1,D=Z.getRowNumber();else if(ae<0||Z.getRowNumber()>=c.getRowCount()||ae>X)f[X]=null;else{let ue;k>2?ue=(k-2)*ae:ue=ae;let fe=ue>=X;for(let Se=1;Se<=ue&&!fe;Se++)fe=f[X-Se]!=null;fe?f[X]=null:(D=Z.getRowNumber(),$=1)}}}getRowHeights(){let c=this.getBarcodeMetadata();if(c==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(c);let f=new Int32Array(c.getRowCount());for(let g of this.getCodewords())if(g!=null){let y=g.getRowNumber();if(y>=f.length)continue;f[y]++}return f}adjustIncompleteIndicatorColumnRowNumbers(c){let f=this.getBoundingBox(),g=this._isLeft?f.getTopLeft():f.getTopRight(),y=this._isLeft?f.getBottomLeft():f.getBottomRight(),b=this.imageRowToCodewordIndex(Math.trunc(g.getY())),j=this.imageRowToCodewordIndex(Math.trunc(y.getY())),E=this.getCodewords(),D=-1;for(let k=b;k<j;k++){if(E[k]==null)continue;let $=E[k];$.setRowNumberAsRowIndicatorColumn();let X=$.getRowNumber()-D;X===0||(X===1?D=$.getRowNumber():$.getRowNumber()>=c.getRowCount()?E[k]=null:D=$.getRowNumber())}}getBarcodeMetadata(){let c=this.getCodewords(),f=new Hr,g=new Hr,y=new Hr,b=new Hr;for(let E of c){if(E==null)continue;E.setRowNumberAsRowIndicatorColumn();let D=E.getValue()%30,k=E.getRowNumber();switch(this._isLeft||(k+=2),k%3){case 0:g.setValue(D*3+1);break;case 1:b.setValue(D/3),y.setValue(D%3);break;case 2:f.setValue(D+1);break}}if(f.getValue().length===0||g.getValue().length===0||y.getValue().length===0||b.getValue().length===0||f.getValue()[0]<1||g.getValue()[0]+y.getValue()[0]<jt.MIN_ROWS_IN_BARCODE||g.getValue()[0]+y.getValue()[0]>jt.MAX_ROWS_IN_BARCODE)return null;let j=new zd(f.getValue()[0],g.getValue()[0],y.getValue()[0],b.getValue()[0]);return this.removeIncorrectCodewords(c,j),j}removeIncorrectCodewords(c,f){for(let g=0;g<c.length;g++){let y=c[g];if(c[g]==null)continue;let b=y.getValue()%30,j=y.getRowNumber();if(j>f.getRowCount()){c[g]=null;continue}switch(this._isLeft||(j+=2),j%3){case 0:b*3+1!==f.getRowCountUpperPart()&&(c[g]=null);break;case 1:(Math.trunc(b/3)!==f.getErrorCorrectionLevel()||b%3!==f.getRowCountLowerPart())&&(c[g]=null);break;case 2:b+1!==f.getColumnCount()&&(c[g]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class vo{constructor(c,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=c,this.barcodeColumnCount=c.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let c=jt.MAX_CODEWORDS_IN_BARCODE,f;do f=c,c=this.adjustRowNumbersAndGetCount();while(c>0&&c<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(c){c!=null&&c.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let c=this.adjustRowNumbersByRow();if(c===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let g=this.detectionResultColumns[f].getCodewords();for(let y=0;y<g.length;y++)g[y]!=null&&(g[y].hasValidRowNumber()||this.adjustRowNumbers(f,y,g))}return c}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let c=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<c.length;g++)if(c[g]!=null&&f[g]!=null&&c[g].getRowNumber()===f[g].getRowNumber())for(let y=1;y<=this.barcodeColumnCount;y++){let b=this.detectionResultColumns[y].getCodewords()[g];b!=null&&(b.setRowNumber(c[g].getRowNumber()),b.hasValidRowNumber()||(this.detectionResultColumns[y].getCodewords()[g]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let c=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let g=0;g<f.length;g++){if(f[g]==null)continue;let y=f[g].getRowNumber(),b=0;for(let j=this.barcodeColumnCount+1;j>0&&b<this.ADJUST_ROW_NUMBER_SKIP;j--){let E=this.detectionResultColumns[j].getCodewords()[g];E!=null&&(b=vo.adjustRowNumberIfValid(y,b,E),E.hasValidRowNumber()||c++)}}return c}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let c=0,f=this.detectionResultColumns[0].getCodewords();for(let g=0;g<f.length;g++){if(f[g]==null)continue;let y=f[g].getRowNumber(),b=0;for(let j=1;j<this.barcodeColumnCount+1&&b<this.ADJUST_ROW_NUMBER_SKIP;j++){let E=this.detectionResultColumns[j].getCodewords()[g];E!=null&&(b=vo.adjustRowNumberIfValid(y,b,E),E.hasValidRowNumber()||c++)}}return c}static adjustRowNumberIfValid(c,f,g){return g==null||g.hasValidRowNumber()||(g.isValidRowNumber(c)?(g.setRowNumber(c),f=0):++f),f}adjustRowNumbers(c,f,g){if(!this.detectionResultColumns[c-1])return;let y=g[f],b=this.detectionResultColumns[c-1].getCodewords(),j=b;this.detectionResultColumns[c+1]!=null&&(j=this.detectionResultColumns[c+1].getCodewords());let E=new Array(14);E[2]=b[f],E[3]=j[f],f>0&&(E[0]=g[f-1],E[4]=b[f-1],E[5]=j[f-1]),f>1&&(E[8]=g[f-2],E[10]=b[f-2],E[11]=j[f-2]),f<g.length-1&&(E[1]=g[f+1],E[6]=b[f+1],E[7]=j[f+1]),f<g.length-2&&(E[9]=g[f+2],E[12]=b[f+2],E[13]=j[f+2]);for(let D of E)if(vo.adjustRowNumber(y,D))return}static adjustRowNumber(c,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===c.getBucket()?(c.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(c){this.boundingBox=c}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(c,f){this.detectionResultColumns[c]=f}getDetectionResultColumn(c){return this.detectionResultColumns[c]}toString(){let c=this.detectionResultColumns[0];c==null&&(c=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new po;for(let g=0;g<c.getCodewords().length;g++){f.format("CW %3d:",g);for(let y=0;y<this.barcodeColumnCount+2;y++){if(this.detectionResultColumns[y]==null){f.format("    |   ");continue}let b=this.detectionResultColumns[y].getCodewords()[g];if(b==null){f.format("    |   ");continue}f.format(" %3d|%3d",b.getRowNumber(),b.getValue())}f.format("%n")}return f.toString()}}class Hs{constructor(c,f,g,y){this.rowNumber=Hs.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(c),this.endX=Math.trunc(f),this.bucket=Math.trunc(g),this.value=Math.trunc(y)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(c){return c!==Hs.BARCODE_ROW_UNKNOWN&&this.bucket===c%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(c){this.rowNumber=c}toString(){return this.rowNumber+"|"+this.value}}Hs.BARCODE_ROW_UNKNOWN=-1;class Bi{static initialize(){for(let c=0;c<jt.SYMBOL_TABLE.length;c++){let f=jt.SYMBOL_TABLE[c],g=f&1;for(let y=0;y<jt.BARS_IN_MODULE;y++){let b=0;for(;(f&1)===g;)b+=1,f>>=1;g=f&1,Bi.RATIOS_TABLE[c]||(Bi.RATIOS_TABLE[c]=new Array(jt.BARS_IN_MODULE)),Bi.RATIOS_TABLE[c][jt.BARS_IN_MODULE-y-1]=Math.fround(b/jt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(c){let f=Bi.getDecodedCodewordValue(Bi.sampleBitCounts(c));return f!==-1?f:Bi.getClosestDecodedValue(c)}static sampleBitCounts(c){let f=tt.sum(c),g=new Int32Array(jt.BARS_IN_MODULE),y=0,b=0;for(let j=0;j<jt.MODULES_IN_CODEWORD;j++){let E=f/(2*jt.MODULES_IN_CODEWORD)+j*f/jt.MODULES_IN_CODEWORD;b+c[y]<=E&&(b+=c[y],y++),g[y]++}return g}static getDecodedCodewordValue(c){let f=Bi.getBitValue(c);return jt.getCodeword(f)===-1?-1:f}static getBitValue(c){let f=0;for(let g=0;g<c.length;g++)for(let y=0;y<c[g];y++)f=f<<1|(g%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(c){let f=tt.sum(c),g=new Array(jt.BARS_IN_MODULE);if(f>1)for(let j=0;j<g.length;j++)g[j]=Math.fround(c[j]/f);let y=or.MAX_VALUE,b=-1;this.bSymbolTableReady||Bi.initialize();for(let j=0;j<Bi.RATIOS_TABLE.length;j++){let E=0,D=Bi.RATIOS_TABLE[j];for(let k=0;k<jt.BARS_IN_MODULE;k++){let $=Math.fround(D[k]-g[k]);if(E+=Math.fround($*$),E>=y)break}E<y&&(y=E,b=jt.SYMBOL_TABLE[j])}return b}}Bi.bSymbolTableReady=!1,Bi.RATIOS_TABLE=new Array(jt.SYMBOL_TABLE.length).map(K=>new Array(jt.BARS_IN_MODULE));class Vd{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(c){this.segmentIndex=c}getFileId(){return this.fileId}setFileId(c){this.fileId=c}getOptionalData(){return this.optionalData}setOptionalData(c){this.optionalData=c}isLastSegment(){return this.lastSegment}setLastSegment(c){this.lastSegment=c}getSegmentCount(){return this.segmentCount}setSegmentCount(c){this.segmentCount=c}getSender(){return this.sender||null}setSender(c){this.sender=c}getAddressee(){return this.addressee||null}setAddressee(c){this.addressee=c}getFileName(){return this.fileName}setFileName(c){this.fileName=c}getFileSize(){return this.fileSize}setFileSize(c){this.fileSize=c}getChecksum(){return this.checksum}setChecksum(c){this.checksum=c}getTimestamp(){return this.timestamp}setTimestamp(c){this.timestamp=c}}class $d{static parseLong(c,f=void 0){return parseInt(c,f)}}class nc extends h{}nc.kind="NullPointerException";class Hd{writeBytes(c){this.writeBytesOffset(c,0,c.length)}writeBytesOffset(c,f,g){if(c==null)throw new nc;if(f<0||f>c.length||g<0||f+g>c.length||f+g<0)throw new C;if(g===0)return;for(let y=0;y<g;y++)this.write(c[f+y])}flush(){}close(){}}class Dg extends h{}class ly extends Hd{constructor(c=32){if(super(),this.count=0,c<0)throw new v("Negative initial size: "+c);this.buf=new Uint8Array(c)}ensureCapacity(c){c-this.buf.length>0&&this.grow(c)}grow(c){let g=this.buf.length<<1;if(g-c<0&&(g=c),g<0){if(c<0)throw new Dg;g=R.MAX_VALUE}this.buf=P.copyOfUint8Array(this.buf,g)}write(c){this.ensureCapacity(this.count+1),this.buf[this.count]=c,this.count+=1}writeBytesOffset(c,f,g){if(f<0||f>c.length||g<0||f+g-c.length>0)throw new C;this.ensureCapacity(this.count+g),_.arraycopy(c,f,this.buf,this.count,g),this.count+=g}writeTo(c){c.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return P.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(c){return c?typeof c=="string"?this.toString_string(c):this.toString_number(c):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(c){return new String(this.buf).toString()}toString_number(c){return new String(this.buf).toString()}close(){}}var Sn;(function(K){K[K.ALPHA=0]="ALPHA",K[K.LOWER=1]="LOWER",K[K.MIXED=2]="MIXED",K[K.PUNCT=3]="PUNCT",K[K.ALPHA_SHIFT=4]="ALPHA_SHIFT",K[K.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Sn||(Sn={}));function Rg(){if(typeof window<"u")return window.BigInt||null;if(typeof Lp<"u")return Lp.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let rc;function yo(K){if(typeof rc>"u"&&(rc=Rg()),rc===null)throw new Error("BigInt is not supported!");return rc(K)}function cy(){let K=[];K[0]=yo(1);let c=yo(900);K[1]=c;for(let f=2;f<16;f++)K[f]=K[f-1]*c;return K}class De{static decode(c,f){let g=new Q(""),y=z.ISO8859_1;g.enableDecoding(y);let b=1,j=c[b++],E=new Vd;for(;b<c[0];){switch(j){case De.TEXT_COMPACTION_MODE_LATCH:b=De.textCompaction(c,b,g);break;case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:b=De.byteCompaction(j,c,y,b,g);break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(c[b++]);break;case De.NUMERIC_COMPACTION_MODE_LATCH:b=De.numericCompaction(c,b,g);break;case De.ECI_CHARSET:z.getCharacterSetECIByValue(c[b++]);break;case De.ECI_GENERAL_PURPOSE:b+=2;break;case De.ECI_USER_DEFINED:b++;break;case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:b=De.decodeMacroBlock(c,b,E);break;case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:throw new F;default:b--,b=De.textCompaction(c,b,g);break}if(b<c.length)j=c[b++];else throw F.getFormatInstance()}if(g.length()===0)throw F.getFormatInstance();let D=new xe(null,g.toString(),null,f);return D.setOther(E),D}static decodeMacroBlock(c,f,g){if(f+De.NUMBER_OF_SEQUENCE_CODEWORDS>c[0])throw F.getFormatInstance();let y=new Int32Array(De.NUMBER_OF_SEQUENCE_CODEWORDS);for(let E=0;E<De.NUMBER_OF_SEQUENCE_CODEWORDS;E++,f++)y[E]=c[f];g.setSegmentIndex(R.parseInt(De.decodeBase900toBase10(y,De.NUMBER_OF_SEQUENCE_CODEWORDS)));let b=new Q;f=De.textCompaction(c,f,b),g.setFileId(b.toString());let j=-1;for(c[f]===De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(j=f+1);f<c[0];)switch(c[f]){case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,c[f]){case De.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let E=new Q;f=De.textCompaction(c,f+1,E),g.setFileName(E.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let D=new Q;f=De.textCompaction(c,f+1,D),g.setSender(D.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let k=new Q;f=De.textCompaction(c,f+1,k),g.setAddressee(k.toString());break;case De.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let $=new Q;f=De.numericCompaction(c,f+1,$),g.setSegmentCount(R.parseInt($.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let X=new Q;f=De.numericCompaction(c,f+1,X),g.setTimestamp($d.parseLong(X.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let Z=new Q;f=De.numericCompaction(c,f+1,Z),g.setChecksum(R.parseInt(Z.toString()));break;case De.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let ae=new Q;f=De.numericCompaction(c,f+1,ae),g.setFileSize($d.parseLong(ae.toString()));break;default:throw F.getFormatInstance()}break;case De.MACRO_PDF417_TERMINATOR:f++,g.setLastSegment(!0);break;default:throw F.getFormatInstance()}if(j!==-1){let E=f-j;g.isLastSegment()&&E--,g.setOptionalData(P.copyOfRange(c,j,j+E))}return f}static textCompaction(c,f,g){let y=new Int32Array((c[0]-f)*2),b=new Int32Array((c[0]-f)*2),j=0,E=!1;for(;f<c[0]&&!E;){let D=c[f++];if(D<De.TEXT_COMPACTION_MODE_LATCH)y[j]=D/30,y[j+1]=D%30,j+=2;else switch(D){case De.TEXT_COMPACTION_MODE_LATCH:y[j++]=De.TEXT_COMPACTION_MODE_LATCH;break;case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:f--,E=!0;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y[j]=De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,D=c[f++],b[j]=D,j++;break}}return De.decodeTextCompaction(y,b,j,g),f}static decodeTextCompaction(c,f,g,y){let b=Sn.ALPHA,j=Sn.ALPHA,E=0;for(;E<g;){let D=c[E],k="";switch(b){case Sn.ALPHA:if(D<26)k=String.fromCharCode(65+D);else switch(D){case 26:k=" ";break;case De.LL:b=Sn.LOWER;break;case De.ML:b=Sn.MIXED;break;case De.PS:j=b,b=Sn.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[E]);break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.LOWER:if(D<26)k=String.fromCharCode(97+D);else switch(D){case 26:k=" ";break;case De.AS:j=b,b=Sn.ALPHA_SHIFT;break;case De.ML:b=Sn.MIXED;break;case De.PS:j=b,b=Sn.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[E]);break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.MIXED:if(D<De.PL)k=De.MIXED_CHARS[D];else switch(D){case De.PL:b=Sn.PUNCT;break;case 26:k=" ";break;case De.LL:b=Sn.LOWER;break;case De.AL:b=Sn.ALPHA;break;case De.PS:j=b,b=Sn.PUNCT_SHIFT;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[E]);break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.PUNCT:if(D<De.PAL)k=De.PUNCT_CHARS[D];else switch(D){case De.PAL:b=Sn.ALPHA;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[E]);break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.ALPHA_SHIFT:if(b=j,D<26)k=String.fromCharCode(65+D);else switch(D){case 26:k=" ";break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break;case Sn.PUNCT_SHIFT:if(b=j,D<De.PAL)k=De.PUNCT_CHARS[D];else switch(D){case De.PAL:b=Sn.ALPHA;break;case De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:y.append(f[E]);break;case De.TEXT_COMPACTION_MODE_LATCH:b=Sn.ALPHA;break}break}k!==""&&y.append(k),E++}}static byteCompaction(c,f,g,y,b){let j=new ly,E=0,D=0,k=!1;switch(c){case De.BYTE_COMPACTION_MODE_LATCH:let $=new Int32Array(6),X=f[y++];for(;y<f[0]&&!k;)switch($[E++]=X,D=900*D+X,X=f[y++],X){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:y--,k=!0;break;default:if(E%5===0&&E>0){for(let Z=0;Z<6;++Z)j.write(Number(yo(D)>>yo(8*(5-Z))));D=0,E=0}break}y===f[0]&&X<De.TEXT_COMPACTION_MODE_LATCH&&($[E++]=X);for(let Z=0;Z<E;Z++)j.write($[Z]);break;case De.BYTE_COMPACTION_MODE_LATCH_6:for(;y<f[0]&&!k;){let Z=f[y++];if(Z<De.TEXT_COMPACTION_MODE_LATCH)E++,D=900*D+Z;else switch(Z){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.NUMERIC_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:y--,k=!0;break}if(E%5===0&&E>0){for(let ae=0;ae<6;++ae)j.write(Number(yo(D)>>yo(8*(5-ae))));D=0,E=0}}break}return b.append(W.decode(j.toByteArray(),g)),y}static numericCompaction(c,f,g){let y=0,b=!1,j=new Int32Array(De.MAX_NUMERIC_CODEWORDS);for(;f<c[0]&&!b;){let E=c[f++];if(f===c[0]&&(b=!0),E<De.TEXT_COMPACTION_MODE_LATCH)j[y]=E,y++;else switch(E){case De.TEXT_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH:case De.BYTE_COMPACTION_MODE_LATCH_6:case De.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case De.MACRO_PDF417_TERMINATOR:f--,b=!0;break}(y%De.MAX_NUMERIC_CODEWORDS===0||E===De.NUMERIC_COMPACTION_MODE_LATCH||b)&&y>0&&(g.append(De.decodeBase900toBase10(j,y)),y=0)}return f}static decodeBase900toBase10(c,f){let g=yo(0);for(let b=0;b<f;b++)g+=De.EXP900[f-b-1]*yo(c[b]);let y=g.toString();if(y.charAt(0)!=="1")throw new F;return y.substring(1)}}De.TEXT_COMPACTION_MODE_LATCH=900,De.BYTE_COMPACTION_MODE_LATCH=901,De.NUMERIC_COMPACTION_MODE_LATCH=902,De.BYTE_COMPACTION_MODE_LATCH_6=924,De.ECI_USER_DEFINED=925,De.ECI_GENERAL_PURPOSE=926,De.ECI_CHARSET=927,De.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,De.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,De.MACRO_PDF417_TERMINATOR=922,De.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,De.MAX_NUMERIC_CODEWORDS=15,De.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,De.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,De.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,De.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,De.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,De.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,De.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,De.PL=25,De.LL=27,De.AS=27,De.ML=28,De.AL=28,De.PS=29,De.PAL=29,De.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,De.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",De.EXP900=Rg()?cy():[],De.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ft{constructor(){}static decode(c,f,g,y,b,j,E){let D=new go(c,f,g,y,b),k=null,$=null,X;for(let ue=!0;;ue=!1){if(f!=null&&(k=Ft.getRowIndicatorColumn(c,D,f,!0,j,E)),y!=null&&($=Ft.getRowIndicatorColumn(c,D,y,!1,j,E)),X=Ft.merge(k,$),X==null)throw J.getNotFoundInstance();let fe=X.getBoundingBox();if(ue&&fe!=null&&(fe.getMinY()<D.getMinY()||fe.getMaxY()>D.getMaxY()))D=fe;else break}X.setBoundingBox(D);let Z=X.getBarcodeColumnCount()+1;X.setDetectionResultColumn(0,k),X.setDetectionResultColumn(Z,$);let ae=k!=null;for(let ue=1;ue<=Z;ue++){let fe=ae?ue:Z-ue;if(X.getDetectionResultColumn(fe)!==void 0)continue;let Se;fe===0||fe===Z?Se=new xo(D,fe===0):Se=new tc(D),X.setDetectionResultColumn(fe,Se);let Oe=-1,Ye=Oe;for(let Xe=D.getMinY();Xe<=D.getMaxY();Xe++){if(Oe=Ft.getStartColumn(X,fe,Xe,ae),Oe<0||Oe>D.getMaxX()){if(Ye===-1)continue;Oe=Ye}let qe=Ft.detectCodeword(c,D.getMinX(),D.getMaxX(),ae,Oe,Xe,j,E);qe!=null&&(Se.setCodeword(Xe,qe),Ye=Oe,j=Math.min(j,qe.getWidth()),E=Math.max(E,qe.getWidth()))}}return Ft.createDecoderResult(X)}static merge(c,f){if(c==null&&f==null)return null;let g=Ft.getBarcodeMetadata(c,f);if(g==null)return null;let y=go.merge(Ft.adjustBoundingBox(c),Ft.adjustBoundingBox(f));return new vo(g,y)}static adjustBoundingBox(c){if(c==null)return null;let f=c.getRowHeights();if(f==null)return null;let g=Ft.getMax(f),y=0;for(let E of f)if(y+=g-E,E>0)break;let b=c.getCodewords();for(let E=0;y>0&&b[E]==null;E++)y--;let j=0;for(let E=f.length-1;E>=0&&(j+=g-f[E],!(f[E]>0));E--);for(let E=b.length-1;j>0&&b[E]==null;E--)j--;return c.getBoundingBox().addMissingRows(y,j,c.isLeft())}static getMax(c){let f=-1;for(let g of c)f=Math.max(f,g);return f}static getBarcodeMetadata(c,f){let g;if(c==null||(g=c.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let y;return f==null||(y=f.getBarcodeMetadata())==null?g:g.getColumnCount()!==y.getColumnCount()&&g.getErrorCorrectionLevel()!==y.getErrorCorrectionLevel()&&g.getRowCount()!==y.getRowCount()?null:g}static getRowIndicatorColumn(c,f,g,y,b,j){let E=new xo(f,y);for(let D=0;D<2;D++){let k=D===0?1:-1,$=Math.trunc(Math.trunc(g.getX()));for(let X=Math.trunc(Math.trunc(g.getY()));X<=f.getMaxY()&&X>=f.getMinY();X+=k){let Z=Ft.detectCodeword(c,0,c.getWidth(),y,$,X,b,j);Z!=null&&(E.setCodeword(X,Z),y?$=Z.getStartX():$=Z.getEndX())}}return E}static adjustCodewordCount(c,f){let g=f[0][1],y=g.getValue(),b=c.getBarcodeColumnCount()*c.getBarcodeRowCount()-Ft.getNumberOfECCodeWords(c.getBarcodeECLevel());if(y.length===0){if(b<1||b>jt.MAX_CODEWORDS_IN_BARCODE)throw J.getNotFoundInstance();g.setValue(b)}else y[0]!==b&&g.setValue(b)}static createDecoderResult(c){let f=Ft.createBarcodeMatrix(c);Ft.adjustCodewordCount(c,f);let g=new Array,y=new Int32Array(c.getBarcodeRowCount()*c.getBarcodeColumnCount()),b=[],j=new Array;for(let D=0;D<c.getBarcodeRowCount();D++)for(let k=0;k<c.getBarcodeColumnCount();k++){let $=f[D][k+1].getValue(),X=D*c.getBarcodeColumnCount()+k;$.length===0?g.push(X):$.length===1?y[X]=$[0]:(j.push(X),b.push($))}let E=new Array(b.length);for(let D=0;D<E.length;D++)E[D]=b[D];return Ft.createDecoderResultFromAmbiguousValues(c.getBarcodeECLevel(),y,jt.toIntArray(g),jt.toIntArray(j),E)}static createDecoderResultFromAmbiguousValues(c,f,g,y,b){let j=new Int32Array(y.length),E=100;for(;E-- >0;){for(let D=0;D<j.length;D++)f[y[D]]=b[D][j[D]];try{return Ft.decodeCodewords(f,c,g)}catch(D){if(!(D instanceof A))throw D}if(j.length===0)throw A.getChecksumInstance();for(let D=0;D<j.length;D++)if(j[D]<b[D].length-1){j[D]++;break}else if(j[D]=0,D===j.length-1)throw A.getChecksumInstance()}throw A.getChecksumInstance()}static createBarcodeMatrix(c){let f=Array.from({length:c.getBarcodeRowCount()},()=>new Array(c.getBarcodeColumnCount()+2));for(let y=0;y<f.length;y++)for(let b=0;b<f[y].length;b++)f[y][b]=new Hr;let g=0;for(let y of c.getDetectionResultColumns()){if(y!=null){for(let b of y.getCodewords())if(b!=null){let j=b.getRowNumber();if(j>=0){if(j>=f.length)continue;f[j][g].setValue(b.getValue())}}}g++}return f}static isValidBarcodeColumn(c,f){return f>=0&&f<=c.getBarcodeColumnCount()+1}static getStartColumn(c,f,g,y){let b=y?1:-1,j=null;if(Ft.isValidBarcodeColumn(c,f-b)&&(j=c.getDetectionResultColumn(f-b).getCodeword(g)),j!=null)return y?j.getEndX():j.getStartX();if(j=c.getDetectionResultColumn(f).getCodewordNearby(g),j!=null)return y?j.getStartX():j.getEndX();if(Ft.isValidBarcodeColumn(c,f-b)&&(j=c.getDetectionResultColumn(f-b).getCodewordNearby(g)),j!=null)return y?j.getEndX():j.getStartX();let E=0;for(;Ft.isValidBarcodeColumn(c,f-b);){f-=b;for(let D of c.getDetectionResultColumn(f).getCodewords())if(D!=null)return(y?D.getEndX():D.getStartX())+b*E*(D.getEndX()-D.getStartX());E++}return y?c.getBoundingBox().getMinX():c.getBoundingBox().getMaxX()}static detectCodeword(c,f,g,y,b,j,E,D){b=Ft.adjustCodewordStartColumn(c,f,g,y,b,j);let k=Ft.getModuleBitCount(c,f,g,y,b,j);if(k==null)return null;let $,X=tt.sum(k);if(y)$=b+X;else{for(let ue=0;ue<k.length/2;ue++){let fe=k[ue];k[ue]=k[k.length-1-ue],k[k.length-1-ue]=fe}$=b,b=$-X}if(!Ft.checkCodewordSkew(X,E,D))return null;let Z=Bi.getDecodedValue(k),ae=jt.getCodeword(Z);return ae===-1?null:new Hs(b,$,Ft.getCodewordBucketNumber(Z),ae)}static getModuleBitCount(c,f,g,y,b,j){let E=b,D=new Int32Array(8),k=0,$=y?1:-1,X=y;for(;(y?E<g:E>=f)&&k<D.length;)c.get(E,j)===X?(D[k]++,E+=$):(k++,X=!X);return k===D.length||E===(y?g:f)&&k===D.length-1?D:null}static getNumberOfECCodeWords(c){return 2<<c}static adjustCodewordStartColumn(c,f,g,y,b,j){let E=b,D=y?-1:1;for(let k=0;k<2;k++){for(;(y?E>=f:E<g)&&y===c.get(E,j);){if(Math.abs(b-E)>Ft.CODEWORD_SKEW_SIZE)return b;E+=D}D=-D,y=!y}return E}static checkCodewordSkew(c,f,g){return f-Ft.CODEWORD_SKEW_SIZE<=c&&c<=g+Ft.CODEWORD_SKEW_SIZE}static decodeCodewords(c,f,g){if(c.length===0)throw F.getFormatInstance();let y=1<<f+1,b=Ft.correctErrors(c,g,y);Ft.verifyCodewordCount(c,y);let j=De.decode(c,""+f);return j.setErrorsCorrected(b),j.setErasures(g.length),j}static correctErrors(c,f,g){if(f!=null&&f.length>g/2+Ft.MAX_ERRORS||g<0||g>Ft.MAX_EC_CODEWORDS)throw A.getChecksumInstance();return Ft.errorCorrection.decode(c,g,f)}static verifyCodewordCount(c,f){if(c.length<4)throw F.getFormatInstance();let g=c[0];if(g>c.length)throw F.getFormatInstance();if(g===0)if(f<c.length)c[0]=c.length-f;else throw F.getFormatInstance()}static getBitCountForCodeword(c){let f=new Int32Array(8),g=0,y=f.length-1;for(;!((c&1)!==g&&(g=c&1,y--,y<0));)f[y]++,c>>=1;return f}static getCodewordBucketNumber(c){return c instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(c):this.getCodewordBucketNumber_number(c)}static getCodewordBucketNumber_number(c){return Ft.getCodewordBucketNumber(Ft.getBitCountForCodeword(c))}static getCodewordBucketNumber_Int32Array(c){return(c[0]-c[2]+c[4]-c[6]+9)%9}static toString(c){let f=new po;for(let g=0;g<c.length;g++){f.format("Row %2d: ",g);for(let y=0;y<c[g].length;y++){let b=c[g][y];b.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",b.getValue()[0],b.getConfidence(b.getValue()[0]))}f.format("%n")}return f.toString()}}Ft.CODEWORD_SKEW_SIZE=2,Ft.MAX_ERRORS=3,Ft.MAX_EC_CODEWORDS=512,Ft.errorCorrection=new yu;class ri{decode(c,f=null){let g=ri.decode(c,f,!1);if(g==null||g.length===0||g[0]==null)throw J.getNotFoundInstance();return g[0]}decodeMultiple(c,f=null){try{return ri.decode(c,f,!0)}catch(g){throw g instanceof F||g instanceof A?J.getNotFoundInstance():g}}static decode(c,f,g){const y=new Array,b=It.detectMultiple(c,f,g);for(const j of b.getPoints()){const E=Ft.decode(b.getBits(),j[4],j[5],j[6],j[7],ri.getMinCodewordWidth(j),ri.getMaxCodewordWidth(j)),D=new Re(E.getText(),E.getRawBytes(),void 0,j,le.PDF_417);D.putMetadata(je.ERROR_CORRECTION_LEVEL,E.getECLevel());const k=E.getOther();k!=null&&D.putMetadata(je.PDF417_EXTRA_METADATA,k),y.push(D)}return y.map(j=>j)}static getMaxWidth(c,f){return c==null||f==null?0:Math.trunc(Math.abs(c.getX()-f.getX()))}static getMinWidth(c,f){return c==null||f==null?R.MAX_VALUE:Math.trunc(Math.abs(c.getX()-f.getX()))}static getMaxCodewordWidth(c){return Math.floor(Math.max(Math.max(ri.getMaxWidth(c[0],c[4]),ri.getMaxWidth(c[6],c[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.max(ri.getMaxWidth(c[1],c[5]),ri.getMaxWidth(c[7],c[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(c){return Math.floor(Math.min(Math.min(ri.getMinWidth(c[0],c[4]),ri.getMinWidth(c[6],c[2])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN),Math.min(ri.getMinWidth(c[1],c[5]),ri.getMinWidth(c[7],c[3])*jt.MODULES_IN_CODEWORD/jt.MODULES_IN_STOP_PATTERN)))}reset(){}}class bu extends h{}bu.kind="ReaderException";class Pg{constructor(c,f){this.verbose=c===!0,f&&this.setHints(f)}decode(c,f){return f&&this.setHints(f),this.decodeInternal(c)}decodeWithState(c){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(c)}setHints(c){this.hints=c;const f=!r(c)&&c.get(L.TRY_HARDER)===!0,g=r(c)?null:c.get(L.POSSIBLE_FORMATS),y=new Array;if(!r(g)){const b=g.some(j=>j===le.UPC_A||j===le.UPC_E||j===le.EAN_13||j===le.EAN_8||j===le.CODABAR||j===le.CODE_39||j===le.CODE_93||j===le.CODE_128||j===le.ITF||j===le.RSS_14||j===le.RSS_EXPANDED);b&&!f&&y.push(new uo(c,this.verbose)),g.includes(le.QR_CODE)&&y.push(new Vs),g.includes(le.DATA_MATRIX)&&y.push(new Ba),g.includes(le.AZTEC)&&y.push(new Bs),g.includes(le.PDF_417)&&y.push(new ri),b&&f&&y.push(new uo(c,this.verbose))}y.length===0&&(f||y.push(new uo(c,this.verbose)),y.push(new Vs),y.push(new Ba),y.push(new Bs),y.push(new ri),f&&y.push(new uo(c,this.verbose))),this.readers=y}reset(){if(this.readers!==null)for(const c of this.readers)c.reset()}decodeInternal(c){if(this.readers===null)throw new bu("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(c,this.hints)}catch(g){if(g instanceof bu)continue}throw new J("No MultiFormat Readers were able to detect the code.")}}class uy extends he{constructor(c=null,f=500){const g=new Pg;g.setHints(c),super(g,f)}decodeBitmap(c){return this.reader.decodeWithState(c)}}class dy extends he{constructor(c=500){super(new ri,c)}}class fy extends he{constructor(c=500){super(new Vs,c)}}var wu;(function(K){K[K.ERROR_CORRECTION=0]="ERROR_CORRECTION",K[K.CHARACTER_SET=1]="CHARACTER_SET",K[K.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",K[K.MIN_SIZE=3]="MIN_SIZE",K[K.MAX_SIZE=4]="MAX_SIZE",K[K.MARGIN=5]="MARGIN",K[K.PDF417_COMPACT=6]="PDF417_COMPACT",K[K.PDF417_COMPACTION=7]="PDF417_COMPACTION",K[K.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",K[K.AZTEC_LAYERS=9]="AZTEC_LAYERS",K[K.QR_VERSION=10]="QR_VERSION"})(wu||(wu={}));var Pr=wu;class Yh{constructor(c){this.field=c,this.cachedGenerators=[],this.cachedGenerators.push(new Ce(c,Int32Array.from([1])))}buildGenerator(c){const f=this.cachedGenerators;if(c>=f.length){let g=f[f.length-1];const y=this.field;for(let b=f.length;b<=c;b++){const j=g.multiply(new Ce(y,Int32Array.from([1,y.exp(b-1+y.getGeneratorBase())])));f.push(j),g=j}}return f[c]}encode(c,f){if(f===0)throw new v("No error correction bytes");const g=c.length-f;if(g<=0)throw new v("No data bytes provided");const y=this.buildGenerator(f),b=new Int32Array(g);_.arraycopy(c,0,b,0,g);let j=new Ce(this.field,b);j=j.multiplyByMonomial(f,1);const D=j.divide(y)[1].getCoefficients(),k=f-D.length;for(let $=0;$<k;$++)c[g+$]=0;_.arraycopy(D,0,c,g+k,D.length)}}class er{constructor(){}static applyMaskPenaltyRule1(c){return er.applyMaskPenaltyRule1Internal(c,!0)+er.applyMaskPenaltyRule1Internal(c,!1)}static applyMaskPenaltyRule2(c){let f=0;const g=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let j=0;j<b-1;j++){const E=g[j];for(let D=0;D<y-1;D++){const k=E[D];k===E[D+1]&&k===g[j+1][D]&&k===g[j+1][D+1]&&f++}}return er.N2*f}static applyMaskPenaltyRule3(c){let f=0;const g=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let j=0;j<b;j++)for(let E=0;E<y;E++){const D=g[j];E+6<y&&D[E]===1&&D[E+1]===0&&D[E+2]===1&&D[E+3]===1&&D[E+4]===1&&D[E+5]===0&&D[E+6]===1&&(er.isWhiteHorizontal(D,E-4,E)||er.isWhiteHorizontal(D,E+7,E+11))&&f++,j+6<b&&g[j][E]===1&&g[j+1][E]===0&&g[j+2][E]===1&&g[j+3][E]===1&&g[j+4][E]===1&&g[j+5][E]===0&&g[j+6][E]===1&&(er.isWhiteVertical(g,E,j-4,j)||er.isWhiteVertical(g,E,j+7,j+11))&&f++}return f*er.N3}static isWhiteHorizontal(c,f,g){f=Math.max(f,0),g=Math.min(g,c.length);for(let y=f;y<g;y++)if(c[y]===1)return!1;return!0}static isWhiteVertical(c,f,g,y){g=Math.max(g,0),y=Math.min(y,c.length);for(let b=g;b<y;b++)if(c[b][f]===1)return!1;return!0}static applyMaskPenaltyRule4(c){let f=0;const g=c.getArray(),y=c.getWidth(),b=c.getHeight();for(let D=0;D<b;D++){const k=g[D];for(let $=0;$<y;$++)k[$]===1&&f++}const j=c.getHeight()*c.getWidth();return Math.floor(Math.abs(f*2-j)*10/j)*er.N4}static getDataMaskBit(c,f,g){let y,b;switch(c){case 0:y=g+f&1;break;case 1:y=g&1;break;case 2:y=f%3;break;case 3:y=(g+f)%3;break;case 4:y=Math.floor(g/2)+Math.floor(f/3)&1;break;case 5:b=g*f,y=(b&1)+b%3;break;case 6:b=g*f,y=(b&1)+b%3&1;break;case 7:b=g*f,y=b%3+(g+f&1)&1;break;default:throw new v("Invalid mask pattern: "+c)}return y===0}static applyMaskPenaltyRule1Internal(c,f){let g=0;const y=f?c.getHeight():c.getWidth(),b=f?c.getWidth():c.getHeight(),j=c.getArray();for(let E=0;E<y;E++){let D=0,k=-1;for(let $=0;$<b;$++){const X=f?j[E][$]:j[$][E];X===k?D++:(D>=5&&(g+=er.N1+(D-5)),D=1,k=X)}D>=5&&(g+=er.N1+(D-5))}return g}}er.N1=3,er.N2=3,er.N3=40,er.N4=10;class ju{constructor(c,f){this.width=c,this.height=f;const g=new Array(f);for(let y=0;y!==f;y++)g[y]=new Uint8Array(c);this.bytes=g}getHeight(){return this.height}getWidth(){return this.width}get(c,f){return this.bytes[f][c]}getArray(){return this.bytes}setNumber(c,f,g){this.bytes[f][c]=g}setBoolean(c,f,g){this.bytes[f][c]=g?1:0}clear(c){for(const f of this.bytes)P.fill(f,c)}equals(c){if(!(c instanceof ju))return!1;const f=c;if(this.width!==f.width||this.height!==f.height)return!1;for(let g=0,y=this.height;g<y;++g){const b=this.bytes[g],j=f.bytes[g];for(let E=0,D=this.width;E<D;++E)if(b[E]!==j[E])return!1}return!0}toString(){const c=new Q;for(let f=0,g=this.height;f<g;++f){const y=this.bytes[f];for(let b=0,j=this.width;b<j;++b)switch(y[b]){case 0:c.append(" 0");break;case 1:c.append(" 1");break;default:c.append("  ");break}c.append(`
`)}return c.toString()}}class rl{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const c=new Q;return c.append(`<<
`),c.append(" mode: "),c.append(this.mode?this.mode.toString():"null"),c.append(`
 ecLevel: `),c.append(this.ecLevel?this.ecLevel.toString():"null"),c.append(`
 version: `),c.append(this.version?this.version.toString():"null"),c.append(`
 maskPattern: `),c.append(this.maskPattern.toString()),this.matrix?(c.append(`
 matrix:
`),c.append(this.matrix.toString())):c.append(`
 matrix: null
`),c.append(`>>
`),c.toString()}setMode(c){this.mode=c}setECLevel(c){this.ecLevel=c}setVersion(c){this.version=c}setMaskPattern(c){this.maskPattern=c}setMatrix(c){this.matrix=c}static isValidMaskPattern(c){return c>=0&&c<rl.NUM_MASK_PATTERNS}}rl.NUM_MASK_PATTERNS=8;class En extends h{}En.kind="WriterException";class Nt{constructor(){}static clearMatrix(c){c.clear(255)}static buildMatrix(c,f,g,y,b){Nt.clearMatrix(b),Nt.embedBasicPatterns(g,b),Nt.embedTypeInfo(f,y,b),Nt.maybeEmbedVersionInfo(g,b),Nt.embedDataBits(c,y,b)}static embedBasicPatterns(c,f){Nt.embedPositionDetectionPatternsAndSeparators(f),Nt.embedDarkDotAtLeftBottomCorner(f),Nt.maybeEmbedPositionAdjustmentPatterns(c,f),Nt.embedTimingPatterns(f)}static embedTypeInfo(c,f,g){const y=new U;Nt.makeTypeInfoBits(c,f,y);for(let b=0,j=y.getSize();b<j;++b){const E=y.get(y.getSize()-1-b),D=Nt.TYPE_INFO_COORDINATES[b],k=D[0],$=D[1];if(g.setBoolean(k,$,E),b<8){const X=g.getWidth()-b-1;g.setBoolean(X,8,E)}else{const Z=g.getHeight()-7+(b-8);g.setBoolean(8,Z,E)}}}static maybeEmbedVersionInfo(c,f){if(c.getVersionNumber()<7)return;const g=new U;Nt.makeVersionInfoBits(c,g);let y=6*3-1;for(let b=0;b<6;++b)for(let j=0;j<3;++j){const E=g.get(y);y--,f.setBoolean(b,f.getHeight()-11+j,E),f.setBoolean(f.getHeight()-11+j,b,E)}}static embedDataBits(c,f,g){let y=0,b=-1,j=g.getWidth()-1,E=g.getHeight()-1;for(;j>0;){for(j===6&&(j-=1);E>=0&&E<g.getHeight();){for(let D=0;D<2;++D){const k=j-D;if(!Nt.isEmpty(g.get(k,E)))continue;let $;y<c.getSize()?($=c.get(y),++y):$=!1,f!==255&&er.getDataMaskBit(f,k,E)&&($=!$),g.setBoolean(k,E,$)}E+=b}b=-b,E+=b,j-=2}if(y!==c.getSize())throw new En("Not all bits consumed: "+y+"/"+c.getSize())}static findMSBSet(c){return 32-R.numberOfLeadingZeros(c)}static calculateBCHCode(c,f){if(f===0)throw new v("0 polynomial");const g=Nt.findMSBSet(f);for(c<<=g-1;Nt.findMSBSet(c)>=g;)c^=f<<Nt.findMSBSet(c)-g;return c}static makeTypeInfoBits(c,f,g){if(!rl.isValidMaskPattern(f))throw new En("Invalid mask pattern");const y=c.getBits()<<3|f;g.appendBits(y,5);const b=Nt.calculateBCHCode(y,Nt.TYPE_INFO_POLY);g.appendBits(b,10);const j=new U;if(j.appendBits(Nt.TYPE_INFO_MASK_PATTERN,15),g.xor(j),g.getSize()!==15)throw new En("should not happen but we got: "+g.getSize())}static makeVersionInfoBits(c,f){f.appendBits(c.getVersionNumber(),6);const g=Nt.calculateBCHCode(c.getVersionNumber(),Nt.VERSION_INFO_POLY);if(f.appendBits(g,12),f.getSize()!==18)throw new En("should not happen but we got: "+f.getSize())}static isEmpty(c){return c===255}static embedTimingPatterns(c){for(let f=8;f<c.getWidth()-8;++f){const g=(f+1)%2;Nt.isEmpty(c.get(f,6))&&c.setNumber(f,6,g),Nt.isEmpty(c.get(6,f))&&c.setNumber(6,f,g)}}static embedDarkDotAtLeftBottomCorner(c){if(c.get(8,c.getHeight()-8)===0)throw new En;c.setNumber(8,c.getHeight()-8,1)}static embedHorizontalSeparationPattern(c,f,g){for(let y=0;y<8;++y){if(!Nt.isEmpty(g.get(c+y,f)))throw new En;g.setNumber(c+y,f,0)}}static embedVerticalSeparationPattern(c,f,g){for(let y=0;y<7;++y){if(!Nt.isEmpty(g.get(c,f+y)))throw new En;g.setNumber(c,f+y,0)}}static embedPositionAdjustmentPattern(c,f,g){for(let y=0;y<5;++y){const b=Nt.POSITION_ADJUSTMENT_PATTERN[y];for(let j=0;j<5;++j)g.setNumber(c+j,f+y,b[j])}}static embedPositionDetectionPattern(c,f,g){for(let y=0;y<7;++y){const b=Nt.POSITION_DETECTION_PATTERN[y];for(let j=0;j<7;++j)g.setNumber(c+j,f+y,b[j])}}static embedPositionDetectionPatternsAndSeparators(c){const f=Nt.POSITION_DETECTION_PATTERN[0].length;Nt.embedPositionDetectionPattern(0,0,c),Nt.embedPositionDetectionPattern(c.getWidth()-f,0,c),Nt.embedPositionDetectionPattern(0,c.getWidth()-f,c);const g=8;Nt.embedHorizontalSeparationPattern(0,g-1,c),Nt.embedHorizontalSeparationPattern(c.getWidth()-g,g-1,c),Nt.embedHorizontalSeparationPattern(0,c.getWidth()-g,c);const y=7;Nt.embedVerticalSeparationPattern(y,0,c),Nt.embedVerticalSeparationPattern(c.getHeight()-y-1,0,c),Nt.embedVerticalSeparationPattern(y,c.getHeight()-y,c)}static maybeEmbedPositionAdjustmentPatterns(c,f){if(c.getVersionNumber()<2)return;const g=c.getVersionNumber()-1,y=Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[g];for(let b=0,j=y.length;b!==j;b++){const E=y[b];if(E>=0)for(let D=0;D!==j;D++){const k=y[D];k>=0&&Nt.isEmpty(f.get(k,E))&&Nt.embedPositionAdjustmentPattern(k-2,E-2,f)}}}}Nt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Nt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Nt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Nt.VERSION_INFO_POLY=7973,Nt.TYPE_INFO_POLY=1335,Nt.TYPE_INFO_MASK_PATTERN=21522;class hy{constructor(c,f){this.dataBytes=c,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Ln{constructor(){}static calculateMaskPenalty(c){return er.applyMaskPenaltyRule1(c)+er.applyMaskPenaltyRule2(c)+er.applyMaskPenaltyRule3(c)+er.applyMaskPenaltyRule4(c)}static encode(c,f,g=null){let y=Ln.DEFAULT_BYTE_MODE_ENCODING;const b=g!==null&&g.get(Pr.CHARACTER_SET)!==void 0;b&&(y=g.get(Pr.CHARACTER_SET).toString());const j=this.chooseMode(c,y),E=new U;if(j===bt.BYTE&&(b||Ln.DEFAULT_BYTE_MODE_ENCODING!==y)){const Xe=z.getCharacterSetECIByName(y);Xe!==void 0&&this.appendECI(Xe,E)}this.appendModeInfo(j,E);const D=new U;this.appendBytes(c,j,D,y);let k;if(g!==null&&g.get(Pr.QR_VERSION)!==void 0){const Xe=Number.parseInt(g.get(Pr.QR_VERSION).toString(),10);k=vt.getVersionForNumber(Xe);const qe=this.calculateBitsNeeded(j,E,D,k);if(!this.willFit(qe,k,f))throw new En("Data too big for requested version")}else k=this.recommendVersion(f,j,E,D);const $=new U;$.appendBitArray(E);const X=j===bt.BYTE?D.getSizeInBytes():c.length;this.appendLengthInfo(X,k,j,$),$.appendBitArray(D);const Z=k.getECBlocksForLevel(f),ae=k.getTotalCodewords()-Z.getTotalECCodewords();this.terminateBits(ae,$);const ue=this.interleaveWithECBytes($,k.getTotalCodewords(),ae,Z.getNumBlocks()),fe=new rl;fe.setECLevel(f),fe.setMode(j),fe.setVersion(k);const Se=k.getDimensionForVersion(),Oe=new ju(Se,Se),Ye=this.chooseMaskPattern(ue,f,k,Oe);return fe.setMaskPattern(Ye),Nt.buildMatrix(ue,f,k,Ye,Oe),fe.setMatrix(Oe),fe}static recommendVersion(c,f,g,y){const b=this.calculateBitsNeeded(f,g,y,vt.getVersionForNumber(1)),j=this.chooseVersion(b,c),E=this.calculateBitsNeeded(f,g,y,j);return this.chooseVersion(E,c)}static calculateBitsNeeded(c,f,g,y){return f.getSize()+c.getCharacterCountBits(y)+g.getSize()}static getAlphanumericCode(c){return c<Ln.ALPHANUMERIC_TABLE.length?Ln.ALPHANUMERIC_TABLE[c]:-1}static chooseMode(c,f=null){if(z.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(c))return bt.KANJI;let g=!1,y=!1;for(let b=0,j=c.length;b<j;++b){const E=c.charAt(b);if(Ln.isDigit(E))g=!0;else if(this.getAlphanumericCode(E.charCodeAt(0))!==-1)y=!0;else return bt.BYTE}return y?bt.ALPHANUMERIC:g?bt.NUMERIC:bt.BYTE}static isOnlyDoubleByteKanji(c){let f;try{f=W.encode(c,z.SJIS)}catch{return!1}const g=f.length;if(g%2!==0)return!1;for(let y=0;y<g;y+=2){const b=f[y]&255;if((b<129||b>159)&&(b<224||b>235))return!1}return!0}static chooseMaskPattern(c,f,g,y){let b=Number.MAX_SAFE_INTEGER,j=-1;for(let E=0;E<rl.NUM_MASK_PATTERNS;E++){Nt.buildMatrix(c,f,g,E,y);let D=this.calculateMaskPenalty(y);D<b&&(b=D,j=E)}return j}static chooseVersion(c,f){for(let g=1;g<=40;g++){const y=vt.getVersionForNumber(g);if(Ln.willFit(c,y,f))return y}throw new En("Data too big")}static willFit(c,f,g){const y=f.getTotalCodewords(),j=f.getECBlocksForLevel(g).getTotalECCodewords(),E=y-j,D=(c+7)/8;return E>=D}static terminateBits(c,f){const g=c*8;if(f.getSize()>g)throw new En("data bits cannot fit in the QR Code"+f.getSize()+" > "+g);for(let j=0;j<4&&f.getSize()<g;++j)f.appendBit(!1);const y=f.getSize()&7;if(y>0)for(let j=y;j<8;j++)f.appendBit(!1);const b=c-f.getSizeInBytes();for(let j=0;j<b;++j)f.appendBits((j&1)===0?236:17,8);if(f.getSize()!==g)throw new En("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(c,f,g,y,b,j){if(y>=g)throw new En("Block ID too large");const E=c%g,D=g-E,k=Math.floor(c/g),$=k+1,X=Math.floor(f/g),Z=X+1,ae=k-X,ue=$-Z;if(ae!==ue)throw new En("EC bytes mismatch");if(g!==D+E)throw new En("RS blocks mismatch");if(c!==(X+ae)*D+(Z+ue)*E)throw new En("Total bytes mismatch");y<D?(b[0]=X,j[0]=ae):(b[0]=Z,j[0]=ue)}static interleaveWithECBytes(c,f,g,y){if(c.getSizeInBytes()!==g)throw new En("Number of bits and data bytes does not match");let b=0,j=0,E=0;const D=new Array;for(let $=0;$<y;++$){const X=new Int32Array(1),Z=new Int32Array(1);Ln.getNumDataBytesAndNumECBytesForBlockID(f,g,y,$,X,Z);const ae=X[0],ue=new Uint8Array(ae);c.toBytes(8*b,ue,0,ae);const fe=Ln.generateECBytes(ue,Z[0]);D.push(new hy(ue,fe)),j=Math.max(j,ae),E=Math.max(E,fe.length),b+=X[0]}if(g!==b)throw new En("Data bytes does not match offset");const k=new U;for(let $=0;$<j;++$)for(const X of D){const Z=X.getDataBytes();$<Z.length&&k.appendBits(Z[$],8)}for(let $=0;$<E;++$)for(const X of D){const Z=X.getErrorCorrectionBytes();$<Z.length&&k.appendBits(Z[$],8)}if(f!==k.getSizeInBytes())throw new En("Interleaving error: "+f+" and "+k.getSizeInBytes()+" differ.");return k}static generateECBytes(c,f){const g=c.length,y=new Int32Array(g+f);for(let j=0;j<g;j++)y[j]=c[j]&255;new Yh(We.QR_CODE_FIELD_256).encode(y,f);const b=new Uint8Array(f);for(let j=0;j<f;j++)b[j]=y[g+j];return b}static appendModeInfo(c,f){f.appendBits(c.getBits(),4)}static appendLengthInfo(c,f,g,y){const b=g.getCharacterCountBits(f);if(c>=1<<b)throw new En(c+" is bigger than "+((1<<b)-1));y.appendBits(c,b)}static appendBytes(c,f,g,y){switch(f){case bt.NUMERIC:Ln.appendNumericBytes(c,g);break;case bt.ALPHANUMERIC:Ln.appendAlphanumericBytes(c,g);break;case bt.BYTE:Ln.append8BitBytes(c,g,y);break;case bt.KANJI:Ln.appendKanjiBytes(c,g);break;default:throw new En("Invalid mode: "+f)}}static getDigit(c){return c.charCodeAt(0)-48}static isDigit(c){const f=Ln.getDigit(c);return f>=0&&f<=9}static appendNumericBytes(c,f){const g=c.length;let y=0;for(;y<g;){const b=Ln.getDigit(c.charAt(y));if(y+2<g){const j=Ln.getDigit(c.charAt(y+1)),E=Ln.getDigit(c.charAt(y+2));f.appendBits(b*100+j*10+E,10),y+=3}else if(y+1<g){const j=Ln.getDigit(c.charAt(y+1));f.appendBits(b*10+j,7),y+=2}else f.appendBits(b,4),y++}}static appendAlphanumericBytes(c,f){const g=c.length;let y=0;for(;y<g;){const b=Ln.getAlphanumericCode(c.charCodeAt(y));if(b===-1)throw new En;if(y+1<g){const j=Ln.getAlphanumericCode(c.charCodeAt(y+1));if(j===-1)throw new En;f.appendBits(b*45+j,11),y+=2}else f.appendBits(b,6),y++}}static append8BitBytes(c,f,g){let y;try{y=W.encode(c,g)}catch(b){throw new En(b)}for(let b=0,j=y.length;b!==j;b++){const E=y[b];f.appendBits(E,8)}}static appendKanjiBytes(c,f){let g;try{g=W.encode(c,z.SJIS)}catch(b){throw new En(b)}const y=g.length;for(let b=0;b<y;b+=2){const j=g[b]&255,E=g[b+1]&255,D=j<<8&4294967295|E;let k=-1;if(D>=33088&&D<=40956?k=D-33088:D>=57408&&D<=60351&&(k=D-49472),k===-1)throw new En("Invalid byte sequence");const $=(k>>8)*192+(k&255);f.appendBits($,13)}}static appendECI(c,f){f.appendBits(bt.ECI.getBits(),4),f.appendBits(c.getValue(),8)}}Ln.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Ln.DEFAULT_BYTE_MODE_ENCODING=z.UTF8.getName();class il{write(c,f,g,y=null){if(c.length===0)throw new v("Found empty contents");if(f<0||g<0)throw new v("Requested dimensions are too small: "+f+"x"+g);let b=jn.L,j=il.QUIET_ZONE_SIZE;y!==null&&(y.get(Pr.ERROR_CORRECTION)!==void 0&&(b=jn.fromString(y.get(Pr.ERROR_CORRECTION).toString())),y.get(Pr.MARGIN)!==void 0&&(j=Number.parseInt(y.get(Pr.MARGIN).toString(),10)));const E=Ln.encode(c,b,y);return this.renderResult(E,f,g,j)}writeToDom(c,f,g,y,b=null){typeof c=="string"&&(c=document.querySelector(c));const j=this.write(f,g,y,b);c&&c.appendChild(j)}renderResult(c,f,g,y){const b=c.getMatrix();if(b===null)throw new Ze;const j=b.getWidth(),E=b.getHeight(),D=j+y*2,k=E+y*2,$=Math.max(f,D),X=Math.max(g,k),Z=Math.min(Math.floor($/D),Math.floor(X/k)),ae=Math.floor(($-j*Z)/2),ue=Math.floor((X-E*Z)/2),fe=this.createSVGElement($,X);for(let Se=0,Oe=ue;Se<E;Se++,Oe+=Z)for(let Ye=0,Xe=ae;Ye<j;Ye++,Xe+=Z)if(b.get(Ye,Se)===1){const qe=this.createSvgRectElement(Xe,Oe,Z,Z);fe.appendChild(qe)}return fe}createSVGElement(c,f){const g=document.createElementNS(il.SVG_NS,"svg");return g.setAttributeNS(null,"height",c.toString()),g.setAttributeNS(null,"width",f.toString()),g}createSvgRectElement(c,f,g,y){const b=document.createElementNS(il.SVG_NS,"rect");return b.setAttributeNS(null,"x",c.toString()),b.setAttributeNS(null,"y",f.toString()),b.setAttributeNS(null,"height",g.toString()),b.setAttributeNS(null,"width",y.toString()),b.setAttributeNS(null,"fill","#000000"),b}}il.QUIET_ZONE_SIZE=4,il.SVG_NS="http://www.w3.org/2000/svg";class ic{encode(c,f,g,y,b){if(c.length===0)throw new v("Found empty contents");if(f!==le.QR_CODE)throw new v("Can only encode QR_CODE, but got "+f);if(g<0||y<0)throw new v(`Requested dimensions are too small: ${g}x${y}`);let j=jn.L,E=ic.QUIET_ZONE_SIZE;b!==null&&(b.get(Pr.ERROR_CORRECTION)!==void 0&&(j=jn.fromString(b.get(Pr.ERROR_CORRECTION).toString())),b.get(Pr.MARGIN)!==void 0&&(E=Number.parseInt(b.get(Pr.MARGIN).toString(),10)));const D=Ln.encode(c,j,b);return ic.renderResult(D,g,y,E)}static renderResult(c,f,g,y){const b=c.getMatrix();if(b===null)throw new Ze;const j=b.getWidth(),E=b.getHeight(),D=j+y*2,k=E+y*2,$=Math.max(f,D),X=Math.max(g,k),Z=Math.min(Math.floor($/D),Math.floor(X/k)),ae=Math.floor(($-j*Z)/2),ue=Math.floor((X-E*Z)/2),fe=new te($,X);for(let Se=0,Oe=ue;Se<E;Se++,Oe+=Z)for(let Ye=0,Xe=ae;Ye<j;Ye++,Xe+=Z)b.get(Ye,Se)===1&&fe.setRegion(Xe,Oe,Z,Z);return fe}}ic.QUIET_ZONE_SIZE=4;class my{encode(c,f,g,y,b){let j;switch(f){case le.QR_CODE:j=new ic;break;default:throw new v("No encoder available for format "+f)}return j.encode(c,f,g,y,b)}}class fs extends se{constructor(c,f,g,y,b,j,E,D){if(super(j,E),this.yuvData=c,this.dataWidth=f,this.dataHeight=g,this.left=y,this.top=b,y+j>f||b+E>g)throw new v("Crop rectangle does not fit within image data.");D&&this.reverseHorizontal(j,E)}getRow(c,f){if(c<0||c>=this.getHeight())throw new v("Requested row is outside the image: "+c);const g=this.getWidth();(f==null||f.length<g)&&(f=new Uint8ClampedArray(g));const y=(c+this.top)*this.dataWidth+this.left;return _.arraycopy(this.yuvData,y,f,0,g),f}getMatrix(){const c=this.getWidth(),f=this.getHeight();if(c===this.dataWidth&&f===this.dataHeight)return this.yuvData;const g=c*f,y=new Uint8ClampedArray(g);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return _.arraycopy(this.yuvData,b,y,0,g),y;for(let j=0;j<f;j++){const E=j*c;_.arraycopy(this.yuvData,b,y,E,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,f,g,y){return new fs(this.yuvData,this.dataWidth,this.dataHeight,this.left+c,this.top+f,g,y,!1)}renderThumbnail(){const c=this.getWidth()/fs.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/fs.THUMBNAIL_SCALE_FACTOR,g=new Int32Array(c*f),y=this.yuvData;let b=this.top*this.dataWidth+this.left;for(let j=0;j<f;j++){const E=j*c;for(let D=0;D<c;D++){const k=y[b+D*fs.THUMBNAIL_SCALE_FACTOR]&255;g[E+D]=4278190080|k*65793}b+=this.dataWidth*fs.THUMBNAIL_SCALE_FACTOR}return g}getThumbnailWidth(){return this.getWidth()/fs.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/fs.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(c,f){const g=this.yuvData;for(let y=0,b=this.top*this.dataWidth+this.left;y<f;y++,b+=this.dataWidth){const j=b+c/2;for(let E=b,D=b+c-1;E<j;E++,D--){const k=g[E];g[E]=g[D],g[D]=k}}}invert(){return new me(this)}}fs.THUMBNAIL_SCALE_FACTOR=2;class Su extends se{constructor(c,f,g,y,b,j,E){if(super(f,g),this.dataWidth=y,this.dataHeight=b,this.left=j,this.top=E,c.BYTES_PER_ELEMENT===4){const D=f*g,k=new Uint8ClampedArray(D);for(let $=0;$<D;$++){const X=c[$],Z=X>>16&255,ae=X>>7&510,ue=X&255;k[$]=(Z+ae+ue)/4&255}this.luminances=k}else this.luminances=c;if(y===void 0&&(this.dataWidth=f),b===void 0&&(this.dataHeight=g),j===void 0&&(this.left=0),E===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+g>this.dataHeight)throw new v("Crop rectangle does not fit within image data.")}getRow(c,f){if(c<0||c>=this.getHeight())throw new v("Requested row is outside the image: "+c);const g=this.getWidth();(f==null||f.length<g)&&(f=new Uint8ClampedArray(g));const y=(c+this.top)*this.dataWidth+this.left;return _.arraycopy(this.luminances,y,f,0,g),f}getMatrix(){const c=this.getWidth(),f=this.getHeight();if(c===this.dataWidth&&f===this.dataHeight)return this.luminances;const g=c*f,y=new Uint8ClampedArray(g);let b=this.top*this.dataWidth+this.left;if(c===this.dataWidth)return _.arraycopy(this.luminances,b,y,0,g),y;for(let j=0;j<f;j++){const E=j*c;_.arraycopy(this.luminances,b,y,E,c),b+=this.dataWidth}return y}isCropSupported(){return!0}crop(c,f,g,y){return new Su(this.luminances,g,y,this.dataWidth,this.dataHeight,this.left+c,this.top+f)}invert(){return new me(this)}}class ac extends z{static forName(c){return this.getCharacterSetECIByName(c)}}class Wh{}Wh.ISO_8859_1=z.ISO8859_1;class Gh{isCompact(){return this.compact}setCompact(c){this.compact=c}getSize(){return this.size}setSize(c){this.size=c}getLayers(){return this.layers}setLayers(c){this.layers=c}getCodeWords(){return this.codeWords}setCodeWords(c){this.codeWords=c}getMatrix(){return this.matrix}setMatrix(c){this.matrix=c}}class Kh{static singletonList(c){return[c]}static min(c,f){return c.sort(f)[0]}}class Ig{constructor(c){this.previous=c}getPrevious(){return this.previous}}class al extends Ig{constructor(c,f,g){super(c),this.value=f,this.bitCount=g}appendTo(c,f){c.appendBits(this.value,this.bitCount)}add(c,f){return new al(this,c,f)}addBinaryShift(c,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new al(this,c,f)}toString(){let c=this.value&(1<<this.bitCount)-1;return c|=1<<this.bitCount,"<"+R.toBinaryString(c|1<<this.bitCount).substring(1)+">"}}class qd extends al{constructor(c,f,g){super(c,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=g}appendTo(c,f){for(let g=0;g<this.binaryShiftByteCount;g++)(g===0||g===31&&this.binaryShiftByteCount<=62)&&(c.appendBits(31,5),this.binaryShiftByteCount>62?c.appendBits(this.binaryShiftByteCount-31,16):g===0?c.appendBits(Math.min(this.binaryShiftByteCount,31),5):c.appendBits(this.binaryShiftByteCount-31,5)),c.appendBits(f[this.binaryShiftStart+g],8)}addBinaryShift(c,f){return new qd(this,c,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function sc(K,c,f){return new qd(K,c,f)}function Nu(K,c,f){return new al(K,c,f)}const gy=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],bo=0,Au=1,ra=2,oc=3,Fi=4,py=new al(null,0,0),lc=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function kg(K){for(let c of K)P.fill(c,-1);return K[bo][Fi]=0,K[Au][Fi]=0,K[Au][bo]=28,K[oc][Fi]=0,K[ra][Fi]=0,K[ra][bo]=15,K}const Xh=kg(P.createInt32Array(6,6));class ya{constructor(c,f,g,y){this.token=c,this.mode=f,this.binaryShiftByteCount=g,this.bitCount=y}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(c,f){let g=this.bitCount,y=this.token;if(c!==this.mode){let j=lc[this.mode][c];y=Nu(y,j&65535,j>>16),g+=j>>16}let b=c===ra?4:5;return y=Nu(y,f,b),new ya(y,c,0,g+b)}shiftAndAppend(c,f){let g=this.token,y=this.mode===ra?4:5;return g=Nu(g,Xh[this.mode][c],y),g=Nu(g,f,5),new ya(g,this.mode,0,this.bitCount+y+5)}addBinaryShiftChar(c){let f=this.token,g=this.mode,y=this.bitCount;if(this.mode===Fi||this.mode===ra){let E=lc[g][bo];f=Nu(f,E&65535,E>>16),y+=E>>16,g=bo}let b=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,j=new ya(f,g,this.binaryShiftByteCount+1,y+b);return j.binaryShiftByteCount===2078&&(j=j.endBinaryShift(c+1)),j}endBinaryShift(c){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=sc(f,c-this.binaryShiftByteCount,this.binaryShiftByteCount),new ya(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(c){let f=this.bitCount+(lc[this.mode][c.mode]>>16);return this.binaryShiftByteCount<c.binaryShiftByteCount?f+=ya.calculateBinaryShiftCost(c)-ya.calculateBinaryShiftCost(this):this.binaryShiftByteCount>c.binaryShiftByteCount&&c.binaryShiftByteCount>0&&(f+=10),f<=c.bitCount}toBitArray(c){let f=[];for(let y=this.endBinaryShift(c.length).token;y!==null;y=y.getPrevious())f.unshift(y);let g=new U;for(const y of f)y.appendTo(g,c);return g}toString(){return q.format("%s bits=%d bytes=%d",gy[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(c){return c.binaryShiftByteCount>62?21:c.binaryShiftByteCount>31?20:c.binaryShiftByteCount>0?10:0}}ya.INITIAL_STATE=new ya(py,bo,0,0);function Qh(K){const c=q.getCharCode(" "),f=q.getCharCode("."),g=q.getCharCode(",");K[bo][c]=1;const y=q.getCharCode("Z"),b=q.getCharCode("A");for(let Z=b;Z<=y;Z++)K[bo][Z]=Z-b+2;K[Au][c]=1;const j=q.getCharCode("z"),E=q.getCharCode("a");for(let Z=E;Z<=j;Z++)K[Au][Z]=Z-E+2;K[ra][c]=1;const D=q.getCharCode("9"),k=q.getCharCode("0");for(let Z=k;Z<=D;Z++)K[ra][Z]=Z-k+2;K[ra][g]=12,K[ra][f]=13;const $=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let Z=0;Z<$.length;Z++)K[oc][q.getCharCode($[Z])]=Z;const X=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let Z=0;Z<X.length;Z++)q.getCharCode(X[Z])>0&&(K[Fi][q.getCharCode(X[Z])]=Z);return K}const Yd=Qh(P.createInt32Array(5,256));class cc{constructor(c){this.text=c}encode(){const c=q.getCharCode(" "),f=q.getCharCode(`
`);let g=Kh.singletonList(ya.INITIAL_STATE);for(let b=0;b<this.text.length;b++){let j,E=b+1<this.text.length?this.text[b+1]:0;switch(this.text[b]){case q.getCharCode("\r"):j=E===f?2:0;break;case q.getCharCode("."):j=E===c?3:0;break;case q.getCharCode(","):j=E===c?4:0;break;case q.getCharCode(":"):j=E===c?5:0;break;default:j=0}j>0?(g=cc.updateStateListForPair(g,b,j),b++):g=this.updateStateListForChar(g,b)}return Kh.min(g,(b,j)=>b.getBitCount()-j.getBitCount()).toBitArray(this.text)}updateStateListForChar(c,f){const g=[];for(let y of c)this.updateStateForChar(y,f,g);return cc.simplifyStates(g)}updateStateForChar(c,f,g){let y=this.text[f]&255,b=Yd[c.getMode()][y]>0,j=null;for(let E=0;E<=Fi;E++){let D=Yd[E][y];if(D>0){if(j==null&&(j=c.endBinaryShift(f)),!b||E===c.getMode()||E===ra){const k=j.latchAndAppend(E,D);g.push(k)}if(!b&&Xh[c.getMode()][E]>=0){const k=j.shiftAndAppend(E,D);g.push(k)}}}if(c.getBinaryShiftByteCount()>0||Yd[c.getMode()][y]===0){let E=c.addBinaryShiftChar(f);g.push(E)}}static updateStateListForPair(c,f,g){const y=[];for(let b of c)this.updateStateForPair(b,f,g,y);return this.simplifyStates(y)}static updateStateForPair(c,f,g,y){let b=c.endBinaryShift(f);if(y.push(b.latchAndAppend(Fi,g)),c.getMode()!==Fi&&y.push(b.shiftAndAppend(Fi,g)),g===3||g===4){let j=b.latchAndAppend(ra,16-g).latchAndAppend(ra,1);y.push(j)}if(c.getBinaryShiftByteCount()>0){let j=c.addBinaryShiftChar(f).addBinaryShiftChar(f+1);y.push(j)}}static simplifyStates(c){let f=[];for(const g of c){let y=!0;for(const b of f){if(b.isBetterThanOrEqualTo(g)){y=!1;break}g.isBetterThanOrEqualTo(b)&&(f=f.filter(j=>j!==b))}y&&f.push(g)}return f}}class en{constructor(){}static encodeBytes(c){return en.encode(c,en.DEFAULT_EC_PERCENT,en.DEFAULT_AZTEC_LAYERS)}static encode(c,f,g){let y=new cc(c).encode(),b=R.truncDivision(y.getSize()*f,100)+11,j=y.getSize()+b,E,D,k,$,X;if(g!==en.DEFAULT_AZTEC_LAYERS){if(E=g<0,D=Math.abs(g),D>(E?en.MAX_NB_BITS_COMPACT:en.MAX_NB_BITS))throw new v(q.format("Illegal value %s for layers",g));k=en.totalBitsInLayer(D,E),$=en.WORD_SIZE[D];let qe=k-k%$;if(X=en.stuffBits(y,$),X.getSize()+b>qe)throw new v("Data to large for user specified layer");if(E&&X.getSize()>$*64)throw new v("Data to large for user specified layer")}else{$=0,X=null;for(let qe=0;;qe++){if(qe>en.MAX_NB_BITS)throw new v("Data too large for an Aztec code");if(E=qe<=3,D=E?qe+1:qe,k=en.totalBitsInLayer(D,E),j>k)continue;(X==null||$!==en.WORD_SIZE[D])&&($=en.WORD_SIZE[D],X=en.stuffBits(y,$));let kt=k-k%$;if(!(E&&X.getSize()>$*64)&&X.getSize()+b<=kt)break}}let Z=en.generateCheckWords(X,k,$),ae=X.getSize()/$,ue=en.generateModeMessage(E,D,ae),fe=(E?11:14)+D*4,Se=new Int32Array(fe),Oe;if(E){Oe=fe;for(let qe=0;qe<Se.length;qe++)Se[qe]=qe}else{Oe=fe+1+2*R.truncDivision(R.truncDivision(fe,2)-1,15);let qe=R.truncDivision(fe,2),kt=R.truncDivision(Oe,2);for(let Rt=0;Rt<qe;Rt++){let Ai=Rt+R.truncDivision(Rt,15);Se[qe-Rt-1]=kt-Ai-1,Se[qe+Rt]=kt+Ai+1}}let Ye=new te(Oe);for(let qe=0,kt=0;qe<D;qe++){let Rt=(D-qe)*4+(E?9:12);for(let Ai=0;Ai<Rt;Ai++){let ba=Ai*2;for(let Ui=0;Ui<2;Ui++)Z.get(kt+ba+Ui)&&Ye.set(Se[qe*2+Ui],Se[qe*2+Ai]),Z.get(kt+Rt*2+ba+Ui)&&Ye.set(Se[qe*2+Ai],Se[fe-1-qe*2-Ui]),Z.get(kt+Rt*4+ba+Ui)&&Ye.set(Se[fe-1-qe*2-Ui],Se[fe-1-qe*2-Ai]),Z.get(kt+Rt*6+ba+Ui)&&Ye.set(Se[fe-1-qe*2-Ai],Se[qe*2+Ui])}kt+=Rt*8}if(en.drawModeMessage(Ye,E,Oe,ue),E)en.drawBullsEye(Ye,R.truncDivision(Oe,2),5);else{en.drawBullsEye(Ye,R.truncDivision(Oe,2),7);for(let qe=0,kt=0;qe<R.truncDivision(fe,2)-1;qe+=15,kt+=16)for(let Rt=R.truncDivision(Oe,2)&1;Rt<Oe;Rt+=2)Ye.set(R.truncDivision(Oe,2)-kt,Rt),Ye.set(R.truncDivision(Oe,2)+kt,Rt),Ye.set(Rt,R.truncDivision(Oe,2)-kt),Ye.set(Rt,R.truncDivision(Oe,2)+kt)}let Xe=new Gh;return Xe.setCompact(E),Xe.setSize(Oe),Xe.setLayers(D),Xe.setCodeWords(ae),Xe.setMatrix(Ye),Xe}static drawBullsEye(c,f,g){for(let y=0;y<g;y+=2)for(let b=f-y;b<=f+y;b++)c.set(b,f-y),c.set(b,f+y),c.set(f-y,b),c.set(f+y,b);c.set(f-g,f-g),c.set(f-g+1,f-g),c.set(f-g,f-g+1),c.set(f+g,f-g),c.set(f+g,f-g+1),c.set(f+g,f+g-1)}static generateModeMessage(c,f,g){let y=new U;return c?(y.appendBits(f-1,2),y.appendBits(g-1,6),y=en.generateCheckWords(y,28,4)):(y.appendBits(f-1,5),y.appendBits(g-1,11),y=en.generateCheckWords(y,40,4)),y}static drawModeMessage(c,f,g,y){let b=R.truncDivision(g,2);if(f)for(let j=0;j<7;j++){let E=b-3+j;y.get(j)&&c.set(E,b-5),y.get(j+7)&&c.set(b+5,E),y.get(20-j)&&c.set(E,b+5),y.get(27-j)&&c.set(b-5,E)}else for(let j=0;j<10;j++){let E=b-5+j+R.truncDivision(j,5);y.get(j)&&c.set(E,b-7),y.get(j+10)&&c.set(b+7,E),y.get(29-j)&&c.set(E,b+7),y.get(39-j)&&c.set(b-7,E)}}static generateCheckWords(c,f,g){let y=c.getSize()/g,b=new Yh(en.getGF(g)),j=R.truncDivision(f,g),E=en.bitsToWords(c,g,j);b.encode(E,j-y);let D=f%g,k=new U;k.appendBits(0,D);for(const $ of Array.from(E))k.appendBits($,g);return k}static bitsToWords(c,f,g){let y=new Int32Array(g),b,j;for(b=0,j=c.getSize()/f;b<j;b++){let E=0;for(let D=0;D<f;D++)E|=c.get(b*f+D)?1<<f-D-1:0;y[b]=E}return y}static getGF(c){switch(c){case 4:return We.AZTEC_PARAM;case 6:return We.AZTEC_DATA_6;case 8:return We.AZTEC_DATA_8;case 10:return We.AZTEC_DATA_10;case 12:return We.AZTEC_DATA_12;default:throw new v("Unsupported word size "+c)}}static stuffBits(c,f){let g=new U,y=c.getSize(),b=(1<<f)-2;for(let j=0;j<y;j+=f){let E=0;for(let D=0;D<f;D++)(j+D>=y||c.get(j+D))&&(E|=1<<f-1-D);(E&b)===b?(g.appendBits(E&b,f),j--):(E&b)===0?(g.appendBits(E|1,f),j--):g.appendBits(E,f)}return g}static totalBitsInLayer(c,f){return((f?88:112)+16*c)*c}}en.DEFAULT_EC_PERCENT=33,en.DEFAULT_AZTEC_LAYERS=0,en.MAX_NB_BITS=32,en.MAX_NB_BITS_COMPACT=4,en.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Wd{encode(c,f,g,y){return this.encodeWithHints(c,f,g,y,null)}encodeWithHints(c,f,g,y,b){let j=Wh.ISO_8859_1,E=en.DEFAULT_EC_PERCENT,D=en.DEFAULT_AZTEC_LAYERS;return b!=null&&(b.has(Pr.CHARACTER_SET)&&(j=ac.forName(b.get(Pr.CHARACTER_SET).toString())),b.has(Pr.ERROR_CORRECTION)&&(E=R.parseInt(b.get(Pr.ERROR_CORRECTION).toString())),b.has(Pr.AZTEC_LAYERS)&&(D=R.parseInt(b.get(Pr.AZTEC_LAYERS).toString()))),Wd.encodeLayers(c,f,g,y,j,E,D)}static encodeLayers(c,f,g,y,b,j,E){if(f!==le.AZTEC)throw new v("Can only encode AZTEC, but got "+f);let D=en.encode(q.getBytes(c,b),j,E);return Wd.renderResult(D,g,y)}static renderResult(c,f,g){let y=c.getMatrix();if(y==null)throw new Ze;let b=y.getWidth(),j=y.getHeight(),E=Math.max(f,b),D=Math.max(g,j),k=Math.min(E/b,D/j),$=(E-b*k)/2,X=(D-j*k)/2,Z=new te(E,D);for(let ae=0,ue=X;ae<j;ae++,ue+=k)for(let fe=0,Se=$;fe<b;fe++,Se+=k)y.get(fe,ae)&&Z.setRegion(Se,ue,k,k);return Z}}n.AbstractExpandedDecoder=pu,n.ArgumentException=p,n.ArithmeticException=we,n.AztecCode=Gh,n.AztecCodeReader=Bs,n.AztecCodeWriter=Wd,n.AztecDecoder=xt,n.AztecDetector=ka,n.AztecDetectorResult=$r,n.AztecEncoder=en,n.AztecHighLevelEncoder=cc,n.AztecPoint=Jt,n.BarcodeFormat=le,n.Binarizer=T,n.BinaryBitmap=S,n.BitArray=U,n.BitMatrix=te,n.BitSource=Li,n.BrowserAztecCodeReader=us,n.BrowserBarcodeReader=Og,n.BrowserCodeReader=he,n.BrowserDatamatrixCodeReader=sy,n.BrowserMultiFormatReader=uy,n.BrowserPDF417Reader=dy,n.BrowserQRCodeReader=fy,n.BrowserQRCodeSvgWriter=il,n.CharacterSetECI=z,n.ChecksumException=A,n.Code128Reader=Qe,n.Code39Reader=hn,n.DataMatrixDecodedBitStreamParser=fo,n.DataMatrixReader=Ba,n.DecodeHintType=L,n.DecoderResult=xe,n.DefaultGridSampler=zn,n.DetectorResult=fn,n.EAN13Reader=ki,n.EncodeHintType=Pr,n.Exception=h,n.FormatException=F,n.GenericGF=We,n.GenericGFPoly=Ce,n.GlobalHistogramBinarizer=Y,n.GridSampler=Ii,n.GridSamplerInstance=cr,n.HTMLCanvasElementLuminanceSource=re,n.HybridBinarizer=ne,n.ITFReader=rn,n.IllegalArgumentException=v,n.IllegalStateException=Ze,n.InvertedLuminanceSource=me,n.LuminanceSource=se,n.MathUtils=tt,n.MultiFormatOneDReader=uo,n.MultiFormatReader=Pg,n.MultiFormatWriter=my,n.NotFoundException=J,n.OneDReader=nn,n.PDF417DecodedBitStreamParser=De,n.PDF417DecoderErrorCorrection=yu,n.PDF417Reader=ri,n.PDF417ResultMetadata=Vd,n.PerspectiveTransform=vn,n.PlanarYUVLuminanceSource=fs,n.QRCodeByteMatrix=ju,n.QRCodeDataMask=ni,n.QRCodeDecodedBitStreamParser=Yn,n.QRCodeDecoderErrorCorrectionLevel=jn,n.QRCodeDecoderFormatInformation=ti,n.QRCodeEncoder=Ln,n.QRCodeEncoderQRCode=rl,n.QRCodeMaskUtil=er,n.QRCodeMatrixUtil=Nt,n.QRCodeMode=bt,n.QRCodeReader=Vs,n.QRCodeVersion=vt,n.QRCodeWriter=ic,n.RGBLuminanceSource=Su,n.RSS14Reader=gn,n.RSSExpandedReader=$e,n.ReaderException=bu,n.ReedSolomonDecoder=yt,n.ReedSolomonEncoder=Yh,n.ReedSolomonException=Ue,n.Result=Re,n.ResultMetadataType=je,n.ResultPoint=it,n.StringUtils=q,n.UnsupportedOperationException=H,n.VideoInputDevice=de,n.WhiteRectangleDetector=lr,n.WriterException=En,n.ZXingArrays=P,n.ZXingCharset=ac,n.ZXingInteger=R,n.ZXingStandardCharsets=Wh,n.ZXingStringBuilder=Q,n.ZXingStringEncoding=W,n.ZXingSystem=_,n.createAbstractExpandedDecoder=$h,Object.defineProperty(n,"__esModule",{value:!0})})}(i0,i0.exports)),i0.exports}var Wn=Zoe();const Joe=Ia(Wn),ele=b8({__proto__:null,default:Joe},[Wn]);var ED=function(){function e(t,n,r){if(this.formatMap=new Map([[ct.QR_CODE,Wn.BarcodeFormat.QR_CODE],[ct.AZTEC,Wn.BarcodeFormat.AZTEC],[ct.CODABAR,Wn.BarcodeFormat.CODABAR],[ct.CODE_39,Wn.BarcodeFormat.CODE_39],[ct.CODE_93,Wn.BarcodeFormat.CODE_93],[ct.CODE_128,Wn.BarcodeFormat.CODE_128],[ct.DATA_MATRIX,Wn.BarcodeFormat.DATA_MATRIX],[ct.MAXICODE,Wn.BarcodeFormat.MAXICODE],[ct.ITF,Wn.BarcodeFormat.ITF],[ct.EAN_13,Wn.BarcodeFormat.EAN_13],[ct.EAN_8,Wn.BarcodeFormat.EAN_8],[ct.PDF_417,Wn.BarcodeFormat.PDF_417],[ct.RSS_14,Wn.BarcodeFormat.RSS_14],[ct.RSS_EXPANDED,Wn.BarcodeFormat.RSS_EXPANDED],[ct.UPC_A,Wn.BarcodeFormat.UPC_A],[ct.UPC_E,Wn.BarcodeFormat.UPC_E],[ct.UPC_EAN_EXTENSION,Wn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!ele)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(Wn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Wn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new Wn.MultiFormatReader(this.verbose,this.hints),r=new Wn.HTMLCanvasElementLuminanceSource(t),i=new Wn.BinaryBitmap(new Wn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:t9.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),tle=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},nle=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},_D=function(){function e(t,n,r){if(this.formatMap=new Map([[ct.QR_CODE,"qr_code"],[ct.AZTEC,"aztec"],[ct.CODABAR,"codabar"],[ct.CODE_39,"code_39"],[ct.CODE_93,"code_93"],[ct.CODE_128,"code_128"],[ct.DATA_MATRIX,"data_matrix"],[ct.ITF,"itf"],[ct.EAN_13,"ean_13"],[ct.EAN_8,"ean_8"],[ct.PDF_417,"pdf417"],[ct.UPC_A,"upc_a"],[ct.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return tle(this,void 0,void 0,function(){var n,r;return nle(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:t9.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var l=s[i],d=l.boundingBox.width*l.boundingBox.height;d>r&&(r=d,n=l)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),CD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},TD=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},rle=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&_D.isSupported()?(this.primaryDecoder=new _D(t,r,i),this.secondaryDecoder=new ED(t,r,i)):this.primaryDecoder=new ED(t,r,i)}return e.prototype.decodeAsync=function(t){return CD(this,void 0,void 0,function(){var n;return TD(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return CD(this,void 0,void 0,function(){var n,r;return TD(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),CE=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kx=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},Xx=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},a9=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),ile=function(e){CE(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(a9),ale=function(e){CE(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(ile),sle=function(e){CE(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(a9),ole=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new ale(this.track)},e.prototype.torchFeature=function(){return new sle(this.track)},e}(),lle=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Kx(this,void 0,void 0,function(){var s,l;return Xx(this,function(d){switch(d.label){case 0:return s=new e(t,n,i),r.aspectRatio?(l={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:d.sent(),d.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Kx(this,void 0,void 0,function(){return Xx(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,l=0;t.mediaStream.getVideoTracks().forEach(function(d){t.mediaStream.removeTrack(d),d.stop(),++l,l>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new ole(this.getFirstTrackOrFail())},e}(),cle=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return Kx(this,void 0,void 0,function(){return Xx(this,function(i){return[2,lle.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return Kx(this,void 0,void 0,function(){var n,r;return Xx(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),OD=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},MD=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ule=function(){function e(){}return e.failIfNotSupported=function(){return OD(this,void 0,void 0,function(){return MD(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return OD(this,void 0,void 0,function(){return MD(this,function(n){return[2,cle.create(t)]})})},e}(),dle=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},fle=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},hle=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Gf.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Gf.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return dle(this,void 0,void 0,function(){var t,n,r,i,s,l,d;return fle(this,function(m){switch(m.label){case 0:return t=function(h){for(var p=h.getVideoTracks(),v=0,S=p;v<S.length;v++){var A=S[v];A.enabled=!1,A.stop(),h.removeTrack(A)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=m.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=m.sent(),i=[],s=0,l=r;s<l.length;s++)d=l[s],d.kind==="videoinput"&&i.push({id:d.deviceId,label:d.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var l=[],d=0,m=s;d<m.length;d++){var h=m[d];h.kind==="video"&&l.push({id:h.id,label:h.label})}t(l)},i=MediaStreamTrack;i.getSources(r)})},e}(),_r;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(_r||(_r={}));var mle=function(){function e(){this.state=_r.NOT_STARTED,this.onGoingTransactionNewState=_r.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=_r.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===_r.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=_r.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==_r.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case _r.UNKNOWN:throw"Transition from unknown is not allowed";case _r.NOT_STARTED:this.failIfNewStateIs(t,[_r.PAUSED]);break;case _r.SCANNING:break;case _r.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),gle=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===_r.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==_r.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===_r.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===_r.PAUSED},e}(),ple=function(){function e(){}return e.create=function(){return new gle(new mle)},e}(),xle=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ya=function(e){xle(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(Js),vle=function(){function e(t,n){this.logger=n,this.fps=Ya.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=Ya.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?i9.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!To(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),DD=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new r9(this.verbose),this.qrcode=new rle(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=ple.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;i?l=i:l=this.verbose?this.logger.log:function(){};var d=vle.create(n,this.logger);this.clearElement();var m=!1;d.videoConstraints&&(d.isMediaStreamConstraintsValid()?m=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=m,p=document.getElementById(this.elementId);p.clientWidth?p.clientWidth:Ya.DEFAULT_WIDTH,p.style.position="relative",this.shouldScan=!0,this.element=p;var v=this,S=this.stateManagerProxy.startTransition(_r.SCANNING);return new Promise(function(A,T){var _=h?d.videoConstraints:v.createVideoConstraints(t);if(!_){S.cancel(),T("videoConstraints should be defined");return}var C={};(!h||d.aspectRatio)&&(C.aspectRatio=d.aspectRatio);var M={onRenderSurfaceReady:function(P,R){v.setupUi(P,R,d),v.isScanning=!0,v.foreverScan(d,r,l)}};ule.failIfNotSupported().then(function(P){P.create(_).then(function(R){return R.render(s.element,C,M).then(function(U){v.renderedCamera=U,S.execute(),A(null)}).catch(function(U){S.cancel(),T(U)})}).catch(function(R){S.cancel(),T(Gf.errorGettingUserMedia(R))})}).catch(function(P){S.cancel(),T(Gf.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(_r.PAUSED),this.showPausedState(),(To(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(_r.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(_r.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(Ya.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(To(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var l=new Image;l.onload=function(){var d=l.width,m=l.height,h=document.getElementById(r.elementId),p=h.clientWidth?h.clientWidth:Ya.DEFAULT_WIDTH,v=Math.max(h.clientHeight?h.clientHeight:m,Ya.FILE_SCAN_MIN_HEIGHT),S=r.computeCanvasDrawConfig(d,m,p,v);if(n){var A=r.createCanvasElement(p,v,"qr-canvas-visible");A.style.display="inline-block",h.appendChild(A);var T=A.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=p,T.canvas.height=v,T.drawImage(l,0,0,d,m,S.x,S.y,S.width,S.height)}var _=Ya.FILE_SCAN_HIDDEN_CANVAS_PADDING,C=Math.max(l.width,S.width),M=Math.max(l.height,S.height),P=C+2*_,R=M+2*_,U=r.createCanvasElement(P,R);h.appendChild(U);var B=U.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=P,B.canvas.height=R,B.drawImage(l,0,0,d,m,_,_,C,M);try{r.qrcode.decodeRobustlyAsync(U).then(function(L){i(SD.createFromQrcodeResult(L))}).catch(s)}catch(L){s("QR code parse error, error = ".concat(L))}},l.onerror=s,l.onabort=s,l.onstalled=s,l.onsuspend=s,l.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return hle.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!i9.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[ct.QR_CODE,ct.AZTEC,ct.CODABAR,ct.CODE_39,ct.CODE_93,ct.CODE_128,ct.DATA_MATRIX,ct.MAXICODE,ct.ITF,ct.EAN_13,ct.EAN_8,ct.PDF_417,ct.RSS_14,ct.RSS_EXPANDED,ct.UPC_A,ct.UPC_E,ct.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var l=s[i];Koe(l)?r.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(To(t))return!0;if(!To(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(To(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return To(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var l=this.toQrdimensions(t,n,s),d=function(h){if(h<Ya.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ya.MIN_QR_BOX_SIZE,"px.")},m=function(h){return h>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=t),h};d(l.width),d(l.height),l.width=m(l.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=To(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=r.isShadedBoxEnabled()&&s.height<=n,d={x:0,y:0,width:t,height:n},m=l?this.getShadedRegionBounds(t,n,s):d,h=this.createCanvasElement(m.width,m.height),p={willReadFrequently:!0},v=h.getContext("2d",p);v.canvas.width=m.width,v.canvas.height=m.height,this.element.append(h),l&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=m,this.context=v,this.canvasElement=h},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=Gf.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,SD.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=Gf.codeParseError(i);return n(s,n9.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),l=s.videoWidth/s.clientWidth,d=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var m=this.qrRegion.width*l,h=this.qrRegion.height*d,p=this.qrRegion.x*l,v=this.qrRegion.y*d;this.context.drawImage(s,p,v,m,h,0,0,this.qrRegion.width,this.qrRegion.height);var S=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(A){!A&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){S()})):S()}).catch(function(A){i.logger.logError("Error happend while scanning context",A),S()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",l=function(T){if(T in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},d=Object.keys(t);if(d.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(d.length," keys");var m=Object.keys(t)[0];if(m!==n&&m!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(m===n){var h=t.facingMode;if(typeof h=="string"){if(l(h))return{facingMode:h}}else if(typeof h=="object")if(s in h){if(l(h["".concat(s)]))return{facingMode:{exact:h["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var p=typeof h;throw"Invalid type of 'facingMode' = ".concat(p)}}else{var v=t.deviceId;if(typeof v=="string")return{deviceId:v};if(typeof v=="object"){if(s in v)return{deviceId:{exact:v["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var S=typeof v;throw"Invalid type of 'deviceId' = ".concat(S)}}}var A=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(A)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,l=(i-n)/2;return{x:s,y:l,width:t,height:n}}else{var d=t,m=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(d,"X").concat(m)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?Ya.BORDER_SHADER_MATCH_COLOR:Ya.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,l=document.createElement("canvas");return l.style.width="".concat(i,"px"),l.style.height="".concat(s,"px"),l.style.display="none",l.id=To(r)?"qr-canvas":r,l},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var l=(n-i.width)/2,d=(r-i.height)/2;if(s.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(d,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(Ya.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var m=5,h=40;this.insertShaderBorders(s,h,m,-m,null,0,!0),this.insertShaderBorders(s,h,m,-m,null,0,!1),this.insertShaderBorders(s,h,m,null,-m,0,!0),this.insertShaderBorders(s,h,m,null,-m,0,!1),this.insertShaderBorders(s,m,h+m,-m,null,-m,!0),this.insertShaderBorders(s,m,h+m,null,-m,-m,!0),this.insertShaderBorders(s,m,h+m,-m,null,-m,!1),this.insertShaderBorders(s,m,h+m,null,-m,-m,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,l,d){var m=document.createElement("div");m.style.position="absolute",m.style.backgroundColor=Ya.BORDER_SHADER_DEFAULT_COLOR,m.style.width="".concat(n,"px"),m.style.height="".concat(r,"px"),i!==null&&(m.style.top="".concat(i,"px")),s!==null&&(m.style.bottom="".concat(s,"px")),d?m.style.left="".concat(l,"px"):m.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(m),t.appendChild(m)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),TE="data:image/svg+xml;base64,",yle=TE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",ble=TE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",RD=TE+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",wle="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",PD=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),jle=function(){function e(){this.data=PD.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=PD.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),Sle=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=ND.poweredBy();var n=document.createElement("a");n.innerText="ScanApp",n.href="https://scanapp.org",n.target="new",n.style.color="white",this.infoDiv.appendChild(n);var r=document.createElement("br"),i=document.createElement("br");this.infoDiv.appendChild(r),this.infoDiv.appendChild(i);var s=document.createElement("a");s.innerText=ND.reportIssues(),s.href="https://github.com/mebjas/html5-qrcode/issues",s.target="new",s.style.color="white",this.infoDiv.appendChild(s),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),Nle=function(){function e(t,n){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=n,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var n=this;this.infoIcon.alt="Info icon",this.infoIcon.src=RD,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(r){return n.onHoverIn()},this.infoIcon.onmouseout=function(r){return n.onHoverOut()},this.infoIcon.onclick=function(r){return n.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=wle,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=RD,this.infoIcon.style.opacity="0.6")},e}(),Ale=function(){function e(){var t=this;this.infoDiv=new Sle,this.infoIcon=new Nle(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),Ele=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},_le=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},ID=function(){function e(){}return e.hasPermissions=function(){return Ele(this,void 0,void 0,function(){var t,n,r,i;return _le(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=s.sent(),n=0,r=t;n<r.length;n++)if(i=r[n],i.kind==="videoinput"&&i.label)return[2,!0];return[2,!1]}})})},e}(),Rc=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(t){return t===Jc.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Jc.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return Js.DEFAULT_SUPPORTED_SCAN_TYPE;var n=Js.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>n)throw"Max ".concat(n," values expected for ")+"supportedScanTypes";for(var r=0,i=t;r<i.length;r++){var s=i[r];if(!Js.DEFAULT_SUPPORTED_SCAN_TYPE.includes(s))throw"Unsupported scan type ".concat(s)}return t},e}(),ns=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),El=function(){function e(){}return e.createElement=function(t,n){var r=document.createElement(t);return r.id=n,r.classList.add(ns.ALL_ELEMENT_CLASS),t==="button"&&r.setAttribute("type","button"),r},e}(),s9=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(l){l(s)})}return new(n||(n=Promise))(function(s,l){function d(p){try{h(r.next(p))}catch(v){l(v)}}function m(p){try{h(r.throw(p))}catch(v){l(v)}}function h(p){p.done?s(p.value):i(p.value).then(d,m)}h((r=r.apply(e,t||[])).next())})},o9=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(h){return function(p){return m([h,p])}}function m(h){if(r)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(n=0)),n;)try{if(r=1,i&&(s=h[0]&2?i.return:h[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,h[1])).done)return s;switch(i=0,s&&(h=[h[0]&2,s.value]),h[0]){case 0:case 1:s=h;break;case 4:return n.label++,{value:h[1],done:!1};case 5:n.label++,i=h[1],h=[0];continue;case 7:h=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(h[0]===6||h[0]===2)){n=0;continue}if(h[0]===3&&(!s||h[1]>s[0]&&h[1]<s[3])){n.label=h[1];break}if(h[0]===6&&n.label<s[1]){n.label=s[1],s=h;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(h);break}s[2]&&n.ops.pop(),n.trys.pop();continue}h=t.call(e,n)}catch(p){h=[6,p],i=0}finally{r=s=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},kD=function(){function e(t,n,r){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=n,this.onTorchActionFailureCallback=r}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return s9(this,void 0,void 0,function(){var t,n;return o9(this,function(r){switch(r.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return r.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return n=r.sent(),this.propagateFailure(t,n),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,n){t===n?(this.buttonController.setText(n?Mn.torchOffButton():Mn.torchOnButton()),this.isTorchOn=n):this.propagateFailure(n),this.buttonController.enable()},e.prototype.propagateFailure=function(t,n){var r=t?Mn.torchOnFailedMessage():Mn.torchOffFailedMessage();n&&(r+="; Error = "+n),this.onTorchActionFailureCallback(r)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Cle=function(){function e(t,n){this.onTorchActionFailureCallback=n,this.torchButton=El.createElement("button",ns.TORCH_BUTTON_ID),this.torchController=new kD(t,this,n)}return e.prototype.render=function(t,n){var r=this;this.torchButton.innerText=Mn.torchOnButton(),this.torchButton.style.display=n.display,this.torchButton.style.marginLeft=n.marginLeft;var i=this;this.torchButton.addEventListener("click",function(s){return s9(r,void 0,void 0,function(){return o9(this,function(l){switch(l.label){case 0:return[4,i.torchController.flipState()];case 1:return l.sent(),i.torchController.isTorchEnabled()?(i.torchButton.classList.remove(ns.TORCH_BUTTON_CLASS_TORCH_OFF),i.torchButton.classList.add(ns.TORCH_BUTTON_CLASS_TORCH_ON)):(i.torchButton.classList.remove(ns.TORCH_BUTTON_CLASS_TORCH_ON),i.torchButton.classList.add(ns.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new kD(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Mn.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var s=new e(n,i);return s.render(t,r),s},e}(),Tle=function(){function e(t,n,r){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=n?"block":"none",t.appendChild(this.fileBasedScanRegion);var i=document.createElement("label");i.setAttribute("for",this.getFileScanInputId()),i.style.display="inline-block",this.fileBasedScanRegion.appendChild(i),this.fileSelectionButton=El.createElement("button",ns.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(d){i.click()}),i.append(this.fileSelectionButton),this.fileScanInput=El.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",i.appendChild(this.fileScanInput);var s=this;this.fileScanInput.addEventListener("change",function(d){if(!(d==null||d.target==null)){var m=d.target;if(!(m.files&&m.files.length===0)){var h=m.files,p=h[0],v=p.name;s.setImageNameToButton(v),r(p)}}});var l=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(l),this.fileBasedScanRegion.addEventListener("dragenter",function(d){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(d){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(d){s.fileBasedScanRegion.style.border=s.fileBasedScanRegionActiveBorder(),d.stopPropagation(),d.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(d){d.stopPropagation(),d.preventDefault(),s.fileBasedScanRegion.style.border=s.fileBasedScanRegionDefaultBorder();var m=d.dataTransfer;if(m){var h=m.files;if(!h||h.length===0)return;for(var p=!1,v=0;v<h.length;++v){var S=h.item(v);if(S){var A=/image.*/;if(S.type.match(A)){p=!0;var T=S.name;s.setImageNameToButton(T),r(S),l.innerText=Mn.dragAndDropMessage();break}}}p||(l.innerText=Mn.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Mn.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var n=20;if(t.length>n){var r=t.substring(0,8),i=t.length,s=t.substring(i-8,i);t="".concat(r,"....").concat(s)}var l=Mn.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=l},e.prototype.setInitialValueToButton=function(){var t=Mn.fileSelectionChooseImage()+" - "+Mn.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,n,r){var i=new e(t,n,r);return i},e}(),Ole=function(){function e(t){this.selectElement=El.createElement("select",ns.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var n=document.createElement("span");n.style.marginRight="10px";var r=this.cameras.length;if(r===0)throw new Error("No cameras found");if(r===1)n.style.display="none";else{var i=Mn.selectCamera();n.innerText="".concat(i," (").concat(this.cameras.length,")  ")}for(var s=1,l=0,d=this.cameras;l<d.length;l++){var m=d[l],h=m.id,p=m.label==null?h:m.label;(!p||p==="")&&(p=[Mn.anonymousCameraPrefix(),s++].join(" "));var v=document.createElement("option");v.value=h,v.innerText=p,this.options.push(v),this.selectElement.appendChild(v)}n.appendChild(this.selectElement),t.appendChild(n)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var n=0,r=this.options;n<r.length;n++){var i=r[n];if(i.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Mle=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=El.createElement("input",ns.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,n){this.zoomElementContainer.style.display=n?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var r=Mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(r),this.rangeText.style.marginRight="10px";var i=this;this.rangeInput.addEventListener("input",function(){return i.onValueChange()}),this.rangeInput.addEventListener("change",function(){return i.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Mn.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,n,r,i){this.rangeInput.min=t.toString(),this.rangeInput.max=n.toString(),this.rangeInput.step=i.toString(),this.rangeInput.value=r.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),Wa;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Wa||(Wa={}));function Dle(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Rle(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Ple=function(){function e(t,n,r){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(n),this.verbose=r===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Rc(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new r9(this.verbose),this.persistedDataManager=new jle,n.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,n){var r=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(s,l){if(t)t(s,l);else{if(r.lastMatchFound===s)return;r.lastMatchFound=s,r.setHeaderMessage(Mn.lastMatch(s),Wa.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(s,l){n&&n(s,l)};var i=document.getElementById(this.elementId);if(!i)throw"HTML Element with id=".concat(this.elementId," not found");i.innerHTML="",this.createBasicLayout(i),this.html5Qrcode=new DD(this.getScanRegionId(),Rle(this.config,this.verbose))},e.prototype.pause=function(t){(To(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,n=function(){var r=document.getElementById(t.elementId);r&&(r.innerHTML="",t.resetBasicLayout(r))};return this.html5Qrcode?new Promise(function(r,i){if(!t.html5Qrcode){r();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(s){if(!t.html5Qrcode){r();return}t.html5Qrcode.clear(),n(),r()}).catch(function(s){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",s),i(s)}):(t.html5Qrcode.clear(),n(),r())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=Js.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!Js.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=Js.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=Js.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:Js.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Js.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Js.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var n=document.createElement("div"),r=this.getScanRegionId();n.id=r,n.style.width="100%",n.style.minHeight="100px",n.style.textAlign="center",t.appendChild(n),Rc.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var i=document.createElement("div"),s=this.getDashboardId();i.id=s,i.style.width="100%",t.appendChild(i),this.setupInitialDashboard(i)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var n=document.createElement("div");n.style.textAlign="left",n.style.margin="0px",t.appendChild(n);var r=new Ale;r.renderInto(n);var i=document.createElement("div");i.id=this.getHeaderMessageContainerId(),i.style.display="none",i.style.textAlign="center",i.style.fontSize="14px",i.style.padding="2px 10px",i.style.margin="4px",i.style.borderTop="1px solid #f6f6f6",n.appendChild(i)},e.prototype.createSection=function(t){var n=document.createElement("div");n.id=this.getDashboardSectionId(),n.style.width="100%",n.style.padding="10px 0px 10px 0px",n.style.textAlign="left",t.appendChild(n)},e.prototype.createCameraListUi=function(t,n,r){var i=this;i.showHideScanTypeSwapLink(!1),i.setHeaderMessage(Mn.cameraPermissionRequesting());var s=function(){r||i.createPermissionButton(t,n)};DD.getCameras().then(function(l){i.persistedDataManager.setHasPermission(!0),i.showHideScanTypeSwapLink(!0),i.resetHeaderMessage(),l&&l.length>0?(t.removeChild(n),i.renderCameraSelection(l)):(i.setHeaderMessage(Mn.noCameraFound(),Wa.STATUS_WARNING),s())}).catch(function(l){i.persistedDataManager.setHasPermission(!1),r?r.disabled=!1:s(),i.setHeaderMessage(l,Wa.STATUS_WARNING),i.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,n){var r=this,i=El.createElement("button",this.getCameraPermissionButtonId());i.innerText=Mn.cameraPermissionTitle(),i.addEventListener("click",function(){i.disabled=!0,r.createCameraListUi(t,n,i)}),n.appendChild(i)},e.prototype.createPermissionsUi=function(t,n){var r=this;if(Rc.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){ID.hasPermissions().then(function(i){i?r.createCameraListUi(t,n):(r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n))}).catch(function(i){r.persistedDataManager.setHasPermission(!1),r.createPermissionButton(t,n)});return}this.createPermissionButton(t,n)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),n=document.createElement("div");t.appendChild(n);var r=document.createElement("div");r.id=this.getDashboardSectionCameraScanRegionId(),r.style.display=Rc.isCameraScanType(this.currentScanType)?"block":"none",n.appendChild(r);var i=document.createElement("div");i.style.textAlign="center",r.appendChild(i),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(r,i),this.renderFileScanUi(n)},e.prototype.renderFileScanUi=function(t){var n=Rc.isFileScanType(this.currentScanType),r=this,i=function(s){if(!r.html5Qrcode)throw"html5Qrcode not defined";Rc.isFileScanType(r.currentScanType)&&(r.setHeaderMessage(Mn.loadingImage()),r.html5Qrcode.scanFileV2(s,!0).then(function(l){r.resetHeaderMessage(),r.qrCodeSuccessCallback(l.decodedText,l)}).catch(function(l){r.setHeaderMessage(l,Wa.STATUS_WARNING),r.qrCodeErrorCallback(l,n9.createFrom(l))}))};this.fileSelectionUi=Tle.create(t,n,i)},e.prototype.renderCameraSelection=function(t){var n=this,r=this,i=document.getElementById(this.getDashboardSectionCameraScanRegionId());i.style.textAlign="center";var s=Mle.create(i,!1),l=function(_){var C=_.zoomFeature();if(C.isSupported()){s.setOnCameraZoomValueChangeCallback(function(P){C.apply(P)});var M=1;n.config.defaultZoomValueIfSupported&&(M=n.config.defaultZoomValueIfSupported),M=Xoe(M,C.min(),C.max()),s.setValues(C.min(),C.max(),M,C.step()),s.show()}},d=Ole.create(i,t),m=document.createElement("span"),h=El.createElement("button",ns.CAMERA_START_BUTTON_ID);h.innerText=Mn.scanButtonStartScanningText(),m.appendChild(h);var p=El.createElement("button",ns.CAMERA_STOP_BUTTON_ID);p.innerText=Mn.scanButtonStopScanningText(),p.style.display="none",p.disabled=!0,m.appendChild(p);var v,S=function(_){if(!_.torchFeature().isSupported()){v&&v.hide();return}v?v.updateTorchCapability(_.torchFeature()):v=Cle.create(m,_.torchFeature(),{display:"none",marginLeft:"5px"},function(C){r.setHeaderMessage(C,Wa.STATUS_WARNING)}),v.show()};i.appendChild(m);var A=function(_){_||(h.style.display="none"),h.innerText=Mn.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,_&&(h.style.display="inline-block")};if(h.addEventListener("click",function(_){h.innerText=Mn.scanButtonScanningStarting(),d.disable(),h.disabled=!0,h.style.opacity="0.5",n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!1),r.resetHeaderMessage();var C=d.getValue();r.persistedDataManager.setLastUsedCameraId(C),r.html5Qrcode.start(C,Dle(r.config),r.qrCodeSuccessCallback,r.qrCodeErrorCallback).then(function(M){p.disabled=!1,p.style.display="inline-block",A(!1);var P=r.html5Qrcode.getRunningTrackCameraCapabilities();n.config.showTorchButtonIfSupported===!0&&S(P),n.config.showZoomSliderIfSupported===!0&&l(P)}).catch(function(M){r.showHideScanTypeSwapLink(!0),d.enable(),A(!0),r.setHeaderMessage(M,Wa.STATUS_WARNING)})}),d.hasSingleItem()&&h.click(),p.addEventListener("click",function(_){if(!r.html5Qrcode)throw"html5Qrcode not defined";p.disabled=!0,r.html5Qrcode.stop().then(function(C){n.scanTypeSelector.hasMoreThanOneScanType()&&r.showHideScanTypeSwapLink(!0),d.enable(),h.disabled=!1,p.style.display="none",h.style.display="inline-block",v&&(v.reset(),v.hide()),s.removeOnCameraZoomValueChangeCallback(),s.hide(),r.insertCameraScanImageToScanRegion()}).catch(function(C){p.disabled=!1,r.setHeaderMessage(C,Wa.STATUS_WARNING)})}),r.persistedDataManager.getLastUsedCameraId()){var T=r.persistedDataManager.getLastUsedCameraId();d.hasValue(T)?(d.setValue(T),h.click()):r.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,n=Mn.textIfCameraScanSelected(),r=Mn.textIfFileScanSelected(),i=document.getElementById(this.getDashboardSectionId()),s=document.createElement("div");s.style.textAlign="center";var l=El.createElement("span",this.getDashboardSectionSwapLinkId());l.style.textDecoration="underline",l.style.cursor="pointer",l.innerText=Rc.isCameraScanType(this.currentScanType)?n:r,l.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Rc.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),l.innerText=r,t.currentScanType=Jc.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),l.innerText=n,t.currentScanType=Jc.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),s.appendChild(l),i.appendChild(s)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,n=this;if(this.persistedDataManager.hasCameraPermissions()){ID.hasPermissions().then(function(r){if(r){var i=document.getElementById(n.getCameraPermissionButtonId());if(!i)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";i.click()}else n.persistedDataManager.setHasPermission(!1)}).catch(function(r){n.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,n){n||(n=Wa.STATUS_DEFAULT);var r=this.getHeaderMessageDiv();switch(r.innerText=t,r.style.display="block",n){case Wa.STATUS_SUCCESS:r.style.background="rgba(106, 175, 80, 0.26)",r.style.color="#477735";break;case Wa.STATUS_WARNING:r.style.background="rgba(203, 36, 49, 0.14)",r.style.color="#cb2431";break;case Wa.STATUS_DEFAULT:default:r.style.background="rgba(0, 0, 0, 0)",r.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){n.innerHTML="<br>",n.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=yle,this.cameraScanImage.alt=Mn.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,n=document.getElementById(this.getScanRegionId());if(this.fileScanImage){n.innerHTML="<br>",n.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(r){n.innerHTML="<br>",n.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=ble,this.fileScanImage.alt=Mn.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return ns.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return ns.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Ile(){var he,Re,Le;const[e,t]=N.useState(!1),[n,r]=N.useState(null),[i,s]=N.useState(""),[l,d]=N.useState(null),[m,h]=N.useState(""),[p,v]=N.useState(1),[S,A]=N.useState(!1),[T,_]=N.useState(null),[C,M]=N.useState([]),[P,R]=N.useState(""),[U,B]=N.useState(!1),[L,F]=N.useState(!1),[V,z]=N.useState(!0),H=N.useRef(null),{profile:W}=cn(),{t:q,isRTL:Q}=Yt();N.useEffect(()=>(W&&J(),te(),()=>{ne()}),[W]);const te=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){z(!1);return}(await navigator.mediaDevices.enumerateDevices()).filter(je=>je.kind==="videoinput").length===0&&z(!1)}catch(le){console.error("Error checking camera support:",le),z(!1)}},J=async()=>{try{const{data:le,error:pe}=await rt.from("wallets").select("*").eq("user_id",W==null?void 0:W.id).single();if(pe)throw pe;_(le)}catch(le){console.error("Error fetching wallet data:",le)}},Y=async()=>{if(!e){B(!0),R("");try{if(!V)throw new Error("Camera not supported on this device");(await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1280},height:{ideal:720}}})).getTracks().forEach(je=>je.stop()),t(!0),r(null);const pe={fps:10,qrbox:{width:280,height:280},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,showZoomSliderIfSupported:!0,defaultZoomValueIfSupported:2,supportedScanTypes:[0],videoConstraints:{facingMode:"environment"}};H.current=new Ple("qr-reader",pe,!1),H.current.render(je=>{se(je)},je=>{console.debug("QR scan error (normal):",je)}),Ge.success("Camera started successfully! Point at a QR code to scan.")}catch(le){console.error("Camera initialization error:",le),t(!1),le.name==="NotAllowedError"?(R("Camera permission denied. Please allow camera access and try again."),Ge.error("Camera permission denied. Please allow camera access to scan QR codes.")):le.name==="NotFoundError"?(R("No camera found on this device."),Ge.error("No camera found on this device. Please use manual entry.")):le.name==="NotSupportedError"?(R("Camera not supported on this browser."),Ge.error("Camera not supported. Please try a different browser or use manual entry.")):(R("Camera initialization failed. Please try again or use manual entry."),Ge.error("Failed to start camera. Please try again or use manual entry."))}finally{B(!1)}}},ne=()=>{H.current&&e&&H.current.clear().then(()=>{t(!1)}).catch(le=>{console.error("Error stopping scanner:",le),t(!1)})},se=le=>{ne(),me(le)},me=async le=>{var pe;try{let je;try{je=JSON.parse(le)}catch{je={raw:le}}let xe;if(je.type==="driver"||je.driver_id){xe={type:"driver",data:je,rawData:le};const{data:Fe}=await rt.from("qr_codes").select(`
            *,
            driver_profile:driver_profiles!qr_codes_driver_id_fkey(
              ticket_fee,
              route_name,
              vehicle_type
            ),
            profile:profiles!qr_codes_driver_id_fkey(full_name)
          `).eq("qr_data",le).eq("is_active",!0).single();if(Fe)xe.data={...xe.data,...Fe},d({qrData:xe.data,amount:((pe=Fe.driver_profile)==null?void 0:pe.ticket_fee)||500,quantity:1,type:"driver"});else throw new Error("Invalid or inactive driver QR code")}else je.type==="merchant"||je.merchant_id?(xe={type:"merchant",data:je,rawData:le},d({qrData:xe.data,amount:je.amount,type:"merchant"})):(xe={type:"unknown",data:je,rawData:le},Ge.error("Unrecognized QR code format"));r(xe),M(Fe=>[xe,...Fe.slice(0,4)])}catch(je){console.error("Error processing QR code:",je),Ge.error("Invalid QR code or service unavailable")}},re=()=>{i.trim()&&(me(i.trim()),s(""))},de=async()=>{if(!(!l||!W)){A(!0);try{if(l.type==="driver"){const{data:le,error:pe}=await rt.rpc("process_transport_payment",{p_passenger_id:W.id,p_driver_id:l.qrData.driver_id,p_amount:(l.amount||500)*p,p_qr_code_id:l.qrData.id,p_quantity:p});if(pe)throw pe;if(le&&le.length>0){const je=le[0];je.error_message?Ge.error(je.error_message):(Ge.success(q("scanner.paymentSuccess")),d(null),J())}}else if(l.type==="merchant"){const le=parseFloat(m)||l.amount||0;if(le<=0){Ge.error("Please enter a valid amount");return}const{data:pe,error:je}=await rt.rpc("process_merchant_payment",{p_passenger_id:W.id,p_merchant_id:l.qrData.merchant_id||l.qrData.user_id,p_amount:le});if(je)throw je;if(pe&&pe.length>0){const xe=pe[0];xe.error_message?Ge.error(xe.error_message):(Ge.success(q("scanner.paymentSuccess")),d(null),J())}}}catch(le){console.error("Error processing payment:",le),Ge.error(q("scanner.paymentFailed"))}finally{A(!1)}}},oe=le=>new Intl.NumberFormat(Q?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(le);return a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:q("scanner.title")}),a.jsx("p",{className:"text-muted-foreground",children:"Scan QR codes to make instant payments"})]}),T&&a.jsx(ve,{className:"p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(md,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"font-medium",children:oe(T.balance)})]})})]}),(T==null?void 0:T.is_frozen)&&a.jsxs(Oa,{variant:"destructive",children:[a.jsx(RS,{className:"h-4 w-4"}),a.jsx(Ma,{children:"Your wallet is frozen. You cannot make payments at this time."})]}),a.jsxs(Jo,{defaultValue:"scan",className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-2",children:[a.jsxs(Dt,{value:"scan",className:"flex items-center gap-2",children:[a.jsx(Ex,{className:"h-4 w-4"}),"Scan QR Code"]}),a.jsxs(Dt,{value:"manual",className:"flex items-center gap-2",children:[a.jsx(rr,{className:"h-4 w-4"}),"Manual Entry"]})]}),a.jsx(Lt,{value:"scan",className:"space-y-6",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center gap-2",children:[a.jsx(rr,{className:"h-5 w-5"}),"QR Code Scanner"]}),a.jsx(lt,{children:"Point your camera at a QR code to scan"})]}),a.jsx(ye,{children:e?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{id:"qr-reader",className:"mx-auto max-w-sm"}),a.jsx(He.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"absolute top-4 left-4 right-4 flex justify-between items-center",children:[a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(Kv,{className:"h-3 w-3"}),"Scanning..."]}),a.jsxs("div",{className:"bg-black/50 text-white px-2 py-1 rounded text-xs flex items-center gap-1",children:[a.jsx(g0,{className:"h-3 w-3"}),"Secure"]})]})})]}),a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs(_e,{onClick:ne,variant:"outline",className:"gap-2",children:[a.jsx(FM,{className:"h-4 w-4"}),"Stop Scanning"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Hold your device steady and ensure the QR code is clearly visible"})]})]}):a.jsxs("div",{className:"text-center space-y-4",children:[a.jsxs("div",{className:"mx-auto w-64 h-64 border-2 border-dashed border-primary/30 rounded-xl flex items-center justify-center bg-primary/5 relative overflow-hidden",children:[a.jsx("div",{className:"text-center z-10",children:P?a.jsxs(a.Fragment,{children:[a.jsx(FM,{className:"h-16 w-16 mx-auto text-red-500 mb-3"}),a.jsx("p",{className:"text-sm text-red-600 mb-2",children:"Camera Error"}),a.jsx("p",{className:"text-xs text-muted-foreground px-4",children:P})]}):U?a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-16 w-16 mx-auto text-primary mb-3 animate-spin"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Starting camera..."}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Please allow camera access"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ex,{className:"h-16 w-16 mx-auto text-primary mb-3"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ready to scan QR codes"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Make sure to allow camera access"})]})}),!P&&!U&&a.jsx(He.div,{className:"absolute inset-0 border-2 border-primary/20",animate:{opacity:[.3,.7,.3],scale:[.9,1,.9]},transition:{duration:2,repeat:1/0,ease:"easeInOut"}})]}),a.jsxs("div",{className:"space-y-3",children:[V?a.jsx(_e,{onClick:Y,disabled:U,className:"gap-2 px-8 py-3 text-base",children:U?a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-5 w-5 animate-spin"}),"Starting Camera..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ex,{className:"h-5 w-5"}),"Start Camera Scanner"]})}):a.jsx("div",{className:"space-y-2",children:a.jsxs(Oa,{variant:"destructive",children:[a.jsx(RS,{className:"h-4 w-4"}),a.jsx(Ma,{children:"Camera not available on this device. Please use manual entry below."})]})}),a.jsxs(_e,{variant:"outline",onClick:()=>F(!0),className:"gap-2",children:[a.jsx(UM,{className:"h-4 w-4"}),"How to Scan"]})]}),a.jsx("p",{className:"text-xs text-muted-foreground max-w-md mx-auto",children:"Point your camera at a QR code to scan. Works with driver transport QR codes and merchant payment QR codes."})]})})]})})}),a.jsx(Lt,{value:"manual",className:"space-y-6",children:a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Manual QR Code Entry"}),a.jsx(lt,{children:"Enter QR code data manually if scanning doesn't work"})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"qr-input",children:"QR Code Data"}),a.jsx(Pt,{id:"qr-input",placeholder:"Paste or type QR code data here",value:i,onChange:le=>s(le.target.value)})]}),a.jsxs(_e,{onClick:re,disabled:!i.trim(),className:"w-full gap-2",children:[a.jsx(rr,{className:"h-4 w-4"}),"Process QR Code"]})]})]})})})]}),C.length>0&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center gap-2",children:[a.jsx(_0,{className:"h-5 w-5"}),"Recent Scans"]}),a.jsx(lt,{children:"Previously scanned QR codes"})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-3",children:C.map((le,pe)=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[le.type==="driver"?a.jsx(la,{className:"h-5 w-5 text-blue-500"}):le.type==="merchant"?a.jsx(hd,{className:"h-5 w-5 text-green-500"}):a.jsx(rr,{className:"h-5 w-5 text-gray-500"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:le.type==="driver"?"Transport Payment":le.type==="merchant"?"Merchant Payment":"Unknown QR"}),a.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-40",children:le.rawData})]})]}),a.jsx(pt,{variant:le.type==="unknown"?"destructive":"secondary",children:le.type})]},pe))})})]})}),a.jsx(ha,{open:!!l,onOpenChange:le=>!le&&d(null),children:a.jsxs(ma,{className:"sm:max-w-md",children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center gap-2",children:[(l==null?void 0:l.type)==="driver"?a.jsx(la,{className:"h-5 w-5 text-blue-500"}):a.jsx(hd,{className:"h-5 w-5 text-green-500"}),"Confirm Payment"]}),a.jsx(Ra,{children:(l==null?void 0:l.type)==="driver"?"Confirm your transport payment":"Confirm your merchant payment"})]}),l&&a.jsxs("div",{className:"space-y-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4 space-y-3",children:[l.type==="driver"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Driver:"}),a.jsx("span",{className:"text-sm font-medium",children:((he=l.qrData.profile)==null?void 0:he.full_name)||"Unknown Driver"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Route:"}),a.jsx("span",{className:"text-sm font-medium",children:((Re=l.qrData.driver_profile)==null?void 0:Re.route_name)||"City Route"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Vehicle:"}),a.jsx("span",{className:"text-sm font-medium",children:((Le=l.qrData.driver_profile)==null?void 0:Le.vehicle_type)||"Bus"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Ticket Price:"}),a.jsx("span",{className:"text-sm font-medium",children:oe(l.amount||500)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[q("scanner.quantity"),":"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_e,{size:"sm",variant:"outline",onClick:()=>v(Math.max(1,p-1)),children:a.jsx(tL,{className:"h-3 w-3"})}),a.jsx("span",{className:"w-8 text-center",children:p}),a.jsx(_e,{size:"sm",variant:"outline",onClick:()=>v(p+1),children:a.jsx(Cs,{className:"h-3 w-3"})})]})]})]}),l.type==="merchant"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Merchant:"}),a.jsx("span",{className:"text-sm font-medium",children:l.qrData.business_name||"Local Store"})]}),!l.amount&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"payment-amount",children:"Payment Amount"}),a.jsx(Pt,{id:"payment-amount",type:"number",placeholder:"Enter amount",value:m,onChange:le=>h(le.target.value)})]})]}),a.jsx(qo,{}),a.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:l.type==="driver"?oe((l.amount||500)*p):oe(parseFloat(m)||l.amount||0)})]})]})}),T&&a.jsxs(Oa,{children:[a.jsx(md,{className:"h-4 w-4"}),a.jsxs(Ma,{children:["Current balance: ",oe(T.balance)]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>d(null),disabled:S,children:"Cancel"}),a.jsx(_e,{className:"flex-1 gap-2",onClick:de,disabled:S||(T==null?void 0:T.is_frozen),children:S?a.jsxs(a.Fragment,{children:[a.jsx(Bo,{className:"h-4 w-4 animate-spin"}),"Processing..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yi,{className:"h-4 w-4"}),"Pay Now"]})})]})]})]})}),a.jsx(ha,{open:L,onOpenChange:F,children:a.jsxs(ma,{className:"sm:max-w-md",children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center gap-2",children:[a.jsx(UM,{className:"h-5 w-5 text-primary"}),"How to Scan QR Codes"]}),a.jsx(Ra,{children:"Follow these simple steps to scan QR codes successfully"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Allow Camera Access"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"When prompted, allow the website to access your camera. This is needed to scan QR codes."})]})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Position Your Device"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Hold your device steady and point the camera at the QR code. Keep it about 6-12 inches away."})]})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-1",children:"Wait for Recognition"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"The scanner will automatically detect and process the QR code. No need to take a photo!"})]})]})})})]}),a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx("div",{className:"w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:a.jsx("svg",{className:"w-3 h-3 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-1",children:"Supported QR Codes"}),a.jsx("p",{className:"text-sm text-blue-700",children:"You can scan driver transport QR codes for ticket payments and merchant QR codes for purchases."})]})]})}),a.jsx(_e,{onClick:()=>F(!1),className:"w-full",children:"Got it!"})]})]})})]})}function kle({transaction:e,open:t,onOpenChange:n,userProfile:r}){const i=N.useRef(null),{t:s,isRTL:l}=Yt();if(!e)return null;const d=M=>new Intl.NumberFormat(l?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(M),m=M=>new Date(M).toLocaleDateString(l?"ar-SY":"en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),h=()=>{const M=e.from_user_id===(r==null?void 0:r.id);switch(e.transaction_type){case"recharge":return a.jsx(Ki,{className:"h-8 w-8 text-green-600"});case"payment":return e.qr_code_id?a.jsx(la,{className:"h-8 w-8 text-blue-600"}):M?a.jsx(hd,{className:"h-8 w-8 text-purple-600"}):a.jsx(Ki,{className:"h-8 w-8 text-green-600"});case"refund":return a.jsx(_x,{className:"h-8 w-8 text-blue-600"});case"withdrawal":return a.jsx(Ki,{className:"h-8 w-8 text-red-600"});default:return a.jsx(_x,{className:"h-8 w-8 text-gray-600"})}},p=()=>{switch(e.status){case"completed":return a.jsx(yi,{className:"h-5 w-5 text-green-600"});case"pending":return a.jsx(br,{className:"h-5 w-5 text-yellow-600"});case"failed":return a.jsx(ig,{className:"h-5 w-5 text-red-600"});case"cancelled":return a.jsx(Da,{className:"h-5 w-5 text-gray-600"});default:return a.jsx(br,{className:"h-5 w-5 text-gray-600"})}},v=()=>{switch(e.status){case"completed":return a.jsx(pt,{className:"bg-green-500 text-white",children:"✓ Completed"});case"pending":return a.jsx(pt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800",children:"⏳ Pending"});case"failed":return a.jsx(pt,{variant:"destructive",children:"✗ Failed"});case"cancelled":return a.jsx(pt,{variant:"outline",className:"border-gray-400 text-gray-600",children:"⊗ Cancelled"});default:return a.jsx(pt,{variant:"outline",children:e.status})}},S=()=>{const M=e.from_user_id===(r==null?void 0:r.id);if(e.description)return e.description;switch(e.transaction_type){case"recharge":return"Wallet Top-up";case"payment":return e.qr_code_id?M?"Bus Ticket Payment":"Bus Fare Collection":M?"Payment Sent":"Payment Received";case"refund":return"Transaction Refund";case"withdrawal":return"Wallet Withdrawal";default:return"Transaction"}},A=()=>e.from_user_id===(r==null?void 0:r.id)?"outgoing":"incoming",T=()=>{navigator.clipboard.writeText(e.id),Ge.success("Transaction ID copied to clipboard")},_=async()=>{try{const M=(await dd(async()=>{const{default:R}=await import("./html2canvas.esm-CBrSDip1.js");return{default:R}},[])).default,P=(await dd(async()=>{const{default:R}=await import("./jspdf.es.min-CELs3kr3.js").then(U=>U.j);return{default:R}},[])).default;if(i.current){const R=await M(i.current,{scale:2,backgroundColor:"#ffffff",useCORS:!0}),U=R.toDataURL("image/png"),B=new P("portrait","mm","a4"),L=190,F=297,V=R.height*L/R.width;let z=V,H=10;for(B.addImage(U,"PNG",10,H,L,V),z-=F;z>=0;)H=z-V+10,B.addPage(),B.addImage(U,"PNG",10,H,L,V),z-=F;B.save(`receipt-${e.id.slice(0,8)}.pdf`),Ge.success("Receipt downloaded successfully!")}}catch(M){console.error("Error generating PDF:",M),Ge.error("Failed to generate PDF. Please try again.")}},C=async()=>{if(navigator.share)try{await navigator.share({title:"Transaction Receipt",text:`Receipt for ${S()} - ${d(e.amount)}`,url:window.location.href})}catch(M){console.error("Error sharing:",M)}else navigator.clipboard.writeText(window.location.href),Ge.success("Receipt link copied to clipboard")};return a.jsx(ha,{open:t,onOpenChange:n,children:a.jsxs(ma,{className:"sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center gap-2",children:[a.jsx(_x,{className:"h-5 w-5 text-primary"}),"Transaction Receipt"]}),a.jsx(Ra,{children:"Official receipt for your transaction"})]}),a.jsxs("div",{ref:i,className:"bg-white p-8 space-y-6",children:[a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center",children:h()}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:S()}),a.jsx("p",{className:"text-gray-600",children:"Tickets E-Wallet"})]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[p(),a.jsx("span",{className:"font-medium text-lg",children:e.status==="completed"?"Transaction Successful":e.status==="pending"?"Transaction Pending":e.status==="failed"?"Transaction Failed":"Transaction Cancelled"})]}),v()]}),a.jsxs("div",{className:"text-center py-6 bg-gray-50 rounded-xl",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Amount"}),a.jsxs("p",{className:`text-4xl font-bold ${A()==="incoming"?"text-green-600":"text-blue-600"}`,children:[A()==="incoming"?"+":"",d(e.amount)]}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.currency})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-semibold text-lg border-b pb-2",children:"Transaction Details"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Transaction ID"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("p",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:[e.id.slice(0,8),"...",e.id.slice(-4)]}),a.jsx(_e,{variant:"ghost",size:"sm",onClick:T,className:"h-8 w-8 p-0",children:a.jsx(KA,{className:"h-3 w-3"})})]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date & Time"}),a.jsx("p",{className:"font-medium",children:m(e.created_at)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Type"}),a.jsx("p",{className:"font-medium capitalize",children:e.transaction_type})]})]}),a.jsxs("div",{className:"space-y-3",children:[e.reference_id&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Reference"}),a.jsx("p",{className:"font-mono text-sm",children:e.reference_id})]}),e.completed_at&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Completed"}),a.jsx("p",{className:"font-medium",children:m(e.completed_at)})]}),(e.from_user_name||e.to_user_name)&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:A()==="outgoing"?"Recipient":"Sender"}),a.jsx("p",{className:"font-medium",children:A()==="outgoing"?e.to_user_name||"Unknown":e.from_user_name||"Unknown"})]})]})]})]}),a.jsxs("div",{className:"text-center py-4 border-t",children:[a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-gray-600",children:[a.jsx(rr,{className:"h-4 w-4"}),a.jsx("span",{children:"Scan to verify this receipt"})]}),a.jsx("div",{className:"mt-2 w-16 h-16 bg-gray-100 rounded-lg mx-auto flex items-center justify-center",children:a.jsx(rr,{className:"h-8 w-8 text-gray-400"})})]}),a.jsxs("div",{className:"text-center text-xs text-gray-500 border-t pt-4",children:[a.jsx("p",{children:"This is an official receipt generated by Tickets E-Wallet"}),a.jsx("p",{children:"For support, contact: support@tickets-ewallet.com"}),a.jsxs("p",{className:"mt-2",children:["Generated on: ",new Date().toLocaleDateString()," at ",new Date().toLocaleTimeString()]})]})]}),a.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[a.jsxs(_e,{onClick:_,className:"flex-1 gap-2",children:[a.jsx(ss,{className:"h-4 w-4"}),"Download PDF"]}),a.jsxs(_e,{variant:"outline",onClick:C,className:"gap-2",children:[a.jsx(kS,{className:"h-4 w-4"}),"Share"]}),a.jsxs(_e,{variant:"outline",onClick:()=>window.print(),className:"gap-2",children:[a.jsx(IS,{className:"h-4 w-4"}),"Print"]})]})]})})}function Lle(){const[e,t]=N.useState([]),[n,r]=N.useState([]),[i,s]=N.useState(null),[l,d]=N.useState(""),[m,h]=N.useState("all"),[p,v]=N.useState("all"),[S,A]=N.useState("date"),[T,_]=N.useState("desc"),[C,M]=N.useState(),[P,R]=N.useState(null),[U,B]=N.useState(!0),[L,F]=N.useState(1),[V,z]=N.useState(!0),[H,W]=N.useState(null),[q,Q]=N.useState(!1),[te,J]=N.useState(!1),{profile:Y}=cn(),{t:ne,isRTL:se}=Yt(),me=20;N.useEffect(()=>{Y&&(re(),de())},[Y]),N.useEffect(()=>{oe()},[e,l,m,p,C,S,T]);const re=async(Ce=1,we=!1)=>{try{B(Ce===1);let We=rt.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey(full_name),
          to_profile:profiles!transactions_to_user_id_fkey(full_name)
        `).or(`from_user_id.eq.${Y==null?void 0:Y.id},to_user_id.eq.${Y==null?void 0:Y.id}`).order("created_at",{ascending:!1}).range((Ce-1)*me,Ce*me-1);const{data:Ue,error:Ze}=await We;if(Ze)throw Ze;if(Ue){const yt=Ue.map(Ke=>{var xt,tt;return{...Ke,from_user_name:(xt=Ke.from_profile)==null?void 0:xt.full_name,to_user_name:(tt=Ke.to_profile)==null?void 0:tt.full_name}});t(we?Ke=>[...Ke,...yt]:yt),z(Ue.length===me),F(Ce)}}catch(We){console.error("Error fetching transactions:",We)}finally{B(!1)}},de=async()=>{try{const{data:Ce}=await rt.from("transactions").select("*").or(`from_user_id.eq.${Y==null?void 0:Y.id},to_user_id.eq.${Y==null?void 0:Y.id}`);if(Ce){const we=Ce.filter(Ke=>Ke.to_user_id===(Y==null?void 0:Y.id)&&Ke.status==="completed").reduce((Ke,xt)=>Ke+xt.amount,0),We=Ce.filter(Ke=>Ke.from_user_id===(Y==null?void 0:Y.id)&&Ke.status==="completed").reduce((Ke,xt)=>Ke+xt.amount,0),Ue=Ce.filter(Ke=>Ke.status==="pending").length,Ze=new Date;Ze.setDate(1);const yt=Ce.filter(Ke=>new Date(Ke.created_at)>=Ze&&Ke.status==="completed").reduce((Ke,xt)=>Ke+(xt.to_user_id===(Y==null?void 0:Y.id)?xt.amount:-xt.amount),0);R({totalIncoming:we,totalOutgoing:We,totalTransactions:Ce.length,pendingCount:Ue,thisMonthTotal:yt})}}catch(Ce){console.error("Error calculating stats:",Ce)}},oe=()=>{let Ce=[...e];if(l){const we=l.toLowerCase();Ce=Ce.filter(We=>{var Ue,Ze,yt;return((Ue=We.description)==null?void 0:Ue.toLowerCase().includes(we))||((Ze=We.from_user_name)==null?void 0:Ze.toLowerCase().includes(we))||((yt=We.to_user_name)==null?void 0:yt.toLowerCase().includes(we))||We.id.toLowerCase().includes(we)})}m!=="all"&&(Ce=Ce.filter(we=>we.transaction_type===m)),p!=="all"&&(Ce=Ce.filter(we=>we.status===p)),C!=null&&C.from&&(C!=null&&C.to)&&(Ce=Ce.filter(we=>{const We=new Date(we.created_at);return We>=C.from&&We<=C.to})),Ce.sort((we,We)=>{if(S==="date"){const Ue=new Date(we.created_at).getTime(),Ze=new Date(We.created_at).getTime();return T==="desc"?Ze-Ue:Ue-Ze}else return T==="desc"?We.amount-we.amount:we.amount-We.amount}),r(Ce)},he=()=>{V&&!U&&re(L+1,!0)},Re=Ce=>new Intl.NumberFormat(se?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0,maximumFractionDigits:0}).format(Ce),Le=Ce=>new Date(Ce).toLocaleDateString(se?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),le=Ce=>{const we=Ce.from_user_id===(Y==null?void 0:Y.id);switch(Ce.transaction_type){case"recharge":return a.jsx(Cs,{className:"h-4 w-4 text-green-600"});case"payment":return Ce.qr_code_id?a.jsx(la,{className:"h-4 w-4 text-blue-600"}):we?a.jsx(Bl,{className:"h-4 w-4 text-red-600"}):a.jsx(Xn,{className:"h-4 w-4 text-green-600"});case"refund":return a.jsx(Wv,{className:"h-4 w-4 text-blue-600"});case"withdrawal":return a.jsx(tL,{className:"h-4 w-4 text-red-600"});default:return a.jsx(Ki,{className:"h-4 w-4 text-gray-600"})}},pe=Ce=>{switch(Ce){case"completed":return a.jsx(pt,{className:"bg-green-500 text-white",children:"Completed"});case"pending":return a.jsx(pt,{variant:"secondary",children:"Pending"});case"failed":return a.jsx(pt,{variant:"destructive",children:"Failed"});case"cancelled":return a.jsx(pt,{variant:"outline",children:"Cancelled"});default:return a.jsx(pt,{variant:"outline",children:Ce})}},je=Ce=>Ce.from_user_id===(Y==null?void 0:Y.id)?"outgoing":"incoming",xe=Ce=>{const we=Ce.from_user_id===(Y==null?void 0:Y.id);if(Ce.description)return Ce.description;switch(Ce.transaction_type){case"recharge":return"Wallet Recharge";case"payment":return Ce.qr_code_id?we?"Transport Payment":"Transport Fare Received":we?"Payment Sent":"Payment Received";case"refund":return"Refund";case"withdrawal":return"Withdrawal";default:return"Transaction"}},Fe=()=>{const Ce=["Date","Type","Description","Amount","Status","Reference"],we=n.map(Ke=>[Le(Ke.created_at),Ke.transaction_type,xe(Ke),`${je(Ke)==="incoming"?"+":"-"}${Ke.amount}`,Ke.status,Ke.id]),We=[Ce,...we].map(Ke=>Ke.join(",")).join(`
`),Ue=new Blob([We],{type:"text/csv"}),Ze=window.URL.createObjectURL(Ue),yt=document.createElement("a");yt.href=Ze,yt.download=`transactions-${new Date().toISOString().split("T")[0]}.csv`,yt.click(),window.URL.revokeObjectURL(Ze)};return U&&L===1?a.jsx("div",{className:"flex h-full items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:ne("common.loading")})]})}):a.jsxs("div",{className:"h-full p-4 lg:p-6 space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:ne("transactions.title")}),a.jsx("p",{className:"text-muted-foreground",children:"View and manage your transaction history"})]}),a.jsxs(_e,{onClick:Fe,variant:"outline",className:"gap-2",children:[a.jsx(ss,{className:"h-4 w-4"}),"Export"]})]}),P&&a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsx(ve,{children:a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Incoming"})]}),a.jsx("p",{className:"text-xl font-bold text-green-600",children:Re(P.totalIncoming)})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bl,{className:"h-4 w-4 text-red-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Outgoing"})]}),a.jsx("p",{className:"text-xl font-bold text-red-600",children:Re(P.totalOutgoing)})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(_0,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"Total"})]}),a.jsx("p",{className:"text-xl font-bold",children:P.totalTransactions})]})}),a.jsx(ve,{children:a.jsxs(ye,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ua,{className:"h-4 w-4 text-purple-600"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:"This Month"})]}),a.jsx("p",{className:`text-xl font-bold ${P.thisMonthTotal>=0?"text-green-600":"text-red-600"}`,children:Re(Math.abs(P.thisMonthTotal))})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"search",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(Pt,{id:"search",placeholder:"Search transactions...",value:l,onChange:Ce=>d(Ce.target.value),className:"pl-8"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:"Type"}),a.jsxs(pr,{value:m,onValueChange:h,children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:"All Types"}),a.jsx(at,{value:"payment",children:"Payments"}),a.jsx(at,{value:"recharge",children:"Recharges"}),a.jsx(at,{value:"refund",children:"Refunds"}),a.jsx(at,{value:"withdrawal",children:"Withdrawals"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:"Status"}),a.jsxs(pr,{value:p,onValueChange:v,children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:"All Status"}),a.jsx(at,{value:"completed",children:"Completed"}),a.jsx(at,{value:"pending",children:"Pending"}),a.jsx(at,{value:"failed",children:"Failed"}),a.jsx(at,{value:"cancelled",children:"Cancelled"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:"Sort By"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pr,{value:S,onValueChange:Ce=>A(Ce),children:[a.jsx(vr,{className:"flex-1",children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"date",children:"Date"}),a.jsx(at,{value:"amount",children:"Amount"})]})]}),a.jsx(_e,{variant:"outline",size:"icon",onClick:()=>_(T==="asc"?"desc":"asc"),children:a.jsx(GJ,{className:"h-4 w-4"})})]})]})]})})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.3},children:a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsxs(ke,{className:"flex items-center gap-2",children:[a.jsx(_0,{className:"h-5 w-5"}),"Transactions (",n.length,")"]})}),a.jsx(ye,{children:n.length>0?a.jsxs("div",{className:"space-y-4",children:[n.map(Ce=>{const we=je(Ce)==="outgoing",We=we?Ce.to_user_name:Ce.from_user_name;return a.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 cursor-pointer transition-colors",onClick:()=>s(Ce),children:[a.jsxs("div",{className:"flex items-center gap-4",children:[le(Ce),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h4",{className:"font-medium text-sm",children:xe(Ce)}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:Le(Ce.created_at)}),We&&a.jsxs(a.Fragment,{children:[a.jsx("span",{children:"•"}),a.jsxs("span",{children:[we?"To":"From",": ",We]})]})]})]})]}),a.jsxs("div",{className:"text-right space-y-2",children:[a.jsxs("p",{className:`font-medium text-sm ${we?"text-red-600":"text-green-600"}`,children:[we?"-":"+",Re(Ce.amount)]}),pe(Ce.status)]})]},Ce.id)}),V&&a.jsx("div",{className:"text-center pt-4",children:a.jsx(_e,{variant:"outline",onClick:he,disabled:U,className:"gap-2",children:U?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-transparent border-t-current"}),"Loading..."]}):"Load More"})})]}):a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(Ki,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium mb-2",children:"No transactions found"}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or make your first transaction"})]})})]})}),a.jsx(ha,{open:!!i,onOpenChange:Ce=>!Ce&&s(null),children:a.jsxs(ma,{className:"sm:max-w-md",children:[a.jsxs(ga,{children:[a.jsx(pa,{children:"Transaction Details"}),a.jsx(Ra,{children:"Complete information about this transaction"})]}),i&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[le(i),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:xe(i)}),a.jsx("p",{className:"text-sm text-muted-foreground",children:Le(i.created_at)})]})]}),a.jsx(qo,{}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Amount:"}),a.jsxs("span",{className:`font-medium ${je(i)==="outgoing"?"text-red-600":"text-green-600"}`,children:[je(i)==="outgoing"?"-":"+",Re(i.amount)]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Status:"}),pe(i.status)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("span",{className:"font-medium capitalize",children:i.transaction_type})]}),i.reference_id&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Reference:"}),a.jsx("span",{className:"font-mono text-sm",children:i.reference_id})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Transaction ID:"}),a.jsx("span",{className:"font-mono text-xs",children:i.id})]}),i.completed_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Completed:"}),a.jsx("span",{className:"text-sm",children:Le(i.completed_at)})]})]}),a.jsx(qo,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(_e,{onClick:()=>{W(i),Q(!0)},className:"w-full gap-2",children:[a.jsx(_x,{className:"h-4 w-4"}),"View Receipt"]}),i.status==="completed"&&a.jsxs(_e,{variant:"outline",onClick:()=>J(!0),className:"w-full gap-2 text-red-600 hover:text-red-700",children:[a.jsx(Da,{className:"h-4 w-4"}),"Report Issue"]})]})]})]})}),a.jsx(kle,{transaction:H,open:q,onOpenChange:Q,userProfile:Y||void 0}),a.jsx(ha,{open:te,onOpenChange:J,children:a.jsxs(ma,{className:"sm:max-w-md",children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center gap-2",children:[a.jsx(Da,{className:"h-5 w-5 text-red-500"}),"Report Transaction Issue"]}),a.jsx(Ra,{children:"Describe the issue you're experiencing with this transaction"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"issue-type",children:"Issue Type"}),a.jsxs(pr,{children:[a.jsx(vr,{children:a.jsx(xr,{placeholder:"Select issue type"})}),a.jsxs(yr,{children:[a.jsx(at,{value:"unauthorized",children:"Unauthorized Transaction"}),a.jsx(at,{value:"wrong-amount",children:"Wrong Amount Charged"}),a.jsx(at,{value:"service-not-received",children:"Service Not Received"}),a.jsx(at,{value:"duplicate",children:"Duplicate Charge"}),a.jsx(at,{value:"technical",children:"Technical Issue"}),a.jsx(at,{value:"other",children:"Other"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",className:"w-full p-3 border rounded-lg resize-none h-24",placeholder:"Please describe the issue in detail..."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:"outline",className:"flex-1",onClick:()=>J(!1),children:"Cancel"}),a.jsx(_e,{className:"flex-1",onClick:()=>{Ge.success("Issue reported successfully. Our support team will contact you soon."),J(!1)},children:"Submit Report"})]})]})]})})]})}function Qi({size:e="md",text:t}){const{t:n}=Yt(),r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"};return a.jsx("div",{className:"flex min-h-screen items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center gap-4",children:[a.jsx(Bo,{className:`animate-spin ${r[e]} text-primary`}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t||n("common.loading")})]})})}function Ble(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all"),[A,T]=N.useState("date"),[_,C]=N.useState(null),[M,P]=N.useState(1),[R,U]=N.useState(!1);N.useEffect(()=>{B()},[]),N.useEffect(()=>{L()},[r,h,v,A]);const B=async()=>{try{const{data:W,error:q}=await rt.from("events").select(`
          *,
          sold_tickets:user_tickets(count),
          available_tickets:max_tickets
        `).eq("is_active",!0).gte("end_date",new Date().toISOString());if(q)throw q;const Q=(W==null?void 0:W.map(te=>{var J,Y,ne,se;return{...te,sold_tickets:((Y=(J=te.sold_tickets)==null?void 0:J[0])==null?void 0:Y.count)||0,available_tickets:te.max_tickets-(((se=(ne=te.sold_tickets)==null?void 0:ne[0])==null?void 0:se.count)||0)}}))||[];i(Q)}catch(W){console.error("Error fetching events:",W),Ge.error(t("error_fetch_events"))}finally{m(!1)}},L=()=>{let W=r.filter(q=>{const Q=q.title.toLowerCase().includes(h.toLowerCase())||(q.description||"").toLowerCase().includes(h.toLowerCase())||(q.location||"").toLowerCase().includes(h.toLowerCase()),te=v==="all"||q.category===v;return Q&&te});W.sort((q,Q)=>{switch(A){case"date":return new Date(q.start_date||"").getTime()-new Date(Q.start_date||"").getTime();case"price_low":return(q.price||0)-(Q.price||0);case"price_high":return(Q.price||0)-(q.price||0);case"popularity":return Q.sold_tickets-q.sold_tickets;default:return 0}}),l(W)},F=async()=>{if(!(!_||!e)){if(_.available_tickets<M){Ge.error(t("insufficient_tickets"));return}U(!0);try{const{data:W,error:q}=await rt.from("wallets").select("balance").eq("user_id",e.id).single();if(q)throw q;const Q=(_.price||0)*M;if(W.balance<Q){Ge.error(t("insufficient_balance"));return}const{data:te,error:J}=await rt.rpc("purchase_event_tickets",{p_event_id:_.id,p_user_id:e.id,p_quantity:M});if(J)throw J;Ge.success(t("tickets_purchased_success",{quantity:M.toString()})),C(null),P(1),B()}catch(W){console.error("Error purchasing tickets:",W),Ge.error(t("error_purchase_tickets"))}finally{U(!1)}}},V=W=>new Date(W).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),z=W=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(W),H=[{value:"all",label:t("all_categories")},{value:"concert",label:t("concert")},{value:"sports",label:t("sports")},{value:"theater",label:t("theater")},{value:"conference",label:t("conference")},{value:"workshop",label:t("workshop")},{value:"other",label:t("other")}];return d?a.jsx(Qi,{text:t("loading_events")}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("events")}),a.jsx("p",{className:"text-muted-foreground",children:t("events_description")})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Pt,{placeholder:t("search_events"),value:h,onChange:W=>p(W.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsxs(vr,{className:"w-[150px]",children:[a.jsx(rg,{className:"h-4 w-4 mr-2"}),a.jsx(xr,{})]}),a.jsx(yr,{children:H.map(W=>a.jsx(at,{value:W.value,children:W.label},W.value))})]}),a.jsxs(pr,{value:A,onValueChange:T,children:[a.jsx(vr,{className:"w-[150px]",children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"date",children:t("sort_by_date")}),a.jsx(at,{value:"price_low",children:t("sort_by_price_low")}),a.jsx(at,{value:"price_high",children:t("sort_by_price_high")}),a.jsx(at,{value:"popularity",children:t("sort_by_popularity")})]})]})]})]})})})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((W,q)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:q*.1},children:a.jsxs(ve,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ke,{className:"line-clamp-2",children:W.title}),a.jsx(lt,{className:"line-clamp-2 mt-2",children:W.description})]}),a.jsx(pt,{variant:"secondary",className:"ml-2",children:t(W.category||"other")})]})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-4 w-4 mr-2"}),V(W.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),W.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(Xi,{className:"h-4 w-4 mr-2"}),W.available_tickets," ",t("tickets_available")]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-lg font-bold",children:z(W.price||0)}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(T0,{className:"h-4 w-4 mr-1 fill-yellow-400 text-yellow-400"}),W.sold_tickets," ",t("sold")]})]}),a.jsxs(ha,{children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{className:"w-full",disabled:W.available_tickets===0,onClick:()=>C(W),children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),W.available_tickets===0?t("sold_out"):t("buy_tickets")]})}),a.jsxs(ma,{children:[a.jsxs(ga,{children:[a.jsx(pa,{children:W.title}),a.jsx(Ra,{children:W.description})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("start_date"),":"]}),a.jsx("p",{children:V(W.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("end_date"),":"]}),a.jsx("p",{children:V(W.end_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:W.location})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("price"),":"]}),a.jsx("p",{children:z(W.price||0)})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("quantity")}),a.jsxs(pr,{value:M.toString(),onValueChange:Q=>P(parseInt(Q)),children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsx(yr,{children:Array.from({length:Math.min(W.available_tickets,10)},(Q,te)=>a.jsxs(at,{value:(te+1).toString(),children:[te+1," ",t("tickets")]},te+1))})]})]}),a.jsx("div",{className:"border-t pt-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"font-medium",children:[t("total"),":"]}),a.jsx("span",{className:"text-lg font-bold",children:z((W.price||0)*M)})]})}),a.jsx(_e,{onClick:F,disabled:R,className:"w-full",children:R?a.jsx(Qi,{text:t("processing")}):t("purchase_tickets")})]})]})]})]})]})},W.id))}),s.length===0&&a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_events_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_events_description")})]})})]})}function Fle(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all"),[A,T]=N.useState(null);N.useEffect(()=>{e&&_()},[e]),N.useEffect(()=>{C()},[r,h,v]);const _=async()=>{if(e)try{const{data:q,error:Q}=await rt.from("user_tickets").select(`
          *,
          event:events (*)
        `).eq("user_id",e.id).order("created_at",{ascending:!1});if(Q)throw Q;i(q||[])}catch(q){console.error("Error fetching tickets:",q),Ge.error(t("error_fetch_tickets"))}finally{m(!1)}},C=()=>{let q=r.filter(Q=>{const te=Q.event.title.toLowerCase().includes(h.toLowerCase())||(Q.event.description||"").toLowerCase().includes(h.toLowerCase())||(Q.event.location||"").toLowerCase().includes(h.toLowerCase()),J=v==="all"||Q.status===v;return te&&J});l(q)},M=q=>{const Q={pending:{variant:"outline",label:t("pending")},confirmed:{variant:"default",label:t("confirmed")},used:{variant:"secondary",label:t("used")},cancelled:{variant:"destructive",label:t("cancelled")}},te=Q[q]||Q.pending;return a.jsx(pt,{variant:te.variant,children:te.label})},P=q=>s.filter(Q=>Q.status===q),R=q=>new Date(q).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),U=q=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(q),B=q=>{var se;const Q={ticketId:q.id,eventTitle:q.event.title,eventDate:q.event.start_date,eventLocation:q.event.location,userName:((se=e==null?void 0:e.user_metadata)==null?void 0:se.full_name)||(e==null?void 0:e.email),purchaseDate:q.created_at,status:q.status},te=JSON.stringify(Q,null,2),J=new Blob([te],{type:"application/json"}),Y=URL.createObjectURL(J),ne=document.createElement("a");ne.href=Y,ne.download=`ticket-${q.id}.json`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),URL.revokeObjectURL(Y),Ge.success(t("ticket_downloaded"))},L=q=>{const Q=`TICKET:${q.id}:${q.event.id}:${e==null?void 0:e.id}`;return Ge.info(t("qr_code_generated")),Q};if(d)return a.jsx(Qi,{text:t("loading_tickets")});const F=P("confirmed"),V=P("used"),z=P("pending"),H=P("cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("my_tickets")}),a.jsx("p",{className:"text-muted-foreground",children:t("tickets_description")})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Pt,{placeholder:t("search_tickets"),value:h,onChange:q=>p(q.target.value),className:"pl-10"})]})}),a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsx(vr,{className:"w-[150px]",children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("all_statuses")}),a.jsx(at,{value:"confirmed",children:t("confirmed")}),a.jsx(at,{value:"used",children:t("used")}),a.jsx(at,{value:"pending",children:t("pending")}),a.jsx(at,{value:"cancelled",children:t("cancelled")})]})]})]})})})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:a.jsxs(Jo,{defaultValue:"active",className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-4",children:[a.jsxs(Dt,{value:"active",children:[t("active")," (",F.length,")"]}),a.jsxs(Dt,{value:"used",children:[t("used")," (",V.length,")"]}),a.jsxs(Dt,{value:"pending",children:[t("pending")," (",z.length,")"]}),a.jsxs(Dt,{value:"cancelled",children:[t("cancelled")," (",H.length,")"]})]}),a.jsx(Lt,{value:"active",className:"space-y-4",children:a.jsx(W,{tickets:F})}),a.jsx(Lt,{value:"used",className:"space-y-4",children:a.jsx(W,{tickets:V})}),a.jsx(Lt,{value:"pending",className:"space-y-4",children:a.jsx(W,{tickets:z})}),a.jsx(Lt,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{tickets:H})})]})})]});function W({tickets:q}){return q.length===0?a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_tickets_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_tickets_description")})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map((Q,te)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},children:a.jsxs(ve,{className:"h-full hover:shadow-lg transition-shadow",children:[a.jsx(Ie,{children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx(ke,{className:"line-clamp-2",children:Q.event.title}),a.jsx(lt,{className:"line-clamp-1 mt-2",children:Q.event.description})]}),M(Q.status)]})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-4 w-4 mr-2"}),R(Q.event.start_date||"")]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),Q.event.location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(fa,{className:"h-4 w-4 mr-2"}),t("ticket_id"),": ",Q.id.slice(0,8),"..."]})]}),a.jsx("div",{className:"text-lg font-bold",children:U(Q.event.price||0)}),a.jsx("div",{className:"flex gap-2",children:a.jsxs(ha,{children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{variant:"outline",size:"sm",className:"flex-1",onClick:()=>T(Q),children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),t("view")]})}),a.jsxs(ma,{children:[a.jsxs(ga,{children:[a.jsx(pa,{children:Q.event.title}),a.jsx(Ra,{children:t("ticket_details")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsxs("strong",{children:[t("ticket_id"),":"]}),a.jsx("p",{className:"font-mono",children:Q.id})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("status"),":"]}),a.jsx("div",{className:"mt-1",children:M(Q.status)})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("event_date"),":"]}),a.jsx("p",{children:R(Q.event.start_date||"")})]}),a.jsxs("div",{children:[a.jsxs("strong",{children:[t("purchase_date"),":"]}),a.jsx("p",{children:R(Q.created_at||"")})]}),a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("location"),":"]}),a.jsx("p",{children:Q.event.location})]}),Q.event.description&&a.jsxs("div",{className:"col-span-2",children:[a.jsxs("strong",{children:[t("description"),":"]}),a.jsx("p",{children:Q.event.description})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{onClick:()=>L(Q),className:"flex-1",disabled:Q.status!=="confirmed",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),t("show_qr_code")]}),a.jsxs(_e,{variant:"outline",onClick:()=>B(Q),className:"flex-1",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),t("download")]})]})]})]})]})})]})]})},Q.id))})}}var Hw={},qw={},LD;function Ule(){return LD||(LD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(qw)),qw}var Yw={},BD;function l9(){return BD||(BD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(Yw)),Yw}var Ww={},FD;function c9(){return FD||(FD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(Ww)),Ww}var Gw={},UD;function OE(){return UD||(UD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],i=n.length;if(i===0)return r;let s=0,l="",d="",m=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const h=n[s];d?h==="\\"&&s+1<i?(s++,l+=n[s]):h===d?d="":l+=h:m?h==='"'||h==="'"?d=h:h==="]"?(m=!1,r.push(l),l=""):l+=h:h==="["?(m=!0,l&&(r.push(l),l="")):h==="."?l&&(r.push(l),l=""):l+=h,s++}return l&&r.push(l),r}e.toPath=t}(Gw)),Gw}var zD;function ME(){return zD||(zD=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ule(),n=l9(),r=c9(),i=OE();function s(d,m,h){if(d==null)return h;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return h;const p=d[m];return p===void 0?n.isDeepKey(m)?s(d,i.toPath(m),h):h:p}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const p=d[m];return p===void 0?h:p}default:{if(Array.isArray(m))return l(d,m,h);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return h;const p=d[m];return p===void 0?h:p}}}function l(d,m,h){if(m.length===0)return h;let p=d;for(let v=0;v<m.length;v++){if(p==null||t.isUnsafeProperty(m[v]))return h;p=p[m[v]]}return p===void 0?h:p}e.get=s}(Hw)),Hw}var Kw,VD;function zle(){return VD||(VD=1,Kw=ME().get),Kw}var Vle=zle();const eu=Ia(Vle);var Xw={exports:{}},Nn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D;function $le(){if($D)return Nn;$D=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.server_context"),m=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),T;T=Symbol.for("react.module.reference");function _(C){if(typeof C=="object"&&C!==null){var M=C.$$typeof;switch(M){case e:switch(C=C.type,C){case n:case i:case r:case h:case p:return C;default:switch(C=C&&C.$$typeof,C){case d:case l:case m:case S:case v:case s:return C;default:return M}}case t:return M}}}return Nn.ContextConsumer=l,Nn.ContextProvider=s,Nn.Element=e,Nn.ForwardRef=m,Nn.Fragment=n,Nn.Lazy=S,Nn.Memo=v,Nn.Portal=t,Nn.Profiler=i,Nn.StrictMode=r,Nn.Suspense=h,Nn.SuspenseList=p,Nn.isAsyncMode=function(){return!1},Nn.isConcurrentMode=function(){return!1},Nn.isContextConsumer=function(C){return _(C)===l},Nn.isContextProvider=function(C){return _(C)===s},Nn.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===e},Nn.isForwardRef=function(C){return _(C)===m},Nn.isFragment=function(C){return _(C)===n},Nn.isLazy=function(C){return _(C)===S},Nn.isMemo=function(C){return _(C)===v},Nn.isPortal=function(C){return _(C)===t},Nn.isProfiler=function(C){return _(C)===i},Nn.isStrictMode=function(C){return _(C)===r},Nn.isSuspense=function(C){return _(C)===h},Nn.isSuspenseList=function(C){return _(C)===p},Nn.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===n||C===i||C===r||C===h||C===p||C===A||typeof C=="object"&&C!==null&&(C.$$typeof===S||C.$$typeof===v||C.$$typeof===s||C.$$typeof===l||C.$$typeof===m||C.$$typeof===T||C.getModuleId!==void 0)},Nn.typeOf=_,Nn}var HD;function Hle(){return HD||(HD=1,Xw.exports=$le()),Xw.exports}var qle=Hle(),wi=e=>e===0?0:e>0?1:-1,Pa=e=>typeof e=="number"&&e!=+e,Zu=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,nt=e=>(typeof e=="number"||e instanceof Number)&&!Pa(e),Yo=e=>nt(e)||typeof e=="string",Yle=0,tu=e=>{var t=++Yle;return"".concat(e||"").concat(t)},ca=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!nt(t)&&typeof t!="string")return r;var s;if(Zu(t)){if(n==null)return r;var l=t.indexOf("%");s=n*parseFloat(t.slice(0,l))/100}else s=+t;return Pa(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},u9=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},es=(e,t)=>nt(e)&&nt(t)?n=>e+n*(t-e):()=>t;function kf(e,t,n){return nt(e)&&nt(t)?e+n*(t-e):t}function d9(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):eu(r,t))===n)}var Rn=e=>e===null||typeof e>"u",ug=e=>Rn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Wle=["viewBox","children"],Gle=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],qD=["points","pathLength"],Qw={svg:Wle,polygon:qD,polyline:qD},DE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],RE=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(N.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{DE.includes(i)&&(r[i]=s=>n[i](n,s))}),r},Kle=(e,t,n)=>r=>(e(t,n,r),null),dg=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var s=e[i];DE.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=Kle(s,t,n))}),r},YD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",WD=null,Zw=null,f9=e=>{if(e===WD&&Array.isArray(Zw))return Zw;var t=[];return N.Children.forEach(e,n=>{Rn(n)||(qle.isFragment(n)?t=t.concat(f9(n.props.children)):t.push(n))}),Zw=t,WD=e,t};function fg(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>YD(i)):r=[YD(t)],f9(e).forEach(i=>{var s=eu(i,"type.displayName")||eu(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var p1=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,Xle=(e,t,n,r)=>{var i,s=(i=r&&(Qw==null?void 0:Qw[r]))!==null&&i!==void 0?i:[];return t.startsWith("data-")||typeof e!="function"&&(r&&s.includes(t)||Gle.includes(t))||n&&DE.includes(t)},zt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(N.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var l;Xle((l=r)===null||l===void 0?void 0:l[s],s,t,n)&&(i[s]=r[s])}),i},Qle=["children","width","height","viewBox","className","style","title","desc"];function tN(){return tN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tN.apply(null,arguments)}function Zle(e,t){if(e==null)return{};var n,r,i=Jle(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var PE=N.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:s,className:l,style:d,title:m,desc:h}=e,p=Zle(e,Qle),v=s||{width:r,height:i,x:0,y:0},S=tn("recharts-surface",l);return N.createElement("svg",tN({},zt(p,!0,"svg"),{className:S,width:r,height:i,style:d,viewBox:"".concat(v.x," ").concat(v.y," ").concat(v.width," ").concat(v.height),ref:t}),N.createElement("title",null,m),N.createElement("desc",null,h),n)}),ece=["children","className"];function nN(){return nN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN.apply(null,arguments)}function tce(e,t){if(e==null)return{};var n,r,i=nce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function nce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wr=N.forwardRef((e,t)=>{var{children:n,className:r}=e,i=tce(e,ece),s=tn("recharts-layer",r);return N.createElement("g",nN({className:s},zt(i,!0),{ref:t}),n)}),h9=N.createContext(null),rce=()=>N.useContext(h9);function qn(e){return function(){return e}}const m9=Math.cos,Qx=Math.sin,lo=Math.sqrt,Zx=Math.PI,x1=2*Zx,rN=Math.PI,iN=2*rN,qu=1e-6,ice=iN-qu;function g9(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function ace(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g9;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class sce{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g9:ace(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,l){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+l}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let l=this._x1,d=this._y1,m=r-t,h=i-n,p=l-t,v=d-n,S=p*p+v*v;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(S>qu)if(!(Math.abs(v*m-h*p)>qu)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let A=r-l,T=i-d,_=m*m+h*h,C=A*A+T*T,M=Math.sqrt(_),P=Math.sqrt(S),R=s*Math.tan((rN-Math.acos((_+S-C)/(2*M*P)))/2),U=R/P,B=R/M;Math.abs(U-1)>qu&&this._append`L${t+U*p},${n+U*v}`,this._append`A${s},${s},0,0,${+(v*A>p*T)},${this._x1=t+B*m},${this._y1=n+B*h}`}}arc(t,n,r,i,s,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(i),m=r*Math.sin(i),h=t+d,p=n+m,v=1^l,S=l?i-s:s-i;this._x1===null?this._append`M${h},${p}`:(Math.abs(this._x1-h)>qu||Math.abs(this._y1-p)>qu)&&this._append`L${h},${p}`,r&&(S<0&&(S=S%iN+iN),S>ice?this._append`A${r},${r},0,1,${v},${t-d},${n-m}A${r},${r},0,1,${v},${this._x1=h},${this._y1=p}`:S>qu&&this._append`A${r},${r},0,${+(S>=rN)},${v},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function IE(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new sce(t)}function kE(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function p9(e){this._context=e}p9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function v1(e){return new p9(e)}function x9(e){return e[0]}function v9(e){return e[1]}function y9(e,t){var n=qn(!0),r=null,i=v1,s=null,l=IE(d);e=typeof e=="function"?e:e===void 0?x9:qn(e),t=typeof t=="function"?t:t===void 0?v9:qn(t);function d(m){var h,p=(m=kE(m)).length,v,S=!1,A;for(r==null&&(s=i(A=l())),h=0;h<=p;++h)!(h<p&&n(v=m[h],h,m))===S&&((S=!S)?s.lineStart():s.lineEnd()),S&&s.point(+e(v,h,m),+t(v,h,m));if(A)return s=null,A+""||null}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:qn(+m),d):e},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:qn(+m),d):t},d.defined=function(m){return arguments.length?(n=typeof m=="function"?m:qn(!!m),d):n},d.curve=function(m){return arguments.length?(i=m,r!=null&&(s=i(r)),d):i},d.context=function(m){return arguments.length?(m==null?r=s=null:s=i(r=m),d):r},d}function rx(e,t,n){var r=null,i=qn(!0),s=null,l=v1,d=null,m=IE(h);e=typeof e=="function"?e:e===void 0?x9:qn(+e),t=typeof t=="function"?t:qn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?v9:qn(+n);function h(v){var S,A,T,_=(v=kE(v)).length,C,M=!1,P,R=new Array(_),U=new Array(_);for(s==null&&(d=l(P=m())),S=0;S<=_;++S){if(!(S<_&&i(C=v[S],S,v))===M)if(M=!M)A=S,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),T=S-1;T>=A;--T)d.point(R[T],U[T]);d.lineEnd(),d.areaEnd()}M&&(R[S]=+e(C,S,v),U[S]=+t(C,S,v),d.point(r?+r(C,S,v):R[S],n?+n(C,S,v):U[S]))}if(P)return d=null,P+""||null}function p(){return y9().defined(i).curve(l).context(s)}return h.x=function(v){return arguments.length?(e=typeof v=="function"?v:qn(+v),r=null,h):e},h.x0=function(v){return arguments.length?(e=typeof v=="function"?v:qn(+v),h):e},h.x1=function(v){return arguments.length?(r=v==null?null:typeof v=="function"?v:qn(+v),h):r},h.y=function(v){return arguments.length?(t=typeof v=="function"?v:qn(+v),n=null,h):t},h.y0=function(v){return arguments.length?(t=typeof v=="function"?v:qn(+v),h):t},h.y1=function(v){return arguments.length?(n=v==null?null:typeof v=="function"?v:qn(+v),h):n},h.lineX0=h.lineY0=function(){return p().x(e).y(t)},h.lineY1=function(){return p().x(e).y(n)},h.lineX1=function(){return p().x(r).y(t)},h.defined=function(v){return arguments.length?(i=typeof v=="function"?v:qn(!!v),h):i},h.curve=function(v){return arguments.length?(l=v,s!=null&&(d=l(s)),h):l},h.context=function(v){return arguments.length?(v==null?s=d=null:d=l(s=v),h):s},h}class b9{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function oce(e){return new b9(e,!0)}function lce(e){return new b9(e,!1)}const LE={draw(e,t){const n=lo(t/Zx);e.moveTo(n,0),e.arc(0,0,n,0,x1)}},cce={draw(e,t){const n=lo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},w9=lo(1/3),uce=w9*2,dce={draw(e,t){const n=lo(t/uce),r=n*w9;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fce={draw(e,t){const n=lo(t),r=-n/2;e.rect(r,r,n,n)}},hce=.8908130915292852,j9=Qx(Zx/10)/Qx(7*Zx/10),mce=Qx(x1/10)*j9,gce=-m9(x1/10)*j9,pce={draw(e,t){const n=lo(t*hce),r=mce*n,i=gce*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const l=x1*s/5,d=m9(l),m=Qx(l);e.lineTo(m*n,-d*n),e.lineTo(d*r-m*i,m*r+d*i)}e.closePath()}},Jw=lo(3),xce={draw(e,t){const n=-lo(t/(Jw*3));e.moveTo(0,n*2),e.lineTo(-Jw*n,-n),e.lineTo(Jw*n,-n),e.closePath()}},ws=-.5,js=lo(3)/2,aN=1/lo(12),vce=(aN/2+1)*3,yce={draw(e,t){const n=lo(t/vce),r=n/2,i=n*aN,s=r,l=n*aN+n,d=-s,m=l;e.moveTo(r,i),e.lineTo(s,l),e.lineTo(d,m),e.lineTo(ws*r-js*i,js*r+ws*i),e.lineTo(ws*s-js*l,js*s+ws*l),e.lineTo(ws*d-js*m,js*d+ws*m),e.lineTo(ws*r+js*i,ws*i-js*r),e.lineTo(ws*s+js*l,ws*l-js*s),e.lineTo(ws*d+js*m,ws*m-js*d),e.closePath()}};function bce(e,t){let n=null,r=IE(i);e=typeof e=="function"?e:qn(e||LE),t=typeof t=="function"?t:qn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:qn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:qn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function Jx(){}function ev(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function S9(e){this._context=e}S9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ev(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wce(e){return new S9(e)}function N9(e){this._context=e}N9.prototype={areaStart:Jx,areaEnd:Jx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jce(e){return new N9(e)}function A9(e){this._context=e}A9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:ev(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Sce(e){return new A9(e)}function E9(e){this._context=e}E9.prototype={areaStart:Jx,areaEnd:Jx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Nce(e){return new E9(e)}function GD(e){return e<0?-1:1}function KD(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),l=(n-e._y1)/(i||r<0&&-0),d=(s*i+l*r)/(r+i);return(GD(s)+GD(l))*Math.min(Math.abs(s),Math.abs(l),.5*Math.abs(d))||0}function XD(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function e2(e,t,n){var r=e._x0,i=e._y0,s=e._x1,l=e._y1,d=(s-r)/3;e._context.bezierCurveTo(r+d,i+d*t,s-d,l-d*n,s,l)}function tv(e){this._context=e}tv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:e2(this,this._t0,XD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,e2(this,XD(this,n=KD(this,e,t)),n);break;default:e2(this,this._t0,n=KD(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function _9(e){this._context=new C9(e)}(_9.prototype=Object.create(tv.prototype)).point=function(e,t){tv.prototype.point.call(this,t,e)};function C9(e){this._context=e}C9.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function Ace(e){return new tv(e)}function Ece(e){return new _9(e)}function T9(e){this._context=e}T9.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=QD(e),i=QD(t),s=0,l=1;l<n;++s,++l)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function QD(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),l=new Array(n);for(i[0]=0,s[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,l[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,l[t]-=r*l[t-1];for(i[n-1]=l[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(l[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function _ce(e){return new T9(e)}function y1(e,t){this._context=e,this._t=t}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function Cce(e){return new y1(e,.5)}function Tce(e){return new y1(e,0)}function Oce(e){return new y1(e,1)}function uh(e,t){if((l=e.length)>1)for(var n=1,r,i,s=e[t[0]],l,d=s.length;n<l;++n)for(i=s,s=e[t[n]],r=0;r<d;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sN(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Mce(e,t){return e[t]}function Dce(e){const t=[];return t.key=e,t}function Rce(){var e=qn([]),t=sN,n=uh,r=Mce;function i(s){var l=Array.from(e.apply(this,arguments),Dce),d,m=l.length,h=-1,p;for(const v of s)for(d=0,++h;d<m;++d)(l[d][h]=[0,+r(v,l[d].key,h,s)]).data=v;for(d=0,p=kE(t(l));d<m;++d)l[p[d]].index=d;return n(l,p),l}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:qn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:qn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?sN:typeof s=="function"?s:qn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??uh,i):n},i}function Pce(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,l;i<s;++i){for(l=n=0;n<r;++n)l+=e[n][i][1]||0;if(l)for(n=0;n<r;++n)e[n][i][1]/=l}uh(e,t)}}function Ice(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var l=0,d=0;l<i;++l)d+=e[l][n][1]||0;r[n][1]+=r[n][0]=-d/2}uh(e,t)}}function kce(e,t){if(!(!((l=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,l;r<s;++r){for(var d=0,m=0,h=0;d<l;++d){for(var p=e[t[d]],v=p[r][1]||0,S=p[r-1][1]||0,A=(v-S)/2,T=0;T<d;++T){var _=e[t[T]],C=_[r][1]||0,M=_[r-1][1]||0;A+=C-M}m+=v,h+=A*v}i[r-1][1]+=i[r-1][0]=n,m&&(n-=h/m)}i[r-1][1]+=i[r-1][0]=n,uh(e,t)}}var Lce=["type","size","sizeType"];function oN(){return oN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oN.apply(null,arguments)}function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){Bce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bce(e,t,n){return(t=Fce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fce(e){var t=Uce(e,"string");return typeof t=="symbol"?t:t+""}function Uce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zce(e,t){if(e==null)return{};var n,r,i=Vce(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Vce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var O9={symbolCircle:LE,symbolCross:cce,symbolDiamond:dce,symbolSquare:fce,symbolStar:pce,symbolTriangle:xce,symbolWye:yce},$ce=Math.PI/180,Hce=e=>{var t="symbol".concat(ug(e));return O9[t]||LE},qce=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*$ce;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Yce=(e,t)=>{O9["symbol".concat(ug(e))]=t},BE=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=zce(e,Lce),s=JD(JD({},i),{},{type:t,size:n,sizeType:r}),l=()=>{var v=Hce(t),S=bce().type(v).size(qce(n,r,t));return S()},{className:d,cx:m,cy:h}=s,p=zt(s,!0);return m===+m&&h===+h&&n===+n?N.createElement("path",oN({},p,{className:tn("recharts-symbols",d),transform:"translate(".concat(m,", ").concat(h,")"),d:l()})):null};BE.registerSymbol=Yce;function lN(){return lN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lN.apply(null,arguments)}function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){FE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FE(e,t,n){return(t=Gce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gce(e){var t=Kce(e,"string");return typeof t=="symbol"?t:t+""}function Kce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ws=32;class UE extends N.PureComponent{renderIcon(t,n){var{inactiveColor:r}=this.props,i=Ws/2,s=Ws/6,l=Ws/3,d=t.inactive?r:t.color,m=n??t.type;if(m==="none")return null;if(m==="plainline")return N.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Ws,y2:i,className:"recharts-legend-icon"});if(m==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ws,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(m==="rect")return N.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ws/8,"h").concat(Ws,"v").concat(Ws*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(N.isValidElement(t.legendIcon)){var h=Wce({},t);return delete h.legendIcon,N.cloneElement(t.legendIcon,h)}return N.createElement(BE,{fill:d,cx:i,cy:i,size:Ws,sizeType:"diameter",type:m})}renderItems(){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:l}=this.props,d={x:0,y:0,width:Ws,height:Ws},m={display:r==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((p,v)=>{var S=p.formatter||i,A=tn({"recharts-legend-item":!0,["legend-item-".concat(v)]:!0,inactive:p.inactive});if(p.type==="none")return null;var T=p.inactive?s:p.color,_=S?S(p.value,p,v):p.value;return N.createElement("li",lN({className:A,style:m,key:"legend-item-".concat(v)},dg(this.props,p,v)),N.createElement(PE,{width:n,height:n,viewBox:d,style:h,"aria-label":"".concat(_," legend icon")},this.renderIcon(p,l)),N.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},_))})}render(){var{payload:t,layout:n,align:r}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}FE(UE,"displayName","Legend");FE(UE,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var t2={},n2={},tR;function Xce(){return tR||(tR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let s=0;s<n.length;s++){const l=n[s],d=r(l);i.has(d)||i.set(d,l)}return Array.from(i.values())}e.uniqBy=t}(n2)),n2}var r2={},nR;function M9(){return nR||(nR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(r2)),r2}var i2={},a2={},s2={},rR;function Qce(){return rR||(rR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(s2)),s2}var iR;function zE(){return iR||(iR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qce();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(a2)),a2}var o2={},aR;function Zce(){return aR||(aR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(o2)),o2}var sR;function Jce(){return sR||(sR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE(),n=Zce();function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r}(i2)),i2}var l2={},c2={},oR;function eue(){return oR||(oR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME();function n(r){return function(i){return t.get(i,r)}}e.property=n}(c2)),c2}var u2={},d2={},f2={},h2={},lR;function D9(){return lR||(lR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(h2)),h2}var m2={},cR;function R9(){return cR||(cR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(m2)),m2}var g2={},uR;function VE(){return uR||(uR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(g2)),g2}var dR;function tue(){return dR||(dR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$E(),n=D9(),r=R9(),i=VE();function s(v,S,A){return typeof A!="function"?t.isMatch(v,S):l(v,S,function T(_,C,M,P,R,U){const B=A(_,C,M,P,R,U);return B!==void 0?!!B:l(_,C,T,U)},new Map)}function l(v,S,A,T){if(S===v)return!0;switch(typeof S){case"object":return d(v,S,A,T);case"function":return Object.keys(S).length>0?l(v,{...S},A,T):i.eq(v,S);default:return n.isObject(v)?typeof S=="string"?S==="":!0:i.eq(v,S)}}function d(v,S,A,T){if(S==null)return!0;if(Array.isArray(S))return h(v,S,A,T);if(S instanceof Map)return m(v,S,A,T);if(S instanceof Set)return p(v,S,A,T);const _=Object.keys(S);if(v==null)return _.length===0;if(_.length===0)return!0;if(T&&T.has(S))return T.get(S)===v;T&&T.set(S,v);try{for(let C=0;C<_.length;C++){const M=_[C];if(!r.isPrimitive(v)&&!(M in v)||S[M]===void 0&&v[M]!==void 0||S[M]===null&&v[M]!==null||!A(v[M],S[M],M,v,S,T))return!1}return!0}finally{T&&T.delete(S)}}function m(v,S,A,T){if(S.size===0)return!0;if(!(v instanceof Map))return!1;for(const[_,C]of S.entries()){const M=v.get(_);if(A(M,C,_,v,S,T)===!1)return!1}return!0}function h(v,S,A,T){if(S.length===0)return!0;if(!Array.isArray(v))return!1;const _=new Set;for(let C=0;C<S.length;C++){const M=S[C];let P=!1;for(let R=0;R<v.length;R++){if(_.has(R))continue;const U=v[R];let B=!1;if(A(U,M,C,v,S,T)&&(B=!0),B){_.add(R),P=!0;break}}if(!P)return!1}return!0}function p(v,S,A,T){return S.size===0?!0:v instanceof Set?h([...v],[...S],A,T):!1}e.isMatchWith=s,e.isSetMatch=p}(f2)),f2}var fR;function $E(){return fR||(fR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tue();function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n}(d2)),d2}var p2={},x2={},v2={},hR;function P9(){return hR||(hR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(v2)),v2}var y2={},mR;function HE(){return mR||(mR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(y2)),y2}var b2={},gR;function qE(){return gR||(gR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",l="[object Symbol]",d="[object Date]",m="[object Map]",h="[object Set]",p="[object Array]",v="[object Function]",S="[object ArrayBuffer]",A="[object Object]",T="[object Error]",_="[object DataView]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",P="[object Uint16Array]",R="[object Uint32Array]",U="[object BigUint64Array]",B="[object Int8Array]",L="[object Int16Array]",F="[object Int32Array]",V="[object BigInt64Array]",z="[object Float32Array]",H="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=S,e.arrayTag=p,e.bigInt64ArrayTag=V,e.bigUint64ArrayTag=U,e.booleanTag=i,e.dataViewTag=_,e.dateTag=d,e.errorTag=T,e.float32ArrayTag=z,e.float64ArrayTag=H,e.functionTag=v,e.int16ArrayTag=L,e.int32ArrayTag=F,e.int8ArrayTag=B,e.mapTag=m,e.numberTag=r,e.objectTag=A,e.regexpTag=t,e.setTag=h,e.stringTag=n,e.symbolTag=l,e.uint16ArrayTag=P,e.uint32ArrayTag=R,e.uint8ArrayTag=C,e.uint8ClampedArrayTag=M}(b2)),b2}var w2={},pR;function nue(){return pR||(pR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(w2)),w2}var xR;function I9(){return xR||(xR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=P9(),n=HE(),r=qE(),i=R9(),s=nue();function l(p,v){return d(p,void 0,p,new Map,v)}function d(p,v,S,A=new Map,T=void 0){const _=T==null?void 0:T(p,v,S,A);if(_!=null)return _;if(i.isPrimitive(p))return p;if(A.has(p))return A.get(p);if(Array.isArray(p)){const C=new Array(p.length);A.set(p,C);for(let M=0;M<p.length;M++)C[M]=d(p[M],M,S,A,T);return Object.hasOwn(p,"index")&&(C.index=p.index),Object.hasOwn(p,"input")&&(C.input=p.input),C}if(p instanceof Date)return new Date(p.getTime());if(p instanceof RegExp){const C=new RegExp(p.source,p.flags);return C.lastIndex=p.lastIndex,C}if(p instanceof Map){const C=new Map;A.set(p,C);for(const[M,P]of p)C.set(M,d(P,M,S,A,T));return C}if(p instanceof Set){const C=new Set;A.set(p,C);for(const M of p)C.add(d(M,void 0,S,A,T));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(p))return p.subarray();if(s.isTypedArray(p)){const C=new(Object.getPrototypeOf(p)).constructor(p.length);A.set(p,C);for(let M=0;M<p.length;M++)C[M]=d(p[M],M,S,A,T);return C}if(p instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&p instanceof SharedArrayBuffer)return p.slice(0);if(p instanceof DataView){const C=new DataView(p.buffer.slice(0),p.byteOffset,p.byteLength);return A.set(p,C),m(C,p,S,A,T),C}if(typeof File<"u"&&p instanceof File){const C=new File([p],p.name,{type:p.type});return A.set(p,C),m(C,p,S,A,T),C}if(p instanceof Blob){const C=new Blob([p],{type:p.type});return A.set(p,C),m(C,p,S,A,T),C}if(p instanceof Error){const C=new p.constructor;return A.set(p,C),C.message=p.message,C.name=p.name,C.stack=p.stack,C.cause=p.cause,m(C,p,S,A,T),C}if(typeof p=="object"&&h(p)){const C=Object.create(Object.getPrototypeOf(p));return A.set(p,C),m(C,p,S,A,T),C}return p}function m(p,v,S=p,A,T){const _=[...Object.keys(v),...t.getSymbols(v)];for(let C=0;C<_.length;C++){const M=_[C],P=Object.getOwnPropertyDescriptor(p,M);(P==null||P.writable)&&(p[M]=d(v[M],M,S,A,T))}}function h(p){switch(n.getTag(p)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=l,e.cloneDeepWithImpl=d,e.copyProperties=m}(x2)),x2}var vR;function rue(){return vR||(vR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(p2)),p2}var yR;function iue(){return yR||(yR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$E(),n=rue();function r(i){return i=n.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=r}(u2)),u2}var j2={},S2={},N2={},bR;function aue(){return bR||(bR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=I9(),n=qE();function r(i,s){return t.cloneDeepWith(i,(l,d,m,h)=>{const p=s==null?void 0:s(l,d,m,h);if(p!=null)return p;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const v=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(v,i),v}case n.argumentsTag:{const v={};return t.copyProperties(v,i),v.length=i.length,v[Symbol.iterator]=i[Symbol.iterator],v}default:return}})}e.cloneDeepWith=r}(N2)),N2}var wR;function sue(){return wR||(wR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aue();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}(S2)),S2}var A2={},E2={},jR;function k9(){return jR||(jR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(E2)),E2}var _2={},SR;function oue(){return SR||(SR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HE();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(_2)),_2}var NR;function lue(){return NR||(NR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l9(),n=k9(),r=oue(),i=OE();function s(l,d){let m;if(Array.isArray(d)?m=d:typeof d=="string"&&t.isDeepKey(d)&&(l==null?void 0:l[d])==null?m=i.toPath(d):m=[d],m.length===0)return!1;let h=l;for(let p=0;p<m.length;p++){const v=m[p];if((h==null||!Object.hasOwn(h,v))&&!((Array.isArray(h)||r.isArguments(h))&&n.isIndex(v)&&v<h.length))return!1;h=h[v]}return!0}e.has=s}(A2)),A2}var AR;function cue(){return AR||(AR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$E(),n=c9(),r=sue(),i=ME(),s=lue();function l(d,m){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return m=r.cloneDeep(m),function(h){const p=i.get(h,d);return p===void 0?s.has(h,d):m===void 0?p===void 0:t.isMatch(p,m)}}e.matchesProperty=l}(j2)),j2}var ER;function uue(){return ER||(ER=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=M9(),n=eue(),r=iue(),i=cue();function s(l){if(l==null)return t.identity;switch(typeof l){case"function":return l;case"object":return Array.isArray(l)&&l.length===2?i.matchesProperty(l[0],l[1]):r.matches(l);case"string":case"symbol":case"number":return n.property(l)}}e.iteratee=s}(l2)),l2}var _R;function due(){return _R||(_R=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xce(),n=M9(),r=Jce(),i=uue();function s(l,d=n.identity){return r.isArrayLikeObject(l)?t.uniqBy(Array.from(l),i.iteratee(d)):[]}e.uniqBy=s}(t2)),t2}var C2,CR;function fue(){return CR||(CR=1,C2=due().uniqBy),C2}var hue=fue();const TR=Ia(hue);function L9(e,t,n){return t===!0?TR(e,n):typeof t=="function"?TR(e,t):e}var T2={exports:{}},O2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OR;function mue(){if(OR)return O2;OR=1;var e=bh(),t=EB();function n(h,p){return h===p&&(h!==0||1/h===1/p)||h!==h&&p!==p}var r=typeof Object.is=="function"?Object.is:n,i=t.useSyncExternalStore,s=e.useRef,l=e.useEffect,d=e.useMemo,m=e.useDebugValue;return O2.useSyncExternalStoreWithSelector=function(h,p,v,S,A){var T=s(null);if(T.current===null){var _={hasValue:!1,value:null};T.current=_}else _=T.current;T=d(function(){function M(L){if(!P){if(P=!0,R=L,L=S(L),A!==void 0&&_.hasValue){var F=_.value;if(A(F,L))return U=F}return U=L}if(F=U,r(R,L))return F;var V=S(L);return A!==void 0&&A(F,V)?(R=L,F):(R=L,U=V)}var P=!1,R,U,B=v===void 0?null:v;return[function(){return M(p())},B===null?void 0:function(){return M(B())}]},[p,v,S,A]);var C=i(h,T[0],T[1]);return l(function(){_.hasValue=!0,_.value=C},[C]),m(C),C},O2}var MR;function gue(){return MR||(MR=1,T2.exports=mue()),T2.exports}var pue=gue(),YE=N.createContext(null),xue=e=>e,sr=()=>{var e=N.useContext(YE);return e?e.store.dispatch:xue},Mx=()=>{},vue=()=>Mx,yue=(e,t)=>e===t;function mt(e){var t=N.useContext(YE);return pue.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:vue,t?t.store.getState:Mx,t?t.store.getState:Mx,t?e:Mx,yue)}function bue(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wue(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function jue(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var DR=e=>Array.isArray(e)?e:[e];function Sue(e){const t=Array.isArray(e[0])?e[0]:e;return jue(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function Nue(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var Aue=class{constructor(e){this.value=e}deref(){return this.value}},Eue=typeof WeakRef<"u"?WeakRef:Aue,_ue=0,RR=1;function ix(){return{s:_ue,v:void 0,o:null,p:null}}function B9(e,t={}){let n=ix();const{resultEqualityCheck:r}=t;let i,s=0;function l(){var v;let d=n;const{length:m}=arguments;for(let S=0,A=m;S<A;S++){const T=arguments[S];if(typeof T=="function"||typeof T=="object"&&T!==null){let _=d.o;_===null&&(d.o=_=new WeakMap);const C=_.get(T);C===void 0?(d=ix(),_.set(T,d)):d=C}else{let _=d.p;_===null&&(d.p=_=new Map);const C=_.get(T);C===void 0?(d=ix(),_.set(T,d)):d=C}}const h=d;let p;if(d.s===RR)p=d.v;else if(p=e.apply(null,arguments),s++,r){const S=((v=i==null?void 0:i.deref)==null?void 0:v.call(i))??i;S!=null&&r(S,p)&&(p=S,s!==0&&s--),i=typeof p=="object"&&p!==null||typeof p=="function"?new Eue(p):p}return h.s=RR,h.v=p,p}return l.clearCache=()=>{n=ix(),l.resetResultsCount()},l.resultsCount=()=>s,l.resetResultsCount=()=>{s=0},l}function Cue(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let s=0,l=0,d,m={},h=i.pop();typeof h=="object"&&(m=h,h=i.pop()),bue(h,`createSelector expects an output function after the inputs, but received: [${typeof h}]`);const p={...n,...m},{memoize:v,memoizeOptions:S=[],argsMemoize:A=B9,argsMemoizeOptions:T=[]}=p,_=DR(S),C=DR(T),M=Sue(i),P=v(function(){return s++,h.apply(null,arguments)},..._),R=A(function(){l++;const B=Nue(M,arguments);return d=P.apply(null,B),d},...C);return Object.assign(R,{resultFunc:h,memoizedResultFunc:P,dependencies:M,dependencyRecomputations:()=>l,resetDependencyRecomputations:()=>{l=0},lastResult:()=>d,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:v,argsMemoize:A})};return Object.assign(r,{withTypes:()=>r}),r}var Pe=Cue(B9),Tue=Object.assign((e,t=Pe)=>{wue(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(s=>e[s]);return t(r,(...s)=>s.reduce((l,d,m)=>(l[n[m]]=d,l),{}))},{withTypes:()=>Tue}),M2={},D2={},R2={},PR;function Oue(){return PR||(PR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const l=t(r),d=t(i);if(l===d&&l===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?d-l:l-d}return 0};e.compareValues=n}(R2)),R2}var P2={},I2={},IR;function F9(){return IR||(IR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(I2)),I2}var kR;function Mue(){return kR||(kR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F9(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,l){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||l!=null&&Object.hasOwn(l,s)}e.isKey=i}(P2)),P2}var LR;function Due(){return LR||(LR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Oue(),n=Mue(),r=OE();function i(s,l,d,m){if(s==null)return[];d=m?void 0:d,Array.isArray(s)||(s=Object.values(s)),Array.isArray(l)||(l=l==null?[null]:[l]),l.length===0&&(l=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(A=>String(A));const h=(A,T)=>{let _=A;for(let C=0;C<T.length&&_!=null;++C)_=_[T[C]];return _},p=(A,T)=>T==null||A==null?T:typeof A=="object"&&"key"in A?Object.hasOwn(T,A.key)?T[A.key]:h(T,A.path):typeof A=="function"?A(T):Array.isArray(A)?h(T,A):typeof T=="object"?T[A]:T,v=l.map(A=>(Array.isArray(A)&&A.length===1&&(A=A[0]),A==null||typeof A=="function"||Array.isArray(A)||n.isKey(A)?A:{key:A,path:r.toPath(A)}));return s.map(A=>({original:A,criteria:v.map(T=>p(T,A))})).slice().sort((A,T)=>{for(let _=0;_<v.length;_++){const C=t.compareValues(A.criteria[_],T.criteria[_],d[_]);if(C!==0)return C}return 0}).map(A=>A.original)}e.orderBy=i}(D2)),D2}var k2={},BR;function Rue(){return BR||(BR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],s=Math.floor(r),l=(d,m)=>{for(let h=0;h<d.length;h++){const p=d[h];Array.isArray(p)&&m<s?l(p,m+1):i.push(p)}};return l(n,0),i}e.flatten=t}(k2)),k2}var L2={},FR;function U9(){return FR||(FR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=k9(),n=zE(),r=D9(),i=VE();function s(l,d,m){return r.isObject(m)&&(typeof d=="number"&&n.isArrayLike(m)&&t.isIndex(d)&&d<m.length||typeof d=="string"&&d in m)?i.eq(m[d],l):!1}e.isIterateeCall=s}(L2)),L2}var UR;function Pue(){return UR||(UR=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Due(),n=Rue(),r=U9();function i(s,...l){const d=l.length;return d>1&&r.isIterateeCall(s,l[0],l[1])?l=[]:d>2&&r.isIterateeCall(l[0],l[1],l[2])&&(l=[l[0]]),t.orderBy(s,n.flatten(l),["asc"])}e.sortBy=i}(M2)),M2}var B2,zR;function Iue(){return zR||(zR=1,B2=Pue().sortBy),B2}var kue=Iue();const b1=Ia(kue);var z9=e=>e.legend.settings,Lue=e=>e.legend.size,Bue=e=>e.legend.payload,Fue=Pe([Bue,z9],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?b1(r,n):r});function Uue(){return mt(Fue)}var ax=1;function V9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),l={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(l.height-t.height)>ax||Math.abs(l.left-t.left)>ax||Math.abs(l.top-t.top)>ax||Math.abs(l.width-t.width)>ax)&&n({height:l.height,left:l.left,top:l.top,width:l.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Ti(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var zue=typeof Symbol=="function"&&Symbol.observable||"@@observable",VR=zue,F2=()=>Math.random().toString(36).substring(7).split("").join("."),Vue={INIT:`@@redux/INIT${F2()}`,REPLACE:`@@redux/REPLACE${F2()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${F2()}`},nv=Vue;function WE(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $9(e,t,n){if(typeof e!="function")throw new Error(Ti(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Ti(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Ti(1));return n($9)(e,t)}let r=e,i=t,s=new Map,l=s,d=0,m=!1;function h(){l===s&&(l=new Map,s.forEach((C,M)=>{l.set(M,C)}))}function p(){if(m)throw new Error(Ti(3));return i}function v(C){if(typeof C!="function")throw new Error(Ti(4));if(m)throw new Error(Ti(5));let M=!0;h();const P=d++;return l.set(P,C),function(){if(M){if(m)throw new Error(Ti(6));M=!1,h(),l.delete(P),s=null}}}function S(C){if(!WE(C))throw new Error(Ti(7));if(typeof C.type>"u")throw new Error(Ti(8));if(typeof C.type!="string")throw new Error(Ti(17));if(m)throw new Error(Ti(9));try{m=!0,i=r(i,C)}finally{m=!1}return(s=l).forEach(P=>{P()}),C}function A(C){if(typeof C!="function")throw new Error(Ti(10));r=C,S({type:nv.REPLACE})}function T(){const C=v;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Ti(11));function P(){const U=M;U.next&&U.next(p())}return P(),{unsubscribe:C(P)}},[VR](){return this}}}return S({type:nv.INIT}),{dispatch:S,subscribe:v,getState:p,replaceReducer:A,[VR]:T}}function $ue(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:nv.INIT})>"u")throw new Error(Ti(12));if(typeof n(void 0,{type:nv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ti(13))})}function H9(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const l=t[s];typeof e[l]=="function"&&(n[l]=e[l])}const r=Object.keys(n);let i;try{$ue(n)}catch(s){i=s}return function(l={},d){if(i)throw i;let m=!1;const h={};for(let p=0;p<r.length;p++){const v=r[p],S=n[v],A=l[v],T=S(A,d);if(typeof T>"u")throw d&&d.type,new Error(Ti(14));h[v]=T,m=m||T!==A}return m=m||r.length!==Object.keys(l).length,m?h:l}}function rv(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function Hue(...e){return t=>(n,r)=>{const i=t(n,r);let s=()=>{throw new Error(Ti(15))};const l={getState:i.getState,dispatch:(m,...h)=>s(m,...h)},d=e.map(m=>m(l));return s=rv(...d)(i.dispatch),{...i,dispatch:s}}}function q9(e){return WE(e)&&"type"in e&&typeof e.type=="string"}var Y9=Symbol.for("immer-nothing"),$R=Symbol.for("immer-draftable"),os=Symbol.for("immer-state");function to(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var dh=Object.getPrototypeOf;function yd(e){return!!e&&!!e[os]}function zl(e){var t;return e?W9(e)||Array.isArray(e)||!!e[$R]||!!((t=e.constructor)!=null&&t[$R])||j1(e)||S1(e):!1}var que=Object.prototype.constructor.toString();function W9(e){if(!e||typeof e!="object")return!1;const t=dh(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===que}function iv(e,t){w1(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function w1(e){const t=e[os];return t?t.type_:Array.isArray(e)?1:j1(e)?2:S1(e)?3:0}function cN(e,t){return w1(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G9(e,t,n){const r=w1(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Yue(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function j1(e){return e instanceof Map}function S1(e){return e instanceof Set}function Yu(e){return e.copy_||e.base_}function uN(e,t){if(j1(e))return new Map(e);if(S1(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=W9(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[os];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const l=i[s],d=r[l];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[l]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[l]})}return Object.create(dh(e),r)}else{const r=dh(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function GE(e,t=!1){return N1(e)||yd(e)||!zl(e)||(w1(e)>1&&(e.set=e.add=e.clear=e.delete=Wue),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>GE(r,!0))),e}function Wue(){to(2)}function N1(e){return Object.isFrozen(e)}var Gue={};function bd(e){const t=Gue[e];return t||to(0,e),t}var P0;function K9(){return P0}function Kue(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function HR(e,t){t&&(bd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function dN(e){fN(e),e.drafts_.forEach(Xue),e.drafts_=null}function fN(e){e===P0&&(P0=e.parent_)}function qR(e){return P0=Kue(P0,e)}function Xue(e){const t=e[os];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function YR(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[os].modified_&&(dN(t),to(4)),zl(e)&&(e=av(t,e),t.parent_||sv(t,e)),t.patches_&&bd("Patches").generateReplacementPatches_(n[os].base_,e,t.patches_,t.inversePatches_)):e=av(t,n,[]),dN(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Y9?e:void 0}function av(e,t,n){if(N1(t))return t;const r=t[os];if(!r)return iv(t,(i,s)=>WR(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return sv(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,l=!1;r.type_===3&&(s=new Set(i),i.clear(),l=!0),iv(s,(d,m)=>WR(e,r,i,d,m,n,l)),sv(e,i,!1),n&&e.patches_&&bd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function WR(e,t,n,r,i,s,l){if(yd(i)){const d=s&&t&&t.type_!==3&&!cN(t.assigned_,r)?s.concat(r):void 0,m=av(e,i,d);if(G9(n,r,m),yd(m))e.canAutoFreeze_=!1;else return}else l&&n.add(i);if(zl(i)&&!N1(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;av(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&sv(e,i)}}function sv(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&GE(t,n)}function Que(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:K9(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=KE;n&&(i=[r],s=I0);const{revoke:l,proxy:d}=Proxy.revocable(i,s);return r.draft_=d,r.revoke_=l,d}var KE={get(e,t){if(t===os)return e;const n=Yu(e);if(!cN(n,t))return Zue(e,n,t);const r=n[t];return e.finalized_||!zl(r)?r:r===U2(e.base_,t)?(z2(e),e.copy_[t]=mN(r,e)):r},has(e,t){return t in Yu(e)},ownKeys(e){return Reflect.ownKeys(Yu(e))},set(e,t,n){const r=X9(Yu(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=U2(Yu(e),t),s=i==null?void 0:i[os];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Yue(n,i)&&(n!==void 0||cN(e.base_,t)))return!0;z2(e),hN(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return U2(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,z2(e),hN(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Yu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){to(11)},getPrototypeOf(e){return dh(e.base_)},setPrototypeOf(){to(12)}},I0={};iv(KE,(e,t)=>{I0[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});I0.deleteProperty=function(e,t){return I0.set.call(this,e,t,void 0)};I0.set=function(e,t,n){return KE.set.call(this,e[0],t,n,e[0])};function U2(e,t){const n=e[os];return(n?Yu(n):e)[t]}function Zue(e,t,n){var i;const r=X9(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function X9(e,t){if(!(t in e))return;let n=dh(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=dh(n)}}function hN(e){e.modified_||(e.modified_=!0,e.parent_&&hN(e.parent_))}function z2(e){e.copy_||(e.copy_=uN(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Jue=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const l=this;return function(m=s,...h){return l.produce(m,p=>n.call(this,p,...h))}}typeof n!="function"&&to(6),r!==void 0&&typeof r!="function"&&to(7);let i;if(zl(t)){const s=qR(this),l=mN(t,void 0);let d=!0;try{i=n(l),d=!1}finally{d?dN(s):fN(s)}return HR(s,r),YR(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Y9&&(i=void 0),this.autoFreeze_&&GE(i,!0),r){const s=[],l=[];bd("Patches").generateReplacementPatches_(t,i,s,l),r(s,l)}return i}else to(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(l,...d)=>this.produceWithPatches(l,m=>t(m,...d));let r,i;return[this.produce(t,n,(l,d)=>{r=l,i=d}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){zl(e)||to(8),yd(e)&&(e=Ml(e));const t=qR(this),n=mN(e,void 0);return n[os].isManual_=!0,fN(t),n}finishDraft(e,t){const n=e&&e[os];(!n||!n.isManual_)&&to(9);const{scope_:r}=n;return HR(r,t),YR(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=bd("Patches").applyPatches_;return yd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function mN(e,t){const n=j1(e)?bd("MapSet").proxyMap_(e,t):S1(e)?bd("MapSet").proxySet_(e,t):Que(e,t);return(t?t.scope_:K9()).drafts_.push(n),n}function Ml(e){return yd(e)||to(10,e),Q9(e)}function Q9(e){if(!zl(e)||N1(e))return e;const t=e[os];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=uN(e,t.scope_.immer_.useStrictShallowCopy_)}else n=uN(e,!0);return iv(n,(r,i)=>{G9(n,r,Q9(i))}),t&&(t.finalized_=!1),n}var ls=new Jue,Z9=ls.produce;ls.produceWithPatches.bind(ls);ls.setAutoFreeze.bind(ls);ls.setUseStrictShallowCopy.bind(ls);ls.applyPatches.bind(ls);ls.createDraft.bind(ls);ls.finishDraft.bind(ls);function J9(e){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,e):i(s)}var ede=J9(),tde=J9,nde=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?rv:rv.apply(null,arguments)};function Ds(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(as(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>q9(r)&&r.type===e,n}var eF=class a0 extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,a0.prototype)}static get[Symbol.species](){return a0}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new a0(...t[0].concat(this)):new a0(...t.concat(this))}};function GR(e){return zl(e)?Z9(e,()=>{}):e}function sx(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function rde(e){return typeof e=="boolean"}var ide=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let l=new eF;return n&&(rde(n)?l.push(ede):l.push(tde(n.extraArgument))),l},ade="RTK_autoBatch",KR=e=>t=>{setTimeout(t,e)},sde=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,s=!1,l=!1;const d=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KR(10):e.type==="callback"?e.queueNotification:KR(e.timeout),h=()=>{l=!1,s&&(s=!1,d.forEach(p=>p()))};return Object.assign({},r,{subscribe(p){const v=()=>i&&p(),S=r.subscribe(v);return d.add(p),()=>{S(),d.delete(p)}},dispatch(p){var v;try{return i=!((v=p==null?void 0:p.meta)!=null&&v[ade]),s=!i,s&&(l||(l=!0,m(h))),r.dispatch(p)}finally{i=!0}}})},ode=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new eF(e);return r&&i.push(sde(typeof r=="object"?r:void 0)),i};function lde(e){const t=ide(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:l=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(WE(n))d=H9(n);else throw new Error(as(1));let m;typeof r=="function"?m=r(t):m=t();let h=rv;i&&(h=nde({trace:!1,...typeof i=="object"&&i}));const p=Hue(...m),v=ode(p);let S=typeof l=="function"?l(v):v();const A=h(...S);return $9(d,s,A)}function tF(e){const t={},n=[];let r;const i={addCase(s,l){const d=typeof s=="string"?s:s.type;if(!d)throw new Error(as(28));if(d in t)throw new Error(as(29));return t[d]=l,i},addMatcher(s,l){return n.push({matcher:s,reducer:l}),i},addDefaultCase(s){return r=s,i}};return e(i),[t,n,r]}function cde(e){return typeof e=="function"}function ude(e,t){let[n,r,i]=tF(t),s;if(cde(e))s=()=>GR(e());else{const d=GR(e);s=()=>d}function l(d=s(),m){let h=[n[m.type],...r.filter(({matcher:p})=>p(m)).map(({reducer:p})=>p)];return h.filter(p=>!!p).length===0&&(h=[i]),h.reduce((p,v)=>{if(v)if(yd(p)){const A=v(p,m);return A===void 0?p:A}else{if(zl(p))return Z9(p,S=>v(S,m));{const S=v(p,m);if(S===void 0){if(p===null)return p;throw Error("A case reducer on a non-draftable value must not return undefined")}return S}}return p},d)}return l.getInitialState=s,l}var dde="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fde=(e=21)=>{let t="",n=e;for(;n--;)t+=dde[Math.random()*64|0];return t},hde=Symbol.for("rtk-slice-createasyncthunk");function mde(e,t){return`${e}/${t}`}function gde({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[hde];return function(i){const{name:s,reducerPath:l=s}=i;if(!s)throw new Error(as(11));const d=(typeof i.reducers=="function"?i.reducers(xde()):i.reducers)||{},m=Object.keys(d),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},p={addCase(U,B){const L=typeof U=="string"?U:U.type;if(!L)throw new Error(as(12));if(L in h.sliceCaseReducersByType)throw new Error(as(13));return h.sliceCaseReducersByType[L]=B,p},addMatcher(U,B){return h.sliceMatchers.push({matcher:U,reducer:B}),p},exposeAction(U,B){return h.actionCreators[U]=B,p},exposeCaseReducer(U,B){return h.sliceCaseReducersByName[U]=B,p}};m.forEach(U=>{const B=d[U],L={reducerName:U,type:mde(s,U),createNotation:typeof i.reducers=="function"};yde(B)?wde(L,B,p,t):vde(L,B,p)});function v(){const[U={},B=[],L=void 0]=typeof i.extraReducers=="function"?tF(i.extraReducers):[i.extraReducers],F={...U,...h.sliceCaseReducersByType};return ude(i.initialState,V=>{for(let z in F)V.addCase(z,F[z]);for(let z of h.sliceMatchers)V.addMatcher(z.matcher,z.reducer);for(let z of B)V.addMatcher(z.matcher,z.reducer);L&&V.addDefaultCase(L)})}const S=U=>U,A=new Map,T=new WeakMap;let _;function C(U,B){return _||(_=v()),_(U,B)}function M(){return _||(_=v()),_.getInitialState()}function P(U,B=!1){function L(V){let z=V[U];return typeof z>"u"&&B&&(z=sx(T,L,M)),z}function F(V=S){const z=sx(A,B,()=>new WeakMap);return sx(z,V,()=>{const H={};for(const[W,q]of Object.entries(i.selectors??{}))H[W]=pde(q,V,()=>sx(T,V,M),B);return H})}return{reducerPath:U,getSelectors:F,get selectors(){return F(L)},selectSlice:L}}const R={name:s,reducer:C,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:M,...P(l),injectInto(U,{reducerPath:B,...L}={}){const F=B??l;return U.inject({reducerPath:F,reducer:C},L),{...R,...P(F,!0)}}};return R}}function pde(e,t,n,r){function i(s,...l){let d=t(s);return typeof d>"u"&&r&&(d=n()),e(d,...l)}return i.unwrapped=e,i}var ks=gde();function xde(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function vde({type:e,reducerName:t,createNotation:n},r,i){let s,l;if("reducer"in r){if(n&&!bde(r))throw new Error(as(17));s=r.reducer,l=r.prepare}else s=r;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,l?Ds(e,l):Ds(e))}function yde(e){return e._reducerDefinitionType==="asyncThunk"}function bde(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wde({type:e,reducerName:t},n,r,i){if(!i)throw new Error(as(18));const{payloadCreator:s,fulfilled:l,pending:d,rejected:m,settled:h,options:p}=n,v=i(e,s,p);r.exposeAction(t,v),l&&r.addCase(v.fulfilled,l),d&&r.addCase(v.pending,d),m&&r.addCase(v.rejected,m),h&&r.addMatcher(v.settled,h),r.exposeCaseReducer(t,{fulfilled:l||ox,pending:d||ox,rejected:m||ox,settled:h||ox})}function ox(){}var jde="task",nF="listener",rF="completed",XE="cancelled",Sde=`task-${XE}`,Nde=`task-${rF}`,gN=`${nF}-${XE}`,Ade=`${nF}-${rF}`,A1=class{constructor(e){ew(this,"name","TaskAbortError");ew(this,"message");this.code=e,this.message=`${jde} ${XE} (reason: ${e})`}},QE=(e,t)=>{if(typeof e!="function")throw new TypeError(as(32))},ov=()=>{},iF=(e,t=ov)=>(e.catch(t),e),aF=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),od=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ld=e=>{if(e.aborted){const{reason:t}=e;throw new A1(t)}};function sF(e,t){let n=ov;return new Promise((r,i)=>{const s=()=>i(new A1(e.reason));if(e.aborted){s();return}n=aF(e,s),t.finally(()=>n()).then(r,i)}).finally(()=>{n=ov})}var Ede=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof A1?"cancelled":"rejected",error:n}}finally{t==null||t()}},lv=e=>t=>iF(sF(e,t).then(n=>(ld(e),n))),oF=e=>{const t=lv(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:th}=Object,XR={},E1="listenerMiddleware",_de=(e,t)=>{const n=r=>aF(e,()=>od(r,e.reason));return(r,i)=>{QE(r);const s=new AbortController;n(s);const l=Ede(async()=>{ld(e),ld(s.signal);const d=await r({pause:lv(s.signal),delay:oF(s.signal),signal:s.signal});return ld(s.signal),d},()=>od(s,Nde));return i!=null&&i.autoJoin&&t.push(l.catch(ov)),{result:lv(e)(l),cancel(){od(s,Sde)}}}},Cde=(e,t)=>{const n=async(r,i)=>{ld(t);let s=()=>{};const d=[new Promise((m,h)=>{let p=e({predicate:r,effect:(v,S)=>{S.unsubscribe(),m([v,S.getState(),S.getOriginalState()])}});s=()=>{p(),h()}})];i!=null&&d.push(new Promise(m=>setTimeout(m,i,null)));try{const m=await sF(t,Promise.race(d));return ld(t),m}finally{s()}};return(r,i)=>iF(n(r,i))},lF=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:s}=e;if(t)i=Ds(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(as(21));return QE(s),{predicate:i,type:t,effect:s}},cF=th(e=>{const{type:t,predicate:n,effect:r}=lF(e);return{id:fde(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(as(22))}}},{withTypes:()=>cF}),QR=(e,t)=>{const{type:n,effect:r,predicate:i}=lF(t);return Array.from(e.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},pN=e=>{e.pending.forEach(t=>{od(t,gN)})},Tde=e=>()=>{e.forEach(pN),e.clear()},ZR=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},uF=th(Ds(`${E1}/add`),{withTypes:()=>uF}),Ode=Ds(`${E1}/removeAll`),dF=th(Ds(`${E1}/remove`),{withTypes:()=>dF}),Mde=(...e)=>{console.error(`${E1}/error`,...e)},hg=(e={})=>{const t=new Map,{extra:n,onError:r=Mde}=e;QE(r);const i=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),v=>{p.unsubscribe(),v!=null&&v.cancelActive&&pN(p)}),s=p=>{const v=QR(t,p)??cF(p);return i(v)};th(s,{withTypes:()=>s});const l=p=>{const v=QR(t,p);return v&&(v.unsubscribe(),p.cancelActive&&pN(v)),!!v};th(l,{withTypes:()=>l});const d=async(p,v,S,A)=>{const T=new AbortController,_=Cde(s,T.signal),C=[];try{p.pending.add(T),await Promise.resolve(p.effect(v,th({},S,{getOriginalState:A,condition:(M,P)=>_(M,P).then(Boolean),take:_,delay:oF(T.signal),pause:lv(T.signal),extra:n,signal:T.signal,fork:_de(T.signal,C),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((M,P,R)=>{M!==T&&(od(M,gN),R.delete(M))})},cancel:()=>{od(T,gN),p.pending.delete(T)},throwIfCancelled:()=>{ld(T.signal)}})))}catch(M){M instanceof A1||ZR(r,M,{raisedBy:"effect"})}finally{await Promise.all(C),od(T,Ade),p.pending.delete(T)}},m=Tde(t);return{middleware:p=>v=>S=>{if(!q9(S))return v(S);if(uF.match(S))return s(S.payload);if(Ode.match(S)){m();return}if(dF.match(S))return l(S.payload);let A=p.getState();const T=()=>{if(A===XR)throw new Error(as(23));return A};let _;try{if(_=v(S),t.size>0){const C=p.getState(),M=Array.from(t.values());for(const P of M){let R=!1;try{R=P.predicate(S,C,A)}catch(U){R=!1,ZR(r,U,{raisedBy:"predicate"})}R&&d(P,S,p,T)}}}finally{A=XR}return _},startListening:s,stopListening:l,clearListeners:m}};function as(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Dde={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},fF=ks({name:"chartLayout",initialState:Dde,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:Rde,setLayout:Pde,setChartSize:Ide,setScale:kde}=fF.actions,Lde=fF.reducer;function JR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JR(Object(n),!0).forEach(function(r){Bde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bde(e,t,n){return(t=Fde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fde(e){var t=Ude(e,"string");return typeof t=="symbol"?t:t+""}function Ude(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cv=Math.PI/180,zde=e=>e*180/Math.PI,Zr=(e,t,n,r)=>({x:e+Math.cos(-cv*r)*n,y:t+Math.sin(-cv*r)*n}),hF=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Vde=(e,t)=>{var{x:n,y:r}=e,{x:i,y:s}=t;return Math.sqrt((n-i)**2+(r-s)**2)},$de=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:s}=t,l=Vde({x:n,y:r},{x:i,y:s});if(l<=0)return{radius:l,angle:0};var d=(n-i)/l,m=Math.acos(d);return r>s&&(m=2*Math.PI-m),{radius:l,angle:zde(m),angleInRadian:m}},Hde=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:t-s*360,endAngle:n-s*360}},qde=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),s=Math.floor(r/360),l=Math.min(i,s);return e+l*360},Yde=(e,t)=>{var{x:n,y:r}=e,{radius:i,angle:s}=$de({x:n,y:r},t),{innerRadius:l,outerRadius:d}=t;if(i<l||i>d||i===0)return null;var{startAngle:m,endAngle:h}=Hde(t),p=s,v;if(m<=h){for(;p>h;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=h}else{for(;p>m;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=m}return v?eP(eP({},t),{},{radius:i,angle:qde(p,t)}):null};function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function As(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(r){Wde(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wde(e,t,n){return(t=Gde(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gde(e){var t=Kde(e,"string");return typeof t=="symbol"?t:t+""}function Kde(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(e,t,n){return Rn(e)||Rn(t)?n:Yo(t)?eu(e,t,n):typeof t=="function"?t(e):n}var Xde=(e,t,n,r,i)=>{var s,l=-1,d=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var m=0;m<d;m++){var h=m>0?n[m-1].coordinate:n[d-1].coordinate,p=n[m].coordinate,v=m>=d-1?n[0].coordinate:n[m+1].coordinate,S=void 0;if(wi(p-h)!==wi(v-p)){var A=[];if(wi(v-p)===wi(i[1]-i[0])){S=v;var T=p+i[1]-i[0];A[0]=Math.min(T,(T+h)/2),A[1]=Math.max(T,(T+h)/2)}else{S=h;var _=v+i[1]-i[0];A[0]=Math.min(p,(_+p)/2),A[1]=Math.max(p,(_+p)/2)}var C=[Math.min(p,(S+p)/2),Math.max(p,(S+p)/2)];if(e>C[0]&&e<=C[1]||e>=A[0]&&e<=A[1]){({index:l}=n[m]);break}}else{var M=Math.min(h,v),P=Math.max(h,v);if(e>(M+p)/2&&e<=(P+p)/2){({index:l}=n[m]);break}}}else if(t){for(var R=0;R<d;R++)if(R===0&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R>0&&R<d-1&&e>(t[R].coordinate+t[R-1].coordinate)/2&&e<=(t[R].coordinate+t[R+1].coordinate)/2||R===d-1&&e>(t[R].coordinate+t[R-1].coordinate)/2){({index:l}=t[R]);break}}return l},Qde=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:s,verticalAlign:l,layout:d}=t;if((d==="vertical"||d==="horizontal"&&l==="middle")&&s!=="center"&&nt(e[s]))return As(As({},e),{},{[s]:e[s]+(r||0)});if((d==="horizontal"||d==="vertical"&&s==="center")&&l!=="middle"&&nt(e[l]))return As(As({},e),{},{[l]:e[l]+(i||0)})}return e},tl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mF=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var i,s,l=e.map(d=>(d.coordinate===t&&(i=!0),d.coordinate===n&&(s=!0),d.coordinate));return i||l.push(t),s||l.push(n),l},gF=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:s,scale:l,realScaleType:d,isCategorical:m,categoricalDomain:h,tickCount:p,ticks:v,niceTicks:S,axisType:A}=e;if(!l)return null;var T=d==="scaleBand"&&l.bandwidth?l.bandwidth()/2:2,_=i==="category"&&l.bandwidth?l.bandwidth()/T:0;if(_=A==="angleAxis"&&s&&s.length>=2?wi(s[0]-s[1])*2*_:_,v||S){var C=(v||S||[]).map((M,P)=>{var R=r?r.indexOf(M):M;return{coordinate:l(R)+_,value:M,offset:_,index:P}});return C.filter(M=>!Pa(M.coordinate))}return m&&h?h.map((M,P)=>({coordinate:l(M)+_,value:M,index:P,offset:_})):l.ticks&&p!=null?l.ticks(p).map((M,P)=>({coordinate:l(M)+_,value:M,offset:_,index:P})):l.domain().map((M,P)=>({coordinate:l(M)+_,value:r?r[M]:M,index:P,offset:_}))},nP=1e-4,Zde=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-nP,s=Math.max(r[0],r[1])+nP,l=e(t[0]),d=e(t[n-1]);(l<i||l>s||d<i||d>s)&&e.domain([t[0],t[n-1]])}},Jde=(e,t)=>{if(!t||t.length!==2||!nt(t[0])||!nt(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!nt(e[0])||e[0]<n)&&(i[0]=n),(!nt(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i},efe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0,l=0;l<t;++l){var d=Pa(e[l][n][1])?e[l][n][0]:e[l][n][1];d>=0?(e[l][n][0]=i,e[l][n][1]=i+d,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+d,s=e[l][n][1])}},tfe=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,s=0;s<t;++s){var l=Pa(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},nfe={sign:efe,expand:Pce,none:uh,silhouette:Ice,wiggle:kce,positive:tfe},rfe=(e,t,n)=>{var r=nfe[n],i=Rce().keys(t).value((s,l)=>+Fn(s,l,0)).order(sN).offset(r);return i(e)};function ZE(e){return e==null?void 0:String(e)}function uv(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:s,dataKey:l}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Rn(i[t.dataKey])){var d=d9(n,"value",i[t.dataKey]);if(d)return d.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var m=Fn(i,Rn(l)?t.dataKey:l);return Rn(m)?null:t.scale(m)}var rP=e=>{var{axis:t,ticks:n,offset:r,bandSize:i,entry:s,index:l}=e;if(t.type==="category")return n[l]?n[l].coordinate+r:null;var d=Fn(s,t.dataKey,t.scale.domain()[l]);return Rn(d)?null:t.scale(d)-i/2+r},ife=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]},afe=e=>{var t=e.flat(2).filter(nt);return[Math.min(...t),Math.max(...t)]},sfe=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],ofe=(e,t,n)=>{if(e!=null)return sfe(Object.keys(e).reduce((r,i)=>{var s=e[i],{stackedData:l}=s,d=l.reduce((m,h)=>{var p=afe(h.slice(t,n+1));return[Math.min(m[0],p[0]),Math.max(m[1],p[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},iP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wd=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=b1(t,p=>p.coordinate),s=1/0,l=1,d=i.length;l<d;l++){var m=i[l],h=i[l-1];s=Math.min((m.coordinate||0)-(h.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0};function sP(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:s}=e;return As(As({},t),{},{dataKey:n,payload:r,value:i,name:s})}function lu(e,t){if(e)return String(e);if(typeof t=="string")return t}function lfe(e,t,n,r,i){if(n==="horizontal"||n==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return r?Yde({x:e,y:t},r):null}var cfe=(e,t,n,r)=>{var i=t.find(h=>h&&h.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:l}=r;return As(As(As({},r),Zr(r.cx,r.cy,l,s)),{},{angle:s,radius:l})}var d=i.coordinate,{angle:m}=r;return As(As(As({},r),Zr(r.cx,r.cy,d,m)),{},{angle:m,radius:d})}return{x:0,y:0}},ufe=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Gl=e=>e.layout.width,Kl=e=>e.layout.height,dfe=e=>e.layout.scale,pF=e=>e.layout.margin,JE=Pe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),e_=Pe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xF="data-recharts-item-index",vF="data-recharts-item-data-key",_1=60;function oP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(n),!0).forEach(function(r){ffe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ffe(e,t,n){return(t=hfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hfe(e){var t=mfe(e,"string");return typeof t=="symbol"?t:t+""}function mfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gfe=e=>e.brush.height,ui=Pe([Gl,Kl,pF,gfe,JE,e_,z9,Lue],(e,t,n,r,i,s,l,d)=>{var m=s.reduce((T,_)=>{var{orientation:C}=_;if(!_.mirror&&!_.hide){var M=typeof _.width=="number"?_.width:_1;return Pc(Pc({},T),{},{[C]:T[C]+M})}return T},{left:n.left||0,right:n.right||0}),h=i.reduce((T,_)=>{var{orientation:C}=_;return!_.mirror&&!_.hide?Pc(Pc({},T),{},{[C]:eu(T,"".concat(C))+_.height}):T},{top:n.top||0,bottom:n.bottom||0}),p=Pc(Pc({},h),m),v=p.bottom;p.bottom+=r,p=Qde(p,l,d);var S=e-p.left-p.right,A=t-p.top-p.bottom;return Pc(Pc({brushBottom:v},p),{},{width:Math.max(S,0),height:Math.max(A,0)})}),pfe=Pe(ui,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),yF=Pe(Gl,Kl,(e,t)=>({x:0,y:0,width:e,height:t})),xfe=N.createContext(null),Ji=()=>N.useContext(xfe)!=null,C1=e=>e.brush,T1=Pe([C1,ui,pF],(e,t,n)=>({height:e.height,x:nt(e.x)?e.x:t.left,y:nt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:nt(e.width)?e.width:t.width})),t_=()=>{var e,t=Ji(),n=mt(pfe),r=mt(T1),i=(e=mt(C1))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},vfe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bF=()=>{var e;return(e=mt(ui))!==null&&e!==void 0?e:vfe},n_=()=>mt(Gl),r_=()=>mt(Kl),yfe={top:0,right:0,bottom:0,left:0},bfe=()=>{var e;return(e=mt(t=>t.layout.margin))!==null&&e!==void 0?e:yfe},un=e=>e.layout.layoutType,mg=()=>mt(un),wfe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},wF=ks({name:"legend",initialState:wfe,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Ml(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:lP,setLegendSettings:jfe,addLegendPayload:jF,removeLegendPayload:SF}=wF.actions,Sfe=wF.reducer,Nfe=["contextPayload"];function xN(){return xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xN.apply(null,arguments)}function cP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(n),!0).forEach(function(r){i_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i_(e,t,n){return(t=Afe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Afe(e){var t=Efe(e,"string");return typeof t=="symbol"?t:t+""}function Efe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _fe(e,t){if(e==null)return{};var n,r,i=Cfe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cfe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Tfe(e){return e.value}function Ofe(e){var{contextPayload:t}=e,n=_fe(e,Nfe),r=L9(t,e.payloadUniqBy,Tfe),i=fh(fh({},n),{},{payload:r});return N.isValidElement(e.content)?N.cloneElement(e.content,i):typeof e.content=="function"?N.createElement(e.content,i):N.createElement(UE,i)}function Mfe(e,t,n,r,i,s){var{layout:l,align:d,verticalAlign:m}=t,h,p;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(d==="center"&&l==="vertical"?h={left:((r||0)-s.width)/2}:h=d==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(m==="middle"?p={top:((i||0)-s.height)/2}:p=m==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),fh(fh({},h),p)}function Dfe(e){var t=sr();return N.useEffect(()=>{t(jfe(e))},[t,e]),null}function Rfe(e){var t=sr();return N.useEffect(()=>(t(lP(e)),()=>{t(lP({width:0,height:0}))}),[t,e]),null}function Pfe(e){var t=Uue(),n=rce(),r=bfe(),{width:i,height:s,wrapperStyle:l,portal:d}=e,[m,h]=V9([t]),p=n_(),v=r_(),S=p-(r.left||0)-(r.right||0),A=bi.getWidthOrHeight(e.layout,s,i,S),T=d?l:fh(fh({position:"absolute",width:(A==null?void 0:A.width)||i||"auto",height:(A==null?void 0:A.height)||s||"auto"},Mfe(l,e,r,p,v,m)),l),_=d??n;if(_==null)return null;var C=N.createElement("div",{className:"recharts-legend-wrapper",style:T,ref:h},N.createElement(Dfe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),N.createElement(Rfe,{width:m.width,height:m.height}),N.createElement(Ofe,xN({},e,A,{margin:r,chartWidth:p,chartHeight:v,contextPayload:t})));return Ed.createPortal(C,_)}class bi extends N.PureComponent{static getWidthOrHeight(t,n,r,i){return t==="vertical"&&nt(n)?{height:n}:t==="horizontal"?{width:r||i}:null}render(){return N.createElement(Pfe,this.props)}}i_(bi,"displayName","Legend");i_(bi,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function vN(){return vN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vN.apply(null,arguments)}function uP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function V2(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(n),!0).forEach(function(r){Ife(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ife(e,t,n){return(t=kfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kfe(e){var t=Lfe(e,"string");return typeof t=="symbol"?t:t+""}function Lfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bfe(e){return Array.isArray(e)&&Yo(e[0])&&Yo(e[1])?e.join(" ~ "):e}var Ffe=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:l,itemSorter:d,wrapperClassName:m,labelClassName:h,label:p,labelFormatter:v,accessibilityLayer:S=!1}=e,A=()=>{if(s&&s.length){var B={padding:0,margin:0},L=(d?b1(s,d):s).map((F,V)=>{if(F.type==="none")return null;var z=F.formatter||l||Bfe,{value:H,name:W}=F,q=H,Q=W;if(z){var te=z(H,W,F,V,s);if(Array.isArray(te))[q,Q]=te;else if(te!=null)q=te;else return null}var J=V2({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:J},Yo(Q)?N.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,Yo(Q)?N.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,N.createElement("span",{className:"recharts-tooltip-item-value"},q),N.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:B},L)}return null},T=V2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),_=V2({margin:0},i),C=!Rn(p),M=C?p:"",P=tn("recharts-default-tooltip",m),R=tn("recharts-tooltip-label",h);C&&v&&s!==void 0&&s!==null&&(M=v(p,s));var U=S?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",vN({className:P,style:T},U),N.createElement("p",{className:R,style:_},N.isValidElement(M)?M:"".concat(M)),A())},$m="recharts-tooltip-wrapper",Ufe={visibility:"hidden"};function zfe(e){var{coordinate:t,translateX:n,translateY:r}=e;return tn($m,{["".concat($m,"-right")]:nt(n)&&t&&nt(t.x)&&n>=t.x,["".concat($m,"-left")]:nt(n)&&t&&nt(t.x)&&n<t.x,["".concat($m,"-bottom")]:nt(r)&&t&&nt(t.y)&&r>=t.y,["".concat($m,"-top")]:nt(r)&&t&&nt(t.y)&&r<t.y})}function dP(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:l,tooltipDimension:d,viewBox:m,viewBoxDimension:h}=e;if(s&&nt(s[r]))return s[r];var p=n[r]-d-(i>0?i:0),v=n[r]+i;if(t[r])return l[r]?p:v;var S=m[r];if(S==null)return 0;if(l[r]){var A=p,T=S;return A<T?Math.max(v,S):Math.max(p,S)}if(h==null)return 0;var _=v+d,C=S+h;return _>C?Math.max(p,S):Math.max(v,S)}function Vfe(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function $fe(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:l,useTranslate3d:d,viewBox:m}=e,h,p,v;return l.height>0&&l.width>0&&n?(p=dP({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.width,viewBox:m,viewBoxDimension:m.width}),v=dP({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:l.height,viewBox:m,viewBoxDimension:m.height}),h=Vfe({translateX:p,translateY:v,useTranslate3d:d})):h=Ufe,{cssProperties:h,cssClasses:zfe({translateX:p,translateY:v,coordinate:n})}}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(n),!0).forEach(function(r){yN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yN(e,t,n){return(t=Hfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hfe(e){var t=qfe(e,"string");return typeof t=="symbol"?t:t+""}function qfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Yfe extends N.PureComponent{constructor(){super(...arguments),yN(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yN(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:l,hasPayload:d,isAnimationActive:m,offset:h,position:p,reverseDirection:v,useTranslate3d:S,viewBox:A,wrapperStyle:T,lastBoundingBox:_,innerRef:C,hasPortalFromProps:M}=this.props,{cssClasses:P,cssProperties:R}=$fe({allowEscapeViewBox:n,coordinate:l,offsetTopLeft:h,position:p,reverseDirection:v,tooltipBox:{height:_.height,width:_.width},useTranslate3d:S,viewBox:A}),U=M?{}:lx(lx({transition:m&&t?"transform ".concat(r,"ms ").concat(i):void 0},R),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),B=lx(lx({},U),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},T);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:P,style:B,ref:C},s)}}var Wfe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),cu={isSsr:Wfe()},NF=()=>mt(e=>e.rootProps.accessibilityLayer);function Di(e){return Number.isFinite(e)}function hh(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function bN(){return bN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bN.apply(null,arguments)}function hP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(n),!0).forEach(function(r){Gfe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gfe(e,t,n){return(t=Kfe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kfe(e){var t=Xfe(e,"string");return typeof t=="symbol"?t:t+""}function Xfe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gP={curveBasisClosed:jce,curveBasisOpen:Sce,curveBasis:wce,curveBumpX:oce,curveBumpY:lce,curveLinearClosed:Nce,curveLinear:v1,curveMonotoneX:Ace,curveMonotoneY:Ece,curveNatural:_ce,curveStep:Cce,curveStepAfter:Oce,curveStepBefore:Tce},cx=e=>Di(e.x)&&Di(e.y),Hm=e=>e.x,qm=e=>e.y,Qfe=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(ug(e));return(n==="curveMonotone"||n==="curveBump")&&t?gP["".concat(n).concat(t==="vertical"?"Y":"X")]:gP[n]||v1},Zfe=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=e,l=Qfe(t,i),d=s?n.filter(cx):n,m;if(Array.isArray(r)){var h=s?r.filter(v=>cx(v)):r,p=d.map((v,S)=>mP(mP({},v),{},{base:h[S]}));return i==="vertical"?m=rx().y(qm).x1(Hm).x0(v=>v.base.x):m=rx().x(Hm).y1(qm).y0(v=>v.base.y),m.defined(cx).curve(l),m(p)}return i==="vertical"&&nt(r)?m=rx().y(qm).x1(Hm).x0(r):nt(r)?m=rx().x(Hm).y1(qm).y0(r):m=y9().x(Hm).y(qm),m.defined(cx).curve(l),m(d)},nh=e=>{var{className:t,points:n,path:r,pathRef:i}=e;if((!n||!n.length)&&!r)return null;var s=n&&n.length?Zfe(e):r;return N.createElement("path",bN({},zt(e,!1),RE(e),{className:tn("recharts-curve",t),d:s===null?void 0:s,ref:i}))},Jfe=["x","y","top","left","width","height","className"];function wN(){return wN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wN.apply(null,arguments)}function pP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ehe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(n),!0).forEach(function(r){the(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function the(e,t,n){return(t=nhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nhe(e){var t=rhe(e,"string");return typeof t=="symbol"?t:t+""}function rhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ihe(e,t){if(e==null)return{};var n,r,i=ahe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ahe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var she=(e,t,n,r,i,s)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(s,",").concat(t,"h").concat(n),ohe=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:s=0,height:l=0,className:d}=e,m=ihe(e,Jfe),h=ehe({x:t,y:n,top:r,left:i,width:s,height:l},m);return!nt(t)||!nt(n)||!nt(s)||!nt(l)||!nt(r)||!nt(i)?null:N.createElement("path",wN({},zt(h,!0),{className:tn("recharts-cross",d),d:she(t,n,s,l,r,i)}))};function lhe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function xP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function che(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(n),!0).forEach(function(r){uhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uhe(e,t,n){return(t=dhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dhe(e){var t=fhe(e,"string");return typeof t=="symbol"?t:t+""}function fhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cs(e,t){var n=che({},e),r=t,i=Object.keys(t),s=i.reduce((l,d)=>(l[d]===void 0&&r[d]!==void 0&&(l[d]=r[d]),l),n);return s}var $2={},H2={},q2={},vP;function hhe(){return vP||(vP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(q2)),q2}var yP;function mhe(){return yP||(yP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hhe(),n=P9(),r=HE(),i=qE(),s=VE();function l(h,p,v){return d(h,p,void 0,void 0,void 0,void 0,v)}function d(h,p,v,S,A,T,_){const C=_(h,p,v,S,A,T);if(C!==void 0)return C;if(typeof h==typeof p)switch(typeof h){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return h===p;case"number":return h===p||Object.is(h,p);case"function":return h===p;case"object":return m(h,p,T,_)}return m(h,p,T,_)}function m(h,p,v,S){if(Object.is(h,p))return!0;let A=r.getTag(h),T=r.getTag(p);if(A===i.argumentsTag&&(A=i.objectTag),T===i.argumentsTag&&(T=i.objectTag),A!==T)return!1;switch(A){case i.stringTag:return h.toString()===p.toString();case i.numberTag:{const M=h.valueOf(),P=p.valueOf();return s.eq(M,P)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(h.valueOf(),p.valueOf());case i.regexpTag:return h.source===p.source&&h.flags===p.flags;case i.functionTag:return h===p}v=v??new Map;const _=v.get(h),C=v.get(p);if(_!=null&&C!=null)return _===p;v.set(h,p),v.set(p,h);try{switch(A){case i.mapTag:{if(h.size!==p.size)return!1;for(const[M,P]of h.entries())if(!p.has(M)||!d(P,p.get(M),M,h,p,v,S))return!1;return!0}case i.setTag:{if(h.size!==p.size)return!1;const M=Array.from(h.values()),P=Array.from(p.values());for(let R=0;R<M.length;R++){const U=M[R],B=P.findIndex(L=>d(U,L,void 0,h,p,v,S));if(B===-1)return!1;P.splice(B,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(h)!==Buffer.isBuffer(p)||h.length!==p.length)return!1;for(let M=0;M<h.length;M++)if(!d(h[M],p[M],M,h,p,v,S))return!1;return!0}case i.arrayBufferTag:return h.byteLength!==p.byteLength?!1:m(new Uint8Array(h),new Uint8Array(p),v,S);case i.dataViewTag:return h.byteLength!==p.byteLength||h.byteOffset!==p.byteOffset?!1:m(new Uint8Array(h),new Uint8Array(p),v,S);case i.errorTag:return h.name===p.name&&h.message===p.message;case i.objectTag:{if(!(m(h.constructor,p.constructor,v,S)||t.isPlainObject(h)&&t.isPlainObject(p)))return!1;const P=[...Object.keys(h),...n.getSymbols(h)],R=[...Object.keys(p),...n.getSymbols(p)];if(P.length!==R.length)return!1;for(let U=0;U<P.length;U++){const B=P[U],L=h[B];if(!Object.hasOwn(p,B))return!1;const F=p[B];if(!d(L,F,B,h,p,v,S))return!1}return!0}default:return!1}}finally{v.delete(h),v.delete(p)}}e.isEqualWith=l}(H2)),H2}var Y2={},bP;function ghe(){return bP||(bP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(Y2)),Y2}var wP;function phe(){return wP||(wP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mhe(),n=ghe();function r(i,s){return t.isEqualWith(i,s,n.noop)}e.isEqual=r}($2)),$2}var W2,jP;function xhe(){return jP||(jP=1,W2=phe().isEqual),W2}var vhe=xhe();const yhe=Ia(vhe);function bhe(e){var t={},n=()=>null,r=!1,i=null,s=l=>{if(!r){if(Array.isArray(l)){if(!l.length)return;var d=l,[m,...h]=d;if(typeof m=="number"){i=e.setTimeout(s.bind(null,h),m);return}s(m),i=e.setTimeout(s.bind(null,h));return}typeof l=="object"&&(t=l,n(t)),typeof l=="function"&&l()}};return{stop:()=>{r=!0},start:l=>{r=!1,i&&(i(),i=null),s(l)},subscribe:l=>(n=l,()=>{n=()=>null}),getTimeoutController:()=>e}}var dv=1e-4,AF=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],EF=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),SP=(e,t)=>n=>{var r=AF(e,t);return EF(r,n)},whe=(e,t)=>n=>{var r=AF(e,t),i=[...r.map((s,l)=>s*l).slice(1),0];return EF(i,n)},NP=function(){for(var t,n,r,i,s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];if(l.length===1)switch(l[0]){case"linear":[t,r,n,i]=[0,0,1,1];break;case"ease":[t,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,i]=[.42,0,1,1];break;case"ease-out":[t,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,i]=[0,0,.58,1];break;default:{var m=l[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,n,i]=m[1].split(")")[0].split(",").map(T=>parseFloat(T)))}}else l.length===4&&([t,r,n,i]=l);var h=SP(t,n),p=SP(r,i),v=whe(t,n),S=T=>T>1?1:T<0?0:T,A=T=>{for(var _=T>1?1:T,C=_,M=0;M<8;++M){var P=h(C)-_,R=v(C);if(Math.abs(P-_)<dv||R<dv)return p(C);C=S(C-P/R)}return p(C)};return A.isStepper=!1,A},jhe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,s=(l,d,m)=>{var h=-(l-d)*n,p=m*r,v=m+(h-p)*i/1e3,S=m*i/1e3+l;return Math.abs(S-d)<dv&&Math.abs(v)<dv?[d,0]:[S,v]};return s.isStepper=!0,s.dt=i,s},She=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NP(e);case"spring":return jhe();default:if(e.split("(")[0]==="cubic-bezier")return NP(e)}return typeof e=="function"?e:null};function AP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AP(Object(n),!0).forEach(function(r){Nhe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nhe(e,t,n){return(t=Ahe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ahe(e){var t=Ehe(e,"string");return typeof t=="symbol"?t:t+""}function Ehe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _he=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Che=(e,t,n)=>e.map(r=>"".concat(_he(r)," ").concat(t,"ms ").concat(n)).join(","),The=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),k0=(e,t)=>Object.keys(t).reduce((n,r)=>EP(EP({},n),{},{[r]:e(r,t[r])}),{});function _P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(n),!0).forEach(function(r){Ohe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_P(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ohe(e,t,n){return(t=Mhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mhe(e){var t=Dhe(e,"string");return typeof t=="symbol"?t:t+""}function Dhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fv=(e,t,n)=>e+(t-e)*n,jN=e=>{var{from:t,to:n}=e;return t!==n},_F=(e,t,n)=>{var r=k0((i,s)=>{if(jN(s)){var[l,d]=e(s.from,s.to,s.velocity);return Mi(Mi({},s),{},{from:l,velocity:d})}return s},t);return n<1?k0((i,s)=>jN(s)?Mi(Mi({},s),{},{velocity:fv(s.velocity,r[i].velocity,n),from:fv(s.from,r[i].from,n)}):s,t):_F(e,r,n-1)};function Rhe(e,t,n,r,i,s){var l,d=r.reduce((S,A)=>Mi(Mi({},S),{},{[A]:{from:e[A],velocity:0,to:t[A]}}),{}),m=()=>k0((S,A)=>A.from,d),h=()=>!Object.values(d).filter(jN).length,p=null,v=S=>{l||(l=S);var A=S-l,T=A/n.dt;d=_F(n,d,T),i(Mi(Mi(Mi({},e),t),m())),l=S,h()||(p=s.setTimeout(v))};return()=>(p=s.setTimeout(v),()=>{p()})}function Phe(e,t,n,r,i,s,l){var d=null,m=i.reduce((v,S)=>Mi(Mi({},v),{},{[S]:[e[S],t[S]]}),{}),h,p=v=>{h||(h=v);var S=(v-h)/r,A=k0((_,C)=>fv(...C,n(S)),m);if(s(Mi(Mi(Mi({},e),t),A)),S<1)d=l.setTimeout(p);else{var T=k0((_,C)=>fv(...C,n(1)),m);s(Mi(Mi(Mi({},e),t),T))}};return()=>(d=l.setTimeout(p),()=>{d()})}const Ihe=(e,t,n,r,i,s)=>{var l=The(e,t);return n.isStepper===!0?Rhe(e,t,n,l,i,s):Phe(e,t,n,r,l,i,s)};class khe{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=l=>{l-r>=n?t(l):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var Lhe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function SN(){return SN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},SN.apply(null,arguments)}function Bhe(e,t){if(e==null)return{};var n,r,i=Fhe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fhe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function CP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ic(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(n),!0).forEach(function(r){Ju(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ju(e,t,n){return(t=Uhe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uhe(e){var t=zhe(e,"string");return typeof t=="symbol"?t:t+""}function zhe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vhe(){return bhe(new khe)}class a_ extends N.PureComponent{constructor(t,n){super(t,n),Ju(this,"mounted",!1),Ju(this,"manager",null),Ju(this,"stopJSAnimation",null),Ju(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:l,children:d,duration:m,animationManager:h}=this.props;if(this.manager=h,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:l});return}if(s){if(typeof d=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:l,from:d}=this.props,{style:m}=this.state;if(r){if(!n){var h={style:i?{[i]:l}:l};this.state&&m&&(i&&m[i]!==l||!i&&m!==l)&&this.setState(h);return}if(!(yhe(t.to,l)&&t.canBegin&&t.isActive)){var p=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var v=p||s?d:t.to;if(this.state&&m){var S={style:i?{[i]:v}:v};(i&&m[i]!==v||!i&&m!==v)&&this.setState(S)}this.runAnimation(Ic(Ic({},this.props),{},{from:v,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:i,easing:s,begin:l,onAnimationEnd:d,onAnimationStart:m}=t,h=Ihe(n,r,She(s),i,this.changeStyle,this.manager.getTimeoutController()),p=()=>{this.stopJSAnimation=h()};this.manager.start([m,l,p,i,d])}runAnimation(t){var{begin:n,duration:r,attributeName:i,to:s,easing:l,onAnimationStart:d,onAnimationEnd:m,children:h}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof l=="function"||typeof h=="function"||l==="spring"){this.runJSAnimation(t);return}var p=i?{[i]:s}:s,v=Che(Object.keys(p),r,l);this.manager.start([d,n,Ic(Ic({},p),{},{transition:v}),r,m])}render(){var t=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:l,isActive:d,from:m,to:h,canBegin:p,onAnimationEnd:v,shouldReAnimate:S,onAnimationReStart:A,animationManager:T}=t,_=Bhe(t,Lhe),C=N.Children.count(n),M=this.state.style;if(typeof n=="function")return n(M);if(!d||C===0||i<=0)return n;var P=R=>{var{style:U={},className:B}=R.props,L=N.cloneElement(R,Ic(Ic({},_),{},{style:Ic(Ic({},U),M),className:B}));return L};return C===1?P(N.Children.only(n)):N.createElement("div",null,N.Children.map(n,R=>P(R)))}}Ju(a_,"displayName","Animate");Ju(a_,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var $he=N.createContext(null);function Vl(e){var t,n,r=N.useContext($he);return N.createElement(a_,SN({},e,{animationManager:(t=(n=e.animationManager)!==null&&n!==void 0?n:r)!==null&&t!==void 0?t:Vhe()}))}function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hv.apply(null,arguments)}var TP=(e,t,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),l=r>=0?1:-1,d=n>=0?1:-1,m=r>=0&&n>=0||r<0&&n<0?1:0,h;if(s>0&&i instanceof Array){for(var p=[0,0,0,0],v=0,S=4;v<S;v++)p[v]=i[v]>s?s:i[v];h="M".concat(e,",").concat(t+l*p[0]),p[0]>0&&(h+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(m,",").concat(e+d*p[0],",").concat(t)),h+="L ".concat(e+n-d*p[1],",").concat(t),p[1]>0&&(h+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(m,`,
        `).concat(e+n,",").concat(t+l*p[1])),h+="L ".concat(e+n,",").concat(t+r-l*p[2]),p[2]>0&&(h+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(m,`,
        `).concat(e+n-d*p[2],",").concat(t+r)),h+="L ".concat(e+d*p[3],",").concat(t+r),p[3]>0&&(h+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-l*p[3])),h+="Z"}else if(s>0&&i===+i&&i>0){var A=Math.min(s,i);h="M ".concat(e,",").concat(t+l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(m,",").concat(e+d*A,",").concat(t,`
            L `).concat(e+n-d*A,",").concat(t,`
            A `).concat(A,",").concat(A,",0,0,").concat(m,",").concat(e+n,",").concat(t+l*A,`
            L `).concat(e+n,",").concat(t+r-l*A,`
            A `).concat(A,",").concat(A,",0,0,").concat(m,",").concat(e+n-d*A,",").concat(t+r,`
            L `).concat(e+d*A,",").concat(t+r,`
            A `).concat(A,",").concat(A,",0,0,").concat(m,",").concat(e,",").concat(t+r-l*A," Z")}else h="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return h},Hhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},CF=e=>{var t=cs(e,Hhe),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var M=n.current.getTotalLength();M&&i(M)}catch{}},[]);var{x:s,y:l,width:d,height:m,radius:h,className:p}=t,{animationEasing:v,animationDuration:S,animationBegin:A,isAnimationActive:T,isUpdateAnimationActive:_}=t;if(s!==+s||l!==+l||d!==+d||m!==+m||d===0||m===0)return null;var C=tn("recharts-rectangle",p);return _?N.createElement(Vl,{canBegin:r>0,from:{width:d,height:m,x:s,y:l},to:{width:d,height:m,x:s,y:l},duration:S,animationEasing:v,isActive:_},M=>{var{width:P,height:R,x:U,y:B}=M;return N.createElement(Vl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,isActive:T,easing:v},N.createElement("path",hv({},zt(t,!0),{className:C,d:TP(U,B,P,R,h),ref:n})))}):N.createElement("path",hv({},zt(t,!0),{className:C,d:TP(s,l,d,m,h)}))};function TF(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:s}=e,l=Zr(t,n,r,i),d=Zr(t,n,r,s);return{points:[l,d],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function NN(){return NN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NN.apply(null,arguments)}var qhe=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},ux=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:s,isExternal:l,cornerRadius:d,cornerIsExternal:m}=e,h=d*(l?1:-1)+r,p=Math.asin(d/h)/cv,v=m?i:i+s*p,S=Zr(t,n,h,v),A=Zr(t,n,r,v),T=m?i-s*p:i,_=Zr(t,n,h*Math.cos(p*cv),T);return{center:S,circleTangency:A,lineTangency:_,theta:p}},OF=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:l}=e,d=qhe(s,l),m=s+d,h=Zr(t,n,i,s),p=Zr(t,n,i,m),v="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(s>m),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(r>0){var S=Zr(t,n,r,s),A=Zr(t,n,r,m);v+="L ".concat(A.x,",").concat(A.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(s<=m),`,
            `).concat(S.x,",").concat(S.y," Z")}else v+="L ".concat(t,",").concat(n," Z");return v},Yhe=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:l,cornerIsExternal:d,startAngle:m,endAngle:h}=e,p=wi(h-m),{circleTangency:v,lineTangency:S,theta:A}=ux({cx:t,cy:n,radius:i,angle:m,sign:p,cornerRadius:s,cornerIsExternal:d}),{circleTangency:T,lineTangency:_,theta:C}=ux({cx:t,cy:n,radius:i,angle:h,sign:-p,cornerRadius:s,cornerIsExternal:d}),M=d?Math.abs(m-h):Math.abs(m-h)-A-C;if(M<0)return l?"M ".concat(S.x,",").concat(S.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):OF({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:m,endAngle:h});var P="M ".concat(S.x,",").concat(S.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(p<0),",").concat(T.x,",").concat(T.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(_.x,",").concat(_.y,`
  `);if(r>0){var{circleTangency:R,lineTangency:U,theta:B}=ux({cx:t,cy:n,radius:r,angle:m,sign:p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),{circleTangency:L,lineTangency:F,theta:V}=ux({cx:t,cy:n,radius:r,angle:h,sign:-p,isExternal:!0,cornerRadius:s,cornerIsExternal:d}),z=d?Math.abs(m-h):Math.abs(m-h)-B-V;if(z<0&&s===0)return"".concat(P,"L").concat(t,",").concat(n,"Z");P+="L".concat(F.x,",").concat(F.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(z>180),",").concat(+(p>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(p<0),",").concat(U.x,",").concat(U.y,"Z")}else P+="L".concat(t,",").concat(n,"Z");return P},Whe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},MF=e=>{var t=cs(e,Whe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:l,forceCornerRadius:d,cornerIsExternal:m,startAngle:h,endAngle:p,className:v}=t;if(s<i||h===p)return null;var S=tn("recharts-sector",v),A=s-i,T=ca(l,A,0,!0),_;return T>0&&Math.abs(h-p)<360?_=Yhe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(T,A/2),forceCornerRadius:d,cornerIsExternal:m,startAngle:h,endAngle:p}):_=OF({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:h,endAngle:p}),N.createElement("path",NN({},zt(t,!0),{className:S,d:_}))};function Ghe(e,t,n){var r,i,s,l;if(e==="horizontal")r=t.x,s=r,i=n.top,l=n.top+n.height;else if(e==="vertical")i=t.y,l=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:m,innerRadius:h,outerRadius:p,angle:v}=t,S=Zr(d,m,h,v),A=Zr(d,m,p,v);r=S.x,i=S.y,s=A.x,l=A.y}else return TF(t);return[{x:r,y:i},{x:s,y:l}]}var G2={},K2={},X2={},OP;function Khe(){return OP||(OP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F9();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(X2)),X2}var MP;function Xhe(){return MP||(MP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Khe();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(K2)),K2}var DP;function Qhe(){return DP||(DP=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U9(),n=Xhe();function r(i,s,l){l&&typeof l!="number"&&t.isIterateeCall(i,s,l)&&(s=l=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),l=l===void 0?i<s?1:-1:n.toFinite(l);const d=Math.max(Math.ceil((s-i)/(l||1)),0),m=new Array(d);for(let h=0;h<d;h++)m[h]=i,i+=l;return m}e.range=r}(G2)),G2}var Q2,RP;function Zhe(){return RP||(RP=1,Q2=Qhe().range),Q2}var Jhe=Zhe();const DF=Ia(Jhe);function Yc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function eme(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s_(e){let t,n,r;e.length!==2?(t=Yc,n=(d,m)=>Yc(e(d),m),r=(d,m)=>e(d)-m):(t=e===Yc||e===eme?e:tme,n=e,r=e);function i(d,m,h=0,p=d.length){if(h<p){if(t(m,m)!==0)return p;do{const v=h+p>>>1;n(d[v],m)<0?h=v+1:p=v}while(h<p)}return h}function s(d,m,h=0,p=d.length){if(h<p){if(t(m,m)!==0)return p;do{const v=h+p>>>1;n(d[v],m)<=0?h=v+1:p=v}while(h<p)}return h}function l(d,m,h=0,p=d.length){const v=i(d,m,h,p-1);return v>h&&r(d[v-1],m)>-r(d[v],m)?v-1:v}return{left:i,center:l,right:s}}function tme(){return 0}function RF(e){return e===null?NaN:+e}function*nme(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const rme=s_(Yc),gg=rme.right;s_(RF).center;class PP extends Map{constructor(t,n=sme){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(IP(this,t))}has(t){return super.has(IP(this,t))}set(t,n){return super.set(ime(this,t),n)}delete(t){return super.delete(ame(this,t))}}function IP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ime({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ame({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function sme(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ome(e=Yc){if(e===Yc)return PF;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function PF(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const lme=Math.sqrt(50),cme=Math.sqrt(10),ume=Math.sqrt(2);function mv(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),l=s>=lme?10:s>=cme?5:s>=ume?2:1;let d,m,h;return i<0?(h=Math.pow(10,-i)/l,d=Math.round(e*h),m=Math.round(t*h),d/h<e&&++d,m/h>t&&--m,h=-h):(h=Math.pow(10,i)*l,d=Math.round(e/h),m=Math.round(t/h),d*h<e&&++d,m*h>t&&--m),m<d&&.5<=n&&n<2?mv(e,t,n*2):[d,m,h]}function AN(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,l]=r?mv(t,e,n):mv(e,t,n);if(!(s>=i))return[];const d=s-i+1,m=new Array(d);if(r)if(l<0)for(let h=0;h<d;++h)m[h]=(s-h)/-l;else for(let h=0;h<d;++h)m[h]=(s-h)*l;else if(l<0)for(let h=0;h<d;++h)m[h]=(i+h)/-l;else for(let h=0;h<d;++h)m[h]=(i+h)*l;return m}function EN(e,t,n){return t=+t,e=+e,n=+n,mv(e,t,n)[2]}function _N(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?EN(t,e,n):EN(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function kP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function LP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function IF(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?PF:ome(i);r>n;){if(r-n>600){const m=r-n+1,h=t-n+1,p=Math.log(m),v=.5*Math.exp(2*p/3),S=.5*Math.sqrt(p*v*(m-v)/m)*(h-m/2<0?-1:1),A=Math.max(n,Math.floor(t-h*v/m+S)),T=Math.min(r,Math.floor(t+(m-h)*v/m+S));IF(e,t,A,T,i)}const s=e[t];let l=n,d=r;for(Ym(e,n,t),i(e[r],s)>0&&Ym(e,n,r);l<d;){for(Ym(e,l,d),++l,--d;i(e[l],s)<0;)++l;for(;i(e[d],s)>0;)--d}i(e[n],s)===0?Ym(e,n,d):(++d,Ym(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function Ym(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function dme(e,t,n){if(e=Float64Array.from(nme(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return LP(e);if(t>=1)return kP(e);var r,i=(r-1)*t,s=Math.floor(i),l=kP(IF(e,s).subarray(0,s+1)),d=LP(e.subarray(s+1));return l+(d-l)*(i-s)}}function fme(e,t,n=RF){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),l=+n(e[s],s,e),d=+n(e[s+1],s+1,e);return l+(d-l)*(i-s)}}function hme(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Ls(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Xl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const CN=Symbol("implicit");function o_(){var e=new PP,t=[],n=[],r=CN;function i(s){let l=e.get(s);if(l===void 0){if(r!==CN)return r;e.set(s,l=t.push(s)-1)}return n[l%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new PP;for(const l of s)e.has(l)||e.set(l,t.push(l)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return o_(t,n).unknown(r)},Ls.apply(i,arguments),i}function l_(){var e=o_().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,l,d=!1,m=0,h=0,p=.5;delete e.unknown;function v(){var S=t().length,A=i<r,T=A?i:r,_=A?r:i;s=(_-T)/Math.max(1,S-m+h*2),d&&(s=Math.floor(s)),T+=(_-T-s*(S-m))*p,l=s*(1-m),d&&(T=Math.round(T),l=Math.round(l));var C=hme(S).map(function(M){return T+s*M});return n(A?C.reverse():C)}return e.domain=function(S){return arguments.length?(t(S),v()):t()},e.range=function(S){return arguments.length?([r,i]=S,r=+r,i=+i,v()):[r,i]},e.rangeRound=function(S){return[r,i]=S,r=+r,i=+i,d=!0,v()},e.bandwidth=function(){return l},e.step=function(){return s},e.round=function(S){return arguments.length?(d=!!S,v()):d},e.padding=function(S){return arguments.length?(m=Math.min(1,h=+S),v()):m},e.paddingInner=function(S){return arguments.length?(m=Math.min(1,S),v()):m},e.paddingOuter=function(S){return arguments.length?(h=+S,v()):h},e.align=function(S){return arguments.length?(p=Math.max(0,Math.min(1,S)),v()):p},e.copy=function(){return l_(t(),[r,i]).round(d).paddingInner(m).paddingOuter(h).align(p)},Ls.apply(v(),arguments)}function kF(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return kF(t())},e}function mme(){return kF(l_.apply(null,arguments).paddingInner(1))}function c_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function LF(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function pg(){}var L0=.7,gv=1/L0,rh="\\s*([+-]?\\d+)\\s*",B0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",zo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gme=/^#([0-9a-f]{3,8})$/,pme=new RegExp(`^rgb\\(${rh},${rh},${rh}\\)$`),xme=new RegExp(`^rgb\\(${zo},${zo},${zo}\\)$`),vme=new RegExp(`^rgba\\(${rh},${rh},${rh},${B0}\\)$`),yme=new RegExp(`^rgba\\(${zo},${zo},${zo},${B0}\\)$`),bme=new RegExp(`^hsl\\(${B0},${zo},${zo}\\)$`),wme=new RegExp(`^hsla\\(${B0},${zo},${zo},${B0}\\)$`),BP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c_(pg,F0,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:FP,formatHex:FP,formatHex8:jme,formatHsl:Sme,formatRgb:UP,toString:UP});function FP(){return this.rgb().formatHex()}function jme(){return this.rgb().formatHex8()}function Sme(){return BF(this).formatHsl()}function UP(){return this.rgb().formatRgb()}function F0(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gme.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?zP(t):n===3?new Ca(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?dx(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?dx(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pme.exec(e))?new Ca(t[1],t[2],t[3],1):(t=xme.exec(e))?new Ca(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vme.exec(e))?dx(t[1],t[2],t[3],t[4]):(t=yme.exec(e))?dx(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bme.exec(e))?HP(t[1],t[2]/100,t[3]/100,1):(t=wme.exec(e))?HP(t[1],t[2]/100,t[3]/100,t[4]):BP.hasOwnProperty(e)?zP(BP[e]):e==="transparent"?new Ca(NaN,NaN,NaN,0):null}function zP(e){return new Ca(e>>16&255,e>>8&255,e&255,1)}function dx(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ca(e,t,n,r)}function Nme(e){return e instanceof pg||(e=F0(e)),e?(e=e.rgb(),new Ca(e.r,e.g,e.b,e.opacity)):new Ca}function TN(e,t,n,r){return arguments.length===1?Nme(e):new Ca(e,t,n,r??1)}function Ca(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}c_(Ca,TN,LF(pg,{brighter(e){return e=e==null?gv:Math.pow(gv,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?L0:Math.pow(L0,e),new Ca(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ca(cd(this.r),cd(this.g),cd(this.b),pv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VP,formatHex:VP,formatHex8:Ame,formatRgb:$P,toString:$P}));function VP(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}`}function Ame(){return`#${ed(this.r)}${ed(this.g)}${ed(this.b)}${ed((isNaN(this.opacity)?1:this.opacity)*255)}`}function $P(){const e=pv(this.opacity);return`${e===1?"rgb(":"rgba("}${cd(this.r)}, ${cd(this.g)}, ${cd(this.b)}${e===1?")":`, ${e})`}`}function pv(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function cd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ed(e){return e=cd(e),(e<16?"0":"")+e.toString(16)}function HP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new no(e,t,n,r)}function BF(e){if(e instanceof no)return new no(e.h,e.s,e.l,e.opacity);if(e instanceof pg||(e=F0(e)),!e)return new no;if(e instanceof no)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),l=NaN,d=s-i,m=(s+i)/2;return d?(t===s?l=(n-r)/d+(n<r)*6:n===s?l=(r-t)/d+2:l=(t-n)/d+4,d/=m<.5?s+i:2-s-i,l*=60):d=m>0&&m<1?0:l,new no(l,d,m,e.opacity)}function Eme(e,t,n,r){return arguments.length===1?BF(e):new no(e,t,n,r??1)}function no(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}c_(no,Eme,LF(pg,{brighter(e){return e=e==null?gv:Math.pow(gv,e),new no(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?L0:Math.pow(L0,e),new no(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ca(Z2(e>=240?e-240:e+120,i,r),Z2(e,i,r),Z2(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new no(qP(this.h),fx(this.s),fx(this.l),pv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=pv(this.opacity);return`${e===1?"hsl(":"hsla("}${qP(this.h)}, ${fx(this.s)*100}%, ${fx(this.l)*100}%${e===1?")":`, ${e})`}`}}));function qP(e){return e=(e||0)%360,e<0?e+360:e}function fx(e){return Math.max(0,Math.min(1,e||0))}function Z2(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const u_=e=>()=>e;function _me(e,t){return function(n){return e+n*t}}function Cme(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Tme(e){return(e=+e)==1?FF:function(t,n){return n-t?Cme(t,n,e):u_(isNaN(t)?n:t)}}function FF(e,t){var n=t-e;return n?_me(e,n):u_(isNaN(e)?t:e)}const YP=function e(t){var n=Tme(t);function r(i,s){var l=n((i=TN(i)).r,(s=TN(s)).r),d=n(i.g,s.g),m=n(i.b,s.b),h=FF(i.opacity,s.opacity);return function(p){return i.r=l(p),i.g=d(p),i.b=m(p),i.opacity=h(p),i+""}}return r.gamma=e,r}(1);function Ome(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Mme(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dme(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),l;for(l=0;l<r;++l)i[l]=Ih(e[l],t[l]);for(;l<n;++l)s[l]=t[l];return function(d){for(l=0;l<r;++l)s[l]=i[l](d);return s}}function Rme(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function xv(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pme(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ih(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var ON=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J2=new RegExp(ON.source,"g");function Ime(e){return function(){return e}}function kme(e){return function(t){return e(t)+""}}function Lme(e,t){var n=ON.lastIndex=J2.lastIndex=0,r,i,s,l=-1,d=[],m=[];for(e=e+"",t=t+"";(r=ON.exec(e))&&(i=J2.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),d[l]?d[l]+=s:d[++l]=s),(r=r[0])===(i=i[0])?d[l]?d[l]+=i:d[++l]=i:(d[++l]=null,m.push({i:l,x:xv(r,i)})),n=J2.lastIndex;return n<t.length&&(s=t.slice(n),d[l]?d[l]+=s:d[++l]=s),d.length<2?m[0]?kme(m[0].x):Ime(t):(t=m.length,function(h){for(var p=0,v;p<t;++p)d[(v=m[p]).i]=v.x(h);return d.join("")})}function Ih(e,t){var n=typeof t,r;return t==null||n==="boolean"?u_(t):(n==="number"?xv:n==="string"?(r=F0(t))?(t=r,YP):Lme:t instanceof F0?YP:t instanceof Date?Rme:Mme(t)?Ome:Array.isArray(t)?Dme:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pme:xv)(e,t)}function d_(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function Bme(e,t){t===void 0&&(t=e,e=Ih);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(l){var d=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return s[d](l-d)}}function Fme(e){return function(){return e}}function vv(e){return+e}var WP=[0,1];function oa(e){return e}function MN(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Fme(isNaN(t)?NaN:.5)}function Ume(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function zme(e,t,n){var r=e[0],i=e[1],s=t[0],l=t[1];return i<r?(r=MN(i,r),s=n(l,s)):(r=MN(r,i),s=n(s,l)),function(d){return s(r(d))}}function Vme(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)i[l]=MN(e[l],e[l+1]),s[l]=n(t[l],t[l+1]);return function(d){var m=gg(e,d,1,r)-1;return s[m](i[m](d))}}function xg(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function O1(){var e=WP,t=WP,n=Ih,r,i,s,l=oa,d,m,h;function p(){var S=Math.min(e.length,t.length);return l!==oa&&(l=Ume(e[0],e[S-1])),d=S>2?Vme:zme,m=h=null,v}function v(S){return S==null||isNaN(S=+S)?s:(m||(m=d(e.map(r),t,n)))(r(l(S)))}return v.invert=function(S){return l(i((h||(h=d(t,e.map(r),xv)))(S)))},v.domain=function(S){return arguments.length?(e=Array.from(S,vv),p()):e.slice()},v.range=function(S){return arguments.length?(t=Array.from(S),p()):t.slice()},v.rangeRound=function(S){return t=Array.from(S),n=d_,p()},v.clamp=function(S){return arguments.length?(l=S?!0:oa,p()):l!==oa},v.interpolate=function(S){return arguments.length?(n=S,p()):n},v.unknown=function(S){return arguments.length?(s=S,v):s},function(S,A){return r=S,i=A,p()}}function f_(){return O1()(oa,oa)}function $me(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function yv(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function mh(e){return e=yv(Math.abs(e)),e?e[1]:NaN}function Hme(e,t){return function(n,r){for(var i=n.length,s=[],l=0,d=e[0],m=0;i>0&&d>0&&(m+d+1>r&&(d=Math.max(1,r-m)),s.push(n.substring(i-=d,i+d)),!((m+=d+1)>r));)d=e[l=(l+1)%e.length];return s.reverse().join(t)}}function qme(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Yme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function U0(e){if(!(t=Yme.exec(e)))throw new Error("invalid format: "+e);var t;return new h_({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}U0.prototype=h_.prototype;function h_(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}h_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wme(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var UF;function Gme(e,t){var n=yv(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(UF=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,l=r.length;return s===l?r:s>l?r+new Array(s-l+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+yv(e,Math.max(0,t+s-1))[0]}function GP(e,t){var n=yv(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const KP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:$me,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>GP(e*100,t),r:GP,s:Gme,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function XP(e){return e}var QP=Array.prototype.map,ZP=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Kme(e){var t=e.grouping===void 0||e.thousands===void 0?XP:Hme(QP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?XP:qme(QP.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function h(v){v=U0(v);var S=v.fill,A=v.align,T=v.sign,_=v.symbol,C=v.zero,M=v.width,P=v.comma,R=v.precision,U=v.trim,B=v.type;B==="n"?(P=!0,B="g"):KP[B]||(R===void 0&&(R=12),U=!0,B="g"),(C||S==="0"&&A==="=")&&(C=!0,S="0",A="=");var L=_==="$"?n:_==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",F=_==="$"?r:/[%p]/.test(B)?l:"",V=KP[B],z=/[defgprs%]/.test(B);R=R===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function H(W){var q=L,Q=F,te,J,Y;if(B==="c")Q=V(W)+Q,W="";else{W=+W;var ne=W<0||1/W<0;if(W=isNaN(W)?m:V(Math.abs(W),R),U&&(W=Wme(W)),ne&&+W==0&&T!=="+"&&(ne=!1),q=(ne?T==="("?T:d:T==="-"||T==="("?"":T)+q,Q=(B==="s"?ZP[8+UF/3]:"")+Q+(ne&&T==="("?")":""),z){for(te=-1,J=W.length;++te<J;)if(Y=W.charCodeAt(te),48>Y||Y>57){Q=(Y===46?i+W.slice(te+1):W.slice(te))+Q,W=W.slice(0,te);break}}}P&&!C&&(W=t(W,1/0));var se=q.length+W.length+Q.length,me=se<M?new Array(M-se+1).join(S):"";switch(P&&C&&(W=t(me+W,me.length?M-Q.length:1/0),me=""),A){case"<":W=q+W+Q+me;break;case"=":W=q+me+W+Q;break;case"^":W=me.slice(0,se=me.length>>1)+q+W+Q+me.slice(se);break;default:W=me+q+W+Q;break}return s(W)}return H.toString=function(){return v+""},H}function p(v,S){var A=h((v=U0(v),v.type="f",v)),T=Math.max(-8,Math.min(8,Math.floor(mh(S)/3)))*3,_=Math.pow(10,-T),C=ZP[8+T/3];return function(M){return A(_*M)+C}}return{format:h,formatPrefix:p}}var hx,m_,zF;Xme({thousands:",",grouping:[3],currency:["$",""]});function Xme(e){return hx=Kme(e),m_=hx.format,zF=hx.formatPrefix,hx}function Qme(e){return Math.max(0,-mh(Math.abs(e)))}function Zme(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(mh(t)/3)))*3-mh(Math.abs(e)))}function Jme(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,mh(t)-mh(e))+1}function VF(e,t,n,r){var i=_N(e,t,n),s;switch(r=U0(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=Zme(i,l))&&(r.precision=s),zF(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Jme(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=Qme(i))&&(r.precision=s-(r.type==="%")*2);break}}return m_(r)}function uu(e){var t=e.domain;return e.ticks=function(n){var r=t();return AN(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return VF(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,l=r[i],d=r[s],m,h,p=10;for(d<l&&(h=l,l=d,d=h,h=i,i=s,s=h);p-- >0;){if(h=EN(l,d,n),h===m)return r[i]=l,r[s]=d,t(r);if(h>0)l=Math.floor(l/h)*h,d=Math.ceil(d/h)*h;else if(h<0)l=Math.ceil(l*h)/h,d=Math.floor(d*h)/h;else break;m=h}return e},e}function $F(){var e=f_();return e.copy=function(){return xg(e,$F())},Ls.apply(e,arguments),uu(e)}function HF(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,vv),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return HF(e).unknown(t)},e=arguments.length?Array.from(e,vv):[0,1],uu(n)}function qF(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],l;return s<i&&(l=n,n=r,r=l,l=i,i=s,s=l),e[n]=t.floor(i),e[r]=t.ceil(s),e}function JP(e){return Math.log(e)}function eI(e){return Math.exp(e)}function e0e(e){return-Math.log(-e)}function t0e(e){return-Math.exp(-e)}function n0e(e){return isFinite(e)?+("1e"+e):e<0?0:e}function r0e(e){return e===10?n0e:e===Math.E?Math.exp:t=>Math.pow(e,t)}function i0e(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tI(e){return(t,n)=>-e(-t,n)}function g_(e){const t=e(JP,eI),n=t.domain;let r=10,i,s;function l(){return i=i0e(r),s=r0e(r),n()[0]<0?(i=tI(i),s=tI(s),e(e0e,t0e)):e(JP,eI),t}return t.base=function(d){return arguments.length?(r=+d,l()):r},t.domain=function(d){return arguments.length?(n(d),l()):n()},t.ticks=d=>{const m=n();let h=m[0],p=m[m.length-1];const v=p<h;v&&([h,p]=[p,h]);let S=i(h),A=i(p),T,_;const C=d==null?10:+d;let M=[];if(!(r%1)&&A-S<C){if(S=Math.floor(S),A=Math.ceil(A),h>0){for(;S<=A;++S)for(T=1;T<r;++T)if(_=S<0?T/s(-S):T*s(S),!(_<h)){if(_>p)break;M.push(_)}}else for(;S<=A;++S)for(T=r-1;T>=1;--T)if(_=S>0?T/s(-S):T*s(S),!(_<h)){if(_>p)break;M.push(_)}M.length*2<C&&(M=AN(h,p,C))}else M=AN(S,A,Math.min(A-S,C)).map(s);return v?M.reverse():M},t.tickFormat=(d,m)=>{if(d==null&&(d=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=U0(m)).precision==null&&(m.trim=!0),m=m_(m)),d===1/0)return m;const h=Math.max(1,r*d/t.ticks().length);return p=>{let v=p/s(Math.round(i(p)));return v*r<r-.5&&(v*=r),v<=h?m(p):""}},t.nice=()=>n(qF(n(),{floor:d=>s(Math.floor(i(d))),ceil:d=>s(Math.ceil(i(d)))})),t}function YF(){const e=g_(O1()).domain([1,10]);return e.copy=()=>xg(e,YF()).base(e.base()),Ls.apply(e,arguments),e}function nI(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function rI(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function p_(e){var t=1,n=e(nI(t),rI(t));return n.constant=function(r){return arguments.length?e(nI(t=+r),rI(t)):t},uu(n)}function WF(){var e=p_(O1());return e.copy=function(){return xg(e,WF()).constant(e.constant())},Ls.apply(e,arguments)}function iI(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function a0e(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function s0e(e){return e<0?-e*e:e*e}function x_(e){var t=e(oa,oa),n=1;function r(){return n===1?e(oa,oa):n===.5?e(a0e,s0e):e(iI(n),iI(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},uu(t)}function v_(){var e=x_(O1());return e.copy=function(){return xg(e,v_()).exponent(e.exponent())},Ls.apply(e,arguments),e}function o0e(){return v_.apply(null,arguments).exponent(.5)}function aI(e){return Math.sign(e)*e*e}function l0e(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GF(){var e=f_(),t=[0,1],n=!1,r;function i(s){var l=l0e(e(s));return isNaN(l)?r:n?Math.round(l):l}return i.invert=function(s){return e.invert(aI(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,vv)).map(aI)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return GF(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ls.apply(i,arguments),uu(i)}function KF(){var e=[],t=[],n=[],r;function i(){var l=0,d=Math.max(1,t.length);for(n=new Array(d-1);++l<d;)n[l-1]=fme(e,l/d);return s}function s(l){return l==null||isNaN(l=+l)?r:t[gg(n,l)]}return s.invertExtent=function(l){var d=t.indexOf(l);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},s.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let d of l)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Yc),i()},s.range=function(l){return arguments.length?(t=Array.from(l),i()):t.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return KF().domain(e).range(t).unknown(r)},Ls.apply(s,arguments)}function XF(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function l(m){return m!=null&&m<=m?i[gg(r,m,0,n)]:s}function d(){var m=-1;for(r=new Array(n);++m<n;)r[m]=((m+1)*t-(m-n)*e)/(n+1);return l}return l.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,d()):[e,t]},l.range=function(m){return arguments.length?(n=(i=Array.from(m)).length-1,d()):i.slice()},l.invertExtent=function(m){var h=i.indexOf(m);return h<0?[NaN,NaN]:h<1?[e,r[0]]:h>=n?[r[n-1],t]:[r[h-1],r[h]]},l.unknown=function(m){return arguments.length&&(s=m),l},l.thresholds=function(){return r.slice()},l.copy=function(){return XF().domain([e,t]).range(i).unknown(s)},Ls.apply(uu(l),arguments)}function QF(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[gg(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var l=t.indexOf(s);return[e[l-1],e[l]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return QF().domain(e).range(t).unknown(n)},Ls.apply(i,arguments)}const ej=new Date,tj=new Date;function di(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const l=i(s),d=i.ceil(s);return s-l<d-s?l:d},i.offset=(s,l)=>(t(s=new Date(+s),l==null?1:Math.floor(l)),s),i.range=(s,l,d)=>{const m=[];if(s=i.ceil(s),d=d==null?1:Math.floor(d),!(s<l)||!(d>0))return m;let h;do m.push(h=new Date(+s)),t(s,d),e(s);while(h<s&&s<l);return m},i.filter=s=>di(l=>{if(l>=l)for(;e(l),!s(l);)l.setTime(l-1)},(l,d)=>{if(l>=l)if(d<0)for(;++d<=0;)for(;t(l,-1),!s(l););else for(;--d>=0;)for(;t(l,1),!s(l););}),n&&(i.count=(s,l)=>(ej.setTime(+s),tj.setTime(+l),e(ej),e(tj),Math.floor(n(ej,tj))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?l=>r(l)%s===0:l=>i.count(0,l)%s===0):i)),i}const bv=di(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);bv.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?di(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):bv);bv.range;const _l=1e3,Es=_l*60,Cl=Es*60,$l=Cl*24,y_=$l*7,sI=$l*30,nj=$l*365,td=di(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*_l)},(e,t)=>(t-e)/_l,e=>e.getUTCSeconds());td.range;const b_=di(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_l)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getMinutes());b_.range;const w_=di(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Es)},(e,t)=>(t-e)/Es,e=>e.getUTCMinutes());w_.range;const j_=di(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*_l-e.getMinutes()*Es)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getHours());j_.range;const S_=di(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Cl)},(e,t)=>(t-e)/Cl,e=>e.getUTCHours());S_.range;const vg=di(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Es)/$l,e=>e.getDate()-1);vg.range;const M1=di(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>e.getUTCDate()-1);M1.range;const ZF=di(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>Math.floor(e/$l));ZF.range;function Td(e){return di(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Es)/y_)}const D1=Td(0),wv=Td(1),c0e=Td(2),u0e=Td(3),gh=Td(4),d0e=Td(5),f0e=Td(6);D1.range;wv.range;c0e.range;u0e.range;gh.range;d0e.range;f0e.range;function Od(e){return di(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/y_)}const R1=Od(0),jv=Od(1),h0e=Od(2),m0e=Od(3),ph=Od(4),g0e=Od(5),p0e=Od(6);R1.range;jv.range;h0e.range;m0e.range;ph.range;g0e.range;p0e.range;const N_=di(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());N_.range;const A_=di(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());A_.range;const Hl=di(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:di(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Hl.range;const ql=di(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ql.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:di(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ql.range;function JF(e,t,n,r,i,s){const l=[[td,1,_l],[td,5,5*_l],[td,15,15*_l],[td,30,30*_l],[s,1,Es],[s,5,5*Es],[s,15,15*Es],[s,30,30*Es],[i,1,Cl],[i,3,3*Cl],[i,6,6*Cl],[i,12,12*Cl],[r,1,$l],[r,2,2*$l],[n,1,y_],[t,1,sI],[t,3,3*sI],[e,1,nj]];function d(h,p,v){const S=p<h;S&&([h,p]=[p,h]);const A=v&&typeof v.range=="function"?v:m(h,p,v),T=A?A.range(h,+p+1):[];return S?T.reverse():T}function m(h,p,v){const S=Math.abs(p-h)/v,A=s_(([,,C])=>C).right(l,S);if(A===l.length)return e.every(_N(h/nj,p/nj,v));if(A===0)return bv.every(Math.max(_N(h,p,v),1));const[T,_]=l[S/l[A-1][2]<l[A][2]/S?A-1:A];return T.every(_)}return[d,m]}const[x0e,v0e]=JF(ql,A_,R1,ZF,S_,w_),[y0e,b0e]=JF(Hl,N_,D1,vg,j_,b_);function rj(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function ij(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Wm(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function w0e(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,l=e.shortDays,d=e.months,m=e.shortMonths,h=Gm(i),p=Km(i),v=Gm(s),S=Km(s),A=Gm(l),T=Km(l),_=Gm(d),C=Km(d),M=Gm(m),P=Km(m),R={a:ne,A:se,b:me,B:re,c:null,d:fI,e:fI,f:H0e,g:ege,G:nge,H:z0e,I:V0e,j:$0e,L:eU,m:q0e,M:Y0e,p:de,q:oe,Q:gI,s:pI,S:W0e,u:G0e,U:K0e,V:X0e,w:Q0e,W:Z0e,x:null,X:null,y:J0e,Y:tge,Z:rge,"%":mI},U={a:he,A:Re,b:Le,B:le,c:null,d:hI,e:hI,f:oge,g:xge,G:yge,H:ige,I:age,j:sge,L:nU,m:lge,M:cge,p:pe,q:je,Q:gI,s:pI,S:uge,u:dge,U:fge,V:hge,w:mge,W:gge,x:null,X:null,y:pge,Y:vge,Z:bge,"%":mI},B={a:H,A:W,b:q,B:Q,c:te,d:uI,e:uI,f:L0e,g:cI,G:lI,H:dI,I:dI,j:R0e,L:k0e,m:D0e,M:P0e,p:z,q:M0e,Q:F0e,s:U0e,S:I0e,u:E0e,U:_0e,V:C0e,w:A0e,W:T0e,x:J,X:Y,y:cI,Y:lI,Z:O0e,"%":B0e};R.x=L(n,R),R.X=L(r,R),R.c=L(t,R),U.x=L(n,U),U.X=L(r,U),U.c=L(t,U);function L(xe,Fe){return function(Ce){var we=[],We=-1,Ue=0,Ze=xe.length,yt,Ke,xt;for(Ce instanceof Date||(Ce=new Date(+Ce));++We<Ze;)xe.charCodeAt(We)===37&&(we.push(xe.slice(Ue,We)),(Ke=oI[yt=xe.charAt(++We)])!=null?yt=xe.charAt(++We):Ke=yt==="e"?" ":"0",(xt=Fe[yt])&&(yt=xt(Ce,Ke)),we.push(yt),Ue=We+1);return we.push(xe.slice(Ue,We)),we.join("")}}function F(xe,Fe){return function(Ce){var we=Wm(1900,void 0,1),We=V(we,xe,Ce+="",0),Ue,Ze;if(We!=Ce.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(we.s*1e3+("L"in we?we.L:0));if(Fe&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+we.p*12),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Ue=ij(Wm(we.y,0,1)),Ze=Ue.getUTCDay(),Ue=Ze>4||Ze===0?jv.ceil(Ue):jv(Ue),Ue=M1.offset(Ue,(we.V-1)*7),we.y=Ue.getUTCFullYear(),we.m=Ue.getUTCMonth(),we.d=Ue.getUTCDate()+(we.w+6)%7):(Ue=rj(Wm(we.y,0,1)),Ze=Ue.getDay(),Ue=Ze>4||Ze===0?wv.ceil(Ue):wv(Ue),Ue=vg.offset(Ue,(we.V-1)*7),we.y=Ue.getFullYear(),we.m=Ue.getMonth(),we.d=Ue.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Ze="Z"in we?ij(Wm(we.y,0,1)).getUTCDay():rj(Wm(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+we.W*7-(Ze+5)%7:we.w+we.U*7-(Ze+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,ij(we)):rj(we)}}function V(xe,Fe,Ce,we){for(var We=0,Ue=Fe.length,Ze=Ce.length,yt,Ke;We<Ue;){if(we>=Ze)return-1;if(yt=Fe.charCodeAt(We++),yt===37){if(yt=Fe.charAt(We++),Ke=B[yt in oI?Fe.charAt(We++):yt],!Ke||(we=Ke(xe,Ce,we))<0)return-1}else if(yt!=Ce.charCodeAt(we++))return-1}return we}function z(xe,Fe,Ce){var we=h.exec(Fe.slice(Ce));return we?(xe.p=p.get(we[0].toLowerCase()),Ce+we[0].length):-1}function H(xe,Fe,Ce){var we=A.exec(Fe.slice(Ce));return we?(xe.w=T.get(we[0].toLowerCase()),Ce+we[0].length):-1}function W(xe,Fe,Ce){var we=v.exec(Fe.slice(Ce));return we?(xe.w=S.get(we[0].toLowerCase()),Ce+we[0].length):-1}function q(xe,Fe,Ce){var we=M.exec(Fe.slice(Ce));return we?(xe.m=P.get(we[0].toLowerCase()),Ce+we[0].length):-1}function Q(xe,Fe,Ce){var we=_.exec(Fe.slice(Ce));return we?(xe.m=C.get(we[0].toLowerCase()),Ce+we[0].length):-1}function te(xe,Fe,Ce){return V(xe,t,Fe,Ce)}function J(xe,Fe,Ce){return V(xe,n,Fe,Ce)}function Y(xe,Fe,Ce){return V(xe,r,Fe,Ce)}function ne(xe){return l[xe.getDay()]}function se(xe){return s[xe.getDay()]}function me(xe){return m[xe.getMonth()]}function re(xe){return d[xe.getMonth()]}function de(xe){return i[+(xe.getHours()>=12)]}function oe(xe){return 1+~~(xe.getMonth()/3)}function he(xe){return l[xe.getUTCDay()]}function Re(xe){return s[xe.getUTCDay()]}function Le(xe){return m[xe.getUTCMonth()]}function le(xe){return d[xe.getUTCMonth()]}function pe(xe){return i[+(xe.getUTCHours()>=12)]}function je(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Fe=L(xe+="",R);return Fe.toString=function(){return xe},Fe},parse:function(xe){var Fe=F(xe+="",!1);return Fe.toString=function(){return xe},Fe},utcFormat:function(xe){var Fe=L(xe+="",U);return Fe.toString=function(){return xe},Fe},utcParse:function(xe){var Fe=F(xe+="",!0);return Fe.toString=function(){return xe},Fe}}}var oI={"-":"",_:" ",0:"0"},ji=/^\s*\d+/,j0e=/^%/,S0e=/[\\^$*+?|[\]().{}]/g;function xn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function N0e(e){return e.replace(S0e,"\\$&")}function Gm(e){return new RegExp("^(?:"+e.map(N0e).join("|")+")","i")}function Km(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function A0e(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function E0e(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function _0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function C0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function T0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function lI(e,t,n){var r=ji.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function cI(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function O0e(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function M0e(e,t,n){var r=ji.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function D0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function uI(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function R0e(e,t,n){var r=ji.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function dI(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function P0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function I0e(e,t,n){var r=ji.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function k0e(e,t,n){var r=ji.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function L0e(e,t,n){var r=ji.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function B0e(e,t,n){var r=j0e.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function F0e(e,t,n){var r=ji.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function U0e(e,t,n){var r=ji.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function fI(e,t){return xn(e.getDate(),t,2)}function z0e(e,t){return xn(e.getHours(),t,2)}function V0e(e,t){return xn(e.getHours()%12||12,t,2)}function $0e(e,t){return xn(1+vg.count(Hl(e),e),t,3)}function eU(e,t){return xn(e.getMilliseconds(),t,3)}function H0e(e,t){return eU(e,t)+"000"}function q0e(e,t){return xn(e.getMonth()+1,t,2)}function Y0e(e,t){return xn(e.getMinutes(),t,2)}function W0e(e,t){return xn(e.getSeconds(),t,2)}function G0e(e){var t=e.getDay();return t===0?7:t}function K0e(e,t){return xn(D1.count(Hl(e)-1,e),t,2)}function tU(e){var t=e.getDay();return t>=4||t===0?gh(e):gh.ceil(e)}function X0e(e,t){return e=tU(e),xn(gh.count(Hl(e),e)+(Hl(e).getDay()===4),t,2)}function Q0e(e){return e.getDay()}function Z0e(e,t){return xn(wv.count(Hl(e)-1,e),t,2)}function J0e(e,t){return xn(e.getFullYear()%100,t,2)}function ege(e,t){return e=tU(e),xn(e.getFullYear()%100,t,2)}function tge(e,t){return xn(e.getFullYear()%1e4,t,4)}function nge(e,t){var n=e.getDay();return e=n>=4||n===0?gh(e):gh.ceil(e),xn(e.getFullYear()%1e4,t,4)}function rge(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xn(t/60|0,"0",2)+xn(t%60,"0",2)}function hI(e,t){return xn(e.getUTCDate(),t,2)}function ige(e,t){return xn(e.getUTCHours(),t,2)}function age(e,t){return xn(e.getUTCHours()%12||12,t,2)}function sge(e,t){return xn(1+M1.count(ql(e),e),t,3)}function nU(e,t){return xn(e.getUTCMilliseconds(),t,3)}function oge(e,t){return nU(e,t)+"000"}function lge(e,t){return xn(e.getUTCMonth()+1,t,2)}function cge(e,t){return xn(e.getUTCMinutes(),t,2)}function uge(e,t){return xn(e.getUTCSeconds(),t,2)}function dge(e){var t=e.getUTCDay();return t===0?7:t}function fge(e,t){return xn(R1.count(ql(e)-1,e),t,2)}function rU(e){var t=e.getUTCDay();return t>=4||t===0?ph(e):ph.ceil(e)}function hge(e,t){return e=rU(e),xn(ph.count(ql(e),e)+(ql(e).getUTCDay()===4),t,2)}function mge(e){return e.getUTCDay()}function gge(e,t){return xn(jv.count(ql(e)-1,e),t,2)}function pge(e,t){return xn(e.getUTCFullYear()%100,t,2)}function xge(e,t){return e=rU(e),xn(e.getUTCFullYear()%100,t,2)}function vge(e,t){return xn(e.getUTCFullYear()%1e4,t,4)}function yge(e,t){var n=e.getUTCDay();return e=n>=4||n===0?ph(e):ph.ceil(e),xn(e.getUTCFullYear()%1e4,t,4)}function bge(){return"+0000"}function mI(){return"%"}function gI(e){return+e}function pI(e){return Math.floor(+e/1e3)}var Lf,iU,aU;wge({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wge(e){return Lf=w0e(e),iU=Lf.format,Lf.parse,aU=Lf.utcFormat,Lf.utcParse,Lf}function jge(e){return new Date(e)}function Sge(e){return e instanceof Date?+e:+new Date(+e)}function E_(e,t,n,r,i,s,l,d,m,h){var p=f_(),v=p.invert,S=p.domain,A=h(".%L"),T=h(":%S"),_=h("%I:%M"),C=h("%I %p"),M=h("%a %d"),P=h("%b %d"),R=h("%B"),U=h("%Y");function B(L){return(m(L)<L?A:d(L)<L?T:l(L)<L?_:s(L)<L?C:r(L)<L?i(L)<L?M:P:n(L)<L?R:U)(L)}return p.invert=function(L){return new Date(v(L))},p.domain=function(L){return arguments.length?S(Array.from(L,Sge)):S().map(jge)},p.ticks=function(L){var F=S();return e(F[0],F[F.length-1],L??10)},p.tickFormat=function(L,F){return F==null?B:h(F)},p.nice=function(L){var F=S();return(!L||typeof L.range!="function")&&(L=t(F[0],F[F.length-1],L??10)),L?S(qF(F,L)):p},p.copy=function(){return xg(p,E_(e,t,n,r,i,s,l,d,m,h))},p}function Nge(){return Ls.apply(E_(y0e,b0e,Hl,N_,D1,vg,j_,b_,td,iU).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Age(){return Ls.apply(E_(x0e,v0e,ql,A_,R1,M1,S_,w_,td,aU).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function P1(){var e=0,t=1,n,r,i,s,l=oa,d=!1,m;function h(v){return v==null||isNaN(v=+v)?m:l(i===0?.5:(v=(s(v)-n)*i,d?Math.max(0,Math.min(1,v)):v))}h.domain=function(v){return arguments.length?([e,t]=v,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),h):[e,t]},h.clamp=function(v){return arguments.length?(d=!!v,h):d},h.interpolator=function(v){return arguments.length?(l=v,h):l};function p(v){return function(S){var A,T;return arguments.length?([A,T]=S,l=v(A,T),h):[l(0),l(1)]}}return h.range=p(Ih),h.rangeRound=p(d_),h.unknown=function(v){return arguments.length?(m=v,h):m},function(v){return s=v,n=v(e),r=v(t),i=n===r?0:1/(r-n),h}}function du(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sU(){var e=uu(P1()(oa));return e.copy=function(){return du(e,sU())},Xl.apply(e,arguments)}function oU(){var e=g_(P1()).domain([1,10]);return e.copy=function(){return du(e,oU()).base(e.base())},Xl.apply(e,arguments)}function lU(){var e=p_(P1());return e.copy=function(){return du(e,lU()).constant(e.constant())},Xl.apply(e,arguments)}function __(){var e=x_(P1());return e.copy=function(){return du(e,__()).exponent(e.exponent())},Xl.apply(e,arguments)}function Ege(){return __.apply(null,arguments).exponent(.5)}function cU(){var e=[],t=oa;function n(r){if(r!=null&&!isNaN(r=+r))return t((gg(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Yc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>dme(e,s/r))},n.copy=function(){return cU(t).domain(e)},Xl.apply(n,arguments)}function I1(){var e=0,t=.5,n=1,r=1,i,s,l,d,m,h=oa,p,v=!1,S;function A(_){return isNaN(_=+_)?S:(_=.5+((_=+p(_))-s)*(r*_<r*s?d:m),h(v?Math.max(0,Math.min(1,_)):_))}A.domain=function(_){return arguments.length?([e,t,n]=_,i=p(e=+e),s=p(t=+t),l=p(n=+n),d=i===s?0:.5/(s-i),m=s===l?0:.5/(l-s),r=s<i?-1:1,A):[e,t,n]},A.clamp=function(_){return arguments.length?(v=!!_,A):v},A.interpolator=function(_){return arguments.length?(h=_,A):h};function T(_){return function(C){var M,P,R;return arguments.length?([M,P,R]=C,h=Bme(_,[M,P,R]),A):[h(0),h(.5),h(1)]}}return A.range=T(Ih),A.rangeRound=T(d_),A.unknown=function(_){return arguments.length?(S=_,A):S},function(_){return p=_,i=_(e),s=_(t),l=_(n),d=i===s?0:.5/(s-i),m=s===l?0:.5/(l-s),r=s<i?-1:1,A}}function uU(){var e=uu(I1()(oa));return e.copy=function(){return du(e,uU())},Xl.apply(e,arguments)}function dU(){var e=g_(I1()).domain([.1,1,10]);return e.copy=function(){return du(e,dU()).base(e.base())},Xl.apply(e,arguments)}function fU(){var e=p_(I1());return e.copy=function(){return du(e,fU()).constant(e.constant())},Xl.apply(e,arguments)}function C_(){var e=x_(I1());return e.copy=function(){return du(e,C_()).exponent(e.exponent())},Xl.apply(e,arguments)}function _ge(){return C_.apply(null,arguments).exponent(.5)}const s0=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:l_,scaleDiverging:uU,scaleDivergingLog:dU,scaleDivergingPow:C_,scaleDivergingSqrt:_ge,scaleDivergingSymlog:fU,scaleIdentity:HF,scaleImplicit:CN,scaleLinear:$F,scaleLog:YF,scaleOrdinal:o_,scalePoint:mme,scalePow:v_,scaleQuantile:KF,scaleQuantize:XF,scaleRadial:GF,scaleSequential:sU,scaleSequentialLog:oU,scaleSequentialPow:__,scaleSequentialQuantile:cU,scaleSequentialSqrt:Ege,scaleSequentialSymlog:lU,scaleSqrt:o0e,scaleSymlog:WF,scaleThreshold:QF,scaleTime:Nge,scaleUtc:Age,tickFormat:VF},Symbol.toStringTag,{value:"Module"}));var Md=e=>e.chartData,T_=Pe([Md],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),k1=(e,t,n,r)=>r?T_(e):Md(e);function xh(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Di(t)&&Di(n))return!0}return!1}function xI(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Cge(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,s;if(Di(n))i=n;else if(typeof n=="function")return;if(Di(r))s=r;else if(typeof r=="function")return;var l=[i,s];if(xh(l))return l}}function Tge(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(xh(r))return xI(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,l,d;if(i==="auto")t!=null&&(l=Math.min(...t));else if(nt(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&iP.test(i)){var m=iP.exec(i);if(m==null||t==null)l=void 0;else{var h=+m[1];l=t[0]-h}}else l=t==null?void 0:t[0];if(s==="auto")t!=null&&(d=Math.max(...t));else if(nt(s))d=s;else if(typeof s=="function")try{t!=null&&(d=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&aP.test(s)){var p=aP.exec(s);if(p==null||t==null)d=void 0;else{var v=+p[1];d=t[1]+v}}else d=t==null?void 0:t[1];var S=[l,d];if(xh(S))return t==null?S:xI(S,t,n)}}}var kh=1e9,Oge={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},M_,ir=!0,Rs="[DecimalError] ",ud=Rs+"Invalid argument: ",O_=Rs+"Exponent out of range: ",Lh=Math.floor,Wu=Math.pow,Mge=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,rs,vi=1e7,Gn=7,hU=9007199254740991,Sv=Lh(hU/Gn),ut={};ut.absoluteValue=ut.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ut.comparedTo=ut.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};ut.dividedBy=ut.div=function(e){return Dl(this,new this.constructor(e))};ut.dividedToIntegerBy=ut.idiv=function(e){var t=this,n=t.constructor;return Un(Dl(t,new n(e),0,1),n.precision)};ut.equals=ut.eq=function(e){return!this.cmp(e)};ut.exponent=function(){return Jr(this)};ut.greaterThan=ut.gt=function(e){return this.cmp(e)>0};ut.greaterThanOrEqualTo=ut.gte=function(e){return this.cmp(e)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(e){return this.cmp(e)<0};ut.lessThanOrEqualTo=ut.lte=function(e){return this.cmp(e)<1};ut.logarithm=ut.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(rs))throw Error(Rs+"NaN");if(n.s<1)throw Error(Rs+(n.s?"NaN":"-Infinity"));return n.eq(rs)?new r(0):(ir=!1,t=Dl(z0(n,s),z0(e,s),s),ir=!0,Un(t,i))};ut.minus=ut.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pU(t,e):mU(t,(e.s=-e.s,e))};ut.modulo=ut.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Rs+"NaN");return n.s?(ir=!1,t=Dl(n,e,0,1).times(e),ir=!0,n.minus(t)):Un(new r(n),i)};ut.naturalExponential=ut.exp=function(){return gU(this)};ut.naturalLogarithm=ut.ln=function(){return z0(this)};ut.negated=ut.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ut.plus=ut.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mU(t,e):pU(t,(e.s=-e.s,e))};ut.precision=ut.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ud+e);if(t=Jr(i)+1,r=i.d.length-1,n=r*Gn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};ut.squareRoot=ut.sqrt=function(){var e,t,n,r,i,s,l,d=this,m=d.constructor;if(d.s<1){if(!d.s)return new m(0);throw Error(Rs+"NaN")}for(e=Jr(d),ir=!1,i=Math.sqrt(+d),i==0||i==1/0?(t=Po(d.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Lh((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(i.toString()),n=m.precision,i=l=n+3;;)if(s=r,r=s.plus(Dl(d,s,l+2)).times(.5),Po(s.d).slice(0,l)===(t=Po(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),i==l&&t=="4999"){if(Un(s,n+1,0),s.times(s).eq(d)){r=s;break}}else if(t!="9999")break;l+=4}return ir=!0,Un(r,n)};ut.times=ut.mul=function(e){var t,n,r,i,s,l,d,m,h,p=this,v=p.constructor,S=p.d,A=(e=new v(e)).d;if(!p.s||!e.s)return new v(0);for(e.s*=p.s,n=p.e+e.e,m=S.length,h=A.length,m<h&&(s=S,S=A,A=s,l=m,m=h,h=l),s=[],l=m+h,r=l;r--;)s.push(0);for(r=h;--r>=0;){for(t=0,i=m+r;i>r;)d=s[i]+A[r]*S[i-r-1]+t,s[i--]=d%vi|0,t=d/vi|0;s[i]=(s[i]+t)%vi|0}for(;!s[--l];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ir?Un(e,v.precision):e};ut.toDecimalPlaces=ut.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(Wo(e,0,kh),t===void 0?t=r.rounding:Wo(t,0,8),Un(n,e+Jr(n)+1,t))};ut.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=jd(r,!0):(Wo(e,0,kh),t===void 0?t=i.rounding:Wo(t,0,8),r=Un(new i(r),e+1,t),n=jd(r,!0,e+1)),n};ut.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?jd(i):(Wo(e,0,kh),t===void 0?t=s.rounding:Wo(t,0,8),r=Un(new s(i),e+Jr(i)+1,t),n=jd(r.abs(),!1,e+Jr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ut.toInteger=ut.toint=function(){var e=this,t=e.constructor;return Un(new t(e),Jr(e)+1,t.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(e){var t,n,r,i,s,l,d=this,m=d.constructor,h=12,p=+(e=new m(e));if(!e.s)return new m(rs);if(d=new m(d),!d.s){if(e.s<1)throw Error(Rs+"Infinity");return d}if(d.eq(rs))return d;if(r=m.precision,e.eq(rs))return Un(d,r);if(t=e.e,n=e.d.length-1,l=t>=n,s=d.s,l){if((n=p<0?-p:p)<=hU){for(i=new m(rs),t=Math.ceil(r/Gn+4),ir=!1;n%2&&(i=i.times(d),yI(i.d,t)),n=Lh(n/2),n!==0;)d=d.times(d),yI(d.d,t);return ir=!0,e.s<0?new m(rs).div(i):Un(i,r)}}else if(s<0)throw Error(Rs+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,ir=!1,i=e.times(z0(d,r+h)),ir=!0,i=gU(i),i.s=s,i};ut.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Jr(i),r=jd(i,n<=s.toExpNeg||n>=s.toExpPos)):(Wo(e,1,kh),t===void 0?t=s.rounding:Wo(t,0,8),i=Un(new s(i),e,t),n=Jr(i),r=jd(i,e<=n||n<=s.toExpNeg,e)),r};ut.toSignificantDigits=ut.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Wo(e,1,kh),t===void 0?t=r.rounding:Wo(t,0,8)),Un(new r(n),e,t)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jr(e),n=e.constructor;return jd(e,t<=n.toExpNeg||t>=n.toExpPos)};function mU(e,t){var n,r,i,s,l,d,m,h,p=e.constructor,v=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),ir?Un(t,v):t;if(m=e.d,h=t.d,l=e.e,i=t.e,m=m.slice(),s=l-i,s){for(s<0?(r=m,s=-s,d=h.length):(r=h,i=l,d=m.length),l=Math.ceil(v/Gn),d=l>d?l+1:d+1,s>d&&(s=d,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(d=m.length,s=h.length,d-s<0&&(s=d,r=h,h=m,m=r),n=0;s;)n=(m[--s]=m[s]+h[s]+n)/vi|0,m[s]%=vi;for(n&&(m.unshift(n),++i),d=m.length;m[--d]==0;)m.pop();return t.d=m,t.e=i,ir?Un(t,v):t}function Wo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(ud+e)}function Po(e){var t,n,r,i=e.length-1,s="",l=e[0];if(i>0){for(s+=l,t=1;t<i;t++)r=e[t]+"",n=Gn-r.length,n&&(s+=Vc(n)),s+=r;l=e[t],r=l+"",n=Gn-r.length,n&&(s+=Vc(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return s+l}var Dl=function(){function e(r,i){var s,l=0,d=r.length;for(r=r.slice();d--;)s=r[d]*i+l,r[d]=s%vi|0,l=s/vi|0;return l&&r.unshift(l),r}function t(r,i,s,l){var d,m;if(s!=l)m=s>l?1:-1;else for(d=m=0;d<s;d++)if(r[d]!=i[d]){m=r[d]>i[d]?1:-1;break}return m}function n(r,i,s){for(var l=0;s--;)r[s]-=l,l=r[s]<i[s]?1:0,r[s]=l*vi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,l){var d,m,h,p,v,S,A,T,_,C,M,P,R,U,B,L,F,V,z=r.constructor,H=r.s==i.s?1:-1,W=r.d,q=i.d;if(!r.s)return new z(r);if(!i.s)throw Error(Rs+"Division by zero");for(m=r.e-i.e,F=q.length,B=W.length,A=new z(H),T=A.d=[],h=0;q[h]==(W[h]||0);)++h;if(q[h]>(W[h]||0)&&--m,s==null?P=s=z.precision:l?P=s+(Jr(r)-Jr(i))+1:P=s,P<0)return new z(0);if(P=P/Gn+2|0,h=0,F==1)for(p=0,q=q[0],P++;(h<B||p)&&P--;h++)R=p*vi+(W[h]||0),T[h]=R/q|0,p=R%q|0;else{for(p=vi/(q[0]+1)|0,p>1&&(q=e(q,p),W=e(W,p),F=q.length,B=W.length),U=F,_=W.slice(0,F),C=_.length;C<F;)_[C++]=0;V=q.slice(),V.unshift(0),L=q[0],q[1]>=vi/2&&++L;do p=0,d=t(q,_,F,C),d<0?(M=_[0],F!=C&&(M=M*vi+(_[1]||0)),p=M/L|0,p>1?(p>=vi&&(p=vi-1),v=e(q,p),S=v.length,C=_.length,d=t(v,_,S,C),d==1&&(p--,n(v,F<S?V:q,S))):(p==0&&(d=p=1),v=q.slice()),S=v.length,S<C&&v.unshift(0),n(_,v,C),d==-1&&(C=_.length,d=t(q,_,F,C),d<1&&(p++,n(_,F<C?V:q,C))),C=_.length):d===0&&(p++,_=[0]),T[h++]=p,d&&_[0]?_[C++]=W[U]||0:(_=[W[U]],C=1);while((U++<B||_[0]!==void 0)&&P--)}return T[0]||T.shift(),A.e=m,Un(A,l?s+Jr(A)+1:s)}}();function gU(e,t){var n,r,i,s,l,d,m=0,h=0,p=e.constructor,v=p.precision;if(Jr(e)>16)throw Error(O_+Jr(e));if(!e.s)return new p(rs);for(ir=!1,d=v,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),h+=5;for(r=Math.log(Wu(2,h))/Math.LN10*2+5|0,d+=r,n=i=s=new p(rs),p.precision=d;;){if(i=Un(i.times(e),d),n=n.times(++m),l=s.plus(Dl(i,n,d)),Po(l.d).slice(0,d)===Po(s.d).slice(0,d)){for(;h--;)s=Un(s.times(s),d);return p.precision=v,t==null?(ir=!0,Un(s,v)):s}s=l}}function Jr(e){for(var t=e.e*Gn,n=e.d[0];n>=10;n/=10)t++;return t}function aj(e,t,n){if(t>e.LN10.sd())throw ir=!0,n&&(e.precision=n),Error(Rs+"LN10 precision limit exceeded");return Un(new e(e.LN10),t)}function Vc(e){for(var t="";e--;)t+="0";return t}function z0(e,t){var n,r,i,s,l,d,m,h,p,v=1,S=10,A=e,T=A.d,_=A.constructor,C=_.precision;if(A.s<1)throw Error(Rs+(A.s?"NaN":"-Infinity"));if(A.eq(rs))return new _(0);if(t==null?(ir=!1,h=C):h=t,A.eq(10))return t==null&&(ir=!0),aj(_,h);if(h+=S,_.precision=h,n=Po(T),r=n.charAt(0),s=Jr(A),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)A=A.times(e),n=Po(A.d),r=n.charAt(0),v++;s=Jr(A),r>1?(A=new _("0."+n),s++):A=new _(r+"."+n.slice(1))}else return m=aj(_,h+2,C).times(s+""),A=z0(new _(r+"."+n.slice(1)),h-S).plus(m),_.precision=C,t==null?(ir=!0,Un(A,C)):A;for(d=l=A=Dl(A.minus(rs),A.plus(rs),h),p=Un(A.times(A),h),i=3;;){if(l=Un(l.times(p),h),m=d.plus(Dl(l,new _(i),h)),Po(m.d).slice(0,h)===Po(d.d).slice(0,h))return d=d.times(2),s!==0&&(d=d.plus(aj(_,h+2,C).times(s+""))),d=Dl(d,new _(v),h),_.precision=C,t==null?(ir=!0,Un(d,C)):d;d=m,i+=2}}function vI(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Lh(n/Gn),e.d=[],r=(n+1)%Gn,n<0&&(r+=Gn),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=Gn;r<i;)e.d.push(+t.slice(r,r+=Gn));t=t.slice(r),r=Gn-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ir&&(e.e>Sv||e.e<-Sv))throw Error(O_+n)}else e.s=0,e.e=0,e.d=[0];return e}function Un(e,t,n){var r,i,s,l,d,m,h,p,v=e.d;for(l=1,s=v[0];s>=10;s/=10)l++;if(r=t-l,r<0)r+=Gn,i=t,h=v[p=0];else{if(p=Math.ceil((r+1)/Gn),s=v.length,p>=s)return e;for(h=s=v[p],l=1;s>=10;s/=10)l++;r%=Gn,i=r-Gn+l}if(n!==void 0&&(s=Wu(10,l-i-1),d=h/s%10|0,m=t<0||v[p+1]!==void 0||h%s,m=n<4?(d||m)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||m||n==6&&(r>0?i>0?h/Wu(10,l-i):0:v[p-1])%10&1||n==(e.s<0?8:7))),t<1||!v[0])return m?(s=Jr(e),v.length=1,t=t-s-1,v[0]=Wu(10,(Gn-t%Gn)%Gn),e.e=Lh(-t/Gn)||0):(v.length=1,v[0]=e.e=e.s=0),e;if(r==0?(v.length=p,s=1,p--):(v.length=p+1,s=Wu(10,Gn-r),v[p]=i>0?(h/Wu(10,l-i)%Wu(10,i)|0)*s:0),m)for(;;)if(p==0){(v[0]+=s)==vi&&(v[0]=1,++e.e);break}else{if(v[p]+=s,v[p]!=vi)break;v[p--]=0,s=1}for(r=v.length;v[--r]===0;)v.pop();if(ir&&(e.e>Sv||e.e<-Sv))throw Error(O_+Jr(e));return e}function pU(e,t){var n,r,i,s,l,d,m,h,p,v,S=e.constructor,A=S.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new S(e),ir?Un(t,A):t;if(m=e.d,v=t.d,r=t.e,h=e.e,m=m.slice(),l=h-r,l){for(p=l<0,p?(n=m,l=-l,d=v.length):(n=v,r=h,d=m.length),i=Math.max(Math.ceil(A/Gn),d)+2,l>i&&(l=i,n.length=1),n.reverse(),i=l;i--;)n.push(0);n.reverse()}else{for(i=m.length,d=v.length,p=i<d,p&&(d=i),i=0;i<d;i++)if(m[i]!=v[i]){p=m[i]<v[i];break}l=0}for(p&&(n=m,m=v,v=n,t.s=-t.s),d=m.length,i=v.length-d;i>0;--i)m[d++]=0;for(i=v.length;i>l;){if(m[--i]<v[i]){for(s=i;s&&m[--s]===0;)m[s]=vi-1;--m[s],m[i]+=vi}m[i]-=v[i]}for(;m[--d]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,ir?Un(t,A):t):new S(0)}function jd(e,t,n){var r,i=Jr(e),s=Po(e.d),l=s.length;return t?(n&&(r=n-l)>0?s=s.charAt(0)+"."+s.slice(1)+Vc(r):l>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Vc(-i-1)+s,n&&(r=n-l)>0&&(s+=Vc(r))):i>=l?(s+=Vc(i+1-l),n&&(r=n-i-1)>0&&(s=s+"."+Vc(r))):((r=i+1)<l&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-l)>0&&(i+1===l&&(s+="."),s+=Vc(r))),e.s<0?"-"+s:s}function yI(e,t){if(e.length>t)return e.length=t,!0}function xU(e){var t,n,r;function i(s){var l=this;if(!(l instanceof i))return new i(s);if(l.constructor=i,s instanceof i){l.s=s.s,l.e=s.e,l.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ud+s);if(s>0)l.s=1;else if(s<0)s=-s,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(s===~~s&&s<1e7){l.e=0,l.d=[s];return}return vI(l,s.toString())}else if(typeof s!="string")throw Error(ud+s);if(s.charCodeAt(0)===45?(s=s.slice(1),l.s=-1):l.s=1,Mge.test(s))vI(l,s);else throw Error(ud+s)}if(i.prototype=ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xU,i.config=i.set=Dge,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Dge(e){if(!e||typeof e!="object")throw Error(Rs+"Object expected");var t,n,r,i=["precision",1,kh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Lh(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(ud+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(ud+n+": "+r);return this}var M_=xU(Oge);rs=new M_(1);const Dn=M_;var Rge=e=>e,vU={},yU=e=>e===vU,bI=e=>function t(){return arguments.length===0||arguments.length===1&&yU(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},bU=(e,t)=>e===1?t:bI(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(l=>l!==vU).length;return s>=e?t(...r):bU(e-s,bI(function(){for(var l=arguments.length,d=new Array(l),m=0;m<l;m++)d[m]=arguments[m];var h=r.map(p=>yU(p)?d.shift():p);return t(...h,...d)}))}),L1=e=>bU(e.length,e),DN=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},Pge=L1((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),Ige=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Rge;var i=n.reverse(),s=i[0],l=i.slice(1);return function(){return l.reduce((d,m)=>m(d),s(...arguments))}},RN=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),wU=e=>{var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t&&i.every((l,d)=>{var m;return l===((m=t)===null||m===void 0?void 0:m[d])})||(t=i,n=e(...i)),n}};function jU(e){var t;return e===0?t=1:t=Math.floor(new Dn(e).abs().log(10).toNumber())+1,t}function SU(e,t,n){for(var r=new Dn(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}L1((e,t,n)=>{var r=+e,i=+t;return r+n*(i-r)});L1((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});L1((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var NU=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},AU=(e,t,n)=>{if(e.lte(0))return new Dn(0);var r=jU(e.toNumber()),i=new Dn(10).pow(r),s=e.div(i),l=r!==1?.05:.1,d=new Dn(Math.ceil(s.div(l).toNumber())).add(n).mul(l),m=d.mul(i);return t?new Dn(m.toNumber()):new Dn(Math.ceil(m.toNumber()))},kge=(e,t,n)=>{var r=new Dn(1),i=new Dn(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Dn(10).pow(jU(e)-1),i=new Dn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Dn(Math.floor(e)))}else e===0?i=new Dn(Math.floor((t-1)/2)):n||(i=new Dn(Math.floor(e)));var l=Math.floor((t-1)/2),d=Ige(Pge(m=>i.add(new Dn(m-l).mul(r)).toNumber()),DN);return d(0,t)},EU=function(t,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Dn(0),tickMin:new Dn(0),tickMax:new Dn(0)};var l=AU(new Dn(n).sub(t).div(r-1),i,s),d;t<=0&&n>=0?d=new Dn(0):(d=new Dn(t).add(n).div(2),d=d.sub(new Dn(d).mod(l)));var m=Math.ceil(d.sub(t).div(l).toNumber()),h=Math.ceil(new Dn(n).sub(d).div(l).toNumber()),p=m+h+1;return p>r?EU(t,n,r,i,s+1):(p<r&&(h=n>0?h+(r-p):h,m=n>0?m:m+(r-p)),{step:l,tickMin:d.sub(new Dn(m).mul(l)),tickMax:d.add(new Dn(h).mul(l))})};function Lge(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[l,d]=NU([t,n]);if(l===-1/0||d===1/0){var m=d===1/0?[l,...DN(0,r-1).map(()=>1/0)]:[...DN(0,r-1).map(()=>-1/0),d];return t>n?RN(m):m}if(l===d)return kge(l,r,i);var{step:h,tickMin:p,tickMax:v}=EU(l,d,s,i,0),S=SU(p,v.add(new Dn(.1).mul(h)),h);return t>n?RN(S):S}function Bge(e,t){var[n,r]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,l]=NU([n,r]);if(s===-1/0||l===1/0)return[n,r];if(s===l)return[s];var d=Math.max(t,2),m=AU(new Dn(l).sub(s).div(d-1),i,0),h=[...SU(new Dn(s),new Dn(l),m),l];return i===!1&&(h=h.map(p=>Math.round(p))),n>r?RN(h):h}var Fge=wU(Lge),Uge=wU(Bge),_U=e=>e.rootProps.maxBarSize,zge=e=>e.rootProps.barGap,CU=e=>e.rootProps.barCategoryGap,Vge=e=>e.rootProps.barSize,yg=e=>e.rootProps.stackOffset,D_=e=>e.options.chartName,R_=e=>e.rootProps.syncId,TU=e=>e.rootProps.syncMethod,P_=e=>e.options.eventEmitter,Nl={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Xa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},B1=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},$ge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Nl.angleAxisId,includeHidden:!1,name:void 0,reversed:Nl.reversed,scale:Nl.scale,tick:Nl.tick,tickCount:void 0,ticks:void 0,type:Nl.type,unit:void 0},Hge={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:Xa.type,unit:void 0},qge={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Nl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Nl.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Nl.scale,tick:Nl.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yge={allowDataOverflow:Xa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Xa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Xa.scale,tick:Xa.tick,tickCount:Xa.tickCount,ticks:void 0,type:"category",unit:void 0},I_=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?qge:$ge,k_=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Yge:Hge,F1=e=>e.polarOptions,L_=Pe([Gl,Kl,ui],hF),OU=Pe([F1,L_],(e,t)=>{if(e!=null)return ca(e.innerRadius,t,0)}),MU=Pe([F1,L_],(e,t)=>{if(e!=null)return ca(e.outerRadius,t,t*.8)}),Wge=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},DU=Pe([F1],Wge);Pe([I_,DU],B1);var RU=Pe([L_,OU,MU],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Pe([k_,RU],B1);var Gge=Pe([un,F1,OU,MU,Gl,Kl],(e,t,n,r,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:l,cy:d,startAngle:m,endAngle:h}=t;return{cx:ca(l,i,i/2),cy:ca(d,s,s/2),innerRadius:n,outerRadius:r,startAngle:m,endAngle:h,clockWise:!1}}}),zr=(e,t)=>t,bg=(e,t,n)=>n;function wI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Nv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wI(Object(n),!0).forEach(function(r){Kge(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kge(e,t,n){return(t=Xge(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xge(e){var t=Qge(e,"string");return typeof t=="symbol"?t:t+""}function Qge(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PN=[0,"auto"],Ga={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Ql=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Ga},Ka={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:PN,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:_1},fu=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Ka},Zge={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},B_=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Zge},Vr=(e,t,n)=>{switch(t){case"xAxis":return Ql(e,n);case"yAxis":return fu(e,n);case"zAxis":return B_(e,n);case"angleAxis":return I_(e,n);case"radiusAxis":return k_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Jge=(e,t,n)=>{switch(t){case"xAxis":return Ql(e,n);case"yAxis":return fu(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},wg=(e,t,n)=>{switch(t){case"xAxis":return Ql(e,n);case"yAxis":return fu(e,n);case"angleAxis":return I_(e,n);case"radiusAxis":return k_(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},PU=e=>e.graphicalItems.countOfBars>0;function F_(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var jg=e=>e.graphicalItems.cartesianItems,epe=Pe([zr,bg],F_),U_=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Sg=Pe([jg,Vr,epe],U_),IU=e=>e.filter(t=>t.stackId===void 0),tpe=Pe([Sg],IU),z_=e=>e.map(t=>t.data).filter(Boolean).flat(1),npe=Pe([Sg],z_),V_=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},U1=Pe([npe,k1],V_),$_=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Fn(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:Fn(i,r)}))):e.map(r=>({value:r})),z1=Pe([U1,Vr,Sg],$_);function kU(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dd(e){return e.filter(t=>Yo(t)||t instanceof Date).map(Number).filter(t=>Pa(t)===!1)}function rpe(e,t,n){return!n||typeof t!="number"||Pa(t)?[]:n.length?Dd(n.flatMap(r=>{var i=Fn(e,r.dataKey),s,l;if(Array.isArray(i)?[s,l]=i:s=l=i,!(!Di(s)||!Di(l)))return[t-s,t+l]})):[]}var LU=(e,t,n)=>{var r={},i=t.reduce((s,l)=>(l.stackId==null||(s[l.stackId]==null&&(s[l.stackId]=[]),s[l.stackId].push(l)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[l,d]=s,m=d.map(h=>h.dataKey);return[l,{stackedData:rfe(e,m,n),graphicalItems:d}]}))},V0=Pe([U1,Sg,yg],LU),BU=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:i}=t;if(n!=="zAxis"){var s=ofe(e,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},ipe=Pe([V0,Md,zr],BU),FU=(e,t,n,r)=>n.length>0?e.flatMap(i=>n.flatMap(s=>{var l,d,m=(l=s.errorBars)===null||l===void 0?void 0:l.filter(p=>kU(r,p)),h=Fn(i,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey);return{value:h,errorDomain:rpe(i,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Fn(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),ape=Pe(U1,Vr,tpe,zr,FU);function spe(e){var{value:t}=e;if(Yo(t)||t instanceof Date)return t}var ope=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=Dd(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},lpe=(e,t,n)=>{var r=e.map(spe).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&u9(r))?DF(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},H_=e=>{var t;if(e==null||!("domain"in e))return PN;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=Dd(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:PN},q_=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),l=Math.min(...s),d=Math.max(...s);return[l,d]}},UU=e=>e.referenceElements.dots,Bh=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),cpe=Pe([UU,zr,bg],Bh),zU=e=>e.referenceElements.areas,upe=Pe([zU,zr,bg],Bh),VU=e=>e.referenceElements.lines,dpe=Pe([VU,zr,bg],Bh),$U=(e,t)=>{var n=Dd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},fpe=Pe(cpe,zr,$U),HU=(e,t)=>{var n=Dd(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},hpe=Pe([upe,zr],HU),qU=(e,t)=>{var n=Dd(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},mpe=Pe(dpe,zr,qU),gpe=Pe(fpe,mpe,hpe,(e,t,n)=>q_(e,n,t)),YU=Pe([Vr],H_),Y_=(e,t,n,r,i)=>{var s=Cge(t,e.allowDataOverflow);return s??Tge(t,q_(n,i,ope(r)),e.allowDataOverflow)},ppe=Pe([Vr,YU,ipe,ape,gpe],Y_),xpe=[0,1],W_=(e,t,n,r,i,s,l)=>{if(!(e==null||n==null||n.length===0)){var{dataKey:d,type:m}=e,h=tl(t,s);return h&&d==null?DF(0,n.length):m==="category"?lpe(r,e,h):i==="expand"?xpe:l}},G_=Pe([Vr,un,U1,z1,yg,zr,ppe],W_),WU=(e,t,n,r,i)=>{if(e!=null){var{scale:s,type:l}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":l==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":l==="category"?"band":"linear";if(typeof s=="string"){var d="scale".concat(ug(s));return d in s0?d:"point"}}},Fh=Pe([Vr,un,PU,D_,zr],WU);function vpe(e){if(e!=null){if(e in s0)return s0[e]();var t="scale".concat(ug(e));if(t in s0)return s0[t]()}}function K_(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=vpe(t);if(i!=null){var s=i.domain(n).range(r);return Zde(s),s}}}var X_=(e,t,n)=>{var r=H_(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&xh(e))return Fge(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&xh(e))return Uge(e,t.tickCount,t.allowDecimals)}},Q_=Pe([G_,wg,Fh],X_),Z_=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&xh(t)&&Array.isArray(n)&&n.length>0){var i=t[0],s=n[0],l=t[1],d=n[n.length-1];return[Math.min(i,s),Math.max(l,d)]}return t},ype=Pe([Vr,G_,Q_,zr],Z_),bpe=Pe(z1,Vr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Dd(e.map(d=>d.value))).sort((d,m)=>d-m);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s+1]-r[s];n=Math.min(n,l)}return n/i}}),GU=Pe(bpe,un,CU,ui,(e,t,n,r)=>r,(e,t,n,r,i)=>{if(!Di(e))return 0;var s=t==="vertical"?r.height:r.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var l=ca(n,e*s),d=e*s/2;return d-l-(d-l)/s*l}return 0}),wpe=(e,t)=>{var n=Ql(e,t);return n==null||typeof n.padding!="string"?0:GU(e,"xAxis",t,n.padding)},jpe=(e,t)=>{var n=fu(e,t);return n==null||typeof n.padding!="string"?0:GU(e,"yAxis",t,n.padding)},Spe=Pe(Ql,wpe,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),Npe=Pe(fu,jpe,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),Ape=Pe([ui,Spe,T1,C1,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),Epe=Pe([ui,un,Npe,T1,C1,(e,t,n)=>n],(e,t,n,r,i,s)=>{var{padding:l}=i;return s?[r.height-l.bottom,l.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Ng=(e,t,n,r)=>{var i;switch(t){case"xAxis":return Ape(e,n,r);case"yAxis":return Epe(e,n,r);case"zAxis":return(i=B_(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return DU(e);case"radiusAxis":return RU(e,n);default:return}},KU=Pe([Vr,Ng],B1),Uh=Pe([Vr,Fh,ype,KU],K_);Pe(Sg,zr,(e,t)=>e.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>kU(t,n)));function XU(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var V1=(e,t)=>t,$1=(e,t,n)=>n,_pe=Pe(JE,V1,$1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(XU)),Cpe=Pe(e_,V1,$1,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(XU)),QU=(e,t)=>({width:e.width,height:t.height}),Tpe=(e,t)=>{var n=typeof t.width=="number"?t.width:_1;return{width:n,height:e.height}},ZU=Pe(ui,Ql,QU),Ope=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},Mpe=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},Dpe=Pe(Kl,ui,_pe,V1,$1,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var m=QU(t,d);l==null&&(l=Ope(t,r,e));var h=r==="top"&&!i||r==="bottom"&&i;s[d.id]=l-Number(h)*m.height,l+=(h?-1:1)*m.height}),s}),Rpe=Pe(Gl,ui,Cpe,V1,$1,(e,t,n,r,i)=>{var s={},l;return n.forEach(d=>{var m=Tpe(t,d);l==null&&(l=Mpe(t,r,e));var h=r==="left"&&!i||r==="right"&&i;s[d.id]=l-Number(h)*m.width,l+=(h?-1:1)*m.width}),s}),Ppe=(e,t)=>{var n=ui(e),r=Ql(e,t);if(r!=null){var i=Dpe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:n.left,y:0}:{x:n.left,y:s}}},Ipe=(e,t)=>{var n=ui(e),r=fu(e,t);if(r!=null){var i=Rpe(e,r.orientation,r.mirror),s=i[t];return s==null?{x:0,y:n.top}:{x:s,y:n.top}}},JU=Pe(ui,fu,(e,t)=>{var n=typeof t.width=="number"?t.width:_1;return{width:n,height:e.height}}),jI=(e,t,n)=>{switch(t){case"xAxis":return ZU(e,n).width;case"yAxis":return JU(e,n).height;default:return}},ez=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:l}=n,d=tl(e,r),m=t.map(h=>h.value);if(l&&d&&s==="category"&&i&&u9(m))return m}},J_=Pe([un,z1,Vr,zr],ez),tz=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,l=tl(e,r);if(l&&(i==="number"||s!=="auto"))return t.map(d=>d.value)}},eC=Pe([un,z1,wg,zr],tz),SI=Pe([un,Jge,Fh,Uh,J_,eC,Ng,Q_,zr],(e,t,n,r,i,s,l,d,m)=>{if(t==null)return null;var h=tl(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:s,duplicateDomain:i,isCategorical:h,niceTicks:d,range:l,realScaleType:n,scale:r}}),kpe=(e,t,n,r,i,s,l,d,m)=>{if(!(t==null||r==null)){var h=tl(e,m),{type:p,ticks:v,tickCount:S}=t,A=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,T=p==="category"&&r.bandwidth?r.bandwidth()/A:0;T=m==="angleAxis"&&s!=null&&s.length>=2?wi(s[0]-s[1])*2*T:T;var _=v||i;if(_){var C=_.map((M,P)=>{var R=l?l.indexOf(M):M;return{index:P,coordinate:r(R)+T,value:M,offset:T}});return C.filter(M=>!Pa(M.coordinate))}return h&&d?d.map((M,P)=>({coordinate:r(M)+T,value:M,index:P,offset:T})):r.ticks?r.ticks(S).map(M=>({coordinate:r(M)+T,value:M,offset:T})):r.domain().map((M,P)=>({coordinate:r(M)+T,value:l?l[M]:M,index:P,offset:T}))}},nz=Pe([un,wg,Fh,Uh,Q_,Ng,J_,eC,zr],kpe),Lpe=(e,t,n,r,i,s,l)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=tl(e,l),{tickCount:m}=t,h=0;return h=l==="angleAxis"&&(r==null?void 0:r.length)>=2?wi(r[0]-r[1])*2*h:h,d&&s?s.map((p,v)=>({coordinate:n(p)+h,value:p,index:v,offset:h})):n.ticks?n.ticks(m).map(p=>({coordinate:n(p)+h,value:p,offset:h})):n.domain().map((p,v)=>({coordinate:n(p)+h,value:i?i[p]:p,index:v,offset:h}))}},Go=Pe([un,wg,Uh,Ng,J_,eC,zr],Lpe),Ps=Pe(Vr,Uh,(e,t)=>{if(!(e==null||t==null))return Nv(Nv({},e),{},{scale:t})}),Bpe=Pe([Vr,Fh,G_,KU],K_);Pe((e,t,n)=>B_(e,n),Bpe,(e,t)=>{if(!(e==null||t==null))return Nv(Nv({},e),{},{scale:t})});var Fpe=Pe([un,JE,e_],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rz=e=>e.options.defaultTooltipEventType,iz=e=>e.options.validateTooltipEventTypes;function az(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function tC(e,t){var n=rz(e),r=iz(e);return az(t,n,r)}function Upe(e){return mt(t=>tC(t,e))}var sz=(e,t)=>{var n,r=Number(t);if(!(Pa(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},zpe=e=>e.tooltip.settings,Hc={active:!1,index:null,dataKey:void 0,coordinate:void 0},Vpe={itemInteraction:{click:Hc,hover:Hc},axisInteraction:{click:Hc,hover:Hc},keyboardInteraction:Hc,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},oz=ks({name:"tooltip",initialState:Vpe,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Ml(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:$pe,removeTooltipEntrySettings:Hpe,setTooltipSettingsState:qpe,setActiveMouseOverItemIndex:lz,mouseLeaveItem:Ype,mouseLeaveChart:cz,setActiveClickItemIndex:Wpe,setMouseOverAxisIndex:uz,setMouseClickAxisIndex:Gpe,setSyncInteraction:IN,setKeyboardInteraction:kN}=oz.actions,Kpe=oz.reducer;function NI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NI(Object(n),!0).forEach(function(r){Xpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xpe(e,t,n){return(t=Qpe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qpe(e){var t=Zpe(e,"string");return typeof t=="symbol"?t:t+""}function Zpe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jpe(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function exe(e){return e.index!=null}var dz=(e,t,n,r)=>{if(t==null)return Hc;var i=Jpe(e,t,n);if(i==null)return Hc;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(exe(i)){if(s)return mx(mx({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return mx(mx({},Hc),{},{coordinate:i.coordinate})},nC=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Di(r))return n;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(r,s)))},fz=(e,t,n,r,i,s,l,d)=>{if(!(s==null||d==null)){var m=l[0],h=m==null?void 0:d(m.positions,s);if(h!=null)return h;var p=i==null?void 0:i[Number(s)];if(p)switch(n){case"horizontal":return{x:p.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:p.coordinate}}}},hz=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var l;return((l=s.settings)===null||l===void 0?void 0:l.dataKey)===i})},Ag=e=>e.options.tooltipPayloadSearcher,zh=e=>e.tooltip;function AI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function EI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AI(Object(n),!0).forEach(function(r){txe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function txe(e,t,n){return(t=nxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nxe(e){var t=rxe(e,"string");return typeof t=="symbol"?t:t+""}function rxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ixe(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function axe(e,t){return e??t}var mz=(e,t,n,r,i,s,l)=>{if(!(t==null||s==null)){var{chartData:d,computedData:m,dataStartIndex:h,dataEndIndex:p}=n,v=[];return e.reduce((S,A)=>{var T,{dataDefinedOnItem:_,settings:C}=A,M=axe(_,d),P=ixe(M,h,p),R=(T=C==null?void 0:C.dataKey)!==null&&T!==void 0?T:r==null?void 0:r.dataKey,U=C==null?void 0:C.nameKey,B;if(r!=null&&r.dataKey&&Array.isArray(P)&&!Array.isArray(P[0])&&l==="axis"?B=d9(P,r.dataKey,i):B=s(P,t,m,U),Array.isArray(B))B.forEach(F=>{var V=EI(EI({},C),{},{name:F.name,unit:F.unit,color:void 0,fill:void 0});S.push(sP({tooltipEntrySettings:V,dataKey:F.dataKey,payload:F.payload,value:Fn(F.payload,F.dataKey),name:F.name}))});else{var L;S.push(sP({tooltipEntrySettings:C,dataKey:R,payload:B,value:Fn(B,R),name:(L=Fn(B,U))!==null&&L!==void 0?L:C==null?void 0:C.name}))}return S},v)}},Si=e=>{var t=un(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vh=e=>e.tooltip.settings.axisId,Pi=e=>{var t=Si(e),n=Vh(e);return wg(e,t,n)},rC=Pe([Pi,un,PU,D_,Si],WU),sxe=Pe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oxe=Pe([Si,Vh],F_),H1=Pe([sxe,Pi,oxe],U_),lxe=Pe([H1],z_),Rd=Pe([lxe,Md],V_),iC=Pe([Rd,Pi,H1],$_),cxe=Pe([Pi],H_),uxe=Pe([Rd,H1,yg],LU),dxe=Pe([uxe,Md,Si],BU),fxe=Pe([H1],IU),hxe=Pe([Rd,Pi,fxe,Si],FU),mxe=Pe([UU,Si,Vh],Bh),gxe=Pe([mxe,Si],$U),pxe=Pe([zU,Si,Vh],Bh),xxe=Pe([pxe,Si],HU),vxe=Pe([VU,Si,Vh],Bh),yxe=Pe([vxe,Si],qU),bxe=Pe([gxe,yxe,xxe],q_),wxe=Pe([Pi,cxe,dxe,hxe,bxe],Y_),gz=Pe([Pi,un,Rd,iC,yg,Si,wxe],W_),jxe=Pe([gz,Pi,rC],X_),Sxe=Pe([Pi,gz,jxe,Si],Z_),pz=e=>{var t=Si(e),n=Vh(e),r=!1;return Ng(e,t,n,r)},xz=Pe([Pi,pz],B1),vz=Pe([Pi,rC,Sxe,xz],K_),Nxe=Pe([un,iC,Pi,Si],ez),Axe=Pe([un,iC,Pi,Si],tz),Exe=(e,t,n,r,i,s,l,d)=>{if(t){var{type:m}=t,h=tl(e,d);if(r){var p=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,v=m==="category"&&r.bandwidth?r.bandwidth()/p:0;return v=d==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wi(i[0]-i[1])*2*v:v,h&&l?l.map((S,A)=>({coordinate:r(S)+v,value:S,index:A,offset:v})):r.domain().map((S,A)=>({coordinate:r(S)+v,value:s?s[S]:S,index:A,offset:v}))}}},Zl=Pe([un,Pi,rC,vz,pz,Nxe,Axe,Si],Exe),aC=Pe([rz,iz,zpe],(e,t,n)=>az(n.shared,e,t)),yz=e=>e.tooltip.settings.trigger,sC=e=>e.tooltip.settings.defaultIndex,q1=Pe([zh,aC,yz,sC],dz),nu=Pe([q1,Rd],nC),bz=Pe([Zl,nu],sz),wz=Pe([q1],e=>{if(e)return e.dataKey}),jz=Pe([zh,aC,yz,sC],hz),_xe=Pe([Gl,Kl,un,ui,Zl,sC,jz,Ag],fz),Cxe=Pe([q1,_xe],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Txe=Pe([q1],e=>e.active),Oxe=Pe([jz,nu,Md,Pi,bz,Ag,aC],mz),Mxe=Pe([Oxe],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function _I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function CI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_I(Object(n),!0).forEach(function(r){Dxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_I(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dxe(e,t,n){return(t=Rxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rxe(e){var t=Pxe(e,"string");return typeof t=="symbol"?t:t+""}function Pxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ixe=()=>mt(Pi),kxe=()=>{var e=Ixe(),t=mt(Zl),n=mt(vz);return wd(CI(CI({},e),{},{scale:n}),t)},Sz=()=>mt(D_),oC=(e,t)=>t,Nz=(e,t,n)=>n,lC=(e,t,n,r)=>r,Lxe=Pe(Zl,e=>b1(e,t=>t.coordinate)),cC=Pe([zh,oC,Nz,lC],dz),Az=Pe([cC,Rd],nC),Bxe=(e,t,n)=>{if(t!=null){var r=zh(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},Ez=Pe([zh,oC,Nz,lC],hz),Av=Pe([Gl,Kl,un,ui,Zl,lC,Ez,Ag],fz),Fxe=Pe([cC,Av],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),_z=Pe(Zl,Az,sz),Uxe=Pe([Ez,Az,Md,Pi,_z,Ag,oC],mz),zxe=Pe([cC],e=>({isActive:e.active,activeIndex:e.index})),Vxe=(e,t,n,r,i,s,l,d)=>{if(!(!e||!t||!r||!i||!s)){var m=lfe(e.chartX,e.chartY,t,n,d);if(m){var h=ufe(m,t),p=Xde(h,l,s,r,i),v=cfe(t,s,p,m);return{activeIndex:String(p),activeCoordinate:v}}}};function LN(){return LN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LN.apply(null,arguments)}function TI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TI(Object(n),!0).forEach(function(r){$xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $xe(e,t,n){return(t=Hxe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hxe(e){var t=qxe(e,"string");return typeof t=="symbol"?t:t+""}function qxe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yxe(e){var{coordinate:t,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:l,cursor:d,tooltipEventType:m,chartName:h}=e,p=t,v=n,S=r;if(!d||!p||h!=="ScatterChart"&&m!=="axis")return null;var A,T;if(h==="ScatterChart")A=p,T=ohe;else if(h==="BarChart")A=lhe(l,p,i,s),T=CF;else if(l==="radial"){var{cx:_,cy:C,radius:M,startAngle:P,endAngle:R}=TF(p);A={cx:_,cy:C,startAngle:P,endAngle:R,innerRadius:M,outerRadius:M},T=MF}else A={points:Ghe(l,p,i)},T=nh;var U=typeof d=="object"&&"className"in d?d.className:void 0,B=gx(gx(gx(gx({stroke:"#ccc",pointerEvents:"none"},i),A),zt(d,!1)),{},{payload:v,payloadIndex:S,className:tn("recharts-tooltip-cursor",U)});return N.isValidElement(d)?N.cloneElement(d,B):N.createElement(T,B)}function Wxe(e){var t=kxe(),n=bF(),r=mg(),i=Sz();return N.createElement(Yxe,LN({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var Cz=N.createContext(null),Gxe=()=>N.useContext(Cz),sj={exports:{}},OI;function Kxe(){return OI||(OI=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(m,h,p){this.fn=m,this.context=h,this.once=p||!1}function s(m,h,p,v,S){if(typeof p!="function")throw new TypeError("The listener must be a function");var A=new i(p,v||m,S),T=n?n+h:h;return m._events[T]?m._events[T].fn?m._events[T]=[m._events[T],A]:m._events[T].push(A):(m._events[T]=A,m._eventsCount++),m}function l(m,h){--m._eventsCount===0?m._events=new r:delete m._events[h]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var h=[],p,v;if(this._eventsCount===0)return h;for(v in p=this._events)t.call(p,v)&&h.push(n?v.slice(1):v);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(p)):h},d.prototype.listeners=function(h){var p=n?n+h:h,v=this._events[p];if(!v)return[];if(v.fn)return[v.fn];for(var S=0,A=v.length,T=new Array(A);S<A;S++)T[S]=v[S].fn;return T},d.prototype.listenerCount=function(h){var p=n?n+h:h,v=this._events[p];return v?v.fn?1:v.length:0},d.prototype.emit=function(h,p,v,S,A,T){var _=n?n+h:h;if(!this._events[_])return!1;var C=this._events[_],M=arguments.length,P,R;if(C.fn){switch(C.once&&this.removeListener(h,C.fn,void 0,!0),M){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,p),!0;case 3:return C.fn.call(C.context,p,v),!0;case 4:return C.fn.call(C.context,p,v,S),!0;case 5:return C.fn.call(C.context,p,v,S,A),!0;case 6:return C.fn.call(C.context,p,v,S,A,T),!0}for(R=1,P=new Array(M-1);R<M;R++)P[R-1]=arguments[R];C.fn.apply(C.context,P)}else{var U=C.length,B;for(R=0;R<U;R++)switch(C[R].once&&this.removeListener(h,C[R].fn,void 0,!0),M){case 1:C[R].fn.call(C[R].context);break;case 2:C[R].fn.call(C[R].context,p);break;case 3:C[R].fn.call(C[R].context,p,v);break;case 4:C[R].fn.call(C[R].context,p,v,S);break;default:if(!P)for(B=1,P=new Array(M-1);B<M;B++)P[B-1]=arguments[B];C[R].fn.apply(C[R].context,P)}}return!0},d.prototype.on=function(h,p,v){return s(this,h,p,v,!1)},d.prototype.once=function(h,p,v){return s(this,h,p,v,!0)},d.prototype.removeListener=function(h,p,v,S){var A=n?n+h:h;if(!this._events[A])return this;if(!p)return l(this,A),this;var T=this._events[A];if(T.fn)T.fn===p&&(!S||T.once)&&(!v||T.context===v)&&l(this,A);else{for(var _=0,C=[],M=T.length;_<M;_++)(T[_].fn!==p||S&&!T[_].once||v&&T[_].context!==v)&&C.push(T[_]);C.length?this._events[A]=C.length===1?C[0]:C:l(this,A)}return this},d.prototype.removeAllListeners=function(h){var p;return h?(p=n?n+h:h,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(sj)),sj.exports}var Xxe=Kxe();const Qxe=Ia(Xxe);var $0=new Qxe,BN="recharts.syncEvent.tooltip",MI="recharts.syncEvent.brush";function Y1(e,t){if(t){var n=Number.parseInt(t,10);if(!Pa(n))return e==null?void 0:e[n]}}var Zxe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Tz=ks({name:"options",initialState:Zxe,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Jxe=Tz.reducer,{createEventEmitter:eve}=Tz.actions;function tve(e){return e.tooltip.syncInteraction}var nve={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Oz=ks({name:"chartData",initialState:nve,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:DI,setDataStartEndIndexes:rve,setComputedData:LEe}=Oz.actions,ive=Oz.reducer,Mz=()=>{};function ave(){var e=mt(R_),t=mt(P_),n=sr(),r=mt(TU),i=mt(Zl),s=mg(),l=t_(),d=mt(m=>m.rootProps.className);N.useEffect(()=>{if(e==null)return Mz;var m=(h,p,v)=>{if(t!==v&&e===h){if(r==="index"){n(p);return}if(i!=null){var S;if(typeof r=="function"){var A={activeTooltipIndex:p.payload.index==null?void 0:Number(p.payload.index),isTooltipActive:p.payload.active,activeIndex:p.payload.index==null?void 0:Number(p.payload.index),activeLabel:p.payload.label,activeDataKey:p.payload.dataKey,activeCoordinate:p.payload.coordinate},T=r(i,A);S=i[T]}else r==="value"&&(S=i.find(L=>String(L.value)===p.payload.label));var{coordinate:_}=p.payload;if(S==null||p.payload.active===!1||_==null||l==null){n(IN({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:M}=_,P=Math.min(C,l.x+l.width),R=Math.min(M,l.y+l.height),U={x:s==="horizontal"?S.coordinate:P,y:s==="horizontal"?R:S.coordinate},B=IN({active:p.payload.active,coordinate:U,dataKey:p.payload.dataKey,index:String(S.index),label:p.payload.label});n(B)}}};return $0.on(BN,m),()=>{$0.off(BN,m)}},[d,n,t,e,r,i,s,l])}function sve(){var e=mt(R_),t=mt(P_),n=sr();N.useEffect(()=>{if(e==null)return Mz;var r=(i,s,l)=>{t!==l&&e===i&&n(rve(s))};return $0.on(MI,r),()=>{$0.off(MI,r)}},[n,t,e])}function ove(){var e=sr();N.useEffect(()=>{e(eve())},[e]),ave(),sve()}function lve(e,t,n,r,i,s){var l=mt(S=>Bxe(S,e,t)),d=mt(P_),m=mt(R_),h=mt(TU),p=mt(tve),v=p==null?void 0:p.active;N.useEffect(()=>{if(!v&&m!=null&&d!=null){var S=IN({active:s,coordinate:n,dataKey:l,index:i,label:typeof r=="number"?String(r):r});$0.emit(BN,m,S,d)}},[v,n,l,i,r,d,m,h,s])}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){cve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cve(e,t,n){return(t=uve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uve(e){var t=dve(e,"string");return typeof t=="symbol"?t:t+""}function dve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fve(e){return e.dataKey}function hve(e,t){return N.isValidElement(e)?N.cloneElement(e,t):typeof e=="function"?N.createElement(e,t):N.createElement(Ffe,t)}var II=[],mve={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!cu.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function hr(e){var t=cs(e,mve),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:l,filterNull:d,isAnimationActive:m,offset:h,payloadUniqBy:p,position:v,reverseDirection:S,useTranslate3d:A,wrapperStyle:T,cursor:_,shared:C,trigger:M,defaultIndex:P,portal:R,axisId:U}=t,B=sr(),L=typeof P=="number"?String(P):P;N.useEffect(()=>{B(qpe({shared:C,trigger:M,axisId:U,active:n,defaultIndex:L}))},[B,C,M,U,n,L]);var F=t_(),V=NF(),z=Upe(C),{activeIndex:H,isActive:W}=mt(Le=>zxe(Le,z,M,L)),q=mt(Le=>Uxe(Le,z,M,L)),Q=mt(Le=>_z(Le,z,M,L)),te=mt(Le=>Fxe(Le,z,M,L)),J=q,Y=Gxe(),ne=n??W,[se,me]=V9([J,ne]),re=z==="axis"?Q:void 0;lve(z,M,te,re,H,ne);var de=R??Y;if(de==null)return null;var oe=J??II;ne||(oe=II),d&&oe.length&&(oe=L9(J.filter(Le=>Le.value!=null&&(Le.hide!==!0||t.includeHidden)),p,fve));var he=oe.length>0,Re=N.createElement(Yfe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:m,active:ne,coordinate:te,hasPayload:he,offset:h,position:v,reverseDirection:S,useTranslate3d:A,viewBox:F,wrapperStyle:T,lastBoundingBox:se,innerRef:me,hasPortalFromProps:!!R},hve(l,PI(PI({},t),{},{payload:oe,label:re,active:ne,coordinate:te,accessibilityLayer:V})));return N.createElement(N.Fragment,null,Ed.createPortal(Re,de),ne&&N.createElement(Wxe,{cursor:_,tooltipEventType:z,coordinate:te,payload:J,index:H}))}var oj={},lj={},cj={},kI;function gve(){return kI||(kI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:s}={}){let l,d=null;const m=s!=null&&s.includes("leading"),h=s==null||s.includes("trailing"),p=()=>{d!==null&&(n.apply(l,d),l=void 0,d=null)},v=()=>{h&&p(),_()};let S=null;const A=()=>{S!=null&&clearTimeout(S),S=setTimeout(()=>{S=null,v()},r)},T=()=>{S!==null&&(clearTimeout(S),S=null)},_=()=>{T(),l=void 0,d=null},C=()=>{p()},M=function(...P){if(i!=null&&i.aborted)return;l=this,d=P;const R=S==null;A(),m&&R&&p()};return M.schedule=A,M.cancel=_,M.flush=C,i==null||i.addEventListener("abort",_,{once:!0}),M}e.debounce=t}(cj)),cj}var LI;function pve(){return LI||(LI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gve();function n(r,i=0,s={}){typeof s!="object"&&(s={});const{leading:l=!1,trailing:d=!0,maxWait:m}=s,h=Array(2);l&&(h[0]="leading"),d&&(h[1]="trailing");let p,v=null;const S=t.debounce(function(..._){p=r.apply(this,_),v=null},i,{edges:h}),A=function(..._){return m!=null&&(v===null&&(v=Date.now()),Date.now()-v>=m)?(p=r.apply(this,_),v=Date.now(),S.cancel(),S.schedule(),p):(S.apply(this,_),p)},T=()=>(S.flush(),p);return A.cancel=S.cancel,A.flush=T,A}e.debounce=n}(lj)),lj}var BI;function xve(){return BI||(BI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pve();function n(r,i=0,s={}){const{leading:l=!0,trailing:d=!0}=s;return t.debounce(r,i,{leading:l,maxWait:i,trailing:d})}e.throttle=n}(oj)),oj}var uj,FI;function vve(){return FI||(FI=1,uj=xve().throttle),uj}var yve=vve();const bve=Ia(yve);var x0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function UI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UI(Object(n),!0).forEach(function(r){wve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wve(e,t,n){return(t=jve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jve(e){var t=Sve(e,"string");return typeof t=="symbol"?t:t+""}function Sve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aa=N.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:l=0,minHeight:d,maxHeight:m,children:h,debounce:p=0,id:v,className:S,onResize:A,style:T={}}=e,_=N.useRef(null),C=N.useRef();C.current=A,N.useImperativeHandle(t,()=>_.current);var[M,P]=N.useState({containerWidth:r.width,containerHeight:r.height}),R=N.useCallback((B,L)=>{P(F=>{var V=Math.round(B),z=Math.round(L);return F.containerWidth===V&&F.containerHeight===z?F:{containerWidth:V,containerHeight:z}})},[]);N.useEffect(()=>{var B=z=>{var H,{width:W,height:q}=z[0].contentRect;R(W,q),(H=C.current)===null||H===void 0||H.call(C,W,q)};p>0&&(B=bve(B,p,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),{width:F,height:V}=_.current.getBoundingClientRect();return R(F,V),L.observe(_.current),()=>{L.disconnect()}},[R,p]);var U=N.useMemo(()=>{var{containerWidth:B,containerHeight:L}=M;if(B<0||L<0)return null;x0(Zu(i)||Zu(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),x0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var F=Zu(i)?B:i,V=Zu(s)?L:s;return n&&n>0&&(F?V=F/n:V&&(F=V*n),m&&V>m&&(V=m)),x0(F>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,F,V,i,s,l,d,n),N.Children.map(h,z=>N.cloneElement(z,{width:F,height:V,style:dj({width:F,height:V},z.props.style)}))},[n,h,s,m,d,l,M,i]);return N.createElement("div",{id:v?"".concat(v):void 0,className:tn("recharts-responsive-container",S),style:dj(dj({},T),{},{width:i,height:s,minWidth:l,minHeight:d,maxHeight:m}),ref:_},N.createElement("div",{style:{width:0,height:0,overflow:"visible"}},U))}),ru=e=>null;ru.displayName="Cell";function zI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function FN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zI(Object(n),!0).forEach(function(r){Nve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nve(e,t,n){return(t=Ave(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ave(e){var t=Eve(e,"string");return typeof t=="symbol"?t:t+""}function Eve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bf={widthCache:{},cacheCount:0},_ve=2e3,Cve={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},VI="recharts_measurement_span";function Tve(e){var t=FN({},e);return Object.keys(t).forEach(n=>{t[n]||delete t[n]}),t}var v0=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||cu.isSsr)return{width:0,height:0};var r=Tve(n),i=JSON.stringify({text:t,copyStyle:r});if(Bf.widthCache[i])return Bf.widthCache[i];try{var s=document.getElementById(VI);s||(s=document.createElement("span"),s.setAttribute("id",VI),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var l=FN(FN({},Cve),r);Object.assign(s.style,l),s.textContent="".concat(t);var d=s.getBoundingClientRect(),m={width:d.width,height:d.height};return Bf.widthCache[i]=m,++Bf.cacheCount>_ve&&(Bf.cacheCount=0,Bf.widthCache={}),m}catch{return{width:0,height:0}}},$I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,HI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ove=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mve=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Dz={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Dve=Object.keys(Dz),Kf="NaN";function Rve(e,t){return e*Dz[t]}class Ea{static parse(t){var n,[,r,i]=(n=Mve.exec(t))!==null&&n!==void 0?n:[];return new Ea(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Pa(t)&&(this.unit=""),n!==""&&!Ove.test(n)&&(this.num=NaN,this.unit=""),Dve.includes(n)&&(this.num=Rve(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ea(NaN,""):new Ea(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pa(this.num)}}function Rz(e){if(e.includes(Kf))return Kf;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,s]=(n=$I.exec(t))!==null&&n!==void 0?n:[],l=Ea.parse(r??""),d=Ea.parse(s??""),m=i==="*"?l.multiply(d):l.divide(d);if(m.isNaN())return Kf;t=t.replace($I,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var h,[,p,v,S]=(h=HI.exec(t))!==null&&h!==void 0?h:[],A=Ea.parse(p??""),T=Ea.parse(S??""),_=v==="+"?A.add(T):A.subtract(T);if(_.isNaN())return Kf;t=t.replace(HI,_.toString())}return t}var qI=/\(([^()]*)\)/;function Pve(e){for(var t=e,n;(n=qI.exec(t))!=null;){var[,r]=n;t=t.replace(qI,Rz(r))}return t}function Ive(e){var t=e.replace(/\s+/g,"");return t=Pve(t),t=Rz(t),t}function kve(e){try{return Ive(e)}catch{return Kf}}function fj(e){var t=kve(e.slice(5,-1));return t===Kf?"":t}var Lve=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Bve=["dx","dy","angle","className","breakAll"];function UN(){return UN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},UN.apply(null,arguments)}function YI(e,t){if(e==null)return{};var n,r,i=Fve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pz=/[ \f\n\r\t\v\u2028\u2029]+/,Iz=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];Rn(t)||(n?i=t.toString().split(""):i=t.toString().split(Pz));var s=i.map(d=>({word:d,width:v0(d,r).width})),l=n?0:v0(" ",r).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},Uve=(e,t,n,r,i)=>{var{maxLines:s,children:l,style:d,breakAll:m}=e,h=nt(s),p=l,v=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce((q,Q)=>{var{word:te,width:J}=Q,Y=q[q.length-1];if(Y&&(r==null||i||Y.width+J+n<Number(r)))Y.words.push(te),Y.width+=J+n;else{var ne={words:[te],width:J};q.push(ne)}return q},[])},S=v(t),A=H=>H.reduce((W,q)=>W.width>q.width?W:q);if(!h||i)return S;var T=S.length>s||A(S).width>Number(r);if(!T)return S;for(var _="…",C=H=>{var W=p.slice(0,H),q=Iz({breakAll:m,style:d,children:W+_}).wordsWithComputedWidth,Q=v(q),te=Q.length>s||A(Q).width>Number(r);return[te,Q]},M=0,P=p.length-1,R=0,U;M<=P&&R<=p.length-1;){var B=Math.floor((M+P)/2),L=B-1,[F,V]=C(L),[z]=C(B);if(!F&&!z&&(M=B+1),F&&z&&(P=B-1),!F&&z){U=V;break}R++}return U||S},WI=e=>{var t=Rn(e)?[]:e.toString().split(Pz);return[{words:t}]},zve=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:l}=e;if((t||n)&&!cu.isSsr){var d,m,h=Iz({breakAll:s,children:r,style:i});if(h){var{wordsWithComputedWidth:p,spaceWidth:v}=h;d=p,m=v}else return WI(r);return Uve({breakAll:s,children:r,maxLines:l,style:i},d,m,t,n)}return WI(r)},GI="#808080",W1=N.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:l=!1,textAnchor:d="start",verticalAnchor:m="end",fill:h=GI}=e,p=YI(e,Lve),v=N.useMemo(()=>zve({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:l,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,l,p.style,p.width]),{dx:S,dy:A,angle:T,className:_,breakAll:C}=p,M=YI(p,Bve);if(!Yo(n)||!Yo(r))return null;var P=n+(nt(S)?S:0),R=r+(nt(A)?A:0),U;switch(m){case"start":U=fj("calc(".concat(s,")"));break;case"middle":U=fj("calc(".concat((v.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:U=fj("calc(".concat(v.length-1," * -").concat(i,")"));break}var B=[];if(l){var L=v[0].width,{width:F}=p;B.push("scale(".concat(nt(F)?F/L:1,")"))}return T&&B.push("rotate(".concat(T,", ").concat(P,", ").concat(R,")")),B.length&&(M.transform=B.join(" ")),N.createElement("text",UN({},zt(M,!0),{ref:t,x:P,y:R,className:tn("recharts-text",_),textAnchor:d,fill:h.includes("url")?GI:h}),v.map((V,z)=>{var H=V.words.join(C?"":" ");return N.createElement("tspan",{x:P,dy:z===0?U:i,key:"".concat(H,"-").concat(z)},H)}))});W1.displayName="Text";var Vve=["offset"],$ve=["labelRef"];function KI(e,t){if(e==null)return{};var n,r,i=Hve(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hve(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function XI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XI(Object(n),!0).forEach(function(r){qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qve(e,t,n){return(t=Yve(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yve(e){var t=Wve(e,"string");return typeof t=="symbol"?t:t+""}function Wve(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Al(){return Al=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Al.apply(null,arguments)}var Gve=e=>{var{value:t,formatter:n}=e,r=Rn(e.children)?t:e.children;return typeof n=="function"?n(r):r},uC=e=>e!=null&&typeof e=="function",Kve=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Xve=(e,t,n)=>{var{position:r,viewBox:i,offset:s,className:l}=e,{cx:d,cy:m,innerRadius:h,outerRadius:p,startAngle:v,endAngle:S,clockWise:A}=i,T=(h+p)/2,_=Kve(v,S),C=_>=0?1:-1,M,P;r==="insideStart"?(M=v+C*s,P=A):r==="insideEnd"?(M=S-C*s,P=!A):r==="end"&&(M=S+C*s,P=A),P=_<=0?P:!P;var R=Zr(d,m,T,M),U=Zr(d,m,T,M+(P?1:-1)*359),B="M".concat(R.x,",").concat(R.y,`
    A`).concat(T,",").concat(T,",0,1,").concat(P?0:1,`,
    `).concat(U.x,",").concat(U.y),L=Rn(e.id)?tu("recharts-radial-line-"):e.id;return N.createElement("text",Al({},n,{dominantBaseline:"central",className:tn("recharts-radial-bar-label",l)}),N.createElement("defs",null,N.createElement("path",{id:L,d:B})),N.createElement("textPath",{xlinkHref:"#".concat(L)},t))},Qve=e=>{var{viewBox:t,offset:n,position:r}=e,{cx:i,cy:s,innerRadius:l,outerRadius:d,startAngle:m,endAngle:h}=t,p=(m+h)/2;if(r==="outside"){var{x:v,y:S}=Zr(i,s,d+n,p);return{x:v,y:S,textAnchor:v>=i?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:i,y:s,textAnchor:"middle",verticalAnchor:"end"};var A=(l+d)/2,{x:T,y:_}=Zr(i,s,A,p);return{x:T,y:_,textAnchor:"middle",verticalAnchor:"middle"}},Zve=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,{x:s,y:l,width:d,height:m}=t,h=m>=0?1:-1,p=h*r,v=h>0?"end":"start",S=h>0?"start":"end",A=d>=0?1:-1,T=A*r,_=A>0?"end":"start",C=A>0?"start":"end";if(i==="top"){var M={x:s+d/2,y:l-h*r,textAnchor:"middle",verticalAnchor:v};return Wr(Wr({},M),n?{height:Math.max(l-n.y,0),width:d}:{})}if(i==="bottom"){var P={x:s+d/2,y:l+m+p,textAnchor:"middle",verticalAnchor:S};return Wr(Wr({},P),n?{height:Math.max(n.y+n.height-(l+m),0),width:d}:{})}if(i==="left"){var R={x:s-T,y:l+m/2,textAnchor:_,verticalAnchor:"middle"};return Wr(Wr({},R),n?{width:Math.max(R.x-n.x,0),height:m}:{})}if(i==="right"){var U={x:s+d+T,y:l+m/2,textAnchor:C,verticalAnchor:"middle"};return Wr(Wr({},U),n?{width:Math.max(n.x+n.width-U.x,0),height:m}:{})}var B=n?{width:d,height:m}:{};return i==="insideLeft"?Wr({x:s+T,y:l+m/2,textAnchor:C,verticalAnchor:"middle"},B):i==="insideRight"?Wr({x:s+d-T,y:l+m/2,textAnchor:_,verticalAnchor:"middle"},B):i==="insideTop"?Wr({x:s+d/2,y:l+p,textAnchor:"middle",verticalAnchor:S},B):i==="insideBottom"?Wr({x:s+d/2,y:l+m-p,textAnchor:"middle",verticalAnchor:v},B):i==="insideTopLeft"?Wr({x:s+T,y:l+p,textAnchor:C,verticalAnchor:S},B):i==="insideTopRight"?Wr({x:s+d-T,y:l+p,textAnchor:_,verticalAnchor:S},B):i==="insideBottomLeft"?Wr({x:s+T,y:l+m-p,textAnchor:C,verticalAnchor:v},B):i==="insideBottomRight"?Wr({x:s+d-T,y:l+m-p,textAnchor:_,verticalAnchor:v},B):i&&typeof i=="object"&&(nt(i.x)||Zu(i.x))&&(nt(i.y)||Zu(i.y))?Wr({x:s+ca(i.x,d),y:l+ca(i.y,m),textAnchor:"end",verticalAnchor:"end"},B):Wr({x:s+d/2,y:l+m/2,textAnchor:"middle",verticalAnchor:"middle"},B)},Jve=e=>"cx"in e&&nt(e.cx);function ts(e){var{offset:t=5}=e,n=KI(e,Vve),r=Wr({offset:t},n),{viewBox:i,position:s,value:l,children:d,content:m,className:h="",textBreakAll:p,labelRef:v}=r,S=t_(),A=i||S;if(!A||Rn(l)&&Rn(d)&&!N.isValidElement(m)&&typeof m!="function")return null;if(N.isValidElement(m)){var{labelRef:T}=r,_=KI(r,$ve);return N.cloneElement(m,_)}var C;if(typeof m=="function"){if(C=N.createElement(m,r),N.isValidElement(C))return C}else C=Gve(r);var M=Jve(A),P=zt(r,!0);if(M&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Xve(r,C,P);var R=M?Qve(r):Zve(r,A);return N.createElement(W1,Al({ref:v,className:tn("recharts-label",h)},P,R,{breakAll:p}),C)}ts.displayName="Label";var kz=e=>{var{cx:t,cy:n,angle:r,startAngle:i,endAngle:s,r:l,radius:d,innerRadius:m,outerRadius:h,x:p,y:v,top:S,left:A,width:T,height:_,clockWise:C,labelViewBox:M}=e;if(M)return M;if(nt(T)&&nt(_)){if(nt(p)&&nt(v))return{x:p,y:v,width:T,height:_};if(nt(S)&&nt(A))return{x:S,y:A,width:T,height:_}}if(nt(p)&&nt(v))return{x:p,y:v,width:0,height:0};if(nt(t)&&nt(n))return{cx:t,cy:n,startAngle:i||r||0,endAngle:s||r||0,innerRadius:m||0,outerRadius:h||d||l||0,clockWise:C};if(e.viewBox)return e.viewBox},e1e=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?N.createElement(ts,Al({key:"label-implicit"},r)):Yo(e)?N.createElement(ts,Al({key:"label-implicit",value:e},r)):N.isValidElement(e)?e.type===ts?N.cloneElement(e,Wr({key:"label-implicit"},r)):N.createElement(ts,Al({key:"label-implicit",content:e},r)):uC(e)?N.createElement(ts,Al({key:"label-implicit",content:e},r)):e&&typeof e=="object"?N.createElement(ts,Al({},e,{key:"label-implicit"},r)):null},t1e=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:i,labelRef:s}=t,l=kz(t),d=fg(i,ts).map((h,p)=>N.cloneElement(h,{viewBox:n||l,key:"label-".concat(p)}));if(!r)return d;var m=e1e(t.label,n||l,s);return[m,...d]};ts.parseViewBox=kz;ts.renderCallByParent=t1e;var hj={},mj={},QI;function n1e(){return QI||(QI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(mj)),mj}var gj={},ZI;function r1e(){return ZI||(ZI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(gj)),gj}var JI;function i1e(){return JI||(JI=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n1e(),n=r1e(),r=zE();function i(s){if(r.isArrayLike(s))return t.last(n.toArray(s))}e.last=i}(hj)),hj}var pj,ek;function a1e(){return ek||(ek=1,pj=i1e().last),pj}var s1e=a1e();const o1e=Ia(s1e);var l1e=["valueAccessor"],c1e=["data","dataKey","clockWise","id","textBreakAll"];function Ev(){return Ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ev.apply(null,arguments)}function tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tk(Object(n),!0).forEach(function(r){u1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u1e(e,t,n){return(t=d1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d1e(e){var t=f1e(e,"string");return typeof t=="symbol"?t:t+""}function f1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rk(e,t){if(e==null)return{};var n,r,i=h1e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h1e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var m1e=e=>Array.isArray(e.value)?o1e(e.value):e.value;function Rl(e){var{valueAccessor:t=m1e}=e,n=rk(e,l1e),{data:r,dataKey:i,clockWise:s,id:l,textBreakAll:d}=n,m=rk(n,c1e);return!r||!r.length?null:N.createElement(wr,{className:"recharts-label-list"},r.map((h,p)=>{var v=Rn(i)?t(h,p):Fn(h&&h.payload,i),S=Rn(l)?{}:{id:"".concat(l,"-").concat(p)};return N.createElement(ts,Ev({},zt(h,!0),m,S,{parentViewBox:h.parentViewBox,value:v,textBreakAll:d,viewBox:ts.parseViewBox(Rn(s)?h:nk(nk({},h),{},{clockWise:s})),key:"label-".concat(p),index:p}))}))}Rl.displayName="LabelList";function g1e(e,t){return e?e===!0?N.createElement(Rl,{key:"labelList-implicit",data:t}):N.isValidElement(e)||uC(e)?N.createElement(Rl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?N.createElement(Rl,Ev({data:t},e,{key:"labelList-implicit"})):null:null}function p1e(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,i=fg(r,Rl).map((l,d)=>N.cloneElement(l,{data:t,key:"labelList-".concat(d)}));if(!n)return i;var s=g1e(e.label,t);return[s,...i]}Rl.renderCallByParent=p1e;function zN(){return zN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zN.apply(null,arguments)}var dC=e=>{var{cx:t,cy:n,r,className:i}=e,s=tn("recharts-dot",i);return t===+t&&n===+n&&r===+r?N.createElement("circle",zN({},zt(e,!1),RE(e),{className:s,cx:t,cy:n,r})):null},Lz=e=>e.graphicalItems.polarItems,x1e=Pe([zr,bg],F_),fC=Pe([Lz,Vr,x1e],U_),v1e=Pe([fC],z_),hC=Pe([v1e,T_],V_),y1e=Pe([hC,Vr,fC],$_),b1e=Pe([hC,Vr,fC],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var s,l=Fn(r,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:l,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Fn(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),ik=()=>{},w1e=Pe([Vr,YU,ik,b1e,ik],Y_),Bz=Pe([Vr,un,hC,y1e,yg,zr,w1e],W_),j1e=Pe([Bz,Vr,Fh],X_);Pe([Vr,Bz,j1e,zr],Z_);var S1e={radiusAxis:{},angleAxis:{}},Fz=ks({name:"polarAxis",initialState:S1e,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:BEe,removeRadiusAxis:FEe,addAngleAxis:UEe,removeAngleAxis:zEe}=Fz.actions,N1e=Fz.reducer;function ak(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ak(Object(n),!0).forEach(function(r){A1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ak(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A1e(e,t,n){return(t=E1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E1e(e){var t=_1e(e,"string");return typeof t=="symbol"?t:t+""}function _1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mC=(e,t)=>t,C1e=[],gC=(e,t,n)=>(n==null?void 0:n.length)===0?C1e:n,Uz=Pe([T_,mC,gC],(e,t,n)=>{var{chartData:r}=e,i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>sk(sk({},t.presentationProps),s.props))),i!=null)return i}),T1e=Pe([Uz,mC,gC],(e,t,n)=>{if(e!=null)return e.map((r,i)=>{var s,l=Fn(r,t.nameKey,t.name),d;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?d=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:lu(l,t.dataKey),color:d,payload:r,type:t.legendType}})}),O1e=Pe([Lz,mC],(e,t)=>{if(e.some(n=>n.type==="pie"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),M1e=Pe([Uz,O1e,gC,ui],(e,t,n,r)=>{if(!(t==null||e==null))return jye({offset:r,pieSettings:t,displayedData:e,cells:n})}),D1e={countOfBars:0,cartesianItems:[],polarItems:[]},zz=ks({name:"graphicalItems",initialState:D1e,reducers:{addBar(e){e.countOfBars+=1},removeBar(e){e.countOfBars-=1},addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,i=Ml(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},removeCartesianGraphicalItem(e,t){var n=Ml(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Ml(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addBar:R1e,removeBar:P1e,addCartesianGraphicalItem:I1e,replaceCartesianGraphicalItem:k1e,removeCartesianGraphicalItem:L1e,addPolarGraphicalItem:B1e,removePolarGraphicalItem:F1e}=zz.actions,U1e=zz.reducer;function ok(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function lk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ok(Object(n),!0).forEach(function(r){z1e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ok(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function z1e(e,t,n){return(t=V1e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function V1e(e){var t=$1e(e,"string");return typeof t=="symbol"?t:t+""}function $1e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H1e(e){var t=sr(),n=N.useRef(null);return N.useEffect(()=>{var r=lk(lk({},e),{},{stackId:ZE(e.stackId)});n.current===null?t(I1e(r)):n.current!==r&&t(k1e({prev:n.current,next:r})),n.current=r},[t,e]),N.useEffect(()=>()=>{n.current&&(t(L1e(n.current)),n.current=null)},[t]),null}function q1e(e){var t=sr();return N.useEffect(()=>(t(B1e(e)),()=>{t(F1e(e))}),[t,e]),null}var xj={},ck;function Y1e(){return ck||(ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(xj)),xj}var vj,uk;function W1e(){return uk||(uk=1,vj=Y1e().isPlainObject),vj}var G1e=W1e();const K1e=Ia(G1e);function _v(){return _v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_v.apply(null,arguments)}var dk=(e,t,n,r,i)=>{var s=n-r,l;return l="M ".concat(e,",").concat(t),l+="L ".concat(e+n,",").concat(t),l+="L ".concat(e+n-s/2,",").concat(t+i),l+="L ".concat(e+n-s/2-r,",").concat(t+i),l+="L ".concat(e,",").concat(t," Z"),l},X1e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Q1e=e=>{var t=cs(e,X1e),n=N.useRef(),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&i(C)}catch{}},[]);var{x:s,y:l,upperWidth:d,lowerWidth:m,height:h,className:p}=t,{animationEasing:v,animationDuration:S,animationBegin:A,isUpdateAnimationActive:T}=t;if(s!==+s||l!==+l||d!==+d||m!==+m||h!==+h||d===0&&m===0||h===0)return null;var _=tn("recharts-trapezoid",p);return T?N.createElement(Vl,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:h,x:s,y:l},to:{upperWidth:d,lowerWidth:m,height:h,x:s,y:l},duration:S,animationEasing:v,isActive:T},C=>{var{upperWidth:M,lowerWidth:P,height:R,x:U,y:B}=C;return N.createElement(Vl,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:S,easing:v},N.createElement("path",_v({},zt(t,!0),{className:_,d:dk(U,B,M,P,R),ref:n})))}):N.createElement("g",null,N.createElement("path",_v({},zt(t,!0),{className:_,d:dk(s,l,d,m,h)})))},Z1e=["option","shapeType","propTransformer","activeClassName","isActive"];function J1e(e,t){if(e==null)return{};var n,r,i=eye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function eye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function fk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fk(Object(n),!0).forEach(function(r){tye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tye(e,t,n){return(t=nye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nye(e){var t=rye(e,"string");return typeof t=="symbol"?t:t+""}function rye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iye(e,t){return Cv(Cv({},t),e)}function aye(e,t){return e==="symbols"}function hk(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return N.createElement(CF,n);case"trapezoid":return N.createElement(Q1e,n);case"sector":return N.createElement(MF,n);case"symbols":if(aye(t))return N.createElement(BE,n);break;default:return null}}function sye(e){return N.isValidElement(e)?e.props:e}function Vz(e){var{option:t,shapeType:n,propTransformer:r=iye,activeClassName:i="recharts-active-shape",isActive:s}=e,l=J1e(e,Z1e),d;if(N.isValidElement(t))d=N.cloneElement(t,Cv(Cv({},l),sye(t)));else if(typeof t=="function")d=t(l);else if(K1e(t)&&typeof t!="boolean"){var m=r(t,l);d=N.createElement(hk,{shapeType:n,elementProps:m})}else{var h=l;d=N.createElement(hk,{shapeType:n,elementProps:h})}return s?N.createElement(wr,{className:i},d):d}var pC=(e,t)=>{var n=sr();return(r,i)=>s=>{e==null||e(r,i,s),n(lz({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},xC=e=>{var t=sr();return(n,r)=>i=>{e==null||e(n,r,i),t(Ype())}},vC=(e,t)=>{var n=sr();return(r,i)=>s=>{e==null||e(r,i,s),n(Wpe({activeIndex:String(i),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function G1(e){var{fn:t,args:n}=e,r=sr(),i=Ji();return N.useEffect(()=>{if(!i){var s=t(n);return r($pe(s)),()=>{r(Hpe(s))}}},[t,n,r,i]),null}var $z=()=>{};function yC(e){var{legendPayload:t}=e,n=sr(),r=Ji();return N.useEffect(()=>r?$z:(n(jF(t)),()=>{n(SF(t))}),[n,r,t]),null}function oye(e){var{legendPayload:t}=e,n=sr(),r=mt(un);return N.useEffect(()=>r!=="centric"&&r!=="radial"?$z:(n(jF(t)),()=>{n(SF(t))}),[n,r,t]),null}function K1(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(tu(t)),r=N.useRef(e);return r.current!==e&&(n.current=tu(t),r.current=e),n.current}var lye=["onMouseEnter","onClick","onMouseLeave"];function cye(e,t){if(e==null)return{};var n,r,i=uye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mk(Object(n),!0).forEach(function(r){X1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X1(e,t,n){return(t=dye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dye(e){var t=fye(e,"string");return typeof t=="symbol"?t:t+""}function fye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sd(){return Sd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sd.apply(null,arguments)}function hye(e){var t=N.useMemo(()=>zt(e,!1),[e]),n=N.useMemo(()=>fg(e.children,ru),[e.children]),r=N.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:t}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,t]),i=mt(s=>T1e(s,r,n));return N.createElement(oye,{legendPayload:i})}function mye(e){var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:l,name:d,hide:m,tooltipType:h}=e;return{dataDefinedOnItem:r==null?void 0:r.map(p=>p.tooltipPayload),positions:r==null?void 0:r.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:l,dataKey:t,nameKey:n,name:lu(d,t),hide:m,type:h,color:l,unit:""}}}var gye=(e,t)=>e>t?"start":e<t?"end":"middle",pye=(e,t,n)=>typeof t=="function"?t(e):ca(t,n,n*.8),xye=(e,t,n)=>{var{top:r,left:i,width:s,height:l}=t,d=hF(s,l),m=i+ca(e.cx,s,s/2),h=r+ca(e.cy,l,l/2),p=ca(e.innerRadius,d,0),v=pye(n,e.outerRadius,d),S=e.maxRadius||Math.sqrt(s*s+l*l)/2;return{cx:m,cy:h,innerRadius:p,outerRadius:v,maxRadius:S}},vye=(e,t)=>{var n=wi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},yye=(e,t)=>{if(N.isValidElement(e))return N.cloneElement(e,t);if(typeof e=="function")return e(t);var n=tn("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return N.createElement(nh,Sd({},t,{type:"linear",className:n}))},bye=(e,t,n)=>{if(N.isValidElement(e))return N.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),N.isValidElement(r)))return r;var i=tn("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return N.createElement(W1,Sd({},t,{alignmentBaseline:"middle",className:i}),r)};function wye(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:s,dataKey:l}=n;if(!r||!i||!t)return null;var d=zt(n,!1),m=zt(i,!1),h=zt(s,!1),p=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,v=t.map((S,A)=>{var T=(S.startAngle+S.endAngle)/2,_=Zr(S.cx,S.cy,S.outerRadius+p,T),C=Tr(Tr(Tr(Tr({},d),S),{},{stroke:"none"},m),{},{index:A,textAnchor:gye(_.x,S.cx)},_),M=Tr(Tr(Tr(Tr({},d),S),{},{fill:"none",stroke:S.fill},h),{},{index:A,points:[Zr(S.cx,S.cy,S.outerRadius,T),_],key:"line"});return N.createElement(wr,{key:"label-".concat(S.startAngle,"-").concat(S.endAngle,"-").concat(S.midAngle,"-").concat(A)},s&&yye(s,M),bye(i,C,Fn(S,l)))});return N.createElement(wr,{className:"recharts-pie-labels"},v)}function Hz(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=e,l=mt(nu),{onMouseEnter:d,onClick:m,onMouseLeave:h}=i,p=cye(i,lye),v=pC(d,i.dataKey),S=xC(h),A=vC(m,i.dataKey);return t==null?null:N.createElement(N.Fragment,null,t.map((T,_)=>{if((T==null?void 0:T.startAngle)===0&&(T==null?void 0:T.endAngle)===0&&t.length!==1)return null;var C=n&&String(_)===l,M=l?r:null,P=C?n:M,R=Tr(Tr({},T),{},{stroke:T.stroke,tabIndex:-1,[xF]:_,[vF]:i.dataKey});return N.createElement(wr,Sd({tabIndex:-1,className:"recharts-pie-sector"},dg(p,T,_),{onMouseEnter:v(T,_),onMouseLeave:S(T,_),onClick:A(T,_),key:"sector-".concat(T==null?void 0:T.startAngle,"-").concat(T==null?void 0:T.endAngle,"-").concat(T.midAngle,"-").concat(_)}),N.createElement(Vz,Sd({option:P,isActive:C,shapeType:"sector"},R)))}),N.createElement(wye,{sectors:t,props:i,showLabels:s}))}function jye(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:s}=e,{cornerRadius:l,startAngle:d,endAngle:m,dataKey:h,nameKey:p,tooltipType:v}=n,S=Math.abs(n.minAngle),A=vye(d,m),T=Math.abs(A),_=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,C=r.filter(L=>Fn(L,h,0)!==0).length,M=(T>=360?C:C-1)*_,P=T-C*S-M,R=r.reduce((L,F)=>{var V=Fn(F,h,0);return L+(nt(V)?V:0)},0),U;if(R>0){var B;U=r.map((L,F)=>{var V=Fn(L,h,0),z=Fn(L,p,F),H=xye(n,s,L),W=(nt(V)?V:0)/R,q,Q=Tr(Tr({},L),i&&i[F]&&i[F].props);F?q=B.endAngle+wi(A)*_*(V!==0?1:0):q=d;var te=q+wi(A)*((V!==0?S:0)+W*P),J=(q+te)/2,Y=(H.innerRadius+H.outerRadius)/2,ne=[{name:z,value:V,payload:Q,dataKey:h,type:v}],se=Zr(H.cx,H.cy,Y,J);return B=Tr(Tr(Tr(Tr({},n.presentationProps),{},{percent:W,cornerRadius:l,name:z,tooltipPayload:ne,midAngle:J,middleRadius:Y,tooltipPosition:se},Q),H),{},{value:Fn(L,h),startAngle:q,endAngle:te,payload:Q,paddingAngle:wi(A)*_}),B})}return U}function Sye(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:d,activeShape:m,inactiveShape:h,onAnimationStart:p,onAnimationEnd:v}=t,S=K1(t,"recharts-pie-"),A=n.current,[T,_]=N.useState(!0),C=N.useCallback(()=>{typeof v=="function"&&v(),_(!1)},[v]),M=N.useCallback(()=>{typeof p=="function"&&p(),_(!0)},[p]);return N.createElement(Vl,{begin:s,duration:l,isActive:i,easing:d,from:{t:0},to:{t:1},onAnimationStart:M,onAnimationEnd:C,key:S},P=>{var{t:R}=P,U=[],B=r&&r[0],L=B.startAngle;return r.forEach((F,V)=>{var z=A&&A[V],H=V>0?eu(F,"paddingAngle",0):0;if(z){var W=es(z.endAngle-z.startAngle,F.endAngle-F.startAngle),q=Tr(Tr({},F),{},{startAngle:L+H,endAngle:L+W(R)+H});U.push(q),L=q.endAngle}else{var{endAngle:Q,startAngle:te}=F,J=es(0,Q-te),Y=J(R),ne=Tr(Tr({},F),{},{startAngle:L+H,endAngle:L+Y+H});U.push(ne),L=ne.endAngle}}),n.current=U,N.createElement(wr,null,N.createElement(Hz,{sectors:U,activeShape:m,inactiveShape:h,allOtherPieProps:t,showLabels:!T}))})}function Nye(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:i}=e,s=N.useRef(null),l=s.current;return n&&t&&t.length&&(!l||l!==t)?N.createElement(Sye,{props:e,previousSectorsRef:s}):N.createElement(Hz,{sectors:t,activeShape:r,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function Aye(e){var{hide:t,className:n,rootTabIndex:r}=e,i=tn("recharts-pie",n);return t?null:N.createElement(wr,{tabIndex:r,className:i},N.createElement(Nye,e))}var qz={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!cu.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Eye(e){var t=cs(e,qz),n=N.useMemo(()=>fg(e.children,ru),[e.children]),r=zt(t,!1),i=N.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:r}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,r]),s=mt(l=>M1e(l,i,n));return N.createElement(N.Fragment,null,N.createElement(G1,{fn:mye,args:Tr(Tr({},t),{},{sectors:s})}),N.createElement(Aye,Sd({},t,{sectors:s})))}class vh extends N.PureComponent{constructor(){super(...arguments),X1(this,"id",tu("recharts-pie-"))}render(){return N.createElement(N.Fragment,null,N.createElement(q1e,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),N.createElement(hye,this.props),N.createElement(Eye,this.props),this.props.children)}}X1(vh,"displayName","Pie");X1(vh,"defaultProps",qz);var _ye=Pe([ui],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Cye=Pe([_ye,Gl,Kl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),Tye=e=>{var t=Ji();return mt(n=>Ps(n,"xAxis",e,t))},Oye=e=>{var t=Ji();return mt(n=>Ps(n,"yAxis",e,t))},Q1=()=>mt(Cye),Mye=()=>mt(Mxe);function gk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function pk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gk(Object(n),!0).forEach(function(r){Dye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dye(e,t,n){return(t=Rye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rye(e){var t=Pye(e,"string");return typeof t=="symbol"?t:t+""}function Pye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iye=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var l=pk(pk({index:n,dataKey:s,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},zt(i,!1)),RE(i)),d;return N.isValidElement(i)?d=N.cloneElement(i,l):typeof i=="function"?d=i(l):d=N.createElement(dC,l),N.createElement(wr,{className:"recharts-active-dot"},d)};function VN(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i}=e,s=mt(nu),l=Mye();if(t==null||l==null)return null;var d=t.find(m=>l.includes(m.payload));return Rn(d)?null:Iye({point:d,childIndex:Number(s),mainColor:n,dataKey:i,activeDot:r})}var kye=()=>{var e=sr();return N.useEffect(()=>(e(R1e()),()=>{e(P1e())})),null},Lye=["children"];function Bye(e,t){if(e==null)return{};var n,r,i=Fye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Fye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var xk=()=>{},Yz=N.createContext({addErrorBar:xk,removeErrorBar:xk}),Uye={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Wz=N.createContext(Uye);function Gz(e){var{children:t}=e,n=Bye(e,Lye);return N.createElement(Wz.Provider,{value:n},t)}var zye=()=>N.useContext(Wz),bC=e=>{var{children:t,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,data:l,stackId:d,hide:m,type:h,barSize:p}=e,[v,S]=N.useState([]),A=N.useCallback(C=>{S(M=>[...M,C])},[S]),T=N.useCallback(C=>{S(M=>M.filter(P=>P!==C))},[S]),_=Ji();return N.createElement(Yz.Provider,{value:{addErrorBar:A,removeErrorBar:T}},N.createElement(H1e,{type:h,data:l,xAxisId:n,yAxisId:r,zAxisId:i,dataKey:s,errorBars:v,stackId:d,hide:m,barSize:p,isPanorama:_}),t)};function Vye(e){var{addErrorBar:t,removeErrorBar:n}=N.useContext(Yz);return N.useEffect(()=>(t(e),()=>{n(e)}),[t,n,e]),null}var $ye=["direction","width","dataKey","isAnimationActive","animationBegin","animationDuration","animationEasing"];function Kz(e,t,n){return(t=Hye(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hye(e){var t=qye(e,"string");return typeof t=="symbol"?t:t+""}function qye(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}function Yye(e,t){if(e==null)return{};var n,r,i=Wye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Wye(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Gye(e){var{direction:t,width:n,dataKey:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:d}=e,m=Yye(e,$ye),h=zt(m,!1),{data:p,dataPointFormatter:v,xAxisId:S,yAxisId:A,errorBarOffset:T}=zye(),_=Tye(S),C=Oye(A);if((_==null?void 0:_.scale)==null||(C==null?void 0:C.scale)==null||p==null||t==="x"&&_.type!=="number")return null;var M=p.map(P=>{var{x:R,y:U,value:B,errorVal:L}=v(P,r,t);if(!L)return null;var F=[],V,z;if(Array.isArray(L)?[V,z]=L:V=z=L,t==="x"){var{scale:H}=_,W=U+T,q=W+n,Q=W-n,te=H(B-V),J=H(B+z);F.push({x1:J,y1:q,x2:J,y2:Q}),F.push({x1:te,y1:W,x2:J,y2:W}),F.push({x1:te,y1:q,x2:te,y2:Q})}else if(t==="y"){var{scale:Y}=C,ne=R+T,se=ne-n,me=ne+n,re=Y(B-V),de=Y(B+z);F.push({x1:se,y1:de,x2:me,y2:de}),F.push({x1:ne,y1:re,x2:ne,y2:de}),F.push({x1:se,y1:re,x2:me,y2:re})}var oe="".concat(R+T,"px ").concat(U+T,"px");return N.createElement(wr,H0({className:"recharts-errorBar",key:"bar-".concat(F.map(he=>"".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2)))},h),F.map(he=>{var Re=i?{transformOrigin:"".concat(he.x1-5,"px")}:void 0;return N.createElement(Vl,{from:{transform:"scaleY(0)",transformOrigin:oe},to:{transform:"scaleY(1)",transformOrigin:oe},begin:s,easing:d,isActive:i,duration:l,key:"line-".concat(he.x1,"-").concat(he.x2,"-").concat(he.y1,"-").concat(he.y2),style:{transformOrigin:oe}},N.createElement("line",H0({},he,{style:Re})))}))});return N.createElement(wr,{className:"recharts-errorBars"},M)}var Xz=N.createContext(void 0);function Kye(e){var t=N.useContext(Xz);return e??t??"x"}function Qz(e){var{direction:t,children:n}=e;return N.createElement(Xz.Provider,{value:t},n)}var Zz={stroke:"black",strokeWidth:1.5,width:5,offset:0,isAnimationActive:!0,animationBegin:0,animationDuration:400,animationEasing:"ease-in-out"};function Xye(e){var t=Kye(e.direction),{width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:l}=cs(e,Zz);return N.createElement(N.Fragment,null,N.createElement(Vye,{dataKey:e.dataKey,direction:t}),N.createElement(Gye,H0({},e,{direction:t,width:n,isAnimationActive:r,animationBegin:i,animationDuration:s,animationEasing:l})))}class Jz extends N.Component{render(){return N.createElement(Xye,this.props)}}Kz(Jz,"defaultProps",Zz);Kz(Jz,"displayName","ErrorBar");var Qye="Invariant failed";function Zye(e,t){throw new Error(Qye)}var Jye=["x","y"];function $N(){return $N=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$N.apply(null,arguments)}function vk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vk(Object(n),!0).forEach(function(r){ebe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ebe(e,t,n){return(t=tbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tbe(e){var t=nbe(e,"string");return typeof t=="symbol"?t:t+""}function nbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rbe(e,t){if(e==null)return{};var n,r,i=ibe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ibe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function abe(e,t){var{x:n,y:r}=e,i=rbe(e,Jye),s="".concat(n),l=parseInt(s,10),d="".concat(r),m=parseInt(d,10),h="".concat(t.height||i.height),p=parseInt(h,10),v="".concat(t.width||i.width),S=parseInt(v,10);return Xm(Xm(Xm(Xm(Xm({},t),i),l?{x:l}:{}),m?{y:m}:{}),{},{height:p,width:S,name:t.name,radius:t.radius})}function eV(e){return N.createElement(Vz,$N({shapeType:"rectangle",propTransformer:abe,activeClassName:"recharts-active-bar"},e))}var sbe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,i)=>{if(nt(t))return t;var s=nt(r)||Rn(r);return s?t(r,i):(s||Zye(),n)}};function Z1(e,t){var n,r,i=mt(h=>Ql(h,e)),s=mt(h=>fu(h,t)),l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:Ga.allowDataOverflow,d=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:Ka.allowDataOverflow,m=l||d;return{needClip:m,needClipX:l,needClipY:d}}function wC(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=Q1(),{needClipX:s,needClipY:l,needClip:d}=Z1(t,n);if(!d)return null;var{x:m,y:h,width:p,height:v}=i;return N.createElement("clipPath",{id:"clipPath-".concat(r)},N.createElement("rect",{x:s?m:m-p/2,y:l?h:h-v/2,width:s?p:p*2,height:l?v:v*2}))}var obe=["onMouseEnter","onMouseLeave","onClick"],lbe=["value","background","tooltipPosition"],cbe=["onMouseEnter","onClick","onMouseLeave"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},q0.apply(null,arguments)}function yk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yk(Object(n),!0).forEach(function(r){J1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function J1(e,t,n){return(t=ube(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ube(e){var t=dbe(e,"string");return typeof t=="symbol"?t:t+""}function dbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HN(e,t){if(e==null)return{};var n,r,i=fbe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fbe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hbe=e=>{var{dataKey:t,name:n,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:lu(n,t),payload:e}]};function mbe(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:i,name:s,hide:l,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:i,dataKey:t,nameKey:void 0,name:lu(s,t),hide:l,type:e.tooltipType,color:e.fill,unit:d}}}function gbe(e){var t=mt(nu),{data:n,dataKey:r,background:i,allOtherBarProps:s}=e,{onMouseEnter:l,onMouseLeave:d,onClick:m}=s,h=HN(s,obe),p=pC(l,r),v=xC(d),S=vC(m,r);if(!i||n==null)return null;var A=zt(i,!1);return N.createElement(N.Fragment,null,n.map((T,_)=>{var{value:C,background:M,tooltipPosition:P}=T,R=HN(T,lbe);if(!M)return null;var U=p(T,_),B=v(T,_),L=S(T,_),F=Yi(Yi(Yi(Yi(Yi({option:i,isActive:String(_)===t},R),{},{fill:"#eee"},M),A),dg(h,T,_)),{},{onMouseEnter:U,onMouseLeave:B,onClick:L,dataKey:r,index:_,className:"recharts-bar-background-rectangle"});return N.createElement(eV,q0({key:"background-bar-".concat(_)},F))}))}function tV(e){var{data:t,props:n,showLabels:r}=e,i=zt(n,!1),{shape:s,dataKey:l,activeBar:d}=n,m=mt(nu),h=mt(wz),{onMouseEnter:p,onClick:v,onMouseLeave:S}=n,A=HN(n,cbe),T=pC(p,l),_=xC(S),C=vC(v,l);return t?N.createElement(N.Fragment,null,t.map((M,P)=>{var R=d&&String(P)===m&&(h==null||l===h),U=R?d:s,B=Yi(Yi(Yi({},i),M),{},{isActive:R,option:U,index:P,dataKey:l});return N.createElement(wr,q0({className:"recharts-bar-rectangle"},dg(A,M,P),{onMouseEnter:T(M,P),onMouseLeave:_(M,P),onClick:C(M,P),key:"rectangle-".concat(M==null?void 0:M.x,"-").concat(M==null?void 0:M.y,"-").concat(M==null?void 0:M.value,"-").concat(P)}),N.createElement(eV,B))}),r&&Rl.renderCallByParent(n,t)):null}function pbe(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:i,isAnimationActive:s,animationBegin:l,animationDuration:d,animationEasing:m,onAnimationEnd:h,onAnimationStart:p}=t,v=n.current,S=K1(t,"recharts-bar-"),[A,T]=N.useState(!1),_=N.useCallback(()=>{typeof h=="function"&&h(),T(!1)},[h]),C=N.useCallback(()=>{typeof p=="function"&&p(),T(!0)},[p]);return N.createElement(Vl,{begin:l,duration:d,isActive:s,easing:m,from:{t:0},to:{t:1},onAnimationEnd:_,onAnimationStart:C,key:S},M=>{var{t:P}=M,R=P===1?r:r.map((U,B)=>{var L=v&&v[B];if(L){var F=es(L.x,U.x),V=es(L.y,U.y),z=es(L.width,U.width),H=es(L.height,U.height);return Yi(Yi({},U),{},{x:F(P),y:V(P),width:z(P),height:H(P)})}if(i==="horizontal"){var W=es(0,U.height),q=W(P);return Yi(Yi({},U),{},{y:U.y+U.height-q,height:q})}var Q=es(0,U.width),te=Q(P);return Yi(Yi({},U),{},{width:te})});return P>0&&(n.current=R),N.createElement(wr,null,N.createElement(tV,{props:t,data:R,showLabels:!A}))})}function xbe(e){var{data:t,isAnimationActive:n}=e,r=N.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?N.createElement(pbe,{previousRectanglesRef:r,props:e}):N.createElement(tV,{props:e,data:t,showLabels:!0})}var nV=0,vbe=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Fn(e,t)}};class ybe extends N.PureComponent{constructor(){super(...arguments),J1(this,"id",tu("recharts-bar-"))}render(){var{hide:t,data:n,dataKey:r,className:i,xAxisId:s,yAxisId:l,needClip:d,background:m,id:h,layout:p}=this.props;if(t)return null;var v=tn("recharts-bar",i),S=Rn(h)?this.id:h;return N.createElement(wr,{className:v},d&&N.createElement("defs",null,N.createElement(wC,{clipPathId:S,xAxisId:s,yAxisId:l})),N.createElement(wr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(S,")"):null},N.createElement(gbe,{data:n,dataKey:r,background:m,allOtherBarProps:this.props}),N.createElement(xbe,this.props)),N.createElement(Qz,{direction:p==="horizontal"?"y":"x"},this.props.children))}}var rV={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!cu.isSsr,legendType:"rect",minPointSize:nV,xAxisId:0,yAxisId:0};function bbe(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:m,animationEasing:h,isAnimationActive:p}=cs(e,rV),{needClip:v}=Z1(t,n),S=mg(),A=Ji(),T=N.useMemo(()=>({barSize:e.barSize,data:void 0,dataKey:e.dataKey,maxBarSize:e.maxBarSize,minPointSize:s,stackId:ZE(e.stackId)}),[e.barSize,e.dataKey,e.maxBarSize,s,e.stackId]),_=fg(e.children,ru),C=mt(R=>Gbe(R,t,n,A,T,_));if(S!=="vertical"&&S!=="horizontal")return null;var M,P=C==null?void 0:C[0];return P==null||P.height==null||P.width==null?M=0:M=S==="vertical"?P.height/2:P.width/2,N.createElement(Gz,{xAxisId:t,yAxisId:n,data:C,dataPointFormatter:vbe,errorBarOffset:M},N.createElement(ybe,q0({},e,{layout:S,needClip:v,data:C,xAxisId:t,yAxisId:n,hide:r,legendType:i,minPointSize:s,activeBar:l,animationBegin:d,animationDuration:m,animationEasing:h,isAnimationActive:p})))}function wbe(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:i,bandSize:s,xAxis:l,yAxis:d,xAxisTicks:m,yAxisTicks:h,stackedData:p,displayedData:v,offset:S,cells:A}=e,T=t==="horizontal"?d:l,_=p?T.scale.domain():null,C=ife({numericAxis:T});return v.map((M,P)=>{var R,U,B,L,F,V;p?R=Jde(p[P],_):(R=Fn(M,n),Array.isArray(R)||(R=[C,R]));var z=sbe(r,nV)(R[1],P);if(t==="horizontal"){var H,[W,q]=[d.scale(R[0]),d.scale(R[1])];U=rP({axis:l,ticks:m,bandSize:s,offset:i.offset,entry:M,index:P}),B=(H=q??W)!==null&&H!==void 0?H:void 0,L=i.size;var Q=W-q;if(F=Pa(Q)?0:Q,V={x:U,y:S.top,width:L,height:S.height},Math.abs(z)>0&&Math.abs(F)<Math.abs(z)){var te=wi(F||z)*(Math.abs(z)-Math.abs(F));B-=te,F+=te}}else{var[J,Y]=[l.scale(R[0]),l.scale(R[1])];if(U=J,B=rP({axis:d,ticks:h,bandSize:s,offset:i.offset,entry:M,index:P}),L=Y-J,F=i.size,V={x:S.left,y:B,width:S.width,height:F},Math.abs(z)>0&&Math.abs(L)<Math.abs(z)){var ne=wi(L||z)*(Math.abs(z)-Math.abs(L));L+=ne}}var se=Yi(Yi({},M),{},{x:U,y:B,width:L,height:F,value:p?R:R[1],payload:M,background:V,tooltipPosition:{x:U+L/2,y:B+F/2}},A&&A[P]&&A[P].props);return se})}class Br extends N.PureComponent{render(){return N.createElement(bC,{type:"bar",data:null,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:this.props.stackId,hide:this.props.hide,barSize:this.props.barSize},N.createElement(kye,null),N.createElement(yC,{legendPayload:hbe(this.props)}),N.createElement(G1,{fn:mbe,args:this.props}),N.createElement(bbe,this.props))}}J1(Br,"displayName","Bar");J1(Br,"defaultProps",rV);function bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function px(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bk(Object(n),!0).forEach(function(r){jbe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jbe(e,t,n){return(t=Sbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sbe(e){var t=Nbe(e,"string");return typeof t=="symbol"?t:t+""}function Nbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Abe=(e,t)=>t,Ebe=(e,t,n)=>n,_be=(e,t,n,r)=>r,jC=(e,t,n,r,i)=>i,Cbe=(e,t,n,r,i)=>i.maxBarSize,Tbe=(e,t,n,r,i,s)=>s,wk=(e,t,n)=>{var r=n??e;if(!Rn(r))return ca(r,t,0)},Obe=Pe([un,jg,Abe,Ebe,_be],(e,t,n,r,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===n:s.yAxisId===r).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),Mbe=(e,t,n,r)=>{var i=un(e);return i==="horizontal"?V0(e,"yAxis",n,r):V0(e,"xAxis",t,r)},Dbe=(e,t,n)=>{var r=un(e);return r==="horizontal"?jI(e,"xAxis",t):jI(e,"yAxis",n)};function Rbe(e){return e.stackId!=null&&e.dataKey!=null}var Pbe=(e,t,n)=>{var r={},i=e.filter(Rbe),s=e.filter(h=>h.stackId==null),l=i.reduce((h,p)=>(h[p.stackId]||(h[p.stackId]=[]),h[p.stackId].push(p),h),r),d=Object.entries(l).map(h=>{var[p,v]=h,S=v.map(T=>T.dataKey),A=wk(t,n,v[0].barSize);return{stackId:p,dataKeys:S,barSize:A}}),m=s.map(h=>{var p=[h.dataKey].filter(S=>S!=null),v=wk(t,n,h.barSize);return{stackId:void 0,dataKeys:p,barSize:v}});return[...d,...m]},Ibe=Pe([Obe,Vge,Dbe],Pbe),kbe=(e,t,n,r,i)=>{var s,l,d=un(e),m=_U(e),{maxBarSize:h}=i,p=Rn(h)?m:h,v,S;return d==="horizontal"?(v=Ps(e,"xAxis",t,r),S=Go(e,"xAxis",t,r)):(v=Ps(e,"yAxis",n,r),S=Go(e,"yAxis",n,r)),(s=(l=wd(v,S,!0))!==null&&l!==void 0?l:p)!==null&&s!==void 0?s:0},iV=(e,t,n,r)=>{var i=un(e),s,l;return i==="horizontal"?(s=Ps(e,"xAxis",t,r),l=Go(e,"xAxis",t,r)):(s=Ps(e,"yAxis",n,r),l=Go(e,"yAxis",n,r)),wd(s,l)};function Lbe(e,t,n,r,i){var s=r.length;if(!(s<1)){var l=ca(e,n,0,!0),d,m=[];if(Di(r[0].barSize)){var h=!1,p=n/s,v=r.reduce((M,P)=>M+(P.barSize||0),0);v+=(s-1)*l,v>=n&&(v-=(s-1)*l,l=0),v>=n&&p>0&&(h=!0,p*=.9,v=s*p);var S=(n-v)/2>>0,A={offset:S-l,size:0};d=r.reduce((M,P)=>{var R,U={stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:A.offset+A.size+l,size:h?p:(R=P.barSize)!==null&&R!==void 0?R:0}},B=[...M,U];return A=B[B.length-1].position,B},m)}else{var T=ca(t,n,0,!0);n-2*T-(s-1)*l<=0&&(l=0);var _=(n-2*T-(s-1)*l)/s;_>1&&(_>>=0);var C=Di(i)?Math.min(_,i):_;d=r.reduce((M,P,R)=>[...M,{stackId:P.stackId,dataKeys:P.dataKeys,position:{offset:T+(_+l)*R+(_-C)/2,size:C}}],m)}return d}}var Bbe=(e,t,n,r,i,s,l)=>{var d=Rn(l)?t:l,m=Lbe(n,r,i!==s?i:s,e,d);return i!==s&&m!=null&&(m=m.map(h=>px(px({},h),{},{position:px(px({},h.position),{},{offset:h.position.offset-i/2})}))),m},Fbe=Pe([Ibe,_U,zge,CU,kbe,iV,Cbe],Bbe),Ube=(e,t,n,r)=>Ps(e,"xAxis",t,r),zbe=(e,t,n,r)=>Ps(e,"yAxis",n,r),Vbe=(e,t,n,r)=>Go(e,"xAxis",t,r),$be=(e,t,n,r)=>Go(e,"yAxis",n,r),Hbe=Pe([Fbe,jC],(e,t)=>{if(e!=null){var n=e.find(r=>r.stackId===t.stackId&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),qbe=(e,t)=>{if(!(!e||(t==null?void 0:t.dataKey)==null)){var{stackId:n}=t;if(n!=null){var r=e[n];if(r){var{stackedData:i}=r;if(i){var s=i.find(l=>l.key===t.dataKey);return s}}}}},Ybe=Pe([jg,jC],(e,t)=>{if(e.some(n=>n.type==="bar"&&t.dataKey===n.dataKey&&t.stackId===n.stackId&&t.stackId===n.stackId))return t}),Wbe=Pe([Mbe,jC],qbe),Gbe=Pe([ui,Ube,zbe,Vbe,$be,Hbe,un,k1,iV,Wbe,Ybe,Tbe],(e,t,n,r,i,s,l,d,m,h,p,v)=>{var{chartData:S,dataStartIndex:A,dataEndIndex:T}=d;if(!(p==null||s==null||l!=="horizontal"&&l!=="vertical"||t==null||n==null||r==null||i==null||m==null)){var{data:_}=p,C;if(_!=null&&_.length>0?C=_:C=S==null?void 0:S.slice(A,T+1),C!=null)return wbe({layout:l,barSettings:p,pos:s,bandSize:m,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,stackedData:h,displayedData:C,offset:e,cells:v})}}),aV=e=>{var{chartData:t}=e,n=sr(),r=Ji();return N.useEffect(()=>r?()=>{}:(n(DI(t)),()=>{n(DI(void 0))}),[t,n,r]),null},jk={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},sV=ks({name:"brush",initialState:jk,reducers:{setBrushSettings(e,t){return t.payload==null?jk:t.payload}}}),{setBrushSettings:VEe}=sV.actions,Kbe=sV.reducer;function Xbe(e,t,n){return(t=Qbe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qbe(e){var t=Zbe(e,"string");return typeof t=="symbol"?t:t+""}function Zbe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class SC{static create(t){return new SC(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(n){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+l}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}Xbe(SC,"EPS",1e-4);function Jbe(e){return(e%180+180)%180}var ewe=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Jbe(i),l=s*Math.PI/180,d=Math.atan(r/n),m=l>d&&l<Math.PI-d?r/Math.sin(l):n/Math.cos(l);return Math.abs(m)},twe={dots:[],areas:[],lines:[]},oV=ks({name:"referenceElements",initialState:twe,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Ml(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Ml(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Ml(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:$Ee,removeDot:HEe,addArea:qEe,removeArea:YEe,addLine:WEe,removeLine:GEe}=oV.actions,nwe=oV.reducer,rwe=N.createContext(void 0),iwe=e=>{var{children:t}=e,[n]=N.useState("".concat(tu("recharts"),"-clip")),r=Q1();if(r==null)return null;var{x:i,y:s,width:l,height:d}=r;return N.createElement(rwe.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:s,height:d,width:l}))),t)};function yj(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function lV(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function awe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ewe(r,n)}function swe(e,t,n){var r=n==="width",{x:i,y:s,width:l,height:d}=e;return t===1?{start:r?i:s,end:r?i+l:s+d}:{start:r?i+l:s+d,end:r?i:s}}function Tv(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function owe(e,t){return lV(e,t+1)}function lwe(e,t,n,r,i){for(var s=(r||[]).slice(),{start:l,end:d}=t,m=0,h=1,p=l,v=function(){var T=r==null?void 0:r[m];if(T===void 0)return{v:lV(r,h)};var _=m,C,M=()=>(C===void 0&&(C=n(T,_)),C),P=T.coordinate,R=m===0||Tv(e,P,M,p,d);R||(m=0,p=l,h+=1),R&&(p=P+e*(M()/2+i),m+=h)},S;h<=s.length;)if(S=v(),S)return S.v;return[]}function Sk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Sk(Object(n),!0).forEach(function(r){cwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cwe(e,t,n){return(t=uwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uwe(e){var t=dwe(e,"string");return typeof t=="symbol"?t:t+""}function dwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fwe(e,t,n,r,i){for(var s=(r||[]).slice(),l=s.length,{start:d}=t,{end:m}=t,h=function(S){var A=s[S],T,_=()=>(T===void 0&&(T=n(A,S)),T);if(S===l-1){var C=e*(A.coordinate+e*_()/2-m);s[S]=A=qi(qi({},A),{},{tickCoord:C>0?A.coordinate-C*e:A.coordinate})}else s[S]=A=qi(qi({},A),{},{tickCoord:A.coordinate});var M=Tv(e,A.tickCoord,_,d,m);M&&(m=A.tickCoord-e*(_()/2+i),s[S]=qi(qi({},A),{},{isShow:!0}))},p=l-1;p>=0;p--)h(p);return s}function hwe(e,t,n,r,i,s){var l=(r||[]).slice(),d=l.length,{start:m,end:h}=t;if(s){var p=r[d-1],v=n(p,d-1),S=e*(p.coordinate+e*v/2-h);l[d-1]=p=qi(qi({},p),{},{tickCoord:S>0?p.coordinate-S*e:p.coordinate});var A=Tv(e,p.tickCoord,()=>v,m,h);A&&(h=p.tickCoord-e*(v/2+i),l[d-1]=qi(qi({},p),{},{isShow:!0}))}for(var T=s?d-1:d,_=function(P){var R=l[P],U,B=()=>(U===void 0&&(U=n(R,P)),U);if(P===0){var L=e*(R.coordinate-e*B()/2-m);l[P]=R=qi(qi({},R),{},{tickCoord:L<0?R.coordinate-L*e:R.coordinate})}else l[P]=R=qi(qi({},R),{},{tickCoord:R.coordinate});var F=Tv(e,R.tickCoord,B,m,h);F&&(m=R.tickCoord+e*(B()/2+i),l[P]=qi(qi({},R),{},{isShow:!0}))},C=0;C<T;C++)_(C);return l}function NC(e,t,n){var{tick:r,ticks:i,viewBox:s,minTickGap:l,orientation:d,interval:m,tickFormatter:h,unit:p,angle:v}=e;if(!i||!i.length||!r)return[];if(nt(m)||cu.isSsr){var S;return(S=owe(i,nt(m)?m:0))!==null&&S!==void 0?S:[]}var A=[],T=d==="top"||d==="bottom"?"width":"height",_=p&&T==="width"?v0(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},C=(R,U)=>{var B=typeof h=="function"?h(R.value,U):R.value;return T==="width"?awe(v0(B,{fontSize:t,letterSpacing:n}),_,v):v0(B,{fontSize:t,letterSpacing:n})[T]},M=i.length>=2?wi(i[1].coordinate-i[0].coordinate):1,P=swe(s,M,T);return m==="equidistantPreserveStart"?lwe(M,P,C,i,l):(m==="preserveStart"||m==="preserveStartEnd"?A=hwe(M,P,C,i,l,m==="preserveStartEnd"):A=fwe(M,P,C,i,l),A.filter(R=>R.isShow))}var mwe=["viewBox"],gwe=["viewBox"];function Xf(){return Xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xf.apply(null,arguments)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){AC(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ak(e,t){if(e==null)return{};var n,r,i=pwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function AC(e,t,n){return(t=xwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xwe(e){var t=vwe(e,"string");return typeof t=="symbol"?t:t+""}function vwe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class hu extends N.Component{constructor(t){super(t),this.tickRefs=N.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,i=Ak(t,mwe),s=this.props,{viewBox:l}=s,d=Ak(s,gwe);return!yj(r,l)||!yj(i,d)||!yj(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:i,height:s,orientation:l,tickSize:d,mirror:m,tickMargin:h}=this.props,p,v,S,A,T,_,C=m?-1:1,M=t.tickSize||d,P=nt(t.tickCoord)?t.tickCoord:t.coordinate;switch(l){case"top":p=v=t.coordinate,A=r+ +!m*s,S=A-C*M,_=S-C*h,T=P;break;case"left":S=A=t.coordinate,v=n+ +!m*i,p=v-C*M,T=p-C*h,_=P;break;case"right":S=A=t.coordinate,v=n+ +m*i,p=v+C*M,T=p+C*h,_=P;break;default:p=v=t.coordinate,A=r+ +m*s,S=A+C*M,_=S+C*h,T=P;break}return{line:{x1:p,y1:S,x2:v,y2:A},tick:{x:T,y:_}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:i,orientation:s,mirror:l,axisLine:d}=this.props,m=li(li(li({},zt(this.props,!1)),zt(d,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var h=+(s==="top"&&!l||s==="bottom"&&l);m=li(li({},m),{},{x1:t,y1:n+h*i,x2:t+r,y2:n+h*i})}else{var p=+(s==="left"&&!l||s==="right"&&l);m=li(li({},m),{},{x1:t+p*r,y1:n,x2:t+p*r,y2:n+i})}return N.createElement("line",Xf({},m,{className:tn("recharts-cartesian-axis-line",eu(d,"className"))}))}static renderTickItem(t,n,r){var i,s=tn(n.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(t))i=N.cloneElement(t,li(li({},n),{},{className:s}));else if(typeof t=="function")i=t(li(li({},n),{},{className:s}));else{var l="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(l=tn(l,t.className)),i=N.createElement(W1,Xf({},n,{className:l}),r)}return i}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:l,tickFormatter:d,unit:m}=this.props,h=NC(li(li({},this.props),{},{ticks:r}),t,n),p=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),S=zt(this.props,!1),A=zt(l,!1),T=li(li({},S),{},{fill:"none"},zt(i,!1)),_=h.map((C,M)=>{var{line:P,tick:R}=this.getTickLineCoord(C),U=li(li(li(li({textAnchor:p,verticalAnchor:v},S),{},{stroke:"none",fill:s},A),R),{},{index:M,payload:C,visibleTicksCount:h.length,tickFormatter:d});return N.createElement(wr,Xf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(C.value,"-").concat(C.coordinate,"-").concat(C.tickCoord)},dg(this.props,C,M)),i&&N.createElement("line",Xf({},T,P,{className:tn("recharts-cartesian-axis-tick-line",eu(i,"className"))})),l&&hu.renderTickItem(l,U,"".concat(typeof d=="function"?d(C.value,M):C.value).concat(m||"")))});return _.length>0?N.createElement("g",{className:"recharts-cartesian-axis-ticks"},_):null}render(){var{axisLine:t,width:n,height:r,className:i,hide:s}=this.props;if(s)return null;var{ticks:l}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:N.createElement(wr,{className:tn("recharts-cartesian-axis",i),ref:d=>{if(d){var m=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var h=m[0];if(h){var p=window.getComputedStyle(h).fontSize,v=window.getComputedStyle(h).letterSpacing;(p!==this.state.fontSize||v!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(h).fontSize,letterSpacing:window.getComputedStyle(h).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,l),ts.renderCallByParent(this.props))}}AC(hu,"displayName","CartesianAxis");AC(hu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ywe=["x1","y1","x2","y2","key"],bwe=["offset"],wwe=["xAxisId","yAxisId"],jwe=["xAxisId","yAxisId"];function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ek(Object(n),!0).forEach(function(r){Swe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Swe(e,t,n){return(t=Nwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nwe(e){var t=Awe(e,"string");return typeof t=="symbol"?t:t+""}function Awe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nd(){return nd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nd.apply(null,arguments)}function Ov(e,t){if(e==null)return{};var n,r,i=Ewe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ewe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _we=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:s,height:l,ry:d}=e;return N.createElement("rect",{x:r,y:i,ry:d,width:s,height:l,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cV(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:i,x2:s,y2:l,key:d}=t,m=Ov(t,ywe),h=zt(m,!1),{offset:p}=h,v=Ov(h,bwe);n=N.createElement("line",nd({},v,{x1:r,y1:i,x2:s,y2:l,fill:"none",key:d}))}return n}function Cwe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Ov(e,wwe),m=i.map((h,p)=>{var v=Wi(Wi({},d),{},{x1:t,y1:h,x2:t+n,y2:h,key:"line-".concat(p),index:p});return cV(r,v)});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function Twe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:s,yAxisId:l}=e,d=Ov(e,jwe),m=i.map((h,p)=>{var v=Wi(Wi({},d),{},{x1:h,y1:t,x2:h,y2:t+n,key:"line-".concat(p),index:p});return cV(r,v)});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function Owe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:s,height:l,horizontalPoints:d,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var h=d.map(v=>Math.round(v+i-i)).sort((v,S)=>v-S);i!==h[0]&&h.unshift(0);var p=h.map((v,S)=>{var A=!h[S+1],T=A?i+l-v:h[S+1]-v;if(T<=0)return null;var _=S%t.length;return N.createElement("rect",{key:"react-".concat(S),y:v,x:r,height:T,width:s,stroke:"none",fill:t[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function Mwe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:s,width:l,height:d,verticalPoints:m}=e;if(!t||!n||!n.length)return null;var h=m.map(v=>Math.round(v+i-i)).sort((v,S)=>v-S);i!==h[0]&&h.unshift(0);var p=h.map((v,S)=>{var A=!h[S+1],T=A?i+l-v:h[S+1]-v;if(T<=0)return null;var _=S%n.length;return N.createElement("rect",{key:"react-".concat(S),x:v,y:s,width:T,height:d,stroke:"none",fill:n[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var Dwe=(e,t)=>{var{xAxis:n,width:r,height:i,offset:s}=e;return mF(NC(Wi(Wi(Wi({},hu.defaultProps),n),{},{ticks:gF(n),viewBox:{x:0,y:0,width:r,height:i}})),s.left,s.left+s.width,t)},Rwe=(e,t)=>{var{yAxis:n,width:r,height:i,offset:s}=e;return mF(NC(Wi(Wi(Wi({},hu.defaultProps),n),{},{ticks:gF(n),viewBox:{x:0,y:0,width:r,height:i}})),s.top,s.top+s.height,t)},Pwe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Xr(e){var t=n_(),n=r_(),r=bF(),i=Wi(Wi({},cs(e,Pwe)),{},{x:nt(e.x)?e.x:r.left,y:nt(e.y)?e.y:r.top,width:nt(e.width)?e.width:r.width,height:nt(e.height)?e.height:r.height}),{xAxisId:s,yAxisId:l,x:d,y:m,width:h,height:p,syncWithTicks:v,horizontalValues:S,verticalValues:A}=i,T=Ji(),_=mt(z=>SI(z,"xAxis",s,T)),C=mt(z=>SI(z,"yAxis",l,T));if(!nt(h)||h<=0||!nt(p)||p<=0||!nt(d)||d!==+d||!nt(m)||m!==+m)return null;var M=i.verticalCoordinatesGenerator||Dwe,P=i.horizontalCoordinatesGenerator||Rwe,{horizontalPoints:R,verticalPoints:U}=i;if((!R||!R.length)&&typeof P=="function"){var B=S&&S.length,L=P({yAxis:C?Wi(Wi({},C),{},{ticks:B?S:C.ticks}):void 0,width:t,height:n,offset:r},B?!0:v);x0(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(R=L)}if((!U||!U.length)&&typeof M=="function"){var F=A&&A.length,V=M({xAxis:_?Wi(Wi({},_),{},{ticks:F?A:_.ticks}):void 0,width:t,height:n,offset:r},F?!0:v);x0(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(U=V)}return N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(_we,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(Owe,nd({},i,{horizontalPoints:R})),N.createElement(Mwe,nd({},i,{verticalPoints:U})),N.createElement(Cwe,nd({},i,{offset:r,horizontalPoints:R,xAxis:_,yAxis:C})),N.createElement(Twe,nd({},i,{offset:r,verticalPoints:U,xAxis:_,yAxis:C})))}Xr.displayName="CartesianGrid";var uV=(e,t,n,r)=>Ps(e,"xAxis",t,r),dV=(e,t,n,r)=>Go(e,"xAxis",t,r),fV=(e,t,n,r)=>Ps(e,"yAxis",n,r),hV=(e,t,n,r)=>Go(e,"yAxis",n,r),Iwe=Pe([un,uV,fV,dV,hV],(e,t,n,r,i)=>tl(e,"xAxis")?wd(t,r,!1):wd(n,i,!1)),kwe=(e,t,n,r,i)=>i,Lwe=Pe([jg,kwe],(e,t)=>{if(e.some(n=>n.type==="line"&&t.dataKey===n.dataKey&&t.data===n.data))return t}),Bwe=Pe([un,uV,fV,dV,hV,Lwe,Iwe,k1],(e,t,n,r,i,s,l,d)=>{var{chartData:m,dataStartIndex:h,dataEndIndex:p}=d;if(!(s==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||l==null)){var{dataKey:v,data:S}=s,A;if(S!=null&&S.length>0?A=S:A=m==null?void 0:m.slice(h,p+1),A!=null)return r2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:v,bandSize:l,displayedData:A})}}),Fwe=["type","layout","connectNulls","needClip"],Uwe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId"];function mV(e,t){if(e==null)return{};var n,r,i=zwe(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zwe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_k(Object(n),!0).forEach(function(r){ey(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ey(e,t,n){return(t=Vwe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vwe(e){var t=$we(e,"string");return typeof t=="symbol"?t:t+""}function $we(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yh.apply(null,arguments)}var Hwe=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:lu(n,t),payload:e}]};function qwe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:d,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:lu(l,t),hide:d,type:e.tooltipType,color:e.stroke,unit:m}}}var gV=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Ywe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Wwe=(e,t,n)=>{var r=n.reduce((v,S)=>v+S);if(!r)return gV(t,e);for(var i=Math.floor(e/r),s=e%r,l=t-e,d=[],m=0,h=0;m<n.length;h+=n[m],++m)if(h+n[m]>s){d=[...n.slice(0,m),s-h];break}var p=d.length%2===0?[0,l]:[l];return[...Ywe(n,i),...d,...p].map(v=>"".concat(v,"px")).join(", ")};function Gwe(e,t){var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=tn("recharts-line-dot",typeof e!="boolean"?e.className:"");n=N.createElement(dC,yh({},t,{className:r}))}return n}function Kwe(e,t){return e==null?!1:t?!0:e.length===1}function Xwe(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:s,needClip:l}=r;if(!Kwe(n,i))return null;var d=p1(i),m=zt(r,!1),h=zt(i,!0),p=n.map((S,A)=>{var T=eo(eo(eo({key:"dot-".concat(A),r:3},m),h),{},{index:A,cx:S.x,cy:S.y,dataKey:s,value:S.value,payload:S.payload,points:n});return Gwe(i,T)}),v={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):null};return N.createElement(wr,yh({className:"recharts-line-dots",key:"dots"},v),p)}function qN(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:s,showLabels:l}=e,{type:d,layout:m,connectNulls:h,needClip:p}=s,v=mV(s,Fwe),S=eo(eo({},zt(v,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:p?"url(#clipPath-".concat(t,")"):null,points:r,type:d,layout:m,connectNulls:h,strokeDasharray:i??s.strokeDasharray});return N.createElement(N.Fragment,null,(r==null?void 0:r.length)>1&&N.createElement(nh,yh({},S,{pathRef:n})),N.createElement(Xwe,{points:r,clipPathId:t,props:s}),l&&Rl.renderCallByParent(s,r))}function Qwe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Zwe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:s}=e,{points:l,strokeDasharray:d,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:v,animateNewValues:S,width:A,height:T,onAnimationEnd:_,onAnimationStart:C}=n,M=i.current,P=K1(n,"recharts-line-"),[R,U]=N.useState(!1),B=N.useCallback(()=>{typeof _=="function"&&_(),U(!1)},[_]),L=N.useCallback(()=>{typeof C=="function"&&C(),U(!0)},[C]),F=Qwe(r.current),V=s.current;return N.createElement(Vl,{begin:h,duration:p,isActive:m,easing:v,from:{t:0},to:{t:1},onAnimationEnd:B,onAnimationStart:L,key:P},z=>{var{t:H}=z,W=es(V,F+V),q=Math.min(W(H),F),Q;if(d){var te="".concat(d).split(/[,\s]+/gim).map(ne=>parseFloat(ne));Q=Wwe(q,F,te)}else Q=gV(F,q);if(M){var J=M.length/l.length,Y=H===1?l:l.map((ne,se)=>{var me=Math.floor(se*J);if(M[me]){var re=M[me],de=es(re.x,ne.x),oe=es(re.y,ne.y);return eo(eo({},ne),{},{x:de(H),y:oe(H)})}if(S){var he=es(A*2,ne.x),Re=es(T/2,ne.y);return eo(eo({},ne),{},{x:he(H),y:Re(H)})}return eo(eo({},ne),{},{x:ne.x,y:ne.y})});return i.current=Y,N.createElement(qN,{props:n,points:Y,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:Q})}return H>0&&F>0&&(i.current=l,s.current=q),N.createElement(qN,{props:n,points:l,clipPathId:t,pathRef:r,showLabels:!R,strokeDasharray:Q})})}function Jwe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:i}=n,s=N.useRef(null),l=N.useRef(0),d=N.useRef(null),m=s.current;return i&&r&&r.length&&m!==r?N.createElement(Zwe,{props:n,clipPathId:t,previousPointsRef:s,longestAnimatedLengthRef:l,pathRef:d}):N.createElement(qN,{props:n,points:r,clipPathId:t,pathRef:d,showLabels:!0})}var e2e=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Fn(e.payload,t)});class t2e extends N.Component{constructor(){super(...arguments),ey(this,"id",tu("recharts-line-"))}render(){var t,{hide:n,dot:r,points:i,className:s,xAxisId:l,yAxisId:d,top:m,left:h,width:p,height:v,id:S,needClip:A,layout:T}=this.props;if(n)return null;var _=tn("recharts-line",s),C=Rn(S)?this.id:S,{r:M=3,strokeWidth:P=2}=(t=zt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=p1(r),U=M*2+P;return N.createElement(N.Fragment,null,N.createElement(wr,{className:_},A&&N.createElement("defs",null,N.createElement(wC,{clipPathId:C,xAxisId:l,yAxisId:d}),!R&&N.createElement("clipPath",{id:"clipPath-dots-".concat(C)},N.createElement("rect",{x:h-U/2,y:m-U/2,width:p+U,height:v+U}))),N.createElement(Jwe,{props:this.props,clipPathId:C}),N.createElement(Qz,{direction:T==="horizontal"?"y":"x"},N.createElement(Gz,{xAxisId:l,yAxisId:d,data:i,dataPointFormatter:e2e,errorBarOffset:0},this.props.children))),N.createElement(VN,{activeDot:this.props.activeDot,points:i,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pV={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!cu.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function n2e(e){var t=cs(e,pV),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:m,hide:h,isAnimationActive:p,label:v,legendType:S,xAxisId:A,yAxisId:T}=t,_=mV(t,Uwe),{needClip:C}=Z1(A,T),{height:M,width:P,x:R,y:U}=Q1(),B=mg(),L=Ji(),F=N.useMemo(()=>({dataKey:e.dataKey,data:e.data}),[e.dataKey,e.data]),V=mt(z=>Bwe(z,A,T,L,F));return B!=="horizontal"&&B!=="vertical"?null:N.createElement(t2e,yh({},_,{connectNulls:d,dot:m,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:s,animationEasing:l,isAnimationActive:p,hide:h,label:v,legendType:S,xAxisId:A,yAxisId:T,points:V,layout:B,height:M,width:P,left:R,top:U,needClip:C}))}function r2e(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:s,dataKey:l,bandSize:d,displayedData:m}=e;return m.map((h,p)=>{var v=Fn(h,l);return t==="horizontal"?{x:uv({axis:n,ticks:i,bandSize:d,entry:h,index:p}),y:Rn(v)?null:r.scale(v),value:v,payload:h}:{x:Rn(v)?null:n.scale(v),y:uv({axis:r,ticks:s,bandSize:d,entry:h,index:p}),value:v,payload:h}})}class Os extends N.PureComponent{render(){return N.createElement(bC,{type:"line",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},N.createElement(yC,{legendPayload:Hwe(this.props)}),N.createElement(G1,{fn:qwe,args:this.props}),N.createElement(n2e,this.props))}}ey(Os,"displayName","Line");ey(Os,"defaultProps",pV);var xV=(e,t,n,r)=>Ps(e,"xAxis",t,r),vV=(e,t,n,r)=>Go(e,"xAxis",t,r),yV=(e,t,n,r)=>Ps(e,"yAxis",n,r),bV=(e,t,n,r)=>Go(e,"yAxis",n,r),i2e=Pe([un,xV,yV,vV,bV],(e,t,n,r,i)=>tl(e,"xAxis")?wd(t,r,!1):wd(n,i,!1)),a2e=(e,t,n,r,i)=>{var s,l=un(e),d=tl(l,"xAxis"),m;if(d?m=V0(e,"yAxis",n,r):m=V0(e,"xAxis",t,r),m!=null){var{dataKey:h,stackId:p}=i;if(p!=null){var v=(s=m[p])===null||s===void 0?void 0:s.stackedData;return v==null?void 0:v.find(S=>S.key===h)}}},s2e=(e,t,n,r,i)=>i,o2e=Pe([jg,s2e],(e,t)=>{if(e.some(n=>n.type==="area"&&t.dataKey===n.dataKey&&ZE(t.stackId)===n.stackId&&t.data===n.data))return t}),l2e=Pe([un,xV,yV,vV,bV,a2e,k1,i2e,o2e],(e,t,n,r,i,s,l,d,m)=>{var{chartData:h,dataStartIndex:p,dataEndIndex:v}=l;if(!(m==null||e!=="horizontal"&&e!=="vertical"||t==null||n==null||r==null||i==null||r.length===0||i.length===0||d==null)){var{data:S}=m,A;if(S&&S.length>0?A=S:A=h==null?void 0:h.slice(p,v+1),A!=null){var T=void 0;return _2e({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataStartIndex:p,areaSettings:m,stackedData:s,displayedData:A,chartBaseValue:T,bandSize:d})}}}),c2e=["layout","type","stroke","connectNulls","isRange"],u2e=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function wV(e,t){if(e==null)return{};var n,r,i=d2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function d2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Ck(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function rd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ck(Object(n),!0).forEach(function(r){ty(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ck(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ty(e,t,n){return(t=f2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f2e(e){var t=h2e(e,"string");return typeof t=="symbol"?t:t+""}function h2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wc(){return Wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wc.apply(null,arguments)}function Mv(e,t){return e&&e!=="none"?e:t}var m2e=e=>{var{dataKey:t,name:n,stroke:r,fill:i,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:Mv(r,i),value:lu(n,t),payload:e}]};function g2e(e){var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:s,name:l,hide:d,unit:m}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:s,dataKey:t,nameKey:void 0,name:lu(l,t),hide:d,type:e.tooltipType,color:Mv(r,s),unit:m}}}var p2e=(e,t)=>{var n;if(N.isValidElement(e))n=N.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=tn("recharts-area-dot",typeof e!="boolean"?e.className:"");n=N.createElement(dC,Wc({},t,{className:r}))}return n};function x2e(e,t){return e==null?!1:t?!0:e.length===1}function v2e(e){var{clipPathId:t,points:n,props:r}=e,{needClip:i,dot:s,dataKey:l}=r;if(!x2e(n,s))return null;var d=p1(s),m=zt(r,!1),h=zt(s,!0),p=n.map((S,A)=>{var T=rd(rd(rd({key:"dot-".concat(A),r:3},m),h),{},{index:A,cx:S.x,cy:S.y,dataKey:l,value:S.value,payload:S.payload,points:n});return p2e(s,T)}),v={clipPath:i?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return N.createElement(wr,Wc({className:"recharts-area-dots"},v),p)}function YN(e){var{points:t,baseLine:n,needClip:r,clipPathId:i,props:s,showLabels:l}=e,{layout:d,type:m,stroke:h,connectNulls:p,isRange:v}=s,S=wV(s,c2e);return N.createElement(N.Fragment,null,(t==null?void 0:t.length)>1&&N.createElement(wr,{clipPath:r?"url(#clipPath-".concat(i,")"):void 0},N.createElement(nh,Wc({},zt(S,!0),{points:t,connectNulls:p,type:m,baseLine:n,layout:d,stroke:"none",className:"recharts-area-area"})),h!=="none"&&N.createElement(nh,Wc({},zt(s,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:p,fill:"none",points:t})),h!=="none"&&v&&N.createElement(nh,Wc({},zt(s,!1),{className:"recharts-area-curve",layout:d,type:m,connectNulls:p,fill:"none",points:n}))),N.createElement(v2e,{points:t,props:s,clipPathId:i}),l&&Rl.renderCallByParent(s,t))}function y2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].y,l=r[r.length-1].y;if(!Di(s)||!Di(l))return null;var d=t*Math.abs(s-l),m=Math.max(...r.map(h=>h.x||0));return nt(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.x||0),m)),nt(m)?N.createElement("rect",{x:0,y:s<l?s:s-d,width:m+(i?parseInt("".concat(i),10):1),height:Math.floor(d)}):null}function b2e(e){var{alpha:t,baseLine:n,points:r,strokeWidth:i}=e,s=r[0].x,l=r[r.length-1].x;if(!Di(s)||!Di(l))return null;var d=t*Math.abs(s-l),m=Math.max(...r.map(h=>h.y||0));return nt(n)?m=Math.max(n,m):n&&Array.isArray(n)&&n.length&&(m=Math.max(...n.map(h=>h.y||0),m)),nt(m)?N.createElement("rect",{x:s<l?s:s-d,y:0,width:d,height:Math.floor(m+(i?parseInt("".concat(i),10):1))}):null}function w2e(e){var{alpha:t,layout:n,points:r,baseLine:i,strokeWidth:s}=e;return n==="vertical"?N.createElement(y2e,{alpha:t,points:r,baseLine:i,strokeWidth:s}):N.createElement(b2e,{alpha:t,points:r,baseLine:i,strokeWidth:s})}function j2e(e){var{needClip:t,clipPathId:n,props:r,previousPointsRef:i,previousBaselineRef:s}=e,{points:l,baseLine:d,isAnimationActive:m,animationBegin:h,animationDuration:p,animationEasing:v,onAnimationStart:S,onAnimationEnd:A}=r,T=K1(r,"recharts-area-"),[_,C]=N.useState(!0),M=N.useCallback(()=>{typeof A=="function"&&A(),C(!1)},[A]),P=N.useCallback(()=>{typeof S=="function"&&S(),C(!0)},[S]),R=i.current,U=s.current;return N.createElement(Vl,{begin:h,duration:p,isActive:m,easing:v,from:{t:0},to:{t:1},onAnimationEnd:M,onAnimationStart:P,key:T},B=>{var{t:L}=B;if(R){var F=R.length/l.length,V=L===1?l:l.map((H,W)=>{var q=Math.floor(W*F);if(R[q]){var Q=R[q];return rd(rd({},H),{},{x:kf(Q.x,H.x,L),y:kf(Q.y,H.y,L)})}return H}),z;return nt(d)?z=kf(U,d,L):Rn(d)||Pa(d)?z=kf(U,0,L):z=d.map((H,W)=>{var q=Math.floor(W*F);if(Array.isArray(U)&&U[q]){var Q=U[q];return rd(rd({},H),{},{x:kf(Q.x,H.x,L),y:kf(Q.y,H.y,L)})}return H}),L>0&&(i.current=V,s.current=z),N.createElement(YN,{points:V,baseLine:z,needClip:t,clipPathId:n,props:r,showLabels:!_})}return L>0&&(i.current=l,s.current=d),N.createElement(wr,null,N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(n)},N.createElement(w2e,{alpha:L,points:l,baseLine:d,layout:r.layout,strokeWidth:r.strokeWidth}))),N.createElement(wr,{clipPath:"url(#animationClipPath-".concat(n,")")},N.createElement(YN,{points:l,baseLine:d,needClip:t,clipPathId:n,props:r,showLabels:!0})))})}function S2e(e){var{needClip:t,clipPathId:n,props:r}=e,{points:i,baseLine:s,isAnimationActive:l}=r,d=N.useRef(null),m=N.useRef(),h=d.current,p=m.current;return l&&i&&i.length&&(h!==i||p!==s)?N.createElement(j2e,{needClip:t,clipPathId:n,props:r,previousPointsRef:d,previousBaselineRef:m}):N.createElement(YN,{points:i,baseLine:s,needClip:t,clipPathId:n,props:r,showLabels:!0})}class N2e extends N.PureComponent{constructor(){super(...arguments),ty(this,"id",tu("recharts-area-"))}render(){var t,{hide:n,dot:r,points:i,className:s,top:l,left:d,needClip:m,xAxisId:h,yAxisId:p,width:v,height:S,id:A,baseLine:T}=this.props;if(n)return null;var _=tn("recharts-area",s),C=Rn(A)?this.id:A,{r:M=3,strokeWidth:P=2}=(t=zt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},R=p1(r),U=M*2+P;return N.createElement(N.Fragment,null,N.createElement(wr,{className:_},m&&N.createElement("defs",null,N.createElement(wC,{clipPathId:C,xAxisId:h,yAxisId:p}),!R&&N.createElement("clipPath",{id:"clipPath-dots-".concat(C)},N.createElement("rect",{x:d-U/2,y:l-U/2,width:v+U,height:S+U}))),N.createElement(S2e,{needClip:m,clipPathId:C,props:this.props})),N.createElement(VN,{points:i,mainColor:Mv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(T)&&N.createElement(VN,{points:T,mainColor:Mv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var jV={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!cu.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function A2e(e){var t,n=cs(e,jV),{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,connectNulls:d,dot:m,fill:h,fillOpacity:p,hide:v,isAnimationActive:S,legendType:A,stroke:T,xAxisId:_,yAxisId:C}=n,M=wV(n,u2e),P=mg(),R=Sz(),{needClip:U}=Z1(_,C),B=Ji(),L=N.useMemo(()=>({baseValue:e.baseValue,stackId:e.stackId,connectNulls:d,data:e.data,dataKey:e.dataKey}),[e.baseValue,e.stackId,d,e.data,e.dataKey]),{points:F,isRange:V,baseLine:z}=(t=mt(te=>l2e(te,_,C,B,L)))!==null&&t!==void 0?t:{},{height:H,width:W,x:q,y:Q}=Q1();return P!=="horizontal"&&P!=="vertical"||R!=="AreaChart"&&R!=="ComposedChart"?null:N.createElement(N2e,Wc({},M,{activeDot:r,animationBegin:i,animationDuration:s,animationEasing:l,baseLine:z,connectNulls:d,dot:m,fill:h,fillOpacity:p,height:H,hide:v,layout:P,isAnimationActive:S,isRange:V,legendType:A,needClip:U,points:F,stroke:T,width:W,left:q,top:Q,xAxisId:_,yAxisId:C}))}var E2e=(e,t,n,r,i)=>{var s=n??t;if(nt(s))return s;var l=e==="horizontal"?i:r,d=l.scale.domain();if(l.type==="number"){var m=Math.max(d[0],d[1]),h=Math.min(d[0],d[1]);return s==="dataMin"?h:s==="dataMax"||m<0?m:Math.max(Math.min(d[0],d[1]),0)}return s==="dataMin"?d[0]:s==="dataMax"?d[1]:d[0]};function _2e(e){var{areaSettings:{connectNulls:t,baseValue:n,dataKey:r},stackedData:i,layout:s,chartBaseValue:l,xAxis:d,yAxis:m,displayedData:h,dataStartIndex:p,xAxisTicks:v,yAxisTicks:S,bandSize:A}=e,T=i&&i.length,_=E2e(s,l,n,d,m),C=s==="horizontal",M=!1,P=h.map((U,B)=>{var L;T?L=i[p+B]:(L=Fn(U,r),Array.isArray(L)?M=!0:L=[_,L]);var F=L[1]==null||T&&!t&&Fn(U,r)==null;return C?{x:uv({axis:d,ticks:v,bandSize:A,entry:U,index:B}),y:F?null:m.scale(L[1]),value:L,payload:U}:{x:F?null:d.scale(L[1]),y:uv({axis:m,ticks:S,bandSize:A,entry:U,index:B}),value:L,payload:U}}),R;return T||M?R=P.map(U=>{var B=Array.isArray(U.value)?U.value[0]:null;return C?{x:U.x,y:B!=null&&U.y!=null?m.scale(B):null}:{x:B!=null?d.scale(B):null,y:U.y}}):R=C?m.scale(_):d.scale(_),{points:P,baseLine:R,isRange:M}}class Nd extends N.PureComponent{render(){return N.createElement(bC,{type:"area",data:this.props.data,dataKey:this.props.dataKey,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:0,stackId:this.props.stackId,hide:this.props.hide,barSize:void 0},N.createElement(yC,{legendPayload:m2e(this.props)}),N.createElement(G1,{fn:g2e,args:this.props}),N.createElement(A2e,this.props))}}ty(Nd,"displayName","Area");ty(Nd,"defaultProps",jV);function Tk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ok(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tk(Object(n),!0).forEach(function(r){C2e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function C2e(e,t,n){return(t=T2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T2e(e){var t=O2e(e,"string");return typeof t=="symbol"?t:t+""}function O2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M2e={xAxis:{},yAxis:{},zAxis:{}},SV=ks({name:"cartesianAxis",initialState:M2e,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=Ok(Ok({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:D2e,removeXAxis:R2e,addYAxis:P2e,removeYAxis:I2e,addZAxis:KEe,removeZAxis:XEe,updateYAxisWidth:k2e}=SV.actions,L2e=SV.reducer,B2e=["children"],F2e=["dangerouslySetInnerHTML","ticks"];function NV(e,t,n){return(t=U2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U2e(e){var t=z2e(e,"string");return typeof t=="symbol"?t:t+""}function z2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WN(){return WN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WN.apply(null,arguments)}function AV(e,t){if(e==null)return{};var n,r,i=V2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function V2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function $2e(e){var t=sr(),n=N.useMemo(()=>{var{children:s}=e,l=AV(e,B2e);return l},[e]),r=mt(s=>Ql(s,n.id)),i=n===r;return N.useEffect(()=>(t(D2e(n)),()=>{t(R2e(n))}),[n,t]),i?e.children:null}var H2e=e=>{var{xAxisId:t,className:n}=e,r=mt(yF),i=Ji(),s="xAxis",l=mt(A=>Uh(A,s,t,i)),d=mt(A=>nz(A,s,t,i)),m=mt(A=>ZU(A,t)),h=mt(A=>Ppe(A,t));if(m==null||h==null)return null;var{dangerouslySetInnerHTML:p,ticks:v}=e,S=AV(e,F2e);return N.createElement(hu,WN({},S,{scale:l,x:h.x,y:h.y,width:m.width,height:m.height,className:tn("recharts-".concat(s," ").concat(s),n),viewBox:r,ticks:d}))},q2e=e=>{var t,n,r,i,s;return N.createElement($2e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},N.createElement(H2e,e))};class Fr extends N.Component{render(){return N.createElement(q2e,this.props)}}NV(Fr,"displayName","XAxis");NV(Fr,"defaultProps",{allowDataOverflow:Ga.allowDataOverflow,allowDecimals:Ga.allowDecimals,allowDuplicatedCategory:Ga.allowDuplicatedCategory,height:Ga.height,hide:!1,mirror:Ga.mirror,orientation:Ga.orientation,padding:Ga.padding,reversed:Ga.reversed,scale:Ga.scale,tickCount:Ga.tickCount,type:Ga.type,xAxisId:0});var Y2e=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:s=0}=e,l=0;if(t){t.forEach(p=>{if(p){var v=p.getBoundingClientRect();v.width>l&&(l=v.width)}});var d=n?n.getBoundingClientRect().width:0,m=i+s,h=l+m+d+(n?r:0);return Math.round(h)}return 0},W2e=["dangerouslySetInnerHTML","ticks"];function EV(e,t,n){return(t=G2e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G2e(e){var t=K2e(e,"string");return typeof t=="symbol"?t:t+""}function K2e(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GN(){return GN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GN.apply(null,arguments)}function X2e(e,t){if(e==null)return{};var n,r,i=Q2e(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Q2e(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Z2e(e){var t=sr();return N.useEffect(()=>(t(P2e(e)),()=>{t(I2e(e))}),[e,t]),null}var J2e=e=>{var t,{yAxisId:n,className:r,width:i,label:s}=e,l=N.useRef(null),d=N.useRef(null),m=mt(yF),h=Ji(),p=sr(),v="yAxis",S=mt(R=>Uh(R,v,n,h)),A=mt(R=>JU(R,n)),T=mt(R=>Ipe(R,n)),_=mt(R=>nz(R,v,n,h));if(N.useLayoutEffect(()=>{var R;if(!(i!=="auto"||!A||uC(s)||N.isValidElement(s))){var U=l.current,B=U==null||(R=U.tickRefs)===null||R===void 0?void 0:R.current,{tickSize:L,tickMargin:F}=U.props,V=Y2e({ticks:B,label:d.current,labelGapWithTick:5,tickSize:L,tickMargin:F});Math.round(A.width)!==Math.round(V)&&p(k2e({id:n,width:V}))}},[l,l==null||(t=l.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,A==null?void 0:A.width,A,p,s,n,i]),A==null||T==null)return null;var{dangerouslySetInnerHTML:C,ticks:M}=e,P=X2e(e,W2e);return N.createElement(hu,GN({},P,{ref:l,labelRef:d,scale:S,x:T.x,y:T.y,width:A.width,height:A.height,className:tn("recharts-".concat(v," ").concat(v),r),viewBox:m,ticks:_}))},eje=e=>{var t,n,r,i,s;return N.createElement(N.Fragment,null,N.createElement(Z2e,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),N.createElement(J2e,e))},tje={allowDataOverflow:Ka.allowDataOverflow,allowDecimals:Ka.allowDecimals,allowDuplicatedCategory:Ka.allowDuplicatedCategory,hide:!1,mirror:Ka.mirror,orientation:Ka.orientation,padding:Ka.padding,reversed:Ka.reversed,scale:Ka.scale,tickCount:Ka.tickCount,type:Ka.type,width:Ka.width,yAxisId:0};class Ur extends N.Component{render(){return N.createElement(eje,this.props)}}EV(Ur,"displayName","YAxis");EV(Ur,"defaultProps",tje);var bj={exports:{}},wj={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function nje(){if(Mk)return wj;Mk=1;var e=bh();function t(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,i=e.useRef,s=e.useEffect,l=e.useMemo,d=e.useDebugValue;return wj.useSyncExternalStoreWithSelector=function(m,h,p,v,S){var A=i(null);if(A.current===null){var T={hasValue:!1,value:null};A.current=T}else T=A.current;A=l(function(){function C(B){if(!M){if(M=!0,P=B,B=v(B),S!==void 0&&T.hasValue){var L=T.value;if(S(L,B))return R=L}return R=B}if(L=R,n(P,B))return L;var F=v(B);return S!==void 0&&S(L,F)?(P=B,L):(P=B,R=F)}var M=!1,P,R,U=p===void 0?null:p;return[function(){return C(h())},U===null?void 0:function(){return C(U())}]},[h,p,v,S]);var _=r(m,A[0],A[1]);return s(function(){T.hasValue=!0,T.value=_},[_]),d(_),_},wj}var Dk;function rje(){return Dk||(Dk=1,bj.exports=nje()),bj.exports}rje();function ije(e){e()}function aje(){let e=null,t=null;return{clear(){e=null,t=null},notify(){ije(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var Rk={notify(){},get:()=>[]};function sje(e,t){let n,r=Rk,i=0,s=!1;function l(_){p();const C=r.subscribe(_);let M=!1;return()=>{M||(M=!0,C(),v())}}function d(){r.notify()}function m(){T.onStateChange&&T.onStateChange()}function h(){return s}function p(){i++,n||(n=e.subscribe(m),r=aje())}function v(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Rk)}function S(){s||(s=!0,p())}function A(){s&&(s=!1,v())}const T={addNestedSub:l,notifyNestedSubs:d,handleChangeWrapper:m,isSubscribed:h,trySubscribe:S,tryUnsubscribe:A,getListeners:()=>r};return T}var oje=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",lje=oje(),cje=()=>typeof navigator<"u"&&navigator.product==="ReactNative",uje=cje(),dje=()=>lje||uje?N.useLayoutEffect:N.useEffect,fje=dje(),jj=Symbol.for("react-redux-context"),Sj=typeof globalThis<"u"?globalThis:{};function hje(){if(!N.createContext)return{};const e=Sj[jj]??(Sj[jj]=new Map);let t=e.get(N.createContext);return t||(t=N.createContext(null),e.set(N.createContext,t)),t}var mje=hje();function gje(e){const{children:t,context:n,serverState:r,store:i}=e,s=N.useMemo(()=>{const m=sje(i);return{store:i,subscription:m,getServerState:r?()=>r:void 0}},[i,r]),l=N.useMemo(()=>i.getState(),[i]);fje(()=>{const{subscription:m}=s;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),l!==i.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[s,l]);const d=n||mje;return N.createElement(d.Provider,{value:s},t)}var pje=gje,xje=(e,t)=>t,EC=Pe([xje,un,Gge,Si,xz,Zl,Lxe,ui],Vxe),_C=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},_V=Ds("mouseClick"),CV=hg();CV.startListening({actionCreator:_V,effect:(e,t)=>{var n=e.payload,r=EC(t.getState(),_C(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Gpe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var KN=Ds("mouseMove"),TV=hg();TV.startListening({actionCreator:KN,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=tC(r,r.tooltip.settings.shared),s=EC(r,_C(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(uz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(cz()))}});function vje(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var Pk={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},OV=ks({name:"rootProps",initialState:Pk,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:Pk.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),yje=OV.reducer,{updateOptions:bje}=OV.actions,MV=ks({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:wje}=MV.actions,jje=MV.reducer,DV=Ds("keyDown"),RV=Ds("focus"),CC=hg();CC.startListening({actionCreator:DV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var l=Number(nC(i,Rd(n))),d=Zl(n);if(s==="Enter"){var m=Av(n,"axis","hover",String(i.index));t.dispatch(kN({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:m}));return}var h=Fpe(n),p=h==="left-to-right"?1:-1,v=s==="ArrowRight"?1:-1,S=l+v*p;if(!(d==null||S>=d.length||S<0)){var A=Av(n,"axis","hover",String(S));t.dispatch(kN({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:A}))}}}}});CC.startListening({actionCreator:RV,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",l=Av(n,"axis","hover",String(s));t.dispatch(kN({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:l}))}}}});var Ss=Ds("externalEvent"),PV=hg();PV.startListening({actionCreator:Ss,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:Cxe(n),activeDataKey:wz(n),activeIndex:nu(n),activeLabel:bz(n),activeTooltipIndex:nu(n),isTooltipActive:Txe(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Sje=Pe([zh],e=>e.tooltipItemPayloads),Nje=Pe([Sje,Ag,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(d=>d.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var l=t(s,n);return l}}}),IV=Ds("touchMove"),kV=hg();kV.startListening({actionCreator:IV,effect:(e,t)=>{var n=e.payload,r=t.getState(),i=tC(r,r.tooltip.settings.shared);if(i==="axis"){var s=EC(r,_C({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(uz({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var l,d=n.touches[0],m=document.elementFromPoint(d.clientX,d.clientY);if(!m||!m.getAttribute)return;var h=m.getAttribute(xF),p=(l=m.getAttribute(vF))!==null&&l!==void 0?l:void 0,v=Nje(t.getState(),h,p);t.dispatch(lz({activeDataKey:p,activeIndex:h,activeCoordinate:v}))}}});var Aje=H9({brush:Kbe,cartesianAxis:L2e,chartData:ive,graphicalItems:U1e,layout:Lde,legend:Sfe,options:Jxe,polarAxis:N1e,polarOptions:jje,referenceElements:nwe,rootProps:yje,tooltip:Kpe}),Eje=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lde({reducer:Aje,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([CV.middleware,TV.middleware,CC.middleware,PV.middleware,kV.middleware]),devTools:{serialize:{replacer:vje},name:"recharts-".concat(n)}})};function LV(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=Ji(),s=N.useRef(null);if(i)return n;s.current==null&&(s.current=Eje(t,r));var l=YE;return N.createElement(pje,{context:l,store:s.current},n)}function BV(e){var{layout:t,width:n,height:r,margin:i}=e,s=sr(),l=Ji();return N.useEffect(()=>{l||(s(Pde(t)),s(Ide({width:n,height:r})),s(Rde(i)))},[s,l,t,n,r,i]),null}function FV(e){var t=sr();return N.useEffect(()=>{t(bje(e))},[t,e]),null}var _je=["children"];function Cje(e,t){if(e==null)return{};var n,r,i=Tje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dv(){return Dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dv.apply(null,arguments)}var Oje={width:"100%",height:"100%"},Mje=N.forwardRef((e,t)=>{var n=n_(),r=r_(),i=NF();if(!hh(n)||!hh(r))return null;var{children:s,otherAttributes:l,title:d,desc:m}=e,h,p;return typeof l.tabIndex=="number"?h=l.tabIndex:h=i?0:void 0,typeof l.role=="string"?p=l.role:p=i?"application":void 0,N.createElement(PE,Dv({},l,{title:d,desc:m,role:p,tabIndex:h,width:n,height:r,style:Oje,ref:t}),s)}),Dje=e=>{var{children:t}=e,n=mt(T1);if(!n)return null;var{width:r,height:i,y:s,x:l}=n;return N.createElement(PE,{width:r,height:i,x:l,y:s},t)},Ik=N.forwardRef((e,t)=>{var{children:n}=e,r=Cje(e,_je),i=Ji();return i?N.createElement(Dje,null,n):N.createElement(Mje,Dv({ref:t},r),n)});function Rje(){var e=sr(),[t,n]=N.useState(null),r=mt(dfe);return N.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Di(s)&&s!==r&&e(kde(s))}},[t,e,r]),n}function kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Pje(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kk(Object(n),!0).forEach(function(r){Ije(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ije(e,t,n){return(t=kje(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kje(e){var t=Lje(e,"string");return typeof t=="symbol"?t:t+""}function Lje(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Bje=N.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:l,onDoubleClick:d,onMouseDown:m,onMouseEnter:h,onMouseLeave:p,onMouseMove:v,onMouseUp:S,onTouchEnd:A,onTouchMove:T,onTouchStart:_,style:C,width:M}=e,P=sr(),[R,U]=N.useState(null),[B,L]=N.useState(null);ove();var F=Rje(),V=N.useCallback(oe=>{F(oe),typeof t=="function"&&t(oe),U(oe),L(oe)},[F,t,U,L]),z=N.useCallback(oe=>{P(_V(oe)),P(Ss({handler:s,reactEvent:oe}))},[P,s]),H=N.useCallback(oe=>{P(KN(oe)),P(Ss({handler:h,reactEvent:oe}))},[P,h]),W=N.useCallback(oe=>{P(cz()),P(Ss({handler:p,reactEvent:oe}))},[P,p]),q=N.useCallback(oe=>{P(KN(oe)),P(Ss({handler:v,reactEvent:oe}))},[P,v]),Q=N.useCallback(()=>{P(RV())},[P]),te=N.useCallback(oe=>{P(DV(oe.key))},[P]),J=N.useCallback(oe=>{P(Ss({handler:l,reactEvent:oe}))},[P,l]),Y=N.useCallback(oe=>{P(Ss({handler:d,reactEvent:oe}))},[P,d]),ne=N.useCallback(oe=>{P(Ss({handler:m,reactEvent:oe}))},[P,m]),se=N.useCallback(oe=>{P(Ss({handler:S,reactEvent:oe}))},[P,S]),me=N.useCallback(oe=>{P(Ss({handler:_,reactEvent:oe}))},[P,_]),re=N.useCallback(oe=>{P(IV(oe)),P(Ss({handler:T,reactEvent:oe}))},[P,T]),de=N.useCallback(oe=>{P(Ss({handler:A,reactEvent:oe}))},[P,A]);return N.createElement(Cz.Provider,{value:R},N.createElement(h9.Provider,{value:B},N.createElement("div",{className:tn("recharts-wrapper",r),style:Pje({position:"relative",cursor:"default",width:M,height:i},C),onClick:z,onContextMenu:J,onDoubleClick:Y,onFocus:Q,onKeyDown:te,onMouseDown:ne,onMouseEnter:H,onMouseLeave:W,onMouseMove:q,onMouseUp:se,onTouchEnd:de,onTouchMove:re,onTouchStart:me,ref:V},n)))}),Fje=["children","className","width","height","style","compact","title","desc"];function Uje(e,t){if(e==null)return{};var n,r,i=zje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var UV=N.forwardRef((e,t)=>{var{children:n,className:r,width:i,height:s,style:l,compact:d,title:m,desc:h}=e,p=Uje(e,Fje),v=zt(p,!1);return d?N.createElement(Ik,{otherAttributes:v,title:m,desc:h},n):N.createElement(Bje,{className:r,style:l,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},N.createElement(Ik,{otherAttributes:v,title:m,desc:h,ref:t},N.createElement(iwe,null,n)))}),Vje=["width","height"];function XN(){return XN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XN.apply(null,arguments)}function $je(e,t){if(e==null)return{};var n,r,i=Hje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Hje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qje={top:5,right:5,bottom:5,left:5},Yje={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:qje,reverseStackOrder:!1,syncMethod:"index"},TC=N.forwardRef(function(t,n){var r,i=cs(t.categoricalChartProps,Yje),{width:s,height:l}=i,d=$je(i,Vje);if(!hh(s)||!hh(l))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,categoricalChartProps:S}=t,A={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:p,tooltipPayloadSearcher:v,eventEmitter:void 0};return N.createElement(LV,{preloadedState:{options:A},reduxStoreName:(r=S.id)!==null&&r!==void 0?r:m},N.createElement(aV,{chartData:S.data}),N.createElement(BV,{width:s,height:l,layout:i.layout,margin:i.margin}),N.createElement(FV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(UV,XN({},d,{width:s,height:l,ref:n})))}),Wje=["axis"],Y0=N.forwardRef((e,t)=>N.createElement(TC,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wje,tooltipPayloadSearcher:Y1,categoricalChartProps:e,ref:t})),Gje=["axis","item"],Vo=N.forwardRef((e,t)=>N.createElement(TC,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Gje,tooltipPayloadSearcher:Y1,categoricalChartProps:e,ref:t}));function Kje(e){var t=sr();return N.useEffect(()=>{t(wje(e))},[t,e]),null}var Xje=["width","height","layout"];function QN(){return QN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},QN.apply(null,arguments)}function Qje(e,t){if(e==null)return{};var n,r,i=Zje(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zje(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jje={top:5,right:5,bottom:5,left:5},eSe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jje,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},tSe=N.forwardRef(function(t,n){var r,i=cs(t.categoricalChartProps,eSe),{width:s,height:l,layout:d}=i,m=Qje(i,Xje);if(!hh(s)||!hh(l))return null;var{chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:S}=t,A={chartName:h,defaultTooltipEventType:p,validateTooltipEventTypes:v,tooltipPayloadSearcher:S,eventEmitter:void 0};return N.createElement(LV,{preloadedState:{options:A},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:h},N.createElement(aV,{chartData:i.data}),N.createElement(BV,{width:s,height:l,layout:d,margin:i.margin}),N.createElement(FV,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),N.createElement(Kje,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(UV,QN({width:s,height:l},m,{ref:n})))}),nSe=["item"],rSe={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Rv=N.forwardRef((e,t)=>{var n=cs(e,rSe);return N.createElement(tSe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:nSe,tooltipPayloadSearcher:Y1,categoricalChartProps:n,ref:t})}),iSe=["axis"],ny=N.forwardRef((e,t)=>N.createElement(TC,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:iSe,tooltipPayloadSearcher:Y1,categoricalChartProps:e,ref:t}));const zV=6048e5,aSe=864e5,VV=6e4,$V=36e5,Lk=Symbol.for("constructDateFrom");function Zi(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Lk in e?e[Lk](t):e instanceof Date?new e.constructor(t):new Date(t)}function Ri(e,t){return Zi(t||e,e)}function HV(e,t,n){const r=Ri(e,n==null?void 0:n.in);return isNaN(t)?Zi(e,NaN):(t&&r.setDate(r.getDate()+t),r)}function sSe(e,t,n){const r=Ri(e,n==null?void 0:n.in);if(isNaN(t))return Zi(e,NaN);if(!t)return r;const i=r.getDate(),s=Zi(e,r.getTime());s.setMonth(r.getMonth()+t+1,0);const l=s.getDate();return i>=l?s:(r.setFullYear(s.getFullYear(),s.getMonth(),i),r)}let oSe={};function ry(){return oSe}function W0(e,t){var d,m,h,p;const n=ry(),r=(t==null?void 0:t.weekStartsOn)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??0,i=Ri(e,t==null?void 0:t.in),s=i.getDay(),l=(s<r?7:0)+s-r;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Pv(e,t){return W0(e,{...t,weekStartsOn:1})}function qV(e,t){const n=Ri(e,t==null?void 0:t.in),r=n.getFullYear(),i=Zi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Pv(i),l=Zi(n,0);l.setFullYear(r,0,4),l.setHours(0,0,0,0);const d=Pv(l);return n.getTime()>=s.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function Bk(e){const t=Ri(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function OC(e,...t){const n=Zi.bind(null,t.find(r=>typeof r=="object"));return t.map(n)}function Iv(e,t){const n=Ri(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function lSe(e,t,n){const[r,i]=OC(n==null?void 0:n.in,e,t),s=Iv(r),l=Iv(i),d=+s-Bk(s),m=+l-Bk(l);return Math.round((d-m)/aSe)}function cSe(e,t){const n=qV(e,t),r=Zi(e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Pv(r)}function uSe(e){return Zi(e,Date.now())}function dSe(e,t,n){const[r,i]=OC(n==null?void 0:n.in,e,t);return+Iv(r)==+Iv(i)}function fSe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function hSe(e){return!(!fSe(e)&&typeof e!="number"||isNaN(+Ri(e)))}function MC(e,t){const n=Ri(e,t==null?void 0:t.in),r=n.getMonth();return n.setFullYear(n.getFullYear(),r+1,0),n.setHours(23,59,59,999),n}function YV(e,t){const[n,r]=OC(e,t.start,t.end);return{start:n,end:r}}function mSe(e,t){const{start:n,end:r}=YV(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0);let d=1;const m=[];for(;+l<=s;)m.push(Zi(n,l)),l.setDate(l.getDate()+d),l.setHours(0,0,0,0);return i?m.reverse():m}function gSe(e,t){const{start:n,end:r}=YV(t==null?void 0:t.in,e);let i=+n>+r;const s=i?+n:+r,l=i?r:n;l.setHours(0,0,0,0),l.setDate(1);let d=1;const m=[];for(;+l<=s;)m.push(Zi(n,l)),l.setMonth(l.getMonth()+d);return i?m.reverse():m}function DC(e,t){const n=Ri(e,t==null?void 0:t.in);return n.setDate(1),n.setHours(0,0,0,0),n}function pSe(e,t){const n=Ri(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const xSe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},vSe=(e,t,n)=>{let r;const i=xSe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ih(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ySe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bSe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},wSe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jSe={date:ih({formats:ySe,defaultWidth:"full"}),time:ih({formats:bSe,defaultWidth:"full"}),dateTime:ih({formats:wSe,defaultWidth:"full"})},SSe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NSe=(e,t,n,r)=>SSe[e];function Mo(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):l;i=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[l]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const ASe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ESe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Se={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CSe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},TSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},OSe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},MSe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},DSe={ordinalNumber:MSe,era:Mo({values:ASe,defaultWidth:"wide"}),quarter:Mo({values:ESe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mo({values:_Se,defaultWidth:"wide"}),day:Mo({values:CSe,defaultWidth:"wide"}),dayPeriod:Mo({values:TSe,defaultWidth:"wide",formattingValues:OSe,defaultFormattingWidth:"wide"})};function Do(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const l=s[0],d=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],m=Array.isArray(d)?PSe(d,v=>v.test(l)):RSe(d,v=>v.test(l));let h;h=e.valueCallback?e.valueCallback(m):m,h=n.valueCallback?n.valueCallback(h):h;const p=t.slice(l.length);return{value:h,rest:p}}}function RSe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function PSe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function WV(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let l=e.valueCallback?e.valueCallback(s[0]):s[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(i.length);return{value:l,rest:d}}}const ISe=/^(\d+)(th|st|nd|rd)?/i,kSe=/\d+/i,LSe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},BSe={any:[/^b/i,/^(a|c)/i]},FSe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},USe={any:[/1/i,/2/i,/3/i,/4/i]},zSe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},VSe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$Se={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},HSe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},qSe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},YSe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},WSe={ordinalNumber:WV({matchPattern:ISe,parsePattern:kSe,valueCallback:e=>parseInt(e,10)}),era:Do({matchPatterns:LSe,defaultMatchWidth:"wide",parsePatterns:BSe,defaultParseWidth:"any"}),quarter:Do({matchPatterns:FSe,defaultMatchWidth:"wide",parsePatterns:USe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Do({matchPatterns:zSe,defaultMatchWidth:"wide",parsePatterns:VSe,defaultParseWidth:"any"}),day:Do({matchPatterns:$Se,defaultMatchWidth:"wide",parsePatterns:HSe,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:qSe,defaultMatchWidth:"any",parsePatterns:YSe,defaultParseWidth:"any"})},GSe={code:"en-US",formatDistance:vSe,formatLong:jSe,formatRelative:NSe,localize:DSe,match:WSe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function KSe(e,t){const n=Ri(e,t==null?void 0:t.in);return lSe(n,pSe(n))+1}function XSe(e,t){const n=Ri(e,t==null?void 0:t.in),r=+Pv(n)-+cSe(n);return Math.round(r/zV)+1}function GV(e,t){var p,v,S,A;const n=Ri(e,t==null?void 0:t.in),r=n.getFullYear(),i=ry(),s=(t==null?void 0:t.firstWeekContainsDate)??((v=(p=t==null?void 0:t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??i.firstWeekContainsDate??((A=(S=i.locale)==null?void 0:S.options)==null?void 0:A.firstWeekContainsDate)??1,l=Zi((t==null?void 0:t.in)||e,0);l.setFullYear(r+1,0,s),l.setHours(0,0,0,0);const d=W0(l,t),m=Zi((t==null?void 0:t.in)||e,0);m.setFullYear(r,0,s),m.setHours(0,0,0,0);const h=W0(m,t);return+n>=+d?r+1:+n>=+h?r:r-1}function QSe(e,t){var d,m,h,p;const n=ry(),r=(t==null?void 0:t.firstWeekContainsDate)??((m=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=GV(e,t),s=Zi((t==null?void 0:t.in)||e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),W0(s,t)}function ZSe(e,t){const n=Ri(e,t==null?void 0:t.in),r=+W0(n,t)-+QSe(n,t);return Math.round(r/zV)+1}function On(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const kc={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return On(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):On(n+1,2)},d(e,t){return On(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return On(e.getHours()%12||12,t.length)},H(e,t){return On(e.getHours(),t.length)},m(e,t){return On(e.getMinutes(),t.length)},s(e,t){return On(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return On(i,t.length)}},Ff={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fk={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return kc.y(e,t)},Y:function(e,t,n,r){const i=GV(e,r),s=i>0?i:1-i;if(t==="YY"){const l=s%100;return On(l,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):On(s,t.length)},R:function(e,t){const n=qV(e);return On(n,t.length)},u:function(e,t){const n=e.getFullYear();return On(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return On(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return On(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return kc.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return On(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=ZSe(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):On(i,t.length)},I:function(e,t,n){const r=XSe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):On(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):kc.d(e,t)},D:function(e,t,n){const r=KSe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):On(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return On(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return On(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return On(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Ff.noon:r===0?i=Ff.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Ff.evening:r>=12?i=Ff.afternoon:r>=4?i=Ff.morning:i=Ff.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return kc.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):kc.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):On(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):On(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):kc.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):kc.s(e,t)},S:function(e,t){return kc.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return zk(r);case"XXXX":case"XX":return Gu(r);case"XXXXX":case"XXX":default:return Gu(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return zk(r);case"xxxx":case"xx":return Gu(r);case"xxxxx":case"xxx":default:return Gu(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Uk(r,":");case"OOOO":default:return"GMT"+Gu(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Uk(r,":");case"zzzz":default:return"GMT"+Gu(r,":")}},t:function(e,t,n){const r=Math.trunc(+e/1e3);return On(r,t.length)},T:function(e,t,n){return On(+e,t.length)}};function Uk(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+On(s,2)}function zk(e,t){return e%60===0?(e>0?"-":"+")+On(Math.abs(e)/60,2):Gu(e,t)}function Gu(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=On(Math.trunc(r/60),2),s=On(r%60,2);return n+i+t+s}const Vk=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},KV=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},JSe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Vk(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",Vk(r,t)).replace("{{time}}",KV(i,t))},eNe={p:KV,P:JSe},tNe=/^D+$/,nNe=/^Y+$/,rNe=["D","DD","YY","YYYY"];function iNe(e){return tNe.test(e)}function aNe(e){return nNe.test(e)}function sNe(e,t,n){const r=oNe(e,t,n);if(console.warn(r),rNe.includes(e))throw new RangeError(r)}function oNe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const lNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,cNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,uNe=/^'([^]*?)'?$/,dNe=/''/g,fNe=/[a-zA-Z]/;function mr(e,t,n){var p,v,S,A,T,_,C,M;const r=ry(),i=(n==null?void 0:n.locale)??r.locale??GSe,s=(n==null?void 0:n.firstWeekContainsDate)??((v=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??r.firstWeekContainsDate??((A=(S=r.locale)==null?void 0:S.options)==null?void 0:A.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((_=(T=n==null?void 0:n.locale)==null?void 0:T.options)==null?void 0:_.weekStartsOn)??r.weekStartsOn??((M=(C=r.locale)==null?void 0:C.options)==null?void 0:M.weekStartsOn)??0,d=Ri(e,n==null?void 0:n.in);if(!hSe(d))throw new RangeError("Invalid time value");let m=t.match(cNe).map(P=>{const R=P[0];if(R==="p"||R==="P"){const U=eNe[R];return U(P,i.formatLong)}return P}).join("").match(lNe).map(P=>{if(P==="''")return{isToken:!1,value:"'"};const R=P[0];if(R==="'")return{isToken:!1,value:hNe(P)};if(Fk[R])return{isToken:!0,value:P};if(R.match(fNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");return{isToken:!1,value:P}});i.localize.preprocessor&&(m=i.localize.preprocessor(d,m));const h={firstWeekContainsDate:s,weekStartsOn:l,locale:i};return m.map(P=>{if(!P.isToken)return P.value;const R=P.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&aNe(R)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&iNe(R))&&sNe(R,t,String(e));const U=Fk[R[0]];return U(d,R,i.localize,h)}).join("")}function hNe(e){const t=e.match(uNe);return t?t[1].replace(dNe,"'"):e}function kv(e,t){return dSe(Zi(e,e),uSe(e))}function Ro(e,t,n){return HV(e,-t,n)}function Kr(e,t){const n=()=>Zi(t==null?void 0:t.in,NaN),i=xNe(e);let s;if(i.date){const h=vNe(i.date,2);s=yNe(h.restDateString,h.year)}if(!s||isNaN(+s))return n();const l=+s;let d=0,m;if(i.time&&(d=bNe(i.time),isNaN(d)))return n();if(i.timezone){if(m=wNe(i.timezone),isNaN(m))return n()}else{const h=new Date(l+d),p=Ri(0,t==null?void 0:t.in);return p.setFullYear(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate()),p.setHours(h.getUTCHours(),h.getUTCMinutes(),h.getUTCSeconds(),h.getUTCMilliseconds()),p}return Ri(l+d+m,t==null?void 0:t.in)}const xx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mNe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gNe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,pNe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xNe(e){const t={},n=e.split(xx.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],xx.timeZoneDelimiter.test(t.date)&&(t.date=e.split(xx.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const i=xx.timezone.exec(r);i?(t.time=r.replace(i[1],""),t.timezone=i[1]):t.time=r}return t}function vNe(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((r[1]||r[2]).length)}}function yNe(e,t){if(t===null)return new Date(NaN);const n=e.match(mNe);if(!n)return new Date(NaN);const r=!!n[4],i=Qm(n[1]),s=Qm(n[2])-1,l=Qm(n[3]),d=Qm(n[4]),m=Qm(n[5])-1;if(r)return ENe(t,d,m)?jNe(t,d,m):new Date(NaN);{const h=new Date(0);return!NNe(t,s,l)||!ANe(t,i)?new Date(NaN):(h.setUTCFullYear(t,s,Math.max(i,l)),h)}}function Qm(e){return e?parseInt(e):1}function bNe(e){const t=e.match(gNe);if(!t)return NaN;const n=Nj(t[1]),r=Nj(t[2]),i=Nj(t[3]);return _Ne(n,r,i)?n*$V+r*VV+i*1e3:NaN}function Nj(e){return e&&parseFloat(e.replace(",","."))||0}function wNe(e){if(e==="Z")return 0;const t=e.match(pNe);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return CNe(r,i)?n*(r*$V+i*VV):NaN}function jNe(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const i=r.getUTCDay()||7,s=(t-1)*7+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}const SNe=[31,null,31,30,31,30,31,31,30,31,30,31];function XV(e){return e%400===0||e%4===0&&e%100!==0}function NNe(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(SNe[t]||(XV(e)?29:28))}function ANe(e,t){return t>=1&&t<=(XV(e)?366:365)}function ENe(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function _Ne(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function CNe(e,t){return t>=0&&t<=59}function Aj(e,t,n){return sSe(e,-t,n)}const Lc=["#8884d8","#82ca9d","#ffc658","#ff7300","#8dd1e1","#d084d0","#ffb347","#87ceeb","#dda0dd","#98fb98"];function TNe(){var T;const{profile:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState({spendingTrend:[],categoryBreakdown:[],monthlyComparison:[],topMerchants:[],paymentMethods:[],weeklyPattern:[],hourlyPattern:[],budgetAnalysis:{monthlyAverage:0,currentMonth:0,projection:0,variance:0},kpis:{totalSpent:0,averageTransaction:0,transactionCount:0,topCategory:"",savingsRate:0,spendingGrowth:0}}),[s,l]=N.useState(!0),[d,m]=N.useState("last_30_days"),[h,p]=N.useState("line");N.useEffect(()=>{e&&v()},[e,d]);const v=async()=>{var _,C,M,P;if(e)try{l(!0);const R=new Date;let U=new Date;switch(d){case"last_7_days":U=Ro(R,7);break;case"last_30_days":U=Ro(R,30);break;case"last_90_days":U=Ro(R,90);break;case"last_year":U=Ro(R,365);break;default:U=Ro(R,30)}const{data:B,error:L}=await rt.from("transactions").select(`
          *,
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name,
            user_type
          )
        `).eq("from_user_id",e.id).gte("created_at",U.toISOString()).lte("created_at",R.toISOString()).order("created_at",{ascending:!0});if(L)throw L;const F=B||[],V=mSe({start:U,end:R}).map(le=>{const pe=F.filter(je=>mr(new Date(je.created_at),"yyyy-MM-dd")===mr(le,"yyyy-MM-dd"));return{date:mr(le,"MMM dd"),amount:pe.reduce((je,xe)=>je+xe.amount,0),transactions:pe.length}}),z=new Map;F.forEach(le=>{const pe=le.transaction_type;if(z.has(pe)){const je=z.get(pe);z.set(pe,{amount:je.amount+le.amount,count:je.count+1})}else z.set(pe,{amount:le.amount,count:1})});const H=F.reduce((le,pe)=>le+pe.amount,0),W=Array.from(z.entries()).map(([le,pe],je)=>({category:le,amount:pe.amount,count:pe.count,percentage:H>0?pe.amount/H*100:0,color:Lc[je%Lc.length]})).sort((le,pe)=>pe.amount-le.amount),q=gSe({start:Aj(R,11),end:R}).map(le=>{const pe=DC(le),je=MC(le),xe=F.filter(We=>{const Ue=new Date(We.created_at);return Ue>=pe&&Ue<=je}),Fe=Aj(pe,12),Ce=Aj(je,12),we=xe.reduce((We,Ue)=>We+Ue.amount,0)*.8;return{month:mr(le,"MMM"),currentYear:xe.reduce((We,Ue)=>We+Ue.amount,0),previousYear:we}}),Q=new Map;F.forEach(le=>{var je;const pe=((je=le.to_profile)==null?void 0:je.full_name)||"Unknown";if(Q.has(pe)){const xe=Q.get(pe);Q.set(pe,{amount:xe.amount+le.amount,transactions:xe.transactions+1})}else Q.set(pe,{amount:le.amount,transactions:1})});const te=Array.from(Q.entries()).map(([le,pe])=>({name:le,amount:pe.amount,transactions:pe.transactions})).sort((le,pe)=>pe.amount-le.amount).slice(0,5),J=new Map;F.forEach(le=>{const pe=le.payment_method||"wallet";if(J.has(pe)){const je=J.get(pe);J.set(pe,{amount:je.amount+le.amount,count:je.count+1})}else J.set(pe,{amount:le.amount,count:1})});const Y=Array.from(J.entries()).map(([le,pe])=>({method:le,amount:pe.amount,count:pe.count,percentage:H>0?pe.amount/H*100:0})),se=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(le=>{const pe=F.filter(je=>mr(new Date(je.created_at),"EEE")===le);return{day:le,amount:pe.reduce((je,xe)=>je+xe.amount,0),transactions:pe.length}}),me=Array.from({length:24},(le,pe)=>{const je=F.filter(xe=>new Date(xe.created_at).getHours()===pe);return{hour:`${pe.toString().padStart(2,"0")}:00`,amount:je.reduce((xe,Fe)=>xe+Fe.amount,0),transactions:je.length}}),re=F.filter(le=>{const pe=new Date(le.created_at),je=new Date;return pe.getMonth()===je.getMonth()&&pe.getFullYear()===je.getFullYear()}).reduce((le,pe)=>le+pe.amount,0),de=H/Math.max(1,Math.ceil((R.getTime()-U.getTime())/(30*24*60*60*1e3))),oe=new Date(new Date().getFullYear(),new Date().getMonth()+1,0).getDate(),he=new Date().getDate(),Re=re/he*oe,Le={totalSpent:H,averageTransaction:F.length>0?H/F.length:0,transactionCount:F.length,topCategory:((_=W[0])==null?void 0:_.category)||"",savingsRate:Math.max(0,(de-re)/Math.max(de,1)*100),spendingGrowth:q.length>=2?((((C=q[q.length-1])==null?void 0:C.currentYear)||0)-(((M=q[q.length-2])==null?void 0:M.currentYear)||0))/Math.max(((P=q[q.length-2])==null?void 0:P.currentYear)||1,1)*100:0};i({spendingTrend:V,categoryBreakdown:W,monthlyComparison:q,topMerchants:te,paymentMethods:Y,weeklyPattern:se,hourlyPattern:me,budgetAnalysis:{monthlyAverage:de,currentMonth:re,projection:Re,variance:(Re-de)/Math.max(de,1)*100},kpis:Le})}catch(R){console.error("Error fetching analytics:",R)}finally{l(!1)}},S=_=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(_),A=()=>{const _={generatedAt:new Date().toISOString(),period:d,...r},C=new Blob([JSON.stringify(_,null,2)],{type:"application/json"}),M=URL.createObjectURL(C),P=document.createElement("a");P.href=M,P.download=`spending-analytics-${mr(new Date,"yyyy-MM-dd")}.json`,P.click(),URL.revokeObjectURL(M)};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("spendingAnalytics")}),a.jsx("p",{className:"text-muted-foreground",children:t("detailedInsightsIntoYourSpending")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(pr,{value:d,onValueChange:m,children:[a.jsx(vr,{className:"w-[160px]",children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"last_7_days",children:t("last7Days")}),a.jsx(at,{value:"last_30_days",children:t("last30Days")}),a.jsx(at,{value:"last_90_days",children:t("last90Days")}),a.jsx(at,{value:"last_year",children:t("lastYear")})]})]}),a.jsxs(_e,{variant:"outline",onClick:A,children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),t("exportReport")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalSpent")}),a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S(r.kpis.totalSpent)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[r.kpis.spendingGrowth>=0?a.jsx(Xn,{className:"h-4 w-4 text-red-500"}):a.jsx(Bl,{className:"h-4 w-4 text-green-500"}),a.jsxs("p",{className:`text-xs ${r.kpis.spendingGrowth>=0?"text-red-500":"text-green-500"}`,children:[r.kpis.spendingGrowth>=0?"+":"",r.kpis.spendingGrowth.toFixed(1),"% ",t("fromLastMonth")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("avgTransaction")}),a.jsx(Ki,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S(r.kpis.averageTransaction)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.kpis.transactionCount," ",t("transactions")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("monthlyBudget")}),a.jsx(Gv,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:S(r.budgetAnalysis.projection)}),a.jsxs("p",{className:`text-xs ${r.budgetAnalysis.variance>=0?"text-red-500":"text-green-500"}`,children:[r.budgetAnalysis.variance>=0?"+":"",r.budgetAnalysis.variance.toFixed(1),"% ",t("projected")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("topCategory")}),a.jsx(GA,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t(r.kpis.topCategory)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[(T=r.categoryBreakdown[0])==null?void 0:T.percentage.toFixed(1),"% ",t("ofSpending")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("savingsRate")}),a.jsx(Xn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[r.kpis.savingsRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("comparedToAverage")})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("frequency")}),a.jsx(WA,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(r.kpis.transactionCount/Math.max(1,parseInt(d.split("_")[1]))).toFixed(1)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("transactionsPerDay")})]})]})})]}),a.jsxs(Jo,{defaultValue:"trend",className:"space-y-4",children:[a.jsxs(el,{className:"grid w-full grid-cols-6",children:[a.jsx(Dt,{value:"trend",children:t("spendingTrend")}),a.jsx(Dt,{value:"category",children:t("categories")}),a.jsx(Dt,{value:"comparison",children:t("comparison")}),a.jsx(Dt,{value:"patterns",children:t("patterns")}),a.jsx(Dt,{value:"merchants",children:t("merchants")}),a.jsx(Dt,{value:"methods",children:t("paymentMethods")})]}),a.jsx(Lt,{value:"trend",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ke,{children:t("spendingTrend")}),a.jsx(lt,{children:t("dailySpendingPattern")})]}),a.jsxs(pr,{value:h,onValueChange:p,children:[a.jsx(vr,{className:"w-[120px]",children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"line",children:t("line")}),a.jsx(at,{value:"area",children:t("area")}),a.jsx(at,{value:"bar",children:t("bar")})]})]})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:400,children:h==="line"?a.jsxs(Y0,{data:r.spendingTrend,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]}),a.jsx(bi,{}),a.jsx(Os,{type:"monotone",dataKey:"amount",stroke:"#8884d8",strokeWidth:2})]}):h==="area"?a.jsxs(ny,{data:r.spendingTrend,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]}),a.jsx(Nd,{type:"monotone",dataKey:"amount",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Vo,{data:r.spendingTrend,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]}),a.jsx(Br,{dataKey:"amount",fill:"#8884d8"})]})})})]})}),a.jsx(Lt,{value:"category",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("spendingByCategory")}),a.jsx(lt,{children:t("categoryDistribution")})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:300,children:a.jsxs(Rv,{children:[a.jsx(vh,{data:r.categoryBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percentage:C})=>`${t(_)} ${C.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.categoryBreakdown.map((_,C)=>a.jsx(ru,{fill:_.color},`cell-${C}`))}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]})]})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("categoryBreakdown")}),a.jsx(lt,{children:t("detailedCategoryAnalysis")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.categoryBreakdown.map((_,C)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_.color}}),a.jsx("span",{className:"font-medium",children:t(_.category)})]}),a.jsx("span",{className:"text-sm font-medium",children:S(_.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[_.count," ",t("transactions")]}),a.jsxs("span",{children:[_.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${_.percentage}%`,backgroundColor:_.color}})})]},_.category))})})]})]})}),a.jsx(Lt,{value:"comparison",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("monthlyComparison")}),a.jsx(lt,{children:t("currentVsPreviousYear")})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:400,children:a.jsxs(Vo,{data:r.monthlyComparison,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"month"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),""]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"currentYear",fill:"#8884d8",name:t("currentYear")}),a.jsx(Br,{dataKey:"previousYear",fill:"#82ca9d",name:t("previousYear")})]})})})]})}),a.jsx(Lt,{value:"patterns",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("weeklyPattern")}),a.jsx(lt,{children:t("spendingByDayOfWeek")})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:300,children:a.jsxs(Vo,{data:r.weeklyPattern,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"day"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]}),a.jsx(Br,{dataKey:"amount",fill:"#8884d8"})]})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("hourlyPattern")}),a.jsx(lt,{children:t("spendingByHourOfDay")})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:300,children:a.jsxs(Y0,{data:r.hourlyPattern,children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"hour"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]}),a.jsx(Os,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2})]})})})]})]})}),a.jsx(Lt,{value:"merchants",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("topMerchants")}),a.jsx(lt,{children:t("merchantsBySpending")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.topMerchants.map((_,C)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:C*.1},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-2xl font-bold text-muted-foreground",children:["#",C+1]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:_.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[_.transactions," ",t("transactions")]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold",children:S(_.amount)}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[S(_.amount/_.transactions)," ",t("avg")]})]})]},_.name))})})]})}),a.jsx(Lt,{value:"methods",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("paymentMethods")}),a.jsx(lt,{children:t("methodDistribution")})]}),a.jsx(ye,{children:a.jsx(aa,{width:"100%",height:300,children:a.jsxs(Rv,{children:[a.jsx(vh,{data:r.paymentMethods,cx:"50%",cy:"50%",labelLine:!1,label:({method:_,percentage:C})=>`${t(_)} ${C.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"amount",children:r.paymentMethods.map((_,C)=>a.jsx(ru,{fill:Lc[C%Lc.length]},`cell-${C}`))}),a.jsx(hr,{formatter:_=>[S(Number(_)),t("amount")]})]})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("methodBreakdown")}),a.jsx(lt,{children:t("detailedMethodAnalysis")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.paymentMethods.map((_,C)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Lc[C%Lc.length]}}),a.jsx("span",{className:"font-medium",children:t(_.method)})]}),a.jsx("span",{className:"text-sm font-medium",children:S(_.amount)})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{children:[_.count," ",t("transactions")]}),a.jsxs("span",{children:[_.percentage.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:a.jsx("div",{className:"h-2 rounded-full transition-all duration-300",style:{width:`${_.percentage}%`,backgroundColor:Lc[C%Lc.length]}})})]},_.method))})})]})]})})]}),r.budgetAnalysis.variance>20&&a.jsx(ve,{className:"border-orange-200 bg-orange-50",children:a.jsxs(ye,{className:"pt-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(RS,{className:"h-5 w-5 text-orange-600"}),a.jsx("span",{className:"font-medium text-orange-800",children:t("budgetWarning")}),a.jsxs(pt,{variant:"outline",className:"bg-orange-100 text-orange-800",children:["+",r.budgetAnalysis.variance.toFixed(1),"% ",t("overBudget")]})]}),a.jsxs("p",{className:"text-sm text-orange-700 mt-2",children:[t("yourProjectedSpendingIs")," ",S(r.budgetAnalysis.projection)," ",t("comparedToYourAverage")," ",S(r.budgetAnalysis.monthlyAverage)]})]})})]})}function Eg(){const{profile:e,user:t,refreshProfile:n}=cn(),{t:r,language:i,setLanguage:s}=Yt(),[l,d]=N.useState(!1),[m,h]=N.useState(!1),[p,v]=N.useState({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),S=(M,P)=>{v(R=>({...R,[M]:P}))},A=async()=>{if(e){h(!0);try{const{error:M}=await rt.from("profiles").update({full_name:p.full_name,phone_number:p.phone_number,language_preference:p.language_preference,updated_at:new Date().toISOString()}).eq("id",e.id);if(M)throw M;p.language_preference!==i&&s(p.language_preference),await n(),d(!1),Ge.success(r("profileUpdated"))}catch(M){console.error("Error updating profile:",M),Ge.error(r("errorUpdatingProfile"))}finally{h(!1)}}},T=()=>{v({full_name:(e==null?void 0:e.full_name)||"",phone_number:(e==null?void 0:e.phone_number)||"",language_preference:(e==null?void 0:e.language_preference)||"en"}),d(!1)},_=M=>({passenger:r("passenger"),driver:r("driver"),merchant:r("merchant"),event_admin:r("eventAdmin"),admin:r("systemAdmin")})[M]||M,C=M=>M.split(" ").map(P=>P[0]).join("").toUpperCase();return e?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:r("profile")}),a.jsx("p",{className:"text-muted-foreground",children:r("manageYourAccountInformation")})]}),!l&&a.jsxs(_e,{onClick:()=>d(!0),variant:"outline",children:[a.jsx(nL,{className:"h-4 w-4 mr-2"}),r("editProfile")]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{className:"text-lg",children:r("profilePicture")})}),a.jsxs(ye,{className:"flex flex-col items-center space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(GS,{className:"h-24 w-24",children:[a.jsx(KS,{src:e.avatar_url}),a.jsx(XS,{className:"text-lg",children:C(e.full_name)})]}),a.jsx(_e,{size:"sm",variant:"outline",className:"absolute -bottom-2 -right-2 h-8 w-8 rounded-full p-0",children:a.jsx(Ex,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-sm text-muted-foreground text-center",children:r("clickToUploadNewPicture")})]})]}),a.jsxs(ve,{className:"md:col-span-2",children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsxs("div",{children:[a.jsx(ke,{className:"text-lg",children:r("personalInformation")}),a.jsx(lt,{children:r("updateYourPersonalDetails")})]}),l&&a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{size:"sm",onClick:A,disabled:m,children:[a.jsx(Yee,{className:"h-4 w-4 mr-2"}),r("save")]}),a.jsxs(_e,{size:"sm",variant:"outline",onClick:T,children:[a.jsx(ig,{className:"h-4 w-4 mr-2"}),r("cancel")]})]})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"full_name",children:r("fullName")}),l?a.jsx(Pt,{id:"full_name",value:p.full_name,onChange:M=>S("full_name",M.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lh,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.full_name})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"phone_number",children:r("phoneNumber")}),l?a.jsx(Pt,{id:"phone_number",value:p.phone_number,onChange:M=>S("phone_number",M.target.value)}):a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fee,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.phone_number||r("notProvided")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("email")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ZA,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:e.email})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("language")}),l?a.jsxs(pr,{value:p.language_preference,onValueChange:M=>S("language_preference",M),children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"en",children:"English"}),a.jsx(at,{value:"ar",children:"العربية"})]})]}):a.jsx("span",{children:e.language_preference==="ar"?"العربية":"English"})]})]}),a.jsx(qo,{}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("accountType")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(pt,{variant:"secondary",children:_(e.user_type)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("memberSince")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(e.created_at).toLocaleDateString(i==="ar"?"ar-SY":"en-US")})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("verificationStatus")}),a.jsx(pt,{variant:e.is_verified?"default":"secondary",children:e.is_verified?r("verified"):r("unverified")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:r("accountStatus")}),a.jsx(pt,{variant:e.is_active?"default":"destructive",children:e.is_active?r("active"):r("inactive")})]})]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:r("accountActions")}),a.jsx(lt,{children:r("manageYourAccountSecurity")})]}),a.jsx(ye,{className:"space-y-4",children:a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(_e,{variant:"outline",children:r("changePassword")}),a.jsx(_e,{variant:"outline",children:r("downloadData")}),a.jsx(_e,{variant:"outline",children:r("twoFactorAuth")}),a.jsx(_e,{variant:"destructive",disabled:!0,children:r("deleteAccount")})]})})]})]}):null}var iy="Switch",[ONe,QEe]=Is(iy),[MNe,DNe]=ONe(iy),QV=N.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:l,disabled:d,value:m="on",onCheckedChange:h,form:p,...v}=e,[S,A]=N.useState(null),T=bn(t,R=>A(R)),_=N.useRef(!1),C=S?p||!!S.closest("form"):!0,[M,P]=Xc({prop:i,defaultProp:s??!1,onChange:h,caller:iy});return a.jsxs(MNe,{scope:n,checked:M,disabled:d,children:[a.jsx(Ct.button,{type:"button",role:"switch","aria-checked":M,"aria-required":l,"data-state":t$(M),"data-disabled":d?"":void 0,disabled:d,value:m,...v,ref:T,onClick:gt(e.onClick,R=>{P(U=>!U),C&&(_.current=R.isPropagationStopped(),_.current||R.stopPropagation())})}),C&&a.jsx(e$,{control:S,bubbles:!_.current,name:r,value:m,checked:M,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});QV.displayName=iy;var ZV="SwitchThumb",JV=N.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=DNe(ZV,n);return a.jsx(Ct.span,{"data-state":t$(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});JV.displayName=ZV;var RNe="SwitchBubbleInput",e$=N.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...i},s)=>{const l=N.useRef(null),d=bn(l,s),m=eE(n),h=tE(t);return N.useEffect(()=>{const p=l.current;if(!p)return;const v=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==n&&A){const T=new Event("click",{bubbles:r});A.call(p,n),p.dispatchEvent(T)}},[m,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:d,style:{...i.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});e$.displayName=RNe;function t$(e){return e?"checked":"unchecked"}var PNe=QV,INe=JV;function Ks({className:e,...t}){return a.jsx(PNe,{"data-slot":"switch",className:At("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:a.jsx(INe,{"data-slot":"switch-thumb",className:At("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function _g(){const{profile:e}=cn(),{t,language:n,setLanguage:r}=Yt(),[i,s]=N.useState(!1),[l,d]=N.useState(!0),[m,h]=N.useState(!1),[p,v]=N.useState({email:!0,push:!0,sms:!1,transactions:!0,marketing:!1,security:!0}),[S,A]=N.useState({profileVisibility:"public",showOnlineStatus:!0,allowDataCollection:!1}),T=(R,U)=>{v(B=>({...B,[R]:U})),Ge.success(t("settingUpdated"))},_=(R,U)=>{A(B=>({...B,[R]:U})),Ge.success(t("settingUpdated"))},C=R=>{r(R),Ge.success(t("languageChanged"))},M=()=>{Ge.info(t("dataExportStarted"))},P=()=>{Ge.error(t("featureNotAvailable"))};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("settings")}),a.jsx("p",{className:"text-muted-foreground",children:t("manageYourAppPreferences")})]}),a.jsxs("div",{className:"grid gap-6",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(QA,{className:"h-5 w-5"}),a.jsx("span",{children:t("languageAndAppearance")})]}),a.jsx(lt,{children:t("customizeYourAppExperience")})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:t("language")}),a.jsxs(pr,{value:n,onValueChange:C,children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"en",children:"English"}),a.jsx(at,{value:"ar",children:"العربية"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("darkMode")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("toggleDarkMode")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(LS,{className:"h-4 w-4"}),a.jsx(Ks,{checked:m,onCheckedChange:h}),a.jsx(PS,{className:"h-4 w-4"})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between space-x-2",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("showWalletBalance")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("displayBalanceInDashboard")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(da,{className:"h-4 w-4"}),a.jsx(Ks,{checked:l,onCheckedChange:d}),a.jsx(Kn,{className:"h-4 w-4"})]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(Z5,{className:"h-5 w-5"}),a.jsx("span",{children:t("notifications")})]}),a.jsx(lt,{children:t("controlWhenAndHowYouReceiveNotifications")})]}),a.jsx(ye,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"flex items-center space-x-2",children:[a.jsx(ZA,{className:"h-4 w-4"}),a.jsx("span",{children:t("emailNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveEmailUpdates")})]}),a.jsx(Ks,{checked:p.email,onCheckedChange:R=>T("email",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"flex items-center space-x-2",children:[a.jsx(p0,{className:"h-4 w-4"}),a.jsx("span",{children:t("pushNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePushNotifications")})]}),a.jsx(Ks,{checked:p.push,onCheckedChange:R=>T("push",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("smsNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receiveSmsUpdates")})]}),a.jsx(Ks,{checked:p.sms,onCheckedChange:R=>T("sms",R)})]}),a.jsx(qo,{}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"flex items-center space-x-2",children:[a.jsx(Ki,{className:"h-4 w-4"}),a.jsx("span",{children:t("transactionNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnTransactions")})]}),a.jsx(Ks,{checked:p.transactions,onCheckedChange:R=>T("transactions",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("marketingNotifications")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("receivePromotionalEmails")})]}),a.jsx(Ks,{checked:p.marketing,onCheckedChange:R=>T("marketing",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsxs(et,{className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"h-4 w-4"}),a.jsx("span",{children:t("securityNotifications")})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("notifyOnSecurityEvents")})]}),a.jsx(Ks,{checked:p.security,onCheckedChange:R=>T("security",R)})]})]})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"h-5 w-5"}),a.jsx("span",{children:t("privacyAndSecurity")})]}),a.jsx(lt,{children:t("controlYourDataAndPrivacy")})]}),a.jsx(ye,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{children:t("profileVisibility")}),a.jsxs(pr,{value:S.profileVisibility,onValueChange:R=>_("profileVisibility",R),children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsxs(yr,{children:[a.jsx(at,{value:"public",children:t("public")}),a.jsx(at,{value:"private",children:t("private")}),a.jsx(at,{value:"contacts",children:t("contactsOnly")})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("showOnlineStatus")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("letOthersKnowWhenYouAreOnline")})]}),a.jsx(Ks,{checked:S.showOnlineStatus,onCheckedChange:R=>_("showOnlineStatus",R)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(et,{children:t("allowDataCollection")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("helpImproveAppBySharing")})]}),a.jsx(Ks,{checked:S.allowDataCollection,onCheckedChange:R=>_("allowDataCollection",R)})]})]})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("accountManagement")}),a.jsx(lt,{children:t("manageYourAccountDataAndSettings")})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsx(_e,{variant:"outline",onClick:M,children:t("exportMyData")}),a.jsx(_e,{variant:"outline",children:t("changePassword")}),a.jsx(_e,{variant:"outline",children:t("twoFactorAuth")}),a.jsx(_e,{variant:"outline",children:t("connectedAccounts")})]}),a.jsx(qo,{}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{className:"text-destructive",children:t("dangerZone")}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("irreversibleActions")}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(_e,{variant:"destructive",onClick:P,children:t("deleteAccount")}),a.jsx(_e,{variant:"outline",children:t("deactivateAccount")})]})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:t("appInformation")})}),a.jsxs(ye,{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("version")}),a.jsx("span",{children:"1.0.0"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("lastUpdate")}),a.jsx("span",{children:new Date().toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-muted-foreground",children:t("buildNumber")}),a.jsx("span",{children:"1.0.0-beta"})]})]})]})]})]})}function kNe(){return a.jsx(cg,{userType:"passenger",children:a.jsxs(Ah,{children:[a.jsx(St,{index:!0,element:a.jsx(doe,{})}),a.jsx(St,{path:"wallet",element:a.jsx(Voe,{})}),a.jsx(St,{path:"scanner",element:a.jsx(Ile,{})}),a.jsx(St,{path:"transactions",element:a.jsx(Lle,{})}),a.jsx(St,{path:"events",element:a.jsx(Ble,{})}),a.jsx(St,{path:"tickets",element:a.jsx(Fle,{})}),a.jsx(St,{path:"analytics",element:a.jsx(TNe,{})}),a.jsx(St,{path:"profile",element:a.jsx(Eg,{})}),a.jsx(St,{path:"settings",element:a.jsx(_g,{})})]})})}var RC="Progress",PC=100,[LNe,ZEe]=Is(RC),[BNe,FNe]=LNe(RC),n$=N.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=UNe,...l}=e;(i||i===0)&&!$k(i)&&console.error(zNe(`${i}`,"Progress"));const d=$k(i)?i:PC;r!==null&&!Hk(r,d)&&console.error(VNe(`${r}`,"Progress"));const m=Hk(r,d)?r:null,h=Lv(m)?s(m,d):void 0;return a.jsx(BNe,{scope:n,value:m,max:d,children:a.jsx(Ct.div,{"aria-valuemax":d,"aria-valuemin":0,"aria-valuenow":Lv(m)?m:void 0,"aria-valuetext":h,role:"progressbar","data-state":a$(m,d),"data-value":m??void 0,"data-max":d,...l,ref:t})})});n$.displayName=RC;var r$="ProgressIndicator",i$=N.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=FNe(r$,n);return a.jsx(Ct.div,{"data-state":a$(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});i$.displayName=r$;function UNe(e,t){return`${Math.round(e/t*100)}%`}function a$(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lv(e){return typeof e=="number"}function $k(e){return Lv(e)&&!isNaN(e)&&e>0}function Hk(e,t){return Lv(e)&&!isNaN(e)&&e<=t&&e>=0}function zNe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${PC}\`.`}function VNe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${PC} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $Ne=n$,HNe=i$;function Bv({className:e,value:t,...n}){return a.jsx($Ne,{"data-slot":"progress",className:At("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...n,children:a.jsx(HNe,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})})}function qNe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTrips:0,dailyTrips:0,activeQRCodes:0,averageRating:0}),[s,l]=N.useState([]),[d,m]=N.useState("not_submitted"),[h,p]=N.useState(!0),[v,S]=N.useState(!1);N.useEffect(()=>{e&&Promise.all([A(),T(),_()]).finally(()=>p(!1))},[e]);const A=async()=>{if(e)try{const{data:B,error:L}=await rt.from("transactions").select("amount, created_at").eq("to_user_id",e.id).eq("type","transport_payment");if(L)throw L;const F=new Date,V=new Date(F.getFullYear(),F.getMonth(),F.getDate()),z=new Date(V.getTime()-7*24*60*60*1e3),H=new Date(V.getTime()-30*24*60*60*1e3),W=B||[],q=W.reduce((re,de)=>re+de.amount,0),Q=W.filter(re=>new Date(re.created_at)>=V).reduce((re,de)=>re+de.amount,0),te=W.filter(re=>new Date(re.created_at)>=z).reduce((re,de)=>re+de.amount,0),J=W.filter(re=>new Date(re.created_at)>=H).reduce((re,de)=>re+de.amount,0),Y=W.length,ne=W.filter(re=>new Date(re.created_at)>=V).length,{data:se,error:me}=await rt.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(me)throw me;i({totalEarnings:q,dailyEarnings:Q,weeklyEarnings:te,monthlyEarnings:J,totalTrips:Y,dailyTrips:ne,activeQRCodes:(se==null?void 0:se.length)||0,averageRating:4.5})}catch(B){console.error("Error fetching driver stats:",B)}},T=async()=>{if(e)try{const{data:B,error:L}=await rt.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1}).limit(5);if(L)throw L;const F=(B==null?void 0:B.map(V=>{var z;return{id:V.id,passenger_name:((z=V.profiles)==null?void 0:z.full_name)||t("unknown_passenger"),amount:V.amount,created_at:V.created_at,status:V.status,pickup_location:"Damascus",dropoff_location:"Aleppo"}}))||[];l(F)}catch(B){console.error("Error fetching recent trips:",B)}},_=async()=>{if(e)try{const{data:B,error:L}=await rt.from("driver_profiles").select("verification_status").eq("user_id",e.id).single();if(L){console.error("Error fetching verification status:",L);return}B&&m(B.verification_status||"not_submitted")}catch(B){console.error("Error:",B)}},C=B=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(B),M=B=>new Date(B).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=B=>{const L={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},F=L[B]||L.pending;return a.jsx(pt,{variant:F.variant,children:F.label})};if(h)return a.jsx(Qi,{text:t("loading_dashboard")});const U=r.dailyEarnings/5e4*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("driver_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver_dashboard_description")})]}),d!=="approved"&&a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsx(Oa,{className:`border-l-4 ${d==="rejected"?"border-l-red-500 bg-red-50 dark:bg-red-950":d==="pending"?"border-l-yellow-500 bg-yellow-50 dark:bg-yellow-950":"border-l-blue-500 bg-blue-50 dark:bg-blue-950"}`,children:a.jsxs("div",{className:"flex items-center gap-3",children:[d==="rejected"?a.jsx(Da,{className:"h-5 w-5 text-red-600"}):d==="pending"?a.jsx(br,{className:"h-5 w-5 text-yellow-600"}):a.jsx(Ta,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium mb-1",children:[d==="rejected"&&t("driver.verification.status.rejected"),d==="pending"&&t("driver.verification.status.pending"),d==="not_submitted"&&t("driver.verification.title")]}),a.jsxs(Ma,{className:"text-sm",children:[d==="rejected"&&t("driver.verification.rejectedMessage"),d==="pending"&&"Your verification is being reviewed. You will be notified once approved.",d==="not_submitted"&&"Complete your driver verification to start earning with passengers."]})]}),a.jsx(Vt,{to:"/driver/verification",children:a.jsx(_e,{variant:d==="rejected"?"destructive":"default",size:"sm",children:d==="rejected"?"Resubmit":d==="pending"?"View Status":"Start Verification"})})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>S(!v),className:"h-4 w-4",children:v?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:v?C(r.dailyEarnings):"••••••"}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Bv,{value:U,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(U),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:v?C(r.totalEarnings):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"inline h-3 w-3 mr-1"}),t("weekly"),": ",v?C(r.weeklyEarnings):"••••••"]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("total_trips")}),a.jsx(la,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTrips}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTrips," ",t("today")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("active_qr_codes")}),a.jsx(rr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.activeQRCodes}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["⭐ ",r.averageRating.toFixed(1)," ",t("rating")]})]})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("quick_actions")}),a.jsx(lt,{children:t("quick_actions_description")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(_e,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/driver/qr-generator",children:[a.jsx(rr,{className:"h-6 w-6 mb-2"}),t("generate_qr_code")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/driver/trips",children:[a.jsx(la,{className:"h-6 w-6 mb-2"}),t("view_trips")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/driver/earnings",children:[a.jsx(Qr,{className:"h-6 w-6 mb-2"}),t("view_earnings")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/driver/analytics",children:[a.jsx(GA,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recent_trips")}),a.jsx(lt,{children:t("recent_trips_description")})]}),a.jsx(ye,{children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(la,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]}):a.jsxs("div",{className:"space-y-4",children:[s.map((B,L)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*L},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Xi,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:B.passenger_name}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx($o,{className:"h-3 w-3 mr-1"}),B.pickup_location," → ",B.dropoff_location]}),a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(br,{className:"h-3 w-3 mr-1"}),M(B.created_at)]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:C(B.amount)}),P(B.status)]})]},B.id)),a.jsx(_e,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Vt,{to:"/driver/trips",children:t("view_all_trips")})})]})})]})})]})}function YNe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,yearlyEarnings:0,averagePerTrip:0,totalTrips:0,peakHours:[]}),[s,l]=N.useState([]),[d,m]=N.useState([]),[h,p]=N.useState(!0),[v,S]=N.useState({from:HV(new Date,-30),to:new Date}),[A,T]=N.useState("all"),[_,C]=N.useState("");N.useEffect(()=>{e&&M()},[e,v]),N.useEffect(()=>{R()},[s,A,_]);const M=async()=>{if(e)try{let z=rt.from("transactions").select(`
          id,
          amount,
          created_at,
          from_user_id,
          commission,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").order("created_at",{ascending:!1});v!=null&&v.from&&(z=z.gte("created_at",v.from.toISOString())),v!=null&&v.to&&(z=z.lte("created_at",v.to.toISOString()));const{data:H,error:W}=await z;if(W)throw W;const q=(H==null?void 0:H.map(Q=>{var te;return{id:Q.id,amount:Q.amount,created_at:Q.created_at,passenger_name:((te=Q.profiles)==null?void 0:te.full_name)||t("unknown_passenger"),commission:Q.commission||0}}))||[];l(q),P(q)}catch(z){console.error("Error fetching earnings:",z),Ge.error(t("error_fetch_earnings"))}finally{p(!1)}},P=z=>{if(z.length===0)return;const H=new Date,W=new Date(H.getFullYear(),H.getMonth(),H.getDate()),q=new Date(W.getTime()-7*24*60*60*1e3),Q=new Date(W.getTime()-30*24*60*60*1e3),te=new Date(W.getTime()-365*24*60*60*1e3),J=z.reduce((Le,le)=>Le+le.amount,0),Y=z.filter(Le=>new Date(Le.created_at)>=W).reduce((Le,le)=>Le+le.amount,0),ne=z.filter(Le=>new Date(Le.created_at)>=q).reduce((Le,le)=>Le+le.amount,0),se=z.filter(Le=>new Date(Le.created_at)>=Q).reduce((Le,le)=>Le+le.amount,0),me=z.filter(Le=>new Date(Le.created_at)>=te).reduce((Le,le)=>Le+le.amount,0),re=z.length,de=re>0?J/re:0,oe=new Array(24).fill(0);z.forEach(Le=>{const le=new Date(Le.created_at).getHours();oe[le]++});const he=Math.max(...oe),Re=oe.map((Le,le)=>({hour:le,count:Le})).filter(Le=>Le.count===he&&Le.count>0).map(Le=>`${Le.hour}:00`);i({totalEarnings:J,dailyEarnings:Y,weeklyEarnings:ne,monthlyEarnings:se,yearlyEarnings:me,averagePerTrip:de,totalTrips:re,peakHours:Re})},R=()=>{let z=s;_&&(z=z.filter(H=>H.passenger_name.toLowerCase().includes(_.toLowerCase())||H.id.toLowerCase().includes(_.toLowerCase()))),m(z)},U=()=>{const z=[["Date","Passenger","Amount","Commission","Net Earnings","Transaction ID"],...d.map(Q=>[mr(new Date(Q.created_at),"yyyy-MM-dd HH:mm"),Q.passenger_name,Q.amount.toString(),(Q.commission||0).toString(),(Q.amount-(Q.commission||0)).toString(),Q.id])].map(Q=>Q.join(",")).join(`
`),H=new Blob([z],{type:"text/csv"}),W=URL.createObjectURL(H),q=document.createElement("a");q.href=W,q.download=`earnings-${mr(new Date,"yyyy-MM-dd")}.csv`,document.body.appendChild(q),q.click(),document.body.removeChild(q),URL.revokeObjectURL(W),Ge.success(t("earnings_exported"))},B=z=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(z),L=z=>new Date(z).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});if(h)return a.jsx(Qi,{text:t("loading_earnings")});const F=r.monthlyEarnings*.85,V=F>0?(r.monthlyEarnings-F)/F*100:0;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("earnings")}),a.jsx("p",{className:"text-muted-foreground",children:t("earnings_description")})]}),a.jsxs(_e,{onClick:U,variant:"outline",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("date_range")}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(Pt,{type:"date",value:v!=null&&v.from?mr(v.from,"yyyy-MM-dd"):"",onChange:z=>S(H=>({from:z.target.value?new Date(z.target.value):void 0,to:H==null?void 0:H.to}))}),a.jsx(Pt,{type:"date",value:v!=null&&v.to?mr(v.to,"yyyy-MM-dd"):"",onChange:z=>S(H=>({from:H==null?void 0:H.from,to:z.target.value?new Date(z.target.value):void 0}))})]})]}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"w-48",children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:t("search")}),a.jsx(Pt,{placeholder:t("search_transactions"),value:_,onChange:z=>C(z.target.value)})]})})]})})}),a.jsxs(Jo,{defaultValue:"overview",className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-3",children:[a.jsx(Dt,{value:"overview",children:t("overview")}),a.jsx(Dt,{value:"details",children:t("details")}),a.jsx(Dt,{value:"analytics",children:t("analytics")})]}),a.jsx(Lt,{value:"overview",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:B(r.totalEarnings)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.totalTrips," ",t("trips_completed")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("monthly_earnings")}),V>=0?a.jsx(Xn,{className:"h-4 w-4 text-green-600"}):a.jsx(Bl,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:B(r.monthlyEarnings)}),a.jsxs("p",{className:`text-xs ${V>=0?"text-green-600":"text-red-600"}`,children:[V>=0?"+":"",V.toFixed(1),"% ",t("from_last_month")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("average_per_trip")}),a.jsx(Kn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:B(r.averagePerTrip)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[t("daily"),": ",B(r.dailyEarnings)]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("peak_hours")}),a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.peakHours.length>0?r.peakHours[0]:"--:--"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:r.peakHours.length>1&&`+${r.peakHours.length-1} ${t("more")}`})]})]})})]})}),a.jsx(Lt,{value:"details",className:"space-y-6",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recent_earnings")}),a.jsxs(lt,{children:[t("showing")," ",d.length," ",t("transactions")]})]}),a.jsx(ye,{children:d.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Qr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_earnings_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_earnings_description")})]}):a.jsx("div",{className:"space-y-4",children:d.map((z,H)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*H},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Qr,{className:"h-5 w-5 text-green-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:z.passenger_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:L(z.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[z.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",B(z.amount)]}),z.commission&&z.commission>0&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("commission"),": -",B(z.commission)]}),a.jsx(pt,{variant:"outline",className:"mt-1",children:t("trip_payment")})]})]},z.id))})})]})}),a.jsx(Lt,{value:"analytics",className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:t("earnings_breakdown")})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("daily_average")}),a.jsx("span",{className:"font-medium",children:B(r.dailyEarnings)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("weekly_average")}),a.jsx("span",{className:"font-medium",children:B(r.weeklyEarnings/7)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("monthly_average")}),a.jsx("span",{className:"font-medium",children:B(r.monthlyEarnings/30)})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("total_net_earnings")}),a.jsx("span",{className:"font-bold text-lg",children:B(r.totalEarnings)})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:t("performance_metrics")})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("total_trips")}),a.jsx("span",{className:"font-medium",children:r.totalTrips})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("average_per_trip")}),a.jsx("span",{className:"font-medium",children:B(r.averagePerTrip)})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{children:t("peak_hours")}),a.jsx("span",{className:"font-medium",children:r.peakHours.length>0?r.peakHours.join(", "):t("no_data")})]}),a.jsxs("div",{className:"flex justify-between items-center border-t pt-4",children:[a.jsx("span",{className:"font-medium",children:t("efficiency_rating")}),a.jsxs(pt,{variant:"outline",children:["⭐ ",t("excellent")]})]})]})]})]})})]})]})}function WNe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all"),[A,T]=N.useState(null);N.useEffect(()=>{e&&_()},[e]),N.useEffect(()=>{C()},[r,h,v]);const _=async()=>{if(e)try{const{data:q,error:Q}=await rt.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("transaction_type","payment").not("qr_code_id","is",null).order("created_at",{ascending:!1});if(Q)throw Q;const te=(q==null?void 0:q.map(J=>{var ne;const Y=J.metadata||{};return{id:J.id,passenger_name:((ne=J.profiles)==null?void 0:ne.full_name)||t("unknown_passenger"),passenger_id:J.from_user_id,amount:J.amount,created_at:J.created_at,status:J.status,pickup_location:Y.pickup_location||"Damascus City Center",dropoff_location:Y.dropoff_location||"Damascus Airport",distance:Y.distance||Math.floor(Math.random()*20)+5,duration:Y.duration||Math.floor(Math.random()*45)+15,rating:Y.rating||Math.floor(Math.random()*2)+4,notes:Y.notes}}))||[];i(te)}catch(q){console.error("Error fetching trips:",q),Ge.error(t("error_fetch_trips"))}finally{m(!1)}},C=()=>{let q=r.filter(Q=>{const te=Q.passenger_name.toLowerCase().includes(h.toLowerCase())||(Q.pickup_location||"").toLowerCase().includes(h.toLowerCase())||(Q.dropoff_location||"").toLowerCase().includes(h.toLowerCase())||Q.id.toLowerCase().includes(h.toLowerCase()),J=v==="all"||Q.status===v;return te&&J});l(q)},M=q=>{const Q={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")},in_progress:{variant:"secondary",label:t("in_progress")}},te=Q[q]||Q.pending;return a.jsx(pt,{variant:te.variant,children:te.label})},P=q=>"⭐".repeat(Math.floor(q))+(q%1>=.5?"⭐":""),R=q=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(q),U=q=>new Date(q).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),B=q=>{const Q=Math.floor(q/60),te=q%60;return Q>0?`${Q}h ${te}m`:`${te}m`},L=q=>s.filter(Q=>Q.status===q);if(d)return a.jsx(Qi,{text:t("loading_trips")});const F=L("completed"),V=L("pending"),z=L("cancelled"),H=L("in_progress");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("trips")}),a.jsx("p",{className:"text-muted-foreground",children:t("trips_description")})]}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Pt,{placeholder:t("search_trips"),value:h,onChange:q=>p(q.target.value),className:"pl-10"})]})}),a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsxs(vr,{className:"w-[150px]",children:[a.jsx(rg,{className:"h-4 w-4 mr-2"}),a.jsx(xr,{})]}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("all_statuses")}),a.jsx(at,{value:"completed",children:t("completed")}),a.jsx(at,{value:"pending",children:t("pending")}),a.jsx(at,{value:"in_progress",children:t("in_progress")}),a.jsx(at,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("completed")}),a.jsx("p",{className:"text-2xl font-bold",children:F.length})]}),a.jsx(la,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("pending")}),a.jsx("p",{className:"text-2xl font-bold",children:V.length})]}),a.jsx(br,{className:"h-8 w-8 text-yellow-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("in_progress")}),a.jsx("p",{className:"text-2xl font-bold",children:H.length})]}),a.jsx($M,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("cancelled")}),a.jsx("p",{className:"text-2xl font-bold",children:z.length})]}),a.jsx(la,{className:"h-8 w-8 text-red-600"})]})})})]}),a.jsxs(Jo,{defaultValue:"all",className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-5",children:[a.jsxs(Dt,{value:"all",children:[t("all")," (",s.length,")"]}),a.jsxs(Dt,{value:"completed",children:[t("completed")," (",F.length,")"]}),a.jsxs(Dt,{value:"pending",children:[t("pending")," (",V.length,")"]}),a.jsxs(Dt,{value:"in_progress",children:[t("in_progress")," (",H.length,")"]}),a.jsxs(Dt,{value:"cancelled",children:[t("cancelled")," (",z.length,")"]})]}),a.jsx(Lt,{value:"all",className:"space-y-4",children:a.jsx(W,{trips:s})}),a.jsx(Lt,{value:"completed",className:"space-y-4",children:a.jsx(W,{trips:F})}),a.jsx(Lt,{value:"pending",className:"space-y-4",children:a.jsx(W,{trips:V})}),a.jsx(Lt,{value:"in_progress",className:"space-y-4",children:a.jsx(W,{trips:H})}),a.jsx(Lt,{value:"cancelled",className:"space-y-4",children:a.jsx(W,{trips:z})})]})]});function W({trips:q}){return q.length===0?a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(la,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_trips_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_trips_description")})]})}):a.jsx("div",{className:"space-y-4",children:q.map((Q,te)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:te*.1},children:a.jsx(ve,{className:"hover:shadow-lg transition-shadow",children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[a.jsx("div",{className:"w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Xi,{className:"h-6 w-6 text-primary"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h3",{className:"font-semibold",children:Q.passenger_name}),M(Q.status)]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx($o,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("pickup")}),a.jsx("p",{children:Q.pickup_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx($M,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("dropoff")}),a.jsx("p",{children:Q.dropoff_location})]})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:t("date_time")}),a.jsx("p",{children:U(Q.created_at)})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between mt-4",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[a.jsxs("span",{children:[a.jsxs("strong",{children:[t("distance"),":"]})," ",Q.distance,"km"]}),a.jsxs("span",{children:[a.jsxs("strong",{children:[t("duration"),":"]})," ",B(Q.duration||0)]}),Q.rating&&a.jsxs("span",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",P(Q.rating)]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"text-2xl font-bold text-green-600",children:R(Q.amount)})})]})]})]}),a.jsxs(ha,{children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>T(Q),children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),t("details")]})}),a.jsxs(ma,{className:"max-w-2xl",children:[a.jsxs(ga,{children:[a.jsx(pa,{children:t("trip_details")}),a.jsxs(Ra,{children:[t("trip_id"),": ",Q.id]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("passenger_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("name"),":"]})," ",Q.passenger_name]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("rating"),":"]})," ",Q.rating?P(Q.rating):t("no_rating")]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_info")}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsxs("strong",{children:[t("date"),":"]})," ",U(Q.created_at)]}),a.jsxs("p",{children:[a.jsxs("strong",{children:[t("status"),":"]})," ",M(Q.status)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("route_details")}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-green-600",children:t("pickup_location")}),a.jsx("p",{children:Q.pickup_location})]}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-red-600",children:t("dropoff_location")}),a.jsx("p",{children:Q.dropoff_location})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("trip_metrics")}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("distance")}),a.jsxs("p",{className:"text-lg font-bold",children:[Q.distance,"km"]})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("duration")}),a.jsx("p",{className:"text-lg font-bold",children:B(Q.duration||0)})]}),a.jsxs("div",{className:"text-center p-3 bg-gray-50 rounded",children:[a.jsx("p",{className:"font-medium",children:t("earnings")}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:R(Q.amount)})]})]})]}),Q.notes&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-2",children:t("notes")}),a.jsx("p",{className:"text-sm bg-gray-50 p-3 rounded",children:Q.notes})]})]})]})]})]})})})},Q.id))})}}function ay({className:e,...t}){return a.jsx("textarea",{"data-slot":"textarea",className:At("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function GNe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState(!0),[d,m]=N.useState(!1),[h,p]=N.useState({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""});N.useEffect(()=>{e&&v()},[e]);const v=async()=>{if(e)try{const{data:L,error:F}=await rt.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(F)throw F;const V=(L==null?void 0:L.map(z=>{var H,W;return{...z,usage_count:((W=(H=z.usage_count)==null?void 0:H[0])==null?void 0:W.count)||0}}))||[];i(V)}catch(L){console.error("Error fetching QR codes:",L),Ge.error(t("error_fetch_qr_codes"))}finally{l(!1)}},S=async()=>{if(!e||!h.amount){Ge.error(t("please_fill_required_fields"));return}m(!0);try{const L=parseFloat(h.amount);if(L<=0){Ge.error(t("invalid_amount"));return}const F={type:"transport_payment",driver_id:e.id,amount:L,pickup_location:h.pickup_location||null,dropoff_location:h.dropoff_location||null,timestamp:Date.now()},{data:V,error:z}=await rt.from("qr_codes").insert({driver_id:e.id,qr_data:JSON.stringify(F),is_active:!0,expires_at:h.expires_at||null,route_info:`${h.pickup_location} → ${h.dropoff_location}`,vehicle_info:h.description||null}).select().single();if(z)throw z;Ge.success(t("qr_code_generated_successfully")),p({amount:"",description:"",pickup_location:"",dropoff_location:"",expires_at:""}),v()}catch(L){console.error("Error generating QR code:",L),Ge.error(t("error_generate_qr_code"))}finally{m(!1)}},A=async(L,F)=>{try{const{error:V}=await rt.from("qr_codes").update({is_active:!F}).eq("id",L).eq("driver_id",e==null?void 0:e.id);if(V)throw V;Ge.success(t(F?"qr_code_deactivated":"qr_code_activated")),v()}catch(V){console.error("Error toggling QR code status:",V),Ge.error(t("error_toggle_qr_status"))}},T=L=>{const F=L.qr_data;navigator.clipboard.writeText(F),Ge.success(t("qr_data_copied"))},_=L=>{const F=L.qr_data,V=new Blob([F],{type:"application/json"}),z=URL.createObjectURL(V),H=document.createElement("a");H.href=z,H.download=`qr-code-${L.id}.json`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z),Ge.success(t("qr_code_downloaded"))},C=L=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(L),M=L=>new Date(L).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=L=>L?new Date(L)<new Date:!1,R=L=>P(L.expires_at)?a.jsx(pt,{variant:"destructive",children:t("expired")}):L.is_active?a.jsx(pt,{variant:"default",children:t("active")}):a.jsx(pt,{variant:"outline",children:t("inactive")});if(s)return a.jsx(Qi,{text:t("loading_qr_codes")});const U=r.filter(L=>L.is_active&&!P(L.expires_at)),B=r.filter(L=>!L.is_active||P(L.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("qr_code_generator")}),a.jsx("p",{className:"text-muted-foreground",children:t("qr_generator_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:U.length})]}),a.jsx(rr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_usage")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((L,F)=>L+F.usage_count,0)})]}),a.jsx(Kn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:C(r.reduce((L,F)=>L+15e3*F.usage_count,0))})]}),a.jsx(Qr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("generate_new_qr_code")}),a.jsx(lt,{children:t("create_qr_description")})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(Pt,{id:"amount",type:"number",placeholder:"0",value:h.amount,onChange:L=>p(F=>({...F,amount:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(Pt,{id:"expires_at",type:"datetime-local",value:h.expires_at,onChange:L=>p(F=>({...F,expires_at:L.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"pickup_location",children:t("pickup_location")}),a.jsx(Pt,{id:"pickup_location",placeholder:t("pickup_location_placeholder"),value:h.pickup_location,onChange:L=>p(F=>({...F,pickup_location:L.target.value}))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"dropoff_location",children:t("dropoff_location")}),a.jsx(Pt,{id:"dropoff_location",placeholder:t("dropoff_location_placeholder"),value:h.dropoff_location,onChange:L=>p(F=>({...F,dropoff_location:L.target.value}))})]})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"description",children:t("description")}),a.jsx(ay,{id:"description",placeholder:t("qr_description_placeholder"),value:h.description,onChange:L=>p(F=>({...F,description:L.target.value}))})]}),a.jsx(_e,{onClick:S,disabled:d,className:"w-full",children:d?a.jsx(Qi,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{children:[t("active_qr_codes")," (",U.length,")"]}),a.jsx(lt,{children:t("manage_active_qr_codes")})]}),a.jsx(ye,{children:U.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:U.map((L,F)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(ve,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ie,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:C(L.amount||0)}),R(L)]}),L.description&&a.jsx(lt,{children:L.description})]}),a.jsxs(ye,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[L.route_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx($o,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:L.route_info})]}),L.vehicle_info&&a.jsxs("div",{className:"flex items-center",children:[a.jsx($o,{className:"h-4 w-4 mr-2 text-gray-600"}),a.jsx("span",{children:L.vehicle_info})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:M(L.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[L.usage_count," ",t("times_used")]})]}),L.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",M(L.expires_at)]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>T(L),className:"flex-1",children:[a.jsx(KA,{className:"h-4 w-4 mr-1"}),t("copy")]}),a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>_(L),className:"flex-1",children:[a.jsx(ss,{className:"h-4 w-4 mr-1"}),t("download")]})]}),a.jsx(_e,{variant:L.is_active?"destructive":"default",size:"sm",onClick:()=>A(L.id,L.is_active),className:"w-full",children:L.is_active?a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},L.id))})})]}),B.length>0&&a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{children:[t("inactive_expired_qr_codes")," (",B.length,")"]}),a.jsx(lt,{children:t("manage_inactive_qr_codes")})]}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:B.map((L,F)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.1},children:a.jsxs(ve,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Ie,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:C(L.amount||0)}),R(L)]}),L.description&&a.jsx(lt,{children:L.description})]}),a.jsxs(ye,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:M(L.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[L.usage_count," ",t("times_used")]})]})]}),!P(L.expires_at)&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>A(L.id,L.is_active),className:"w-full",children:[a.jsx(Wv,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},L.id))})})]})]})}const KNe={lessThanXSeconds:{one:"أقل من ثانية",two:"أقل من ثانيتين",threeToTen:"أقل من {{count}} ثواني",other:"أقل من {{count}} ثانية"},xSeconds:{one:"ثانية واحدة",two:"ثانيتان",threeToTen:"{{count}} ثواني",other:"{{count}} ثانية"},halfAMinute:"نصف دقيقة",lessThanXMinutes:{one:"أقل من دقيقة",two:"أقل من دقيقتين",threeToTen:"أقل من {{count}} دقائق",other:"أقل من {{count}} دقيقة"},xMinutes:{one:"دقيقة واحدة",two:"دقيقتان",threeToTen:"{{count}} دقائق",other:"{{count}} دقيقة"},aboutXHours:{one:"ساعة واحدة تقريباً",two:"ساعتين تقريبا",threeToTen:"{{count}} ساعات تقريباً",other:"{{count}} ساعة تقريباً"},xHours:{one:"ساعة واحدة",two:"ساعتان",threeToTen:"{{count}} ساعات",other:"{{count}} ساعة"},xDays:{one:"يوم واحد",two:"يومان",threeToTen:"{{count}} أيام",other:"{{count}} يوم"},aboutXWeeks:{one:"أسبوع واحد تقريبا",two:"أسبوعين تقريبا",threeToTen:"{{count}} أسابيع تقريبا",other:"{{count}} أسبوعا تقريبا"},xWeeks:{one:"أسبوع واحد",two:"أسبوعان",threeToTen:"{{count}} أسابيع",other:"{{count}} أسبوعا"},aboutXMonths:{one:"شهر واحد تقريباً",two:"شهرين تقريبا",threeToTen:"{{count}} أشهر تقريبا",other:"{{count}} شهرا تقريباً"},xMonths:{one:"شهر واحد",two:"شهران",threeToTen:"{{count}} أشهر",other:"{{count}} شهرا"},aboutXYears:{one:"سنة واحدة تقريباً",two:"سنتين تقريبا",threeToTen:"{{count}} سنوات تقريباً",other:"{{count}} سنة تقريباً"},xYears:{one:"سنة واحد",two:"سنتان",threeToTen:"{{count}} سنوات",other:"{{count}} سنة"},overXYears:{one:"أكثر من سنة",two:"أكثر من سنتين",threeToTen:"أكثر من {{count}} سنوات",other:"أكثر من {{count}} سنة"},almostXYears:{one:"ما يقارب سنة واحدة",two:"ما يقارب سنتين",threeToTen:"ما يقارب {{count}} سنوات",other:"ما يقارب {{count}} سنة"}},XNe=(e,t,n)=>{const r=KNe[e];let i;return typeof r=="string"?i=r:t===1?i=r.one:t===2?i=r.two:t<=10?i=r.threeToTen.replace("{{count}}",String(t)):i=r.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"خلال "+i:"منذ "+i:i},QNe={full:"EEEE، do MMMM y",long:"do MMMM y",medium:"d MMM y",short:"dd/MM/yyyy"},ZNe={full:"HH:mm:ss",long:"HH:mm:ss",medium:"HH:mm:ss",short:"HH:mm"},JNe={full:"{{date}} 'عند الساعة' {{time}}",long:"{{date}} 'عند الساعة' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eAe={date:ih({formats:QNe,defaultWidth:"full"}),time:ih({formats:ZNe,defaultWidth:"full"}),dateTime:ih({formats:JNe,defaultWidth:"full"})},tAe={lastWeek:"eeee 'الماضي عند الساعة' p",yesterday:"'الأمس عند الساعة' p",today:"'اليوم عند الساعة' p",tomorrow:"'غدا عند الساعة' p",nextWeek:"eeee 'القادم عند الساعة' p",other:"P"},nAe=e=>tAe[e],rAe={narrow:["ق","ب"],abbreviated:["ق.م.","ب.م."],wide:["قبل الميلاد","بعد الميلاد"]},iAe={narrow:["1","2","3","4"],abbreviated:["ر1","ر2","ر3","ر4"],wide:["الربع الأول","الربع الثاني","الربع الثالث","الربع الرابع"]},aAe={narrow:["ي","ف","م","أ","م","ي","ي","أ","س","أ","ن","د"],abbreviated:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],wide:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"]},sAe={narrow:["ح","ن","ث","ر","خ","ج","س"],short:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],abbreviated:["أحد","اثنين","ثلاثاء","أربعاء","خميس","جمعة","سبت"],wide:["الأحد","الاثنين","الثلاثاء","الأربعاء","الخميس","الجمعة","السبت"]},oAe={narrow:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"المساء",night:"الليل",midnight:"منتصف الليل"}},lAe={narrow:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},abbreviated:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"},wide:{am:"ص",pm:"م",morning:"في الصباح",noon:"الظهر",afternoon:"بعد الظهر",evening:"في المساء",night:"في الليل",midnight:"منتصف الليل"}},cAe=e=>String(e),uAe={ordinalNumber:cAe,era:Mo({values:rAe,defaultWidth:"wide"}),quarter:Mo({values:iAe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mo({values:aAe,defaultWidth:"wide"}),day:Mo({values:sAe,defaultWidth:"wide"}),dayPeriod:Mo({values:oAe,defaultWidth:"wide",formattingValues:lAe,defaultFormattingWidth:"wide"})},dAe=/^(\d+)(th|st|nd|rd)?/i,fAe=/\d+/i,hAe={narrow:/[قب]/,abbreviated:/[قب]\.م\./,wide:/(قبل|بعد) الميلاد/},mAe={any:[/قبل/,/بعد/]},gAe={narrow:/^[1234]/i,abbreviated:/ر[1234]/,wide:/الربع (الأول|الثاني|الثالث|الرابع)/},pAe={any:[/1/i,/2/i,/3/i,/4/i]},xAe={narrow:/^[أيفمسند]/,abbreviated:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/,wide:/^(يناير|فبراير|مارس|أبريل|مايو|يونيو|يوليو|أغسطس|سبتمبر|أكتوبر|نوفمبر|ديسمبر)/},vAe={narrow:[/^ي/i,/^ف/i,/^م/i,/^أ/i,/^م/i,/^ي/i,/^ي/i,/^أ/i,/^س/i,/^أ/i,/^ن/i,/^د/i],any:[/^يناير/i,/^فبراير/i,/^مارس/i,/^أبريل/i,/^مايو/i,/^يونيو/i,/^يوليو/i,/^أغسطس/i,/^سبتمبر/i,/^أكتوبر/i,/^نوفمبر/i,/^ديسمبر/i]},yAe={narrow:/^[حنثرخجس]/i,short:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,abbreviated:/^(أحد|اثنين|ثلاثاء|أربعاء|خميس|جمعة|سبت)/i,wide:/^(الأحد|الاثنين|الثلاثاء|الأربعاء|الخميس|الجمعة|السبت)/i},bAe={narrow:[/^ح/i,/^ن/i,/^ث/i,/^ر/i,/^خ/i,/^ج/i,/^س/i],wide:[/^الأحد/i,/^الاثنين/i,/^الثلاثاء/i,/^الأربعاء/i,/^الخميس/i,/^الجمعة/i,/^السبت/i],any:[/^أح/i,/^اث/i,/^ث/i,/^أر/i,/^خ/i,/^ج/i,/^س/i]},wAe={narrow:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/,any:/^(ص|م|منتصف الليل|الظهر|بعد الظهر|في الصباح|في المساء|في الليل)/},jAe={any:{am:/^ص/,pm:/^م/,midnight:/منتصف الليل/,noon:/الظهر/,afternoon:/بعد الظهر/,morning:/في الصباح/,evening:/في المساء/,night:/في الليل/}},SAe={ordinalNumber:WV({matchPattern:dAe,parsePattern:fAe,valueCallback:e=>parseInt(e,10)}),era:Do({matchPatterns:hAe,defaultMatchWidth:"wide",parsePatterns:mAe,defaultParseWidth:"any"}),quarter:Do({matchPatterns:gAe,defaultMatchWidth:"wide",parsePatterns:pAe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Do({matchPatterns:xAe,defaultMatchWidth:"wide",parsePatterns:vAe,defaultParseWidth:"any"}),day:Do({matchPatterns:yAe,defaultMatchWidth:"wide",parsePatterns:bAe,defaultParseWidth:"any"}),dayPeriod:Do({matchPatterns:wAe,defaultMatchWidth:"any",parsePatterns:jAe,defaultParseWidth:"any"})},G0={code:"ar",formatDistance:XNe,formatLong:eAe,formatRelative:nAe,localize:uAe,match:SAe,options:{weekStartsOn:6,firstWeekContainsDate:1}},NAe=()=>{const{user:e}=cn(),{language:t,t:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState("30"),[v,S]=N.useState("line");N.useEffect(()=>{e&&A()},[e,h]);const A=async()=>{if(e){m(!0);try{const B=Ro(new Date,parseInt(h)),{data:L,error:F}=await rt.from("transactions").select(`
          *,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","transport_payment").gte("created_at",B.toISOString()).order("created_at",{ascending:!0});if(F)throw F;const{data:V,error:z}=await rt.from("qr_codes").select("*").eq("driver_id",e.id).gte("created_at",B.toISOString()).order("created_at",{ascending:!0});if(z)throw z;i(L||[]),l(V||[])}catch(B){console.error("Error fetching analytics data:",B)}finally{m(!1)}}},T=()=>{const B=r.filter(pe=>pe.status==="completed"),L=B.reduce((pe,je)=>pe+je.amount,0),F=15,V=30,z=B.length*F,H=B.length*V,W=4.5,Q=B.filter(pe=>kv(Kr(pe.created_at))).reduce((pe,je)=>pe+je.amount,0),te=B.length>0?L/B.length:0,J=F,Y=V,ne=z>0?L/z:0,se=H>0?L/(H/60):0,me=r.length>0?r.filter(pe=>pe.status==="cancelled").length/r.length*100:0,re=Math.floor(parseInt(h)/2),de=Ro(new Date,re),oe=B.filter(pe=>Kr(pe.created_at)>=de),he=B.filter(pe=>Kr(pe.created_at)<de),Re=oe.reduce((pe,je)=>pe+je.amount,0),Le=he.reduce((pe,je)=>pe+je.amount,0),le=Le>0?(Re-Le)/Le*100:0;return{totalTrips:B.length,totalEarnings:L,avgRating:W,todayEarnings:Q,avgTripFare:te,avgTripDistance:J,avgTripDuration:Y,earningsPerKm:ne,earningsPerHour:se,cancellationRate:me,earningsGrowth:le,totalDistance:z,totalDuration:H}},_=()=>{const B=new Map;return r.filter(L=>L.status==="completed").forEach(L=>{const F=mr(Kr(L.created_at),"yyyy-MM-dd");B.set(F,(B.get(F)||0)+L.amount)}),Array.from(B.entries()).map(([L,F])=>({date:mr(Kr(L),"MMM dd",{locale:t==="ar"?G0:void 0}),earnings:F,trips:r.filter(V=>mr(Kr(V.created_at),"yyyy-MM-dd")===L&&V.status==="completed").length})).sort((L,F)=>L.date.localeCompare(F.date))},C=()=>{const B=new Map;for(let L=0;L<24;L++)B.set(L,{trips:0,earnings:0});return r.filter(L=>L.status==="completed").forEach(L=>{const F=Kr(L.created_at).getHours(),V=B.get(F)||{trips:0,earnings:0};B.set(F,{trips:V.trips+1,earnings:V.earnings+L.amount})}),Array.from(B.entries()).map(([L,F])=>({hour:`${L.toString().padStart(2,"0")}:00`,trips:F.trips,earnings:F.earnings,avgFare:F.trips>0?F.earnings/F.trips:0}))},M=()=>{const B=[],L=new Date;for(let F=5;F>=0;F--){const V=new Date(L.getFullYear(),L.getMonth()-F,1),z=DC(V),H=MC(V),W=r.filter(q=>{const Q=Kr(q.created_at);return Q>=z&&Q<=H&&q.status==="completed"});B.push({month:mr(V,"MMM yyyy",{locale:t==="ar"?G0:void 0}),trips:W.length,earnings:W.reduce((q,Q)=>q+Q.amount,0),avgRating:4.5})}return B},P=()=>[{location:"Damascus City Center",trips:Math.floor(Math.random()*50)+10,earnings:Math.floor(Math.random()*5e5)+1e5},{location:"Aleppo",trips:Math.floor(Math.random()*40)+8,earnings:Math.floor(Math.random()*4e5)+8e4},{location:"Lattakia",trips:Math.floor(Math.random()*30)+5,earnings:Math.floor(Math.random()*3e5)+6e4},{location:"Homs",trips:Math.floor(Math.random()*25)+5,earnings:Math.floor(Math.random()*25e4)+5e4},{location:"Daraa",trips:Math.floor(Math.random()*20)+3,earnings:Math.floor(Math.random()*2e5)+4e4}].map(L=>({...L,avgFare:L.earnings/L.trips,avgRating:4+Math.random()*1})).sort((L,F)=>F.earnings-L.earnings),R=()=>{const B=T(),L={metadata:{exportDate:new Date().toISOString(),dateRange:`${h} days`,driverId:e==null?void 0:e.id,generatedBy:"Tickets Driver Analytics"},kpis:B,earningsTrend:_(),hourlyPerformance:C(),monthlyComparison:M(),locationPerformance:P(),rawData:{transactions:r.length,qrCodes:s.length}},F=new Blob([JSON.stringify(L,null,2)],{type:"application/json"}),V=URL.createObjectURL(F),z=document.createElement("a");z.href=V,z.download=`driver-analytics-${mr(new Date,"yyyy-MM-dd")}.json`,z.click(),URL.revokeObjectURL(V)},U=T();return d?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:n("driver.analytics")}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:n("Track your earnings, performance, and business insights")})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:h,onChange:B=>p(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:n("Last 7 days")}),a.jsx("option",{value:"30",children:n("Last 30 days")}),a.jsx("option",{value:"90",children:n("Last 90 days")}),a.jsx("option",{value:"365",children:n("Last year")})]}),a.jsxs(_e,{onClick:R,variant:"outline",size:"sm",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),n("export")]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:n("driver.totalEarnings")}),a.jsx(Qr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[U.totalEarnings.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[U.earningsGrowth>0?a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(Bl,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:U.earningsGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(U.earningsGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:n("totalTrips")}),a.jsx(la,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.totalTrips}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg fare: ",U.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:n("averageRating")}),a.jsx(T0,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.avgRating.toFixed(1)}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Cancellation rate: ",U.cancellationRate.toFixed(1),"%"]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:n("driver.earningsPerHour")}),a.jsx(br,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U.earningsPerHour.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Per km: ",U.earningsPerKm.toLocaleString()," SYP"]})]})]})]}),a.jsxs(Jo,{defaultValue:"earnings",className:"space-y-4",children:[a.jsxs(el,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Dt,{value:"earnings",children:n("earnings")}),a.jsx(Dt,{value:"performance",children:n("driver.performance")}),a.jsx(Dt,{value:"monthly",children:n("monthly")}),a.jsx(Dt,{value:"hourly",children:n("hourly")}),a.jsx(Dt,{value:"locations",children:n("locations")}),a.jsx(Dt,{value:"efficiency",children:n("driver.efficiency")})]}),a.jsx(Lt,{value:"earnings",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ke,{children:n("driver.earningsTrend")}),a.jsx(lt,{children:n("Daily earnings and trip volume over time")})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:v==="line"?"default":"outline",size:"sm",onClick:()=>S("line"),children:n("Line")}),a.jsx(_e,{variant:v==="area"?"default":"outline",size:"sm",onClick:()=>S("area"),children:n("Area")}),a.jsx(_e,{variant:v==="bar"?"default":"outline",size:"sm",onClick:()=>S("bar"),children:n("Bar")})]})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:v==="line"?a.jsxs(Y0,{data:_(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(B,L)=>[`${B} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),a.jsx(bi,{}),a.jsx(Os,{type:"monotone",dataKey:"earnings",stroke:"#8884d8",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"trips",stroke:"#82ca9d",strokeWidth:2})]}):v==="area"?a.jsxs(ny,{data:_(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(B,L)=>[`${B} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),a.jsx(bi,{}),a.jsx(Nd,{type:"monotone",dataKey:"earnings",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Vo,{data:_(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(B,L)=>[`${B} ${L==="earnings"?"SYP":""}`,L==="earnings"?"Earnings":"Trips"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Br,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Lt,{value:"performance",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:n("driver.performanceMetrics")})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Distance"}),a.jsxs("span",{className:"font-semibold",children:[U.avgTripDistance.toFixed(1)," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Trip Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(U.avgTripDuration/60)," min"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Distance"}),a.jsxs("span",{className:"font-semibold",children:[U.totalDistance.toLocaleString()," km"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Duration"}),a.jsxs("span",{className:"font-semibold",children:[Math.round(U.totalDuration/3600)," hrs"]})]})]}),U.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Da,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"High cancellation rate detected"})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:n("driver.ratingDistribution")})}),a.jsx(ye,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Rv,{children:[a.jsx(vh,{data:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(B=>B.value>0),cx:"50%",cy:"50%",outerRadius:80,dataKey:"value",label:({name:B,percent:L})=>`${B}: ${((L||0)*100).toFixed(0)}%`,children:[{name:"5 Stars",value:Math.floor(r.length*.6),fill:"#10B981"},{name:"4 Stars",value:Math.floor(r.length*.3),fill:"#84CC16"},{name:"3 Stars",value:Math.floor(r.length*.08),fill:"#F59E0B"},{name:"2 Stars",value:Math.floor(r.length*.02),fill:"#F97316"},{name:"1 Star",value:Math.floor(r.length*.01),fill:"#EF4444"}].filter(B=>B.value>0).map((B,L)=>a.jsx(ru,{fill:B.fill},`cell-${L}`))}),a.jsx(hr,{})]})})})})]})]})}),a.jsx(Lt,{value:"monthly",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:n("driver.monthlyComparison")}),a.jsx(lt,{children:n("Compare performance across different months")})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Vo,{data:M(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"month"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(B,L)=>[L==="earnings"?`${B} SYP`:L==="avgRating"?`${B}/5`:B,L==="earnings"?"Earnings":L==="trips"?"Trips":"Avg Rating"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"earnings",fill:"#8884d8"}),a.jsx(Br,{dataKey:"trips",fill:"#82ca9d"})]})})})})]})}),a.jsx(Lt,{value:"hourly",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:n("driver.hourlyPerformance")}),a.jsx(lt,{children:n("Analyze your busiest hours and earnings patterns")})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Vo,{data:C(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"hour"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(B,L)=>[L==="earnings"||L==="avgFare"?`${B} SYP`:B,L==="earnings"?"Earnings":L==="trips"?"Trips":"Avg Fare"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"trips",fill:"#82ca9d"}),a.jsx(Br,{dataKey:"earnings",fill:"#8884d8"})]})})})})]})}),a.jsx(Lt,{value:"locations",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:n("driver.locationPerformance")}),a.jsx(lt,{children:n("Areas with highest earnings and trip frequency")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:P().map((B,L)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(pt,{variant:"outline",className:"text-sm",children:["#",L+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:B.location}),a.jsxs("p",{className:"text-sm text-gray-600",children:[B.trips," trips •",B.avgRating.toFixed(1)," ⭐"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[B.earnings.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[B.avgFare.toLocaleString()," SYP/trip"]})]})]},B.location))})})]})}),a.jsx(Lt,{value:"efficiency",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:n("driver.efficiency")})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per KM"}),a.jsxs("span",{className:"font-bold text-green-600",children:[U.earningsPerKm.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Earnings per Hour"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[U.earningsPerHour.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Average Trip Fare"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[U.avgTripFare.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[U.avgRating<4.5&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Gv,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving customer service to boost ratings"})]}),U.cancellationRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Da,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on reducing trip cancellations"})]}),U.earningsPerHour<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider working during peak hours for better earnings"})]})]})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:n("driver.todaySnapshot")})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:U.todayEarnings.toLocaleString()}),a.jsx("p",{className:"text-purple-100",children:"Today's Earnings"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:r.filter(B=>kv(Kr(B.created_at))&&B.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-600",children:"Today's Trips"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:U.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Rating"})]})]})]})})]})]})})]})]})},Ej=[{type:"license_front",label:"Driver License (Front)",icon:Ki},{type:"license_back",label:"Driver License (Back)",icon:Ki},{type:"vehicle_registration",label:"Vehicle Registration",icon:XA},{type:"vehicle_photo",label:"Vehicle Photo",icon:la}],AAe=["bus","microbus","taxi","private_car","motorcycle","truck"];function EAe(){const{user:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState(!1),[s,l]=N.useState(!1),[d,m]=N.useState({license_number:"",license_expiry:"",vehicle_type:"",vehicle_model:"",vehicle_plate:"",route_name:"",route_description:"",verification_status:"not_submitted"}),[h,p]=N.useState(Ej.map(B=>({type:B.type,file:null,uploaded:!1}))),[v,S]=N.useState({});N.useEffect(()=>{A()},[e]);const A=async()=>{if(e){i(!0);try{const{data:B,error:L}=await rt.from("driver_profiles").select("*").eq("user_id",e.id).single();if(L){console.error("Error fetching driver profile:",L);return}if(B&&(m({license_number:B.license_number||"",license_expiry:B.license_expiry||"",vehicle_type:B.vehicle_type||"",vehicle_model:B.vehicle_model||"",vehicle_plate:B.vehicle_plate||"",route_name:B.route_name||"",route_description:B.route_description||"",verification_status:B.verification_status,verification_documents:B.verification_documents}),B.verification_documents)){const F=h.map(V=>{var z,H,W,q;return{...V,url:(H=(z=B.verification_documents)==null?void 0:z[V.type])==null?void 0:H.url,uploaded:!!((q=(W=B.verification_documents)==null?void 0:W[V.type])!=null&&q.url)}});p(F)}}catch(B){console.error("Error:",B),Ge.error(t("common.error"))}finally{i(!1)}}},T=async(B,L)=>{try{S(q=>({...q,[B]:0}));const F=L.name.split(".").pop(),V=`${e==null?void 0:e.id}/${B}_${Date.now()}.${F}`,{data:z,error:H}=await rt.storage.from("verification-docs").upload(V,L,{cacheControl:"3600",upsert:!1});if(H)throw console.error("Upload error:",H),H;S(q=>({...q,[B]:100}));const{data:W}=rt.storage.from("verification-docs").getPublicUrl(V);return W.publicUrl}catch(F){return console.error("Error uploading document:",F),S(V=>({...V,[B]:0})),null}},_=async(B,L)=>{if(!L)return;if(!["image/jpeg","image/jpg","image/png","application/pdf"].includes(L.type)){Ge.error(t("driver.verification.invalidFileType"));return}if(L.size>5*1024*1024){Ge.error(t("driver.verification.fileTooLarge"));return}const V=await T(B,L);V?(p(z=>z.map(H=>H.type===B?{...H,file:L,url:V,uploaded:!0}:H)),Ge.success(t("driver.verification.documentUploaded"))):Ge.error(t("driver.verification.uploadFailed"))},C=async()=>{if(!d.license_number||!d.license_expiry||!d.vehicle_type||!d.vehicle_model||!d.vehicle_plate){Ge.error(t("driver.verification.fillRequired"));return}if(!h.every(L=>L.uploaded)){Ge.error(t("driver.verification.uploadAllDocuments"));return}l(!0);try{const L=h.reduce((V,z)=>(z.url&&(V[z.type]={url:z.url,uploaded_at:new Date().toISOString(),status:"uploaded"}),V),{}),{error:F}=await rt.from("driver_profiles").update({license_number:d.license_number,license_expiry:d.license_expiry,vehicle_type:d.vehicle_type,vehicle_model:d.vehicle_model,vehicle_plate:d.vehicle_plate,route_name:d.route_name,route_description:d.route_description,verification_status:"pending",verification_documents:L,updated_at:new Date().toISOString()}).eq("user_id",e==null?void 0:e.id);if(F)throw F;m(V=>({...V,verification_status:"pending"})),Ge.success(t("driver.verification.submitted"))}catch(L){console.error("Error submitting verification:",L),Ge.error(t("common.error"))}finally{l(!1)}},M=()=>{switch(d.verification_status){case"approved":return a.jsx(yi,{className:"w-5 h-5 text-green-500"});case"pending":return a.jsx(br,{className:"w-5 h-5 text-yellow-500"});case"rejected":return a.jsx(sd,{className:"w-5 h-5 text-red-500"});default:return a.jsx(Da,{className:"w-5 h-5 text-gray-500"})}},P=()=>{const B={not_submitted:"secondary",pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(pt,{variant:B[d.verification_status],className:"flex items-center gap-1",children:[M(),t(`driver.verification.status.${d.verification_status}`)]})},R=()=>{const B=[d.license_number,d.vehicle_type,d.vehicle_plate,h.filter(L=>L.uploaded).length===Ej.length];return B.filter(Boolean).length/B.length*100};if(r)return a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]});const U=d.verification_status==="approved"||d.verification_status==="pending";return a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-4xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:t("driver.verification.title")}),a.jsx("p",{className:"text-muted-foreground",children:t("driver.verification.description")})]}),a.jsxs(ve,{className:"mb-6",children:[a.jsxs(Ie,{children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs(ke,{className:"flex items-center gap-2",children:[t("driver.verification.status.title"),P()]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:t("driver.verification.progress")}),a.jsxs("span",{children:[Math.round(R()),"%"]})]}),a.jsx(Bv,{value:R(),className:"w-full"})]})]}),d.verification_status==="rejected"&&a.jsx(ye,{children:a.jsxs(Oa,{variant:"destructive",children:[a.jsx(Da,{className:"h-4 w-4"}),a.jsx(Ma,{children:t("driver.verification.rejectedMessage")})]})})]}),a.jsxs(ve,{className:"mb-6",children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("driver.verification.driverInfo")}),a.jsx(lt,{children:t("driver.verification.driverInfoDesc")})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"license_number",children:[t("driver.verification.licenseNumber")," *"]}),a.jsx(Pt,{id:"license_number",value:d.license_number,onChange:B=>m(L=>({...L,license_number:B.target.value})),placeholder:t("driver.verification.licenseNumberPlaceholder"),disabled:U})]}),a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"license_expiry",children:[t("driver.verification.licenseExpiry")," *"]}),a.jsx(Pt,{id:"license_expiry",type:"date",value:d.license_expiry,onChange:B=>m(L=>({...L,license_expiry:B.target.value})),disabled:U})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"vehicle_type",children:[t("driver.verification.vehicleType")," *"]}),a.jsxs(pr,{value:d.vehicle_type,onValueChange:B=>m(L=>({...L,vehicle_type:B})),disabled:U,children:[a.jsx(vr,{children:a.jsx(xr,{placeholder:t("driver.verification.selectVehicleType")})}),a.jsx(yr,{children:AAe.map(B=>a.jsx(at,{value:B,children:t(`driver.verification.vehicleTypes.${B}`)},B))})]})]}),a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"vehicle_model",children:[t("driver.verification.vehicleModel")," *"]}),a.jsx(Pt,{id:"vehicle_model",value:d.vehicle_model,onChange:B=>m(L=>({...L,vehicle_model:B.target.value})),placeholder:t("driver.verification.vehicleModelPlaceholder"),disabled:U})]})]}),a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"vehicle_plate",children:[t("driver.verification.vehiclePlate")," *"]}),a.jsx(Pt,{id:"vehicle_plate",value:d.vehicle_plate,onChange:B=>m(L=>({...L,vehicle_plate:B.target.value})),placeholder:t("driver.verification.vehiclePlatePlaceholder"),disabled:U})]}),a.jsx(qo,{}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"route_name",children:t("driver.verification.routeName")}),a.jsx(Pt,{id:"route_name",value:d.route_name,onChange:B=>m(L=>({...L,route_name:B.target.value})),placeholder:t("driver.verification.routeNamePlaceholder"),disabled:U})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"route_description",children:t("driver.verification.routeDescription")}),a.jsx(ay,{id:"route_description",value:d.route_description,onChange:B=>m(L=>({...L,route_description:B.target.value})),placeholder:t("driver.verification.routeDescriptionPlaceholder"),disabled:U,rows:3})]})]})]}),a.jsxs(ve,{className:"mb-6",children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("driver.verification.documents")}),a.jsx(lt,{children:t("driver.verification.documentsDesc")})]}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:h.map((B,L)=>{const V=Ej[L].icon;return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(V,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${B.type}`)}),B.uploaded&&a.jsx(yi,{className:"w-4 h-4 text-green-500"})]}),!U&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(Pt,{type:"file",accept:"image/*,.pdf",onChange:z=>{var W;const H=(W=z.target.files)==null?void 0:W[0];H&&_(B.type,H)},disabled:B.uploaded}),v[B.type]>0&&v[B.type]<100&&a.jsx(Bv,{value:v[B.type],className:"w-full"})]}),B.url&&a.jsx("div",{className:"mt-2",children:a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>window.open(B.url,"_blank"),className:"flex items-center gap-1",children:[a.jsx(XA,{className:"w-4 h-4"}),t("driver.verification.viewDocument")]})})]},B.type)})})})]}),!U&&a.jsx("div",{className:"flex justify-end",children:a.jsx(_e,{onClick:C,disabled:s||h.some(B=>!B.uploaded),className:"min-w-32",children:t(s?"common.saving":"driver.verification.submit")})}),d.verification_status==="approved"&&a.jsxs(Oa,{className:"mt-4",children:[a.jsx(yi,{className:"h-4 w-4"}),a.jsx(Ma,{children:t("driver.verification.approvedMessage")})]})]})}function _Ae(){return rA(["driver"]),a.jsx(cg,{userType:"driver",children:a.jsxs(Ah,{children:[a.jsx(St,{path:"/",element:a.jsx(Il,{to:"/driver/home",replace:!0})}),a.jsx(St,{path:"/home",element:a.jsx(qNe,{})}),a.jsx(St,{path:"/earnings",element:a.jsx(YNe,{})}),a.jsx(St,{path:"/trips",element:a.jsx(WNe,{})}),a.jsx(St,{path:"/qr-generator",element:a.jsx(GNe,{})}),a.jsx(St,{path:"/analytics",element:a.jsx(NAe,{})}),a.jsx(St,{path:"/verification",element:a.jsx(EAe,{})}),a.jsx(St,{path:"/profile",element:a.jsx(Eg,{})}),a.jsx(St,{path:"/settings",element:a.jsx(_g,{})})]})})}function CAe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState({totalEarnings:0,dailyEarnings:0,weeklyEarnings:0,monthlyEarnings:0,totalTransactions:0,dailyTransactions:0,activeQRCodes:0,uniqueCustomers:0}),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(!1);N.useEffect(()=>{e&&Promise.all([v(),S()]).finally(()=>m(!1))},[e]);const v=async()=>{if(e)try{const{data:P,error:R}=await rt.from("transactions").select("amount, created_at, from_user_id").eq("to_user_id",e.id).eq("type","merchant_payment");if(R)throw R;const U=new Date,B=new Date(U.getFullYear(),U.getMonth(),U.getDate()),L=new Date(B.getTime()-7*24*60*60*1e3),F=new Date(B.getTime()-30*24*60*60*1e3),V=P||[],z=V.reduce((se,me)=>se+me.amount,0),H=V.filter(se=>new Date(se.created_at)>=B).reduce((se,me)=>se+me.amount,0),W=V.filter(se=>new Date(se.created_at)>=L).reduce((se,me)=>se+me.amount,0),q=V.filter(se=>new Date(se.created_at)>=F).reduce((se,me)=>se+me.amount,0),Q=V.length,te=V.filter(se=>new Date(se.created_at)>=B).length,J=new Set(V.map(se=>se.from_user_id)).size,{data:Y,error:ne}=await rt.from("qr_codes").select("id").eq("driver_id",e.id).eq("is_active",!0);if(ne)throw ne;i({totalEarnings:z,dailyEarnings:H,weeklyEarnings:W,monthlyEarnings:q,totalTransactions:Q,dailyTransactions:te,activeQRCodes:(Y==null?void 0:Y.length)||0,uniqueCustomers:J})}catch(P){console.error("Error fetching merchant stats:",P)}},S=async()=>{if(e)try{const{data:P,error:R}=await rt.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          from_user_id,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1}).limit(5);if(R)throw R;const U=(P==null?void 0:P.map(B=>{var L,F;return{id:B.id,customer_name:((L=B.profiles)==null?void 0:L.full_name)||t("unknown_customer"),amount:B.amount,created_at:B.created_at,status:B.status,payment_method:((F=B.metadata)==null?void 0:F.payment_method)||"wallet"}}))||[];l(U)}catch(P){console.error("Error fetching recent transactions:",P)}},A=P=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(P),T=P=>new Date(P).toLocaleDateString(n?"ar-SY":"en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),_=P=>{const R={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},U=R[P]||R.pending;return a.jsx(pt,{variant:U.variant,children:U.label})};if(d)return a.jsx(Qi,{text:t("loading_dashboard")});const M=r.dailyEarnings/1e5*100;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_dashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_dashboard_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("daily_earnings")}),a.jsx(_e,{variant:"ghost",size:"icon",onClick:()=>p(!h),className:"h-4 w-4",children:h?a.jsx(da,{className:"h-4 w-4"}):a.jsx(Kn,{className:"h-4 w-4"})})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:h?A(r.dailyEarnings):"••••••"}),a.jsxs("div",{className:"mt-2",children:[a.jsx(Bv,{value:M,className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[Math.round(M),"% ",t("of_daily_goal")]})]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("total_earnings")}),a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:h?A(r.totalEarnings):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"inline h-3 w-3 mr-1"}),t("monthly"),": ",h?A(r.monthlyEarnings):"••••••"]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("transactions")}),a.jsx(HM,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.dailyTransactions," ",t("today")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("customers")}),a.jsx(Xi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.uniqueCustomers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeQRCodes," ",t("active_qr_codes")]})]})]})})]}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("quick_actions")}),a.jsx(lt,{children:t("merchant_quick_actions_description")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(_e,{asChild:!0,className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/merchant/qr-codes",children:[a.jsx(rr,{className:"h-6 w-6 mb-2"}),t("create_qr_code")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/merchant/payments",children:[a.jsx(Qr,{className:"h-6 w-6 mb-2"}),t("view_payments")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/merchant/business",children:[a.jsx(hd,{className:"h-6 w-6 mb-2"}),t("manage_business")]})}),a.jsx(_e,{asChild:!0,variant:"outline",className:"h-20 flex flex-col",children:a.jsxs(Vt,{to:"/merchant/analytics",children:[a.jsx(Xn,{className:"h-6 w-6 mb-2"}),t("view_analytics")]})})]})})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recent_transactions")}),a.jsx(lt,{children:t("recent_merchant_transactions_description")})]}),a.jsx(ye,{children:s.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(HM,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_transactions_yet")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_merchant_transactions_description")})]}):a.jsxs("div",{className:"space-y-4",children:[s.map((P,R)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1*R},className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:a.jsx(Xi,{className:"h-5 w-5 text-primary"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:P.customer_name}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsxs("span",{className:"mr-2",children:[t("payment_method"),": ",t(P.payment_method)]})}),a.jsx("div",{className:"flex items-center text-sm text-muted-foreground",children:a.jsx("span",{children:T(P.created_at)})})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"font-bold text-lg",children:A(P.amount)}),_(P.status)]})]},P.id)),a.jsx(_e,{asChild:!0,variant:"outline",className:"w-full",children:a.jsx(Vt,{to:"/merchant/payments",children:t("view_all_payments")})})]})})]})})]})}function TAe(){const{t:e}=Yt();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("business_management")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_management_description")})]}),a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(hd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("business_page_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("business_page_description")})]})})]})}function OAe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all");N.useEffect(()=>{e&&A()},[e]),N.useEffect(()=>{T()},[r,h,v]);const A=async()=>{if(e)try{const{data:F,error:V}=await rt.from("transactions").select(`
          id,
          amount,
          created_at,
          status,
          metadata,
          profiles!transactions_from_user_id_fkey (
            full_name
          )
        `).eq("to_user_id",e.id).eq("type","merchant_payment").order("created_at",{ascending:!1});if(V)throw V;const z=(F==null?void 0:F.map(H=>{var W,q,Q;return{id:H.id,customer_name:((W=H.profiles)==null?void 0:W.full_name)||t("unknown_customer"),amount:H.amount,created_at:H.created_at,status:H.status,payment_method:((q=H.metadata)==null?void 0:q.payment_method)||"wallet",description:(Q=H.metadata)==null?void 0:Q.description}}))||[];i(z)}catch(F){console.error("Error fetching payments:",F),Ge.error(t("error_fetch_payments"))}finally{m(!1)}},T=()=>{let F=r.filter(V=>{const z=V.customer_name.toLowerCase().includes(h.toLowerCase())||V.id.toLowerCase().includes(h.toLowerCase()),H=v==="all"||V.status===v;return z&&H});l(F)},_=F=>{const V={completed:{variant:"default",label:t("completed")},pending:{variant:"outline",label:t("pending")},cancelled:{variant:"destructive",label:t("cancelled")}},z=V[F]||V.pending;return a.jsx(pt,{variant:z.variant,children:z.label})},C=F=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(F),M=F=>new Date(F).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),P=()=>{const F=[["Date","Customer","Amount","Status","Payment Method","Transaction ID"],...s.map(W=>[M(W.created_at),W.customer_name,W.amount.toString(),W.status,W.payment_method,W.id])].map(W=>W.join(",")).join(`
`),V=new Blob([F],{type:"text/csv"}),z=URL.createObjectURL(V),H=document.createElement("a");H.href=z,H.download=`merchant-payments-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(H),H.click(),document.body.removeChild(H),URL.revokeObjectURL(z),Ge.success(t("payments_exported"))};if(d)return a.jsx(Qi,{text:t("loading_payments")});const R=s.filter(F=>F.status==="completed"),U=s.filter(F=>F.status==="pending"),B=s.filter(F=>F.status==="cancelled");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("payments")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_payments_description")})]}),a.jsxs(_e,{onClick:P,variant:"outline",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),t("export")]})]}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(Pt,{placeholder:t("search_payments"),value:h,onChange:F=>p(F.target.value),className:"pl-10"})]})}),a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsxs(vr,{className:"w-[150px]",children:[a.jsx(rg,{className:"h-4 w-4 mr-2"}),a.jsx(xr,{})]}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("all_statuses")}),a.jsx(at,{value:"completed",children:t("completed")}),a.jsx(at,{value:"pending",children:t("pending")}),a.jsx(at,{value:"cancelled",children:t("cancelled")})]})]})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_payments")}),a.jsx("p",{className:"text-2xl font-bold",children:s.length})]}),a.jsx(Qr,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_amount")}),a.jsx("p",{className:"text-2xl font-bold",children:C(s.reduce((F,V)=>F+V.amount,0))})]}),a.jsx(Qr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("unique_customers")}),a.jsx("p",{className:"text-2xl font-bold",children:new Set(s.map(F=>F.customer_name)).size})]}),a.jsx(Xi,{className:"h-8 w-8 text-purple-600"})]})})})]}),a.jsxs(Jo,{defaultValue:"all",className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-4",children:[a.jsxs(Dt,{value:"all",children:[t("all")," (",s.length,")"]}),a.jsxs(Dt,{value:"completed",children:[t("completed")," (",R.length,")"]}),a.jsxs(Dt,{value:"pending",children:[t("pending")," (",U.length,")"]}),a.jsxs(Dt,{value:"cancelled",children:[t("cancelled")," (",B.length,")"]})]}),a.jsx(Lt,{value:"all",className:"space-y-4",children:a.jsx(L,{payments:s})}),a.jsx(Lt,{value:"completed",className:"space-y-4",children:a.jsx(L,{payments:R})}),a.jsx(Lt,{value:"pending",className:"space-y-4",children:a.jsx(L,{payments:U})}),a.jsx(Lt,{value:"cancelled",className:"space-y-4",children:a.jsx(L,{payments:B})})]})]});function L({payments:F}){return F.length===0?a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(Qr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_payments_found")}),a.jsx("p",{className:"text-muted-foreground",children:t("no_payments_description")})]})}):a.jsx("div",{className:"space-y-4",children:F.map((V,z)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:z*.1},children:a.jsx(ve,{className:"hover:shadow-lg transition-shadow",children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(Qr,{className:"h-6 w-6 text-green-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold",children:V.customer_name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("payment_method"),": ",t(V.payment_method)]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:M(V.created_at)}),a.jsxs("p",{className:"text-xs text-muted-foreground font-mono",children:[V.id.slice(0,8),"..."]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-lg text-green-600",children:["+",C(V.amount)]}),_(V.status)]})]})})})},V.id))})}}var Uf={},_j,qk;function MAe(){return qk||(qk=1,_j=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),_j}var Cj={},Bc={},Yk;function Pd(){if(Yk)return Bc;Yk=1;let e;const t=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Bc.getSymbolSize=function(r){if(!r)throw new Error('"version" cannot be null or undefined');if(r<1||r>40)throw new Error('"version" should be in range from 1 to 40');return r*4+17},Bc.getSymbolTotalCodewords=function(r){return t[r]},Bc.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},Bc.setToSJISFunction=function(r){if(typeof r!="function")throw new Error('"toSJISFunc" is not a valid function.');e=r},Bc.isKanjiModeEnabled=function(){return typeof e<"u"},Bc.toSJIS=function(r){return e(r)},Bc}var Tj={},Wk;function IC(){return Wk||(Wk=1,function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,i){if(e.isValid(r))return r;try{return t(r)}catch{return i}}}(Tj)),Tj}var Oj,Gk;function DAe(){if(Gk)return Oj;Gk=1;function e(){this.buffer=[],this.length=0}return e.prototype={get:function(t){const n=Math.floor(t/8);return(this.buffer[n]>>>7-t%8&1)===1},put:function(t,n){for(let r=0;r<n;r++)this.putBit((t>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},Oj=e,Oj}var Mj,Kk;function RAe(){if(Kk)return Mj;Kk=1;function e(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}return e.prototype.set=function(t,n,r,i){const s=t*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},e.prototype.get=function(t,n){return this.data[t*this.size+n]},e.prototype.xor=function(t,n,r){this.data[t*this.size+n]^=r},e.prototype.isReserved=function(t,n){return this.reservedBit[t*this.size+n]},Mj=e,Mj}var Dj={},Xk;function PAe(){return Xk||(Xk=1,function(e){const t=Pd().getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=t(r),l=s===145?26:Math.ceil((s-13)/(2*i-2))*2,d=[s-7];for(let m=1;m<i-1;m++)d[m]=d[m-1]-l;return d.push(6),d.reverse()},e.getPositions=function(r){const i=[],s=e.getRowColCoords(r),l=s.length;for(let d=0;d<l;d++)for(let m=0;m<l;m++)d===0&&m===0||d===0&&m===l-1||d===l-1&&m===0||i.push([s[d],s[m]]);return i}}(Dj)),Dj}var Rj={},Qk;function IAe(){if(Qk)return Rj;Qk=1;const e=Pd().getSymbolSize,t=7;return Rj.getPositions=function(r){const i=e(r);return[[0,0],[i-t,0],[0,i-t]]},Rj}var Pj={},Zk;function kAe(){return Zk||(Zk=1,function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},e.from=function(i){return e.isValid(i)?parseInt(i,10):void 0},e.getPenaltyN1=function(i){const s=i.size;let l=0,d=0,m=0,h=null,p=null;for(let v=0;v<s;v++){d=m=0,h=p=null;for(let S=0;S<s;S++){let A=i.get(v,S);A===h?d++:(d>=5&&(l+=t.N1+(d-5)),h=A,d=1),A=i.get(S,v),A===p?m++:(m>=5&&(l+=t.N1+(m-5)),p=A,m=1)}d>=5&&(l+=t.N1+(d-5)),m>=5&&(l+=t.N1+(m-5))}return l},e.getPenaltyN2=function(i){const s=i.size;let l=0;for(let d=0;d<s-1;d++)for(let m=0;m<s-1;m++){const h=i.get(d,m)+i.get(d,m+1)+i.get(d+1,m)+i.get(d+1,m+1);(h===4||h===0)&&l++}return l*t.N2},e.getPenaltyN3=function(i){const s=i.size;let l=0,d=0,m=0;for(let h=0;h<s;h++){d=m=0;for(let p=0;p<s;p++)d=d<<1&2047|i.get(h,p),p>=10&&(d===1488||d===93)&&l++,m=m<<1&2047|i.get(p,h),p>=10&&(m===1488||m===93)&&l++}return l*t.N3},e.getPenaltyN4=function(i){let s=0;const l=i.data.length;for(let m=0;m<l;m++)s+=i.data[m];return Math.abs(Math.ceil(s*100/l/5)-10)*t.N4};function n(r,i,s){switch(r){case e.Patterns.PATTERN000:return(i+s)%2===0;case e.Patterns.PATTERN001:return i%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(i+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return i*s%2+i*s%3===0;case e.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case e.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(i,s){const l=s.size;for(let d=0;d<l;d++)for(let m=0;m<l;m++)s.isReserved(m,d)||s.xor(m,d,n(i,m,d))},e.getBestMask=function(i,s){const l=Object.keys(e.Patterns).length;let d=0,m=1/0;for(let h=0;h<l;h++){s(h),e.applyMask(h,i);const p=e.getPenaltyN1(i)+e.getPenaltyN2(i)+e.getPenaltyN3(i)+e.getPenaltyN4(i);e.applyMask(h,i),p<m&&(m=p,d=h)}return d}}(Pj)),Pj}var vx={},Jk;function s$(){if(Jk)return vx;Jk=1;const e=IC(),t=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return vx.getBlocksCount=function(i,s){switch(s){case e.L:return t[(i-1)*4+0];case e.M:return t[(i-1)*4+1];case e.Q:return t[(i-1)*4+2];case e.H:return t[(i-1)*4+3];default:return}},vx.getTotalCodewordsCount=function(i,s){switch(s){case e.L:return n[(i-1)*4+0];case e.M:return n[(i-1)*4+1];case e.Q:return n[(i-1)*4+2];case e.H:return n[(i-1)*4+3];default:return}},vx}var Ij={},Zm={},e8;function LAe(){if(e8)return Zm;e8=1;const e=new Uint8Array(512),t=new Uint8Array(256);return function(){let r=1;for(let i=0;i<255;i++)e[i]=r,t[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)e[i]=e[i-255]}(),Zm.log=function(r){if(r<1)throw new Error("log("+r+")");return t[r]},Zm.exp=function(r){return e[r]},Zm.mul=function(r,i){return r===0||i===0?0:e[t[r]+t[i]]},Zm}var t8;function BAe(){return t8||(t8=1,function(e){const t=LAe();e.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let l=0;l<r.length;l++)for(let d=0;d<i.length;d++)s[l+d]^=t.mul(r[l],i[d]);return s},e.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const l=s[0];for(let m=0;m<i.length;m++)s[m]^=t.mul(i[m],l);let d=0;for(;d<s.length&&s[d]===0;)d++;s=s.slice(d)}return s},e.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=e.mul(i,new Uint8Array([1,t.exp(s)]));return i}}(Ij)),Ij}var kj,n8;function FAe(){if(n8)return kj;n8=1;const e=BAe();function t(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return t.prototype.initialize=function(r){this.degree=r,this.genPoly=e.generateECPolynomial(this.degree)},t.prototype.encode=function(r){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=e.mod(i,this.genPoly),l=this.degree-s.length;if(l>0){const d=new Uint8Array(this.degree);return d.set(s,l),d}return s},kj=t,kj}var Lj={},Bj={},Fj={},r8;function o$(){return r8||(r8=1,Fj.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40}),Fj}var Co={},i8;function l$(){if(i8)return Co;i8=1;const e="[0-9]+",t="[A-Z $%*+\\-./:]+";let n="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";n=n.replace(/u/g,"\\u");const r="(?:(?![A-Z0-9 $%*+\\-./:]|"+n+`)(?:.|[\r
]))+`;Co.KANJI=new RegExp(n,"g"),Co.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),Co.BYTE=new RegExp(r,"g"),Co.NUMERIC=new RegExp(e,"g"),Co.ALPHANUMERIC=new RegExp(t,"g");const i=new RegExp("^"+n+"$"),s=new RegExp("^"+e+"$"),l=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return Co.testKanji=function(m){return i.test(m)},Co.testNumeric=function(m){return s.test(m)},Co.testAlphanumeric=function(m){return l.test(m)},Co}var a8;function Id(){return a8||(a8=1,function(e){const t=o$(),n=l$();e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,l){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(l))throw new Error("Invalid version: "+l);return l>=1&&l<10?s.ccBits[0]:l<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+i)}}e.from=function(s,l){if(e.isValid(s))return s;try{return r(s)}catch{return l}}}(Bj)),Bj}var s8;function UAe(){return s8||(s8=1,function(e){const t=Pd(),n=s$(),r=IC(),i=Id(),s=o$(),l=7973,d=t.getBCHDigit(l);function m(S,A,T){for(let _=1;_<=40;_++)if(A<=e.getCapacity(_,T,S))return _}function h(S,A){return i.getCharCountIndicator(S,A)+4}function p(S,A){let T=0;return S.forEach(function(_){const C=h(_.mode,A);T+=C+_.getBitsLength()}),T}function v(S,A){for(let T=1;T<=40;T++)if(p(S,T)<=e.getCapacity(T,A,i.MIXED))return T}e.from=function(A,T){return s.isValid(A)?parseInt(A,10):T},e.getCapacity=function(A,T,_){if(!s.isValid(A))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=i.BYTE);const C=t.getSymbolTotalCodewords(A),M=n.getTotalCodewordsCount(A,T),P=(C-M)*8;if(_===i.MIXED)return P;const R=P-h(_,A);switch(_){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},e.getBestVersionForData=function(A,T){let _;const C=r.from(T,r.M);if(Array.isArray(A)){if(A.length>1)return v(A,C);if(A.length===0)return 1;_=A[0]}else _=A;return m(_.mode,_.getLength(),C)},e.getEncodedBits=function(A){if(!s.isValid(A)||A<7)throw new Error("Invalid QR Code version");let T=A<<12;for(;t.getBCHDigit(T)-d>=0;)T^=l<<t.getBCHDigit(T)-d;return A<<12|T}}(Lj)),Lj}var Uj={},o8;function zAe(){if(o8)return Uj;o8=1;const e=Pd(),t=1335,n=21522,r=e.getBCHDigit(t);return Uj.getEncodedBits=function(s,l){const d=s.bit<<3|l;let m=d<<10;for(;e.getBCHDigit(m)-r>=0;)m^=t<<e.getBCHDigit(m)-r;return(d<<10|m)^n},Uj}var zj={},Vj,l8;function VAe(){if(l8)return Vj;l8=1;const e=Id();function t(n){this.mode=e.NUMERIC,this.data=n.toString()}return t.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(r){let i,s,l;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),l=parseInt(s,10),r.put(l,10);const d=this.data.length-i;d>0&&(s=this.data.substr(i),l=parseInt(s,10),r.put(l,d*3+1))},Vj=t,Vj}var $j,c8;function $Ae(){if(c8)return $j;c8=1;const e=Id(),t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function n(r){this.mode=e.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let l=t.indexOf(this.data[s])*45;l+=t.indexOf(this.data[s+1]),i.put(l,11)}this.data.length%2&&i.put(t.indexOf(this.data[s]),6)},$j=n,$j}var Hj,u8;function HAe(){if(u8)return Hj;u8=1;const e=Id();function t(n){this.mode=e.BYTE,typeof n=="string"?this.data=new TextEncoder().encode(n):this.data=new Uint8Array(n)}return t.getBitsLength=function(r){return r*8},t.prototype.getLength=function(){return this.data.length},t.prototype.getBitsLength=function(){return t.getBitsLength(this.data.length)},t.prototype.write=function(n){for(let r=0,i=this.data.length;r<i;r++)n.put(this.data[r],8)},Hj=t,Hj}var qj,d8;function qAe(){if(d8)return qj;d8=1;const e=Id(),t=Pd();function n(r){this.mode=e.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=t.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},qj=n,qj}var Yj={exports:{}},f8;function YAe(){return f8||(f8=1,function(e){var t={single_source_shortest_paths:function(n,r,i){var s={},l={};l[r]=0;var d=t.PriorityQueue.make();d.push(r,0);for(var m,h,p,v,S,A,T,_,C;!d.empty();){m=d.pop(),h=m.value,v=m.cost,S=n[h]||{};for(p in S)S.hasOwnProperty(p)&&(A=S[p],T=v+A,_=l[p],C=typeof l[p]>"u",(C||_>T)&&(l[p]=T,d.push(p,T),s[p]=h))}if(typeof i<"u"&&typeof l[i]>"u"){var M=["Could not find a path from ",r," to ",i,"."].join("");throw new Error(M)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=t.single_source_shortest_paths(n,r,i);return t.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t}(Yj)),Yj.exports}var h8;function WAe(){return h8||(h8=1,function(e){const t=Id(),n=VAe(),r=$Ae(),i=HAe(),s=qAe(),l=l$(),d=Pd(),m=YAe();function h(M){return unescape(encodeURIComponent(M)).length}function p(M,P,R){const U=[];let B;for(;(B=M.exec(R))!==null;)U.push({data:B[0],index:B.index,mode:P,length:B[0].length});return U}function v(M){const P=p(l.NUMERIC,t.NUMERIC,M),R=p(l.ALPHANUMERIC,t.ALPHANUMERIC,M);let U,B;return d.isKanjiModeEnabled()?(U=p(l.BYTE,t.BYTE,M),B=p(l.KANJI,t.KANJI,M)):(U=p(l.BYTE_KANJI,t.BYTE,M),B=[]),P.concat(R,U,B).sort(function(F,V){return F.index-V.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function S(M,P){switch(P){case t.NUMERIC:return n.getBitsLength(M);case t.ALPHANUMERIC:return r.getBitsLength(M);case t.KANJI:return s.getBitsLength(M);case t.BYTE:return i.getBitsLength(M)}}function A(M){return M.reduce(function(P,R){const U=P.length-1>=0?P[P.length-1]:null;return U&&U.mode===R.mode?(P[P.length-1].data+=R.data,P):(P.push(R),P)},[])}function T(M){const P=[];for(let R=0;R<M.length;R++){const U=M[R];switch(U.mode){case t.NUMERIC:P.push([U,{data:U.data,mode:t.ALPHANUMERIC,length:U.length},{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.ALPHANUMERIC:P.push([U,{data:U.data,mode:t.BYTE,length:U.length}]);break;case t.KANJI:P.push([U,{data:U.data,mode:t.BYTE,length:h(U.data)}]);break;case t.BYTE:P.push([{data:U.data,mode:t.BYTE,length:h(U.data)}])}}return P}function _(M,P){const R={},U={start:{}};let B=["start"];for(let L=0;L<M.length;L++){const F=M[L],V=[];for(let z=0;z<F.length;z++){const H=F[z],W=""+L+z;V.push(W),R[W]={node:H,lastCount:0},U[W]={};for(let q=0;q<B.length;q++){const Q=B[q];R[Q]&&R[Q].node.mode===H.mode?(U[Q][W]=S(R[Q].lastCount+H.length,H.mode)-S(R[Q].lastCount,H.mode),R[Q].lastCount+=H.length):(R[Q]&&(R[Q].lastCount=H.length),U[Q][W]=S(H.length,H.mode)+4+t.getCharCountIndicator(H.mode,P))}}B=V}for(let L=0;L<B.length;L++)U[B[L]].end=0;return{map:U,table:R}}function C(M,P){let R;const U=t.getBestModeForData(M);if(R=t.from(P,U),R!==t.BYTE&&R.bit<U.bit)throw new Error('"'+M+'" cannot be encoded with mode '+t.toString(R)+`.
 Suggested mode is: `+t.toString(U));switch(R===t.KANJI&&!d.isKanjiModeEnabled()&&(R=t.BYTE),R){case t.NUMERIC:return new n(M);case t.ALPHANUMERIC:return new r(M);case t.KANJI:return new s(M);case t.BYTE:return new i(M)}}e.fromArray=function(P){return P.reduce(function(R,U){return typeof U=="string"?R.push(C(U,null)):U.data&&R.push(C(U.data,U.mode)),R},[])},e.fromString=function(P,R){const U=v(P,d.isKanjiModeEnabled()),B=T(U),L=_(B,R),F=m.find_path(L.map,"start","end"),V=[];for(let z=1;z<F.length-1;z++)V.push(L.table[F[z]].node);return e.fromArray(A(V))},e.rawSplit=function(P){return e.fromArray(v(P,d.isKanjiModeEnabled()))}}(zj)),zj}var m8;function GAe(){if(m8)return Cj;m8=1;const e=Pd(),t=IC(),n=DAe(),r=RAe(),i=PAe(),s=IAe(),l=kAe(),d=s$(),m=FAe(),h=UAe(),p=zAe(),v=Id(),S=WAe();function A(L,F){const V=L.size,z=s.getPositions(F);for(let H=0;H<z.length;H++){const W=z[H][0],q=z[H][1];for(let Q=-1;Q<=7;Q++)if(!(W+Q<=-1||V<=W+Q))for(let te=-1;te<=7;te++)q+te<=-1||V<=q+te||(Q>=0&&Q<=6&&(te===0||te===6)||te>=0&&te<=6&&(Q===0||Q===6)||Q>=2&&Q<=4&&te>=2&&te<=4?L.set(W+Q,q+te,!0,!0):L.set(W+Q,q+te,!1,!0))}}function T(L){const F=L.size;for(let V=8;V<F-8;V++){const z=V%2===0;L.set(V,6,z,!0),L.set(6,V,z,!0)}}function _(L,F){const V=i.getPositions(F);for(let z=0;z<V.length;z++){const H=V[z][0],W=V[z][1];for(let q=-2;q<=2;q++)for(let Q=-2;Q<=2;Q++)q===-2||q===2||Q===-2||Q===2||q===0&&Q===0?L.set(H+q,W+Q,!0,!0):L.set(H+q,W+Q,!1,!0)}}function C(L,F){const V=L.size,z=h.getEncodedBits(F);let H,W,q;for(let Q=0;Q<18;Q++)H=Math.floor(Q/3),W=Q%3+V-8-3,q=(z>>Q&1)===1,L.set(H,W,q,!0),L.set(W,H,q,!0)}function M(L,F,V){const z=L.size,H=p.getEncodedBits(F,V);let W,q;for(W=0;W<15;W++)q=(H>>W&1)===1,W<6?L.set(W,8,q,!0):W<8?L.set(W+1,8,q,!0):L.set(z-15+W,8,q,!0),W<8?L.set(8,z-W-1,q,!0):W<9?L.set(8,15-W-1+1,q,!0):L.set(8,15-W-1,q,!0);L.set(z-8,8,1,!0)}function P(L,F){const V=L.size;let z=-1,H=V-1,W=7,q=0;for(let Q=V-1;Q>0;Q-=2)for(Q===6&&Q--;;){for(let te=0;te<2;te++)if(!L.isReserved(H,Q-te)){let J=!1;q<F.length&&(J=(F[q]>>>W&1)===1),L.set(H,Q-te,J),W--,W===-1&&(q++,W=7)}if(H+=z,H<0||V<=H){H-=z,z=-z;break}}}function R(L,F,V){const z=new n;V.forEach(function(te){z.put(te.mode.bit,4),z.put(te.getLength(),v.getCharCountIndicator(te.mode,L)),te.write(z)});const H=e.getSymbolTotalCodewords(L),W=d.getTotalCodewordsCount(L,F),q=(H-W)*8;for(z.getLengthInBits()+4<=q&&z.put(0,4);z.getLengthInBits()%8!==0;)z.putBit(0);const Q=(q-z.getLengthInBits())/8;for(let te=0;te<Q;te++)z.put(te%2?17:236,8);return U(z,L,F)}function U(L,F,V){const z=e.getSymbolTotalCodewords(F),H=d.getTotalCodewordsCount(F,V),W=z-H,q=d.getBlocksCount(F,V),Q=z%q,te=q-Q,J=Math.floor(z/q),Y=Math.floor(W/q),ne=Y+1,se=J-Y,me=new m(se);let re=0;const de=new Array(q),oe=new Array(q);let he=0;const Re=new Uint8Array(L.buffer);for(let xe=0;xe<q;xe++){const Fe=xe<te?Y:ne;de[xe]=Re.slice(re,re+Fe),oe[xe]=me.encode(de[xe]),re+=Fe,he=Math.max(he,Fe)}const Le=new Uint8Array(z);let le=0,pe,je;for(pe=0;pe<he;pe++)for(je=0;je<q;je++)pe<de[je].length&&(Le[le++]=de[je][pe]);for(pe=0;pe<se;pe++)for(je=0;je<q;je++)Le[le++]=oe[je][pe];return Le}function B(L,F,V,z){let H;if(Array.isArray(L))H=S.fromArray(L);else if(typeof L=="string"){let J=F;if(!J){const Y=S.rawSplit(L);J=h.getBestVersionForData(Y,V)}H=S.fromString(L,J||40)}else throw new Error("Invalid data");const W=h.getBestVersionForData(H,V);if(!W)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=W;else if(F<W)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+W+`.
`);const q=R(F,V,H),Q=e.getSymbolSize(F),te=new r(Q);return A(te,F),T(te),_(te,F),M(te,V,0),F>=7&&C(te,F),P(te,q),isNaN(z)&&(z=l.getBestMask(te,M.bind(null,te,V))),l.applyMask(z,te),M(te,V,z),{modules:te,version:F,errorCorrectionLevel:V,maskPattern:z,segments:H}}return Cj.create=function(F,V){if(typeof F>"u"||F==="")throw new Error("No input text");let z=t.M,H,W;return typeof V<"u"&&(z=t.from(V.errorCorrectionLevel,t.M),H=h.from(V.version),W=l.from(V.maskPattern),V.toSJISFunc&&e.setToSJISFunction(V.toSJISFunc)),B(F,H,z,W)},Cj}var Wj={},Gj={},g8;function c$(){return g8||(g8=1,function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push("F","F");const i=parseInt(r.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,l=r.scale||4;return{width:s,scale:s?4:l,margin:i,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},e.getImageWidth=function(r,i){const s=e.getScale(r,i);return Math.floor((r+i.margin*2)*s)},e.qrToImageData=function(r,i,s){const l=i.modules.size,d=i.modules.data,m=e.getScale(l,s),h=Math.floor((l+s.margin*2)*m),p=s.margin*m,v=[s.color.light,s.color.dark];for(let S=0;S<h;S++)for(let A=0;A<h;A++){let T=(S*h+A)*4,_=s.color.light;if(S>=p&&A>=p&&S<h-p&&A<h-p){const C=Math.floor((S-p)/m),M=Math.floor((A-p)/m);_=v[d[C*l+M]?1:0]}r[T++]=_.r,r[T++]=_.g,r[T++]=_.b,r[T]=_.a}}}(Gj)),Gj}var p8;function KAe(){return p8||(p8=1,function(e){const t=c$();function n(i,s,l){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=l,s.width=l,s.style.height=l+"px",s.style.width=l+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,l,d){let m=d,h=l;typeof m>"u"&&(!l||!l.getContext)&&(m=l,l=void 0),l||(h=r()),m=t.getOptions(m);const p=t.getImageWidth(s.modules.size,m),v=h.getContext("2d"),S=v.createImageData(p,p);return t.qrToImageData(S.data,s,m),n(v,h,p),v.putImageData(S,0,0),h},e.renderToDataURL=function(s,l,d){let m=d;typeof m>"u"&&(!l||!l.getContext)&&(m=l,l=void 0),m||(m={});const h=e.render(s,l,m),p=m.type||"image/png",v=m.rendererOpts||{};return h.toDataURL(p,v.quality)}}(Wj)),Wj}var Kj={},x8;function XAe(){if(x8)return Kj;x8=1;const e=c$();function t(i,s){const l=i.a/255,d=s+'="'+i.hex+'"';return l<1?d+" "+s+'-opacity="'+l.toFixed(2).slice(1)+'"':d}function n(i,s,l){let d=i+s;return typeof l<"u"&&(d+=" "+l),d}function r(i,s,l){let d="",m=0,h=!1,p=0;for(let v=0;v<i.length;v++){const S=Math.floor(v%s),A=Math.floor(v/s);!S&&!h&&(h=!0),i[v]?(p++,v>0&&S>0&&i[v-1]||(d+=h?n("M",S+l,.5+A+l):n("m",m,0),m=0,h=!1),S+1<s&&i[v+1]||(d+=n("h",p),p=0)):m++}return d}return Kj.render=function(s,l,d){const m=e.getOptions(l),h=s.modules.size,p=s.modules.data,v=h+m.margin*2,S=m.color.light.a?"<path "+t(m.color.light,"fill")+' d="M0 0h'+v+"v"+v+'H0z"/>':"",A="<path "+t(m.color.dark,"stroke")+' d="'+r(p,h,m.margin)+'"/>',T='viewBox="0 0 '+v+" "+v+'"',C='<svg xmlns="http://www.w3.org/2000/svg" '+(m.width?'width="'+m.width+'" height="'+m.width+'" ':"")+T+' shape-rendering="crispEdges">'+S+A+`</svg>
`;return typeof d=="function"&&d(null,C),C},Kj}var v8;function QAe(){if(v8)return Uf;v8=1;const e=MAe(),t=GAe(),n=KAe(),r=XAe();function i(s,l,d,m,h){const p=[].slice.call(arguments,1),v=p.length,S=typeof p[v-1]=="function";if(!S&&!e())throw new Error("Callback required as last argument");if(S){if(v<2)throw new Error("Too few arguments provided");v===2?(h=d,d=l,l=m=void 0):v===3&&(l.getContext&&typeof h>"u"?(h=m,m=void 0):(h=m,m=d,d=l,l=void 0))}else{if(v<1)throw new Error("Too few arguments provided");return v===1?(d=l,l=m=void 0):v===2&&!l.getContext&&(m=d,d=l,l=void 0),new Promise(function(A,T){try{const _=t.create(d,m);A(s(_,l,m))}catch(_){T(_)}})}try{const A=t.create(d,m);h(null,s(A,l,m))}catch(A){h(A)}}return Uf.create=t.create,Uf.toCanvas=i.bind(null,n.render),Uf.toDataURL=i.bind(null,n.renderToDataURL),Uf.toString=i.bind(null,function(s,l,d){return r.render(s,d)}),Uf}var ZAe=QAe();const u$=Ia(ZAe);function JAe(){const{user:e}=cn(),{t,isRTL:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState(!0),[d,m]=N.useState(!1),[h,p]=N.useState(null),[v,S]=N.useState(!1);N.useRef(null);const[A,T]=N.useState({amount:"",description:"",business_name:"",expires_at:""});N.useEffect(()=>{e&&_()},[e]);const _=async()=>{if(e)try{const{data:te,error:J}=await rt.from("qr_codes").select(`
          *,
          usage_count:transactions(count)
        `).eq("driver_id",e.id).order("created_at",{ascending:!1});if(J)throw J;const Y=(te==null?void 0:te.map(ne=>{var se,me;return{...ne,usage_count:((me=(se=ne.usage_count)==null?void 0:se[0])==null?void 0:me.count)||0,business_name:ne.route_info,description:ne.vehicle_info}}))||[];i(Y)}catch(te){console.error("Error fetching QR codes:",te),Ge.error(t("error_fetch_qr_codes"))}finally{l(!1)}},C=async te=>{try{return await u$.toDataURL(te,{width:256,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"})}catch(J){return console.error("Error generating QR image:",J),null}},M=async()=>{if(!e||!A.amount){Ge.error(t("please_fill_required_fields"));return}m(!0);try{const te=parseFloat(A.amount);if(te<=0){Ge.error(t("invalid_amount"));return}const J={type:"merchant",merchant_id:e.id,amount:te,business_name:A.business_name||null,description:A.description||null,timestamp:Date.now()},Y=JSON.stringify(J),ne=await C(Y),{data:se,error:me}=await rt.from("qr_codes").insert({driver_id:e.id,qr_data:Y,is_active:!0,expires_at:A.expires_at||null,route_info:A.business_name||null,vehicle_info:A.description||null}).select().single();if(me)throw me;Ge.success(t("qr_code_generated_successfully")),T({amount:"",description:"",business_name:"",expires_at:""}),_()}catch(te){console.error("Error generating QR code:",te),Ge.error(t("error_generate_qr_code"))}finally{m(!1)}},P=async(te,J)=>{try{const{error:Y}=await rt.from("qr_codes").update({is_active:!J}).eq("id",te).eq("driver_id",e==null?void 0:e.id);if(Y)throw Y;Ge.success(t(J?"qr_code_deactivated":"qr_code_activated")),_()}catch(Y){console.error("Error toggling QR code status:",Y),Ge.error(t("error_toggle_qr_status"))}},R=te=>{const J=te.qr_data;navigator.clipboard.writeText(J),Ge.success(t("qr_data_copied"))},U=async te=>{try{const J=await C(te.qr_data);if(!J){Ge.error("Failed to generate QR code image");return}const Y=document.createElement("a");Y.href=J,Y.download=`merchant-qr-${te.business_name||te.id}.png`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),Ge.success(t("qr_code_downloaded"))}catch(J){console.error("Error downloading QR code:",J),Ge.error("Failed to download QR code")}},B=async te=>{try{const J=await C(te.qr_data);if(!J){Ge.error("Failed to generate QR code image");return}const Y=window.open("","_blank");if(Y){const ne=JSON.parse(te.qr_data);Y.document.write(`
          <html>
            <head>
              <title>QR Code - ${te.business_name||"Merchant Payment"}</title>
              <style>
                body { 
                  font-family: Arial, sans-serif; 
                  text-align: center; 
                  padding: 20px;
                  background: white;
                }
                .qr-container {
                  max-width: 400px;
                  margin: 0 auto;
                  padding: 30px;
                  border: 2px solid #ddd;
                  border-radius: 10px;
                }
                .business-name { 
                  font-size: 24px; 
                  font-weight: bold; 
                  margin-bottom: 10px;
                  color: #333;
                }
                .amount { 
                  font-size: 32px; 
                  font-weight: bold; 
                  color: #059669;
                  margin: 20px 0;
                }
                .description { 
                  font-size: 16px; 
                  color: #666;
                  margin-bottom: 20px;
                }
                .qr-image { 
                  margin: 20px 0;
                }
                .instructions {
                  font-size: 14px;
                  color: #666;
                  margin-top: 20px;
                }
                @media print {
                  body { margin: 0; }
                }
              </style>
            </head>
            <body>
              <div class="qr-container">
                <div class="business-name">${te.business_name||"Merchant Payment"}</div>
                ${te.description?`<div class="description">${te.description}</div>`:""}
                <div class="amount">${V(ne.amount||0)}</div>
                <div class="qr-image">
                  <img src="${J}" alt="QR Code" style="max-width: 200px; height: auto;" />
                </div>
                <div class="instructions">
                  Scan this QR code with the Tickets app to make a payment
                </div>
              </div>
            </body>
          </html>
        `),Y.document.close(),Y.print()}}catch(J){console.error("Error printing QR code:",J),Ge.error("Failed to print QR code")}},L=async te=>{try{const J=await C(te.qr_data);if(!J){Ge.error("Failed to generate QR code image");return}const ne=await(await fetch(J)).blob(),se=new File([ne],`merchant-qr-${te.business_name||te.id}.png`,{type:"image/png"});if(navigator.share&&navigator.canShare({files:[se]}))await navigator.share({title:`QR Code - ${te.business_name||"Merchant Payment"}`,text:`Payment QR Code for ${V(JSON.parse(te.qr_data).amount||0)}`,files:[se]});else{const me=document.createElement("canvas"),re=me.getContext("2d"),de=new Image;de.onload=()=>{me.width=de.width,me.height=de.height,re==null||re.drawImage(de,0,0),me.toBlob(oe=>{oe&&(navigator.clipboard.write([new ClipboardItem({"image/png":oe})]),Ge.success("QR code copied to clipboard"))})},de.src=J}}catch(J){console.error("Error sharing QR code:",J),navigator.clipboard.writeText(te.qr_data),Ge.success("QR data copied to clipboard")}},F=te=>{p(te),S(!0)},V=te=>new Intl.NumberFormat(n?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(te),z=te=>new Date(te).toLocaleDateString(n?"ar-SY":"en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),H=te=>te?new Date(te)<new Date:!1,W=te=>H(te.expires_at)?a.jsx(pt,{variant:"destructive",children:t("expired")}):te.is_active?a.jsx(pt,{variant:"default",children:t("active")}):a.jsx(pt,{variant:"outline",children:t("inactive")});if(s)return a.jsx(Qi,{text:t("loading_qr_codes")});const q=r.filter(te=>te.is_active&&!H(te.expires_at)),Q=r.filter(te=>!te.is_active||H(te.expires_at));return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:t("merchant_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("merchant_qr_description")})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("active_qr_codes")}),a.jsx("p",{className:"text-2xl font-bold",children:q.length})]}),a.jsx(rr,{className:"h-8 w-8 text-green-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_scans")}),a.jsx("p",{className:"text-2xl font-bold",children:r.reduce((te,J)=>te+J.usage_count,0)})]}),a.jsx(Kn,{className:"h-8 w-8 text-blue-600"})]})})}),a.jsx(ve,{children:a.jsx(ye,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:t("total_earnings")}),a.jsx("p",{className:"text-2xl font-bold",children:V(r.reduce((te,J)=>te+25e3*J.usage_count,0))})]}),a.jsx(Qr,{className:"h-8 w-8 text-green-600"})]})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("generate_merchant_qr_code")}),a.jsx(lt,{children:t("create_merchant_qr_description")})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs(et,{htmlFor:"amount",children:[t("amount")," *"]}),a.jsx(Pt,{id:"amount",type:"number",placeholder:"0",value:A.amount,onChange:te=>T(J=>({...J,amount:te.target.value}))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"business_name",children:t("business_name")}),a.jsx(Pt,{id:"business_name",placeholder:t("business_name_placeholder"),value:A.business_name,onChange:te=>T(J=>({...J,business_name:te.target.value}))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(et,{htmlFor:"description",children:t("description")}),a.jsx(Pt,{id:"description",placeholder:t("qr_description_placeholder"),value:A.description,onChange:te=>T(J=>({...J,description:te.target.value}))})]}),a.jsxs("div",{children:[a.jsx(et,{htmlFor:"expires_at",children:t("expires_at")}),a.jsx(Pt,{id:"expires_at",type:"datetime-local",value:A.expires_at,onChange:te=>T(J=>({...J,expires_at:te.target.value}))})]})]}),a.jsx(_e,{onClick:M,disabled:d,className:"w-full",children:d?a.jsx(Qi,{text:t("generating")}):a.jsxs(a.Fragment,{children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),t("generate_qr_code")]})})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{children:[t("active_qr_codes")," (",q.length,")"]}),a.jsx(lt,{children:t("manage_active_merchant_qr_codes")})]}),a.jsx(ye,{children:q.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rr,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:t("no_active_qr_codes")}),a.jsx("p",{className:"text-muted-foreground",children:t("generate_first_merchant_qr_code")})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.map((te,J)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.1},children:a.jsxs(ve,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs(Ie,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:te.business_name||t("merchant_payment")}),W(te)]}),te.description&&a.jsx(lt,{children:te.description})]}),a.jsxs(ye,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(hd,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:te.business_name||t("merchant_business")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2 text-blue-600"}),a.jsx("span",{children:z(te.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-4 w-4 mr-2 text-purple-600"}),a.jsxs("span",{children:[te.usage_count," ",t("times_scanned")]})]}),te.expires_at&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2 text-orange-600"}),a.jsxs("span",{children:[t("expires"),": ",z(te.expires_at)]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>F(te),className:"gap-1",children:[a.jsx(Oee,{className:"h-3 w-3"}),"View"]}),a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>U(te),className:"gap-1",children:[a.jsx(ss,{className:"h-3 w-3"}),"Download"]}),a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>B(te),className:"gap-1",children:[a.jsx(IS,{className:"h-3 w-3"}),"Print"]}),a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>L(te),className:"gap-1",children:[a.jsx(kS,{className:"h-3 w-3"}),"Share"]})]}),a.jsx(_e,{variant:te.is_active?"destructive":"default",size:"sm",onClick:()=>P(te.id,te.is_active),className:"w-full",children:te.is_active?a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"h-4 w-4 mr-2"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),t("activate")]})})]})]})},te.id))})})]}),Q.length>0&&a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{children:[t("inactive_expired_qr_codes")," (",Q.length,")"]}),a.jsx(lt,{children:t("manage_inactive_merchant_qr_codes")})]}),a.jsx(ye,{children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Q.map((te,J)=>a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:J*.1},children:a.jsxs(ve,{className:"opacity-60 hover:opacity-80 transition-opacity",children:[a.jsxs(Ie,{className:"pb-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ke,{className:"text-lg",children:te.business_name||t("merchant_payment")}),W(te)]}),te.description&&a.jsx(lt,{children:te.description})]}),a.jsxs(ye,{className:"space-y-3",children:[a.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(br,{className:"h-4 w-4 mr-2"}),a.jsx("span",{children:z(te.created_at||"")})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Kn,{className:"h-4 w-4 mr-2"}),a.jsxs("span",{children:[te.usage_count," ",t("times_scanned")]})]})]}),!H(te.expires_at)&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>P(te.id,te.is_active),className:"w-full",children:[a.jsx(Wv,{className:"h-4 w-4 mr-2"}),t("reactivate")]})]})]})},te.id))})})]}),a.jsx(ha,{open:v,onOpenChange:S,children:a.jsxs(ma,{className:"max-w-md",children:[a.jsxs(ga,{children:[a.jsx(pa,{className:"text-center",children:(h==null?void 0:h.business_name)||t("merchant_payment")}),(h==null?void 0:h.description)&&a.jsx(Ra,{className:"text-center",children:h.description})]}),h&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(eEe,{qrData:h.qr_data})}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("amount"),":"]}),a.jsx("span",{className:"font-bold text-green-600",children:V(JSON.parse(h.qr_data).amount||0)})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("status"),":"]}),W(h)]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("scans"),":"]}),a.jsx("span",{children:h.usage_count})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("created"),":"]}),a.jsx("span",{children:z(h.created_at)})]}),h.expires_at&&a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"font-medium",children:[t("expires"),":"]}),a.jsx("span",{children:z(h.expires_at)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(_e,{variant:"outline",onClick:()=>U(h),className:"gap-2",children:[a.jsx(ss,{className:"h-4 w-4"}),t("download")]}),a.jsxs(_e,{variant:"outline",onClick:()=>B(h),className:"gap-2",children:[a.jsx(IS,{className:"h-4 w-4"}),t("print")]}),a.jsxs(_e,{variant:"outline",onClick:()=>L(h),className:"gap-2",children:[a.jsx(kS,{className:"h-4 w-4"}),t("share")]}),a.jsxs(_e,{variant:"outline",onClick:()=>R(h),className:"gap-2",children:[a.jsx(KA,{className:"h-4 w-4"}),t("copy")]})]}),a.jsx(_e,{variant:h.is_active?"destructive":"default",onClick:()=>{P(h.id,h.is_active),S(!1)},className:"w-full gap-2",disabled:H(h.expires_at),children:h.is_active?a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"h-4 w-4"}),t("deactivate")]}):a.jsxs(a.Fragment,{children:[a.jsx(Kn,{className:"h-4 w-4"}),t("activate")]})})]})]})})]})}function eEe({qrData:e,size:t=200}){const[n,r]=N.useState("");return N.useEffect(()=>{e&&(async()=>{try{const s=await u$.toDataURL(e,{width:t,margin:2,color:{dark:"#000000",light:"#FFFFFF"},errorCorrectionLevel:"M"});r(s)}catch(s){console.error("Error generating QR code:",s)}})()},[e,t]),n?a.jsx("div",{className:"p-4 bg-white rounded-lg border border-gray-200 shadow-sm",children:a.jsx("img",{src:n,alt:"QR Code",className:"rounded",style:{width:t,height:t}})}):a.jsx("div",{className:"flex items-center justify-center bg-gray-100 rounded-lg",style:{width:t,height:t},children:a.jsx(Qi,{text:""})})}function tEe(){const{t:e}=Yt();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:e("analytics")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]}),a.jsx(ve,{children:a.jsxs(ye,{className:"text-center py-12",children:[a.jsx(Xn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:e("analytics_coming_soon")}),a.jsx("p",{className:"text-muted-foreground",children:e("analytics_description")})]})})]})}function nEe(){return rA(["merchant"]),a.jsx(cg,{userType:"merchant",children:a.jsxs(Ah,{children:[a.jsx(St,{path:"/",element:a.jsx(Il,{to:"/merchant/home",replace:!0})}),a.jsx(St,{path:"/home",element:a.jsx(CAe,{})}),a.jsx(St,{path:"/business",element:a.jsx(TAe,{})}),a.jsx(St,{path:"/payments",element:a.jsx(OAe,{})}),a.jsx(St,{path:"/qr-codes",element:a.jsx(JAe,{})}),a.jsx(St,{path:"/analytics",element:a.jsx(tEe,{})}),a.jsx(St,{path:"/profile",element:a.jsx(Eg,{})}),a.jsx(St,{path:"/settings",element:a.jsx(_g,{})})]})})}function rEe(){const{profile:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState({totalEvents:0,activeEvents:0,totalTicketsSold:0,totalRevenue:0,pendingValidations:0,recentEvents:[],recentTickets:[]}),[s,l]=N.useState(!0),[d,m]=N.useState(!0);N.useEffect(()=>{e&&h()},[e]);const h=async()=>{if(e)try{l(!0);const{data:A,error:T}=await rt.from("events").select("*").eq("created_by",e.id);if(T)throw T;const _=(A==null?void 0:A.map(z=>z.id))||[],{data:C,error:M}=await rt.from("user_tickets").select(`
          *,
          events (
            title,
            ticket_price
          ),
          profiles (
            full_name
          )
        `).in("event_id",_);if(M)throw M;const P=(A==null?void 0:A.length)||0,R=(A==null?void 0:A.filter(z=>new Date(z.event_date)>new Date&&z.is_active).length)||0,U=(C==null?void 0:C.length)||0,B=(C==null?void 0:C.reduce((z,H)=>{var W;return z+(((W=H.events)==null?void 0:W.ticket_price)||0)},0))||0,L=(C==null?void 0:C.filter(z=>z.status==="pending").length)||0,F=(A==null?void 0:A.sort((z,H)=>new Date(H.created_at).getTime()-new Date(z.created_at).getTime()).slice(0,5))||[],V=(C==null?void 0:C.sort((z,H)=>new Date(H.created_at).getTime()-new Date(z.created_at).getTime()).slice(0,5))||[];i({totalEvents:P,activeEvents:R,totalTicketsSold:U,totalRevenue:B,pendingValidations:L,recentEvents:F,recentTickets:V})}catch(A){console.error("Error fetching event stats:",A)}finally{l(!1)}},p=A=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(A),v=A=>{switch(A){case"active":return"default";case"pending":return"secondary";case"used":return"default";case"cancelled":return"destructive";default:return"secondary"}},S=A=>{switch(A){case"active":return a.jsx(yi,{className:"h-4 w-4"});case"pending":return a.jsx(br,{className:"h-4 w-4"});case"used":return a.jsx(yi,{className:"h-4 w-4"});case"cancelled":return a.jsx(sd,{className:"h-4 w-4"});default:return a.jsx(br,{className:"h-4 w-4"})}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold tracking-tight",children:[t("welcome"),", ",e==null?void 0:e.full_name]}),a.jsx("p",{className:"text-muted-foreground",children:t("eventAdminDashboardOverview")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{children:[a.jsx(Cs,{className:"h-4 w-4 mr-2"}),t("createEvent")]}),a.jsxs(_e,{variant:"outline",children:[a.jsx(rr,{className:"h-4 w-4 mr-2"}),t("validateTickets")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalEvents")}),a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalEvents}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeEvents," ",t("activeEvents")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("ticketsSold")}),a.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",r.pendingValidations," ",t("pendingValidation")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(_e,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!d),children:d?a.jsx(Kn,{className:"h-3 w-3"}):a.jsx(da,{className:"h-3 w-3"})})]})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d?p(r.totalRevenue):"••••••"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"h-3 w-3 inline mr-1"}),t("fromTicketSales")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("pendingValidations")}),a.jsx(Xi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingValidations}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recentEvents")}),a.jsx(lt,{children:t("yourLatestEventActivities")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.recentEvents.length>0?r.recentEvents.map((A,T)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:A.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(A.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pt,{variant:A.is_active?"default":"secondary",children:A.is_active?t("active"):t("inactive")}),a.jsx("span",{className:"text-sm font-medium",children:p(A.ticket_price)})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noEventsYet")})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recentTicketActivity")}),a.jsx(lt,{children:t("latestTicketPurchasesAndValidations")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.recentTickets.length>0?r.recentTickets.map((A,T)=>{var _,C;return a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:(_=A.events)==null?void 0:_.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t("purchasedBy")," ",(C=A.profiles)==null?void 0:C.full_name]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(pt,{variant:v(A.status),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[S(A.status),a.jsx("span",{children:t(A.status)})]})})})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noTicketActivityYet")})})})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("quickActions")}),a.jsx(lt,{children:t("commonTasksAndActions")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Cs,{className:"h-6 w-6"}),a.jsx("span",{children:t("createNewEvent")})]})}),a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(rr,{className:"h-6 w-6"}),a.jsx("span",{children:t("validateTickets")})]})}),a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Xn,{className:"h-6 w-6"}),a.jsx("span",{children:t("viewAnalytics")})]})})]})})]})]})}function d$({className:e,...t}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:At("w-full caption-bottom text-sm",e),...t})})}function f$({className:e,...t}){return a.jsx("thead",{"data-slot":"table-header",className:At("[&_tr]:border-b",e),...t})}function h$({className:e,...t}){return a.jsx("tbody",{"data-slot":"table-body",className:At("[&_tr:last-child]:border-0",e),...t})}function m$({className:e,...t}){return a.jsx("tr",{"data-slot":"table-row",className:At("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",e),...t})}function Qa({className:e,...t}){return a.jsx("th",{"data-slot":"table-head",className:At("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function Za({className:e,...t}){return a.jsx("td",{"data-slot":"table-cell",className:At("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}const y8=["concert","sports","conference","workshop","festival","theater","exhibition","other"];function iEe(){const{profile:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all"),[A,T]=N.useState("all"),[_,C]=N.useState(!1),[M,P]=N.useState(null),[R,U]=N.useState({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0});N.useEffect(()=>{B()},[]),N.useEffect(()=>{L()},[r,h,v,A]);const B=async()=>{if(e)try{m(!0);const{data:Y,error:ne}=await rt.from("events").select(`
          *,
          user_tickets (
            id
          )
        `).eq("created_by",e.id).order("created_at",{ascending:!1});if(ne)throw ne;const se=Y.map(me=>{var re;return{...me,current_bookings:((re=me.user_tickets)==null?void 0:re.length)||0}});i(se)}catch(Y){console.error("Error fetching events:",Y),Ge.error(t("errorFetchingEvents"))}finally{m(!1)}},L=()=>{let Y=r;h&&(Y=Y.filter(ne=>ne.title.toLowerCase().includes(h.toLowerCase())||ne.description.toLowerCase().includes(h.toLowerCase())||ne.location.toLowerCase().includes(h.toLowerCase()))),v!=="all"&&(Y=Y.filter(ne=>ne.category===v)),A!=="all"&&(A==="active"?Y=Y.filter(ne=>ne.is_active):A==="inactive"?Y=Y.filter(ne=>!ne.is_active):A==="upcoming"?Y=Y.filter(ne=>new Date(ne.event_date)>new Date):A==="past"&&(Y=Y.filter(ne=>new Date(ne.event_date)<new Date))),l(Y)},F=(Y,ne)=>{U(se=>({...se,[Y]:ne}))},V=async()=>{if(e)try{const Y={...R,created_by:e.id,updated_at:new Date().toISOString()};let ne;if(M?ne=await rt.from("events").update(Y).eq("id",M.id).select():ne=await rt.from("events").insert(Y).select(),ne.error)throw ne.error;Ge.success(t(M?"eventUpdated":"eventCreated")),C(!1),P(null),q(),B()}catch(Y){console.error("Error saving event:",Y),Ge.error(t("errorSavingEvent"))}},z=Y=>{P(Y),U({title:Y.title,description:Y.description,event_date:Y.event_date.split("T")[0],location:Y.location,ticket_price:Y.ticket_price,max_capacity:Y.max_capacity,category:Y.category,is_active:Y.is_active}),C(!0)},H=async Y=>{if(confirm(t("confirmDeleteEvent")))try{const{error:ne}=await rt.from("events").delete().eq("id",Y);if(ne)throw ne;Ge.success(t("eventDeleted")),B()}catch(ne){console.error("Error deleting event:",ne),Ge.error(t("errorDeletingEvent"))}},W=async Y=>{try{const{error:ne}=await rt.from("events").update({is_active:!Y.is_active}).eq("id",Y.id);if(ne)throw ne;Ge.success(t("eventStatusUpdated")),B()}catch(ne){console.error("Error updating event status:",ne),Ge.error(t("errorUpdatingEvent"))}},q=()=>{U({title:"",description:"",event_date:"",location:"",ticket_price:0,max_capacity:100,category:"other",is_active:!0})},Q=Y=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(Y),te=Y=>Y.is_active?new Date(Y.event_date)<new Date?"destructive":"default":"secondary",J=Y=>Y.is_active?new Date(Y.event_date)<new Date?t("ended"):t("active"):t("inactive");return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("eventManagement")}),a.jsx("p",{className:"text-muted-foreground",children:t("createAndManageYourEvents")})]}),a.jsxs(ha,{open:_,onOpenChange:C,children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{onClick:()=>{q(),P(null)},children:[a.jsx(Cs,{className:"h-4 w-4 mr-2"}),t("createEvent")]})}),a.jsxs(ma,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ga,{children:[a.jsx(pa,{children:t(M?"editEvent":"createNewEvent")}),a.jsx(Ra,{children:t(M?"updateEventDetails":"fillEventInformation")})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"title",children:t("eventTitle")}),a.jsx(Pt,{id:"title",value:R.title,onChange:Y=>F("title",Y.target.value),placeholder:t("enterEventTitle")})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"category",children:t("category")}),a.jsxs(pr,{value:R.category,onValueChange:Y=>F("category",Y),children:[a.jsx(vr,{children:a.jsx(xr,{})}),a.jsx(yr,{children:y8.map(Y=>a.jsx(at,{value:Y,children:t(Y)},Y))})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"description",children:t("description")}),a.jsx(ay,{id:"description",value:R.description,onChange:Y=>F("description",Y.target.value),placeholder:t("enterEventDescription"),rows:3})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"event_date",children:t("eventDate")}),a.jsx(Pt,{id:"event_date",type:"datetime-local",value:R.event_date,onChange:Y=>F("event_date",Y.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"location",children:t("location")}),a.jsx(Pt,{id:"location",value:R.location,onChange:Y=>F("location",Y.target.value),placeholder:t("enterEventLocation")})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs(et,{htmlFor:"ticket_price",children:[t("ticketPrice")," (SYP)"]}),a.jsx(Pt,{id:"ticket_price",type:"number",value:R.ticket_price,onChange:Y=>F("ticket_price",Number(Y.target.value)),min:"0"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"max_capacity",children:t("maxCapacity")}),a.jsx(Pt,{id:"max_capacity",type:"number",value:R.max_capacity,onChange:Y=>F("max_capacity",Number(Y.target.value)),min:"1"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ks,{id:"is_active",checked:R.is_active,onCheckedChange:Y=>F("is_active",Y)}),a.jsx(et,{htmlFor:"is_active",children:t("eventActive")})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(_e,{variant:"outline",onClick:()=>C(!1),children:t("cancel")}),a.jsx(_e,{onClick:V,children:t(M?"updateEvent":"createEvent")})]})]})]})]})]}),a.jsx(ve,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Pt,{placeholder:t("searchEvents"),value:h,onChange:Y=>p(Y.target.value),className:"pl-9"})]})}),a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsx(vr,{className:"w-[180px]",children:a.jsx(xr,{placeholder:t("filterByCategory")})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("allCategories")}),y8.map(Y=>a.jsx(at,{value:Y,children:t(Y)},Y))]})]}),a.jsxs(pr,{value:A,onValueChange:T,children:[a.jsx(vr,{className:"w-[180px]",children:a.jsx(xr,{placeholder:t("filterByStatus")})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("allStatuses")}),a.jsx(at,{value:"active",children:t("active")}),a.jsx(at,{value:"inactive",children:t("inactive")}),a.jsx(at,{value:"upcoming",children:t("upcoming")}),a.jsx(at,{value:"past",children:t("past")})]})]})]})})}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("eventsList")}),a.jsxs(lt,{children:[t("totalEvents"),": ",s.length]})]}),a.jsx(ye,{children:d?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(d$,{children:[a.jsx(f$,{children:a.jsxs(m$,{children:[a.jsx(Qa,{children:t("event")}),a.jsx(Qa,{children:t("date")}),a.jsx(Qa,{children:t("location")}),a.jsx(Qa,{children:t("price")}),a.jsx(Qa,{children:t("capacity")}),a.jsx(Qa,{children:t("status")}),a.jsx(Qa,{className:"text-right",children:t("actions")})]})}),a.jsx(h$,{children:s.map((Y,ne)=>a.jsxs(He.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ne*.1},className:"hover:bg-muted/50",children:[a.jsx(Za,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:Y.title}),a.jsx(pt,{variant:"outline",children:t(Y.category)})]})}),a.jsx(Za,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ua,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:new Date(Y.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})}),a.jsx(Za,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($o,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"truncate max-w-[120px]",children:Y.location})]})}),a.jsx(Za,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:Q(Y.ticket_price)})]})}),a.jsx(Za,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xi,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("span",{children:[Y.current_bookings,"/",Y.max_capacity]})]})}),a.jsx(Za,{children:a.jsx(pt,{variant:te(Y),children:J(Y)})}),a.jsx(Za,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>z(Y),children:a.jsx(nL,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>W(Y),children:a.jsx(C0,{className:"h-4 w-4"})}),a.jsx(_e,{variant:"ghost",size:"sm",onClick:()=>H(Y.id),children:a.jsx(ute,{className:"h-4 w-4"})})]})})]},Y.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ua,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noEventsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("createYourFirstEvent")})]})})]})]})}function aEe(){const{profile:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState([]),[s,l]=N.useState([]),[d,m]=N.useState(!0),[h,p]=N.useState(""),[v,S]=N.useState("all"),[A,T]=N.useState("all"),[_,C]=N.useState([]),[M,P]=N.useState(!1),[R,U]=N.useState(""),[B,L]=N.useState(null),[F,V]=N.useState(!1);N.useEffect(()=>{z(),H()},[]),N.useEffect(()=>{W()},[r,h,v,A]);const z=async()=>{if(e)try{const{data:oe,error:he}=await rt.from("events").select("id, title, event_date").eq("created_by",e.id).order("event_date",{ascending:!0});if(he)throw he;C(oe||[])}catch(oe){console.error("Error fetching events:",oe)}},H=async()=>{if(e)try{m(!0);const{data:oe,error:he}=await rt.from("user_tickets").select(`
          *,
          events!inner (
            title,
            event_date,
            location,
            ticket_price,
            created_by
          ),
          profiles (
            full_name,
            email
          )
        `).eq("events.created_by",e.id).order("created_at",{ascending:!1});if(he)throw he;i(oe||[])}catch(oe){console.error("Error fetching tickets:",oe),Ge.error(t("errorFetchingTickets"))}finally{m(!1)}},W=()=>{let oe=r;h&&(oe=oe.filter(he=>he.ticket_code.toLowerCase().includes(h.toLowerCase())||he.events.title.toLowerCase().includes(h.toLowerCase())||he.profiles.full_name.toLowerCase().includes(h.toLowerCase())||he.profiles.email.toLowerCase().includes(h.toLowerCase()))),v!=="all"&&(oe=oe.filter(he=>he.status===v)),A!=="all"&&(oe=oe.filter(he=>he.event_id===A)),l(oe)},q=async oe=>{try{const he=r.find(Re=>Re.ticket_code===oe);if(!he){Ge.error(t("ticketNotFound"));return}if(he.status==="used"){Ge.error(t("ticketAlreadyUsed"));return}if(he.status==="cancelled"){Ge.error(t("ticketCancelled"));return}if(new Date(he.events.event_date)<new Date){Ge.error(t("eventAlreadyEnded"));return}L(he),V(!0)}catch(he){console.error("Error validating ticket:",he),Ge.error(t("errorValidatingTicket"))}},Q=async()=>{if(B)try{const{error:oe}=await rt.from("user_tickets").update({status:"used",used_date:new Date().toISOString(),validation_notes:"Validated by event admin"}).eq("id",B.id);if(oe)throw oe;Ge.success(t("ticketValidatedSuccessfully")),V(!1),L(null),U(""),H()}catch(oe){console.error("Error confirming validation:",oe),Ge.error(t("errorConfirmingValidation"))}},te=async oe=>{if(confirm(t("confirmCancelTicket")))try{const{error:he}=await rt.from("user_tickets").update({status:"cancelled",validation_notes:"Cancelled by event admin"}).eq("id",oe);if(he)throw he;Ge.success(t("ticketCancelledSuccessfully")),H()}catch(he){console.error("Error cancelling ticket:",he),Ge.error(t("errorCancellingTicket"))}},J=oe=>{switch(oe){case"active":return"default";case"used":return"secondary";case"pending":return"secondary";case"cancelled":return"destructive";default:return"secondary"}},Y=oe=>{switch(oe){case"active":return a.jsx(yi,{className:"h-4 w-4"});case"used":return a.jsx(yi,{className:"h-4 w-4"});case"pending":return a.jsx(br,{className:"h-4 w-4"});case"cancelled":return a.jsx(sd,{className:"h-4 w-4"});default:return a.jsx(br,{className:"h-4 w-4"})}},ne=oe=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(oe),se=s.filter(oe=>oe.status==="pending").length,me=s.filter(oe=>oe.status==="active").length,re=s.filter(oe=>oe.status==="used").length,de=s.filter(oe=>oe.status==="cancelled").length;return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("ticketValidation")}),a.jsx("p",{className:"text-muted-foreground",children:t("validateAndManageEventTickets")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{variant:"outline",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),t("exportData")]}),a.jsxs(_e,{children:[a.jsx(Gee,{className:"h-4 w-4 mr-2"}),t("scanQRCode")]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("pendingValidation")}),a.jsx(br,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:se}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("awaitingValidation")})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("activeTickets")}),a.jsx(fa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:me}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("readyForValidation")})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("validatedTickets")}),a.jsx(yi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:re}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("alreadyUsed")})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("cancelledTickets")}),a.jsx(sd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:de}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("cancelledOrRefunded")})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(rr,{className:"h-5 w-5"}),a.jsx("span",{children:t("manualValidation")})]}),a.jsx(lt,{children:t("enterTicketCodeManually")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Pt,{placeholder:t("enterTicketCode"),value:R,onChange:oe=>U(oe.target.value),onKeyPress:oe=>{oe.key==="Enter"&&q(R)}}),a.jsx(_e,{onClick:()=>q(R),children:t("validate")})]})})]}),a.jsx(ve,{children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Wl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(Pt,{placeholder:t("searchTickets"),value:h,onChange:oe=>p(oe.target.value),className:"pl-9"})]})}),a.jsxs(pr,{value:v,onValueChange:S,children:[a.jsx(vr,{className:"w-[180px]",children:a.jsx(xr,{placeholder:t("filterByStatus")})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("allStatuses")}),a.jsx(at,{value:"pending",children:t("pending")}),a.jsx(at,{value:"active",children:t("active")}),a.jsx(at,{value:"used",children:t("used")}),a.jsx(at,{value:"cancelled",children:t("cancelled")})]})]}),a.jsxs(pr,{value:A,onValueChange:T,children:[a.jsx(vr,{className:"w-[200px]",children:a.jsx(xr,{placeholder:t("filterByEvent")})}),a.jsxs(yr,{children:[a.jsx(at,{value:"all",children:t("allEvents")}),_.map(oe=>a.jsx(at,{value:oe.id,children:oe.title},oe.id))]})]})]})})}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("ticketsList")}),a.jsxs(lt,{children:[t("totalTickets"),": ",s.length]})]}),a.jsx(ye,{children:d?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s.length>0?a.jsx("div",{className:"rounded-md border",children:a.jsxs(d$,{children:[a.jsx(f$,{children:a.jsxs(m$,{children:[a.jsx(Qa,{children:t("ticketCode")}),a.jsx(Qa,{children:t("event")}),a.jsx(Qa,{children:t("customer")}),a.jsx(Qa,{children:t("purchaseDate")}),a.jsx(Qa,{children:t("status")}),a.jsx(Qa,{className:"text-right",children:t("actions")})]})}),a.jsx(h$,{children:s.map((oe,he)=>a.jsxs(He.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:"hover:bg-muted/50",children:[a.jsx(Za,{children:a.jsx("div",{className:"font-mono text-sm",children:oe.ticket_code})}),a.jsx(Za,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsx("p",{className:"font-medium",children:oe.events.title}),a.jsxs("div",{className:"flex items-center space-x-1 text-sm text-muted-foreground",children:[a.jsx(ua,{className:"h-3 w-3"}),a.jsx("span",{children:new Date(oe.events.event_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")})]})]})}),a.jsx(Za,{children:a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lh,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:oe.profiles.full_name})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:oe.profiles.email})]})}),a.jsx(Za,{children:new Date(oe.purchase_date).toLocaleDateString(n==="ar"?"ar-SY":"en-US")}),a.jsx(Za,{children:a.jsx(pt,{variant:J(oe.status),children:a.jsxs("div",{className:"flex items-center space-x-1",children:[Y(oe.status),a.jsx("span",{children:t(oe.status)})]})})}),a.jsx(Za,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[oe.status==="active"&&a.jsxs(_e,{size:"sm",onClick:()=>q(oe.ticket_code),children:[a.jsx(yi,{className:"h-4 w-4 mr-1"}),t("validate")]}),(oe.status==="active"||oe.status==="pending")&&a.jsxs(_e,{variant:"outline",size:"sm",onClick:()=>te(oe.id),children:[a.jsx(sd,{className:"h-4 w-4 mr-1"}),t("cancel")]})]})})]},oe.id))})]})}):a.jsxs("div",{className:"text-center py-8",children:[a.jsx(fa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:t("noTicketsFound")}),a.jsx("p",{className:"text-muted-foreground",children:t("noTicketsMatchFilter")})]})})]}),a.jsx(ha,{open:F,onOpenChange:V,children:a.jsxs(ma,{children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center space-x-2",children:[a.jsx(yi,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{children:t("confirmTicketValidation")})]}),a.jsx(Ra,{children:t("confirmValidationDescription")})]}),B&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-muted p-4 rounded-lg space-y-2",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("ticketCode"),":"]}),a.jsx("span",{className:"font-mono",children:B.ticket_code})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("event"),":"]}),a.jsx("span",{children:B.events.title})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("customer"),":"]}),a.jsx("span",{children:B.profiles.full_name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("price"),":"]}),a.jsx("span",{children:ne(B.events.ticket_price)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx(_e,{variant:"outline",onClick:()=>V(!1),children:t("cancel")}),a.jsxs(_e,{onClick:Q,children:[a.jsx(yi,{className:"h-4 w-4 mr-2"}),t("confirmValidation")]})]})]})]})})]})}const sEe=()=>{var F,V;const{user:e}=cn(),{language:t}=Yt(),[n,r]=N.useState([]),[i,s]=N.useState([]),[l,d]=N.useState([]),[m,h]=N.useState(!0),[p,v]=N.useState("30"),[S,A]=N.useState("line");N.useEffect(()=>{e&&T()},[e,p]);const T=async()=>{if(e){h(!0);try{const z=Ro(new Date,parseInt(p)),{data:H,error:W}=await rt.from("events").select("*").eq("organizer_id",e.id).gte("created_at",z.toISOString()).order("created_at",{ascending:!0});if(W)throw W;const{data:q,error:Q}=await rt.from("event_ticket_sales").select("*").in("event_id",(H==null?void 0:H.map(Y=>Y.id))||[]).gte("created_at",z.toISOString()).order("created_at",{ascending:!0});if(Q)throw Q;const{data:te,error:J}=await rt.from("event_attendees").select("*").in("event_id",(H==null?void 0:H.map(Y=>Y.id))||[]);if(J)throw J;r(H||[]),s(q||[]),d(te||[])}catch(z){console.error("Error fetching analytics data:",z)}finally{h(!1)}}},_=()=>{const z=i.filter(xe=>xe.status==="confirmed"),H=z.reduce((xe,Fe)=>xe+Fe.total_amount,0),W=z.reduce((xe,Fe)=>xe+Fe.quantity,0),q=z.reduce((xe,Fe)=>xe+Fe.booking_fee,0),Q=H-q,te=n.filter(xe=>xe.status==="completed"),J=n.filter(xe=>xe.status==="upcoming"),Y=l.length>0&&W>0?l.filter(xe=>xe.check_in_time).length/W*100:0,ne=W>0?H/W:0,se=Math.floor(parseInt(p)/2),me=Ro(new Date,se),re=z.filter(xe=>Kr(xe.created_at)>=me),de=z.filter(xe=>Kr(xe.created_at)<me),oe=re.reduce((xe,Fe)=>xe+Fe.total_amount,0),he=de.reduce((xe,Fe)=>xe+Fe.total_amount,0),Re=he>0?(oe-he)/he*100:0,Le=l.filter(xe=>xe.rating).length,le=Le>0?l.filter(xe=>xe.rating).reduce((xe,Fe)=>xe+(Fe.rating||0),0)/Le:0,je=z.filter(xe=>kv(Kr(xe.created_at))).reduce((xe,Fe)=>xe+Fe.total_amount,0);return{totalRevenue:H,netRevenue:Q,totalTicketsSold:W,totalEvents:n.length,completedEvents:te.length,upcomingEvents:J.length,attendanceRate:Y,avgTicketPrice:ne,revenueGrowth:Re,avgRating:le,todayRevenue:je,totalFees:q}},C=()=>{const z=new Map;return i.filter(H=>H.status==="confirmed").forEach(H=>{const W=mr(Kr(H.created_at),"yyyy-MM-dd"),q=z.get(W)||{revenue:0,tickets:0,events:new Set};q.events.add(H.event_id),z.set(W,{revenue:q.revenue+H.total_amount,tickets:q.tickets+H.quantity,events:q.events})}),Array.from(z.entries()).map(([H,W])=>({date:mr(Kr(H),"MMM dd",{locale:t==="ar"?G0:void 0}),revenue:W.revenue,tickets:W.tickets,events:W.events.size})).sort((H,W)=>H.date.localeCompare(W.date))},M=()=>n.map(z=>{const H=i.filter(ne=>ne.event_id===z.id&&ne.status==="confirmed"),W=H.reduce((ne,se)=>ne+se.total_amount,0),q=H.reduce((ne,se)=>ne+se.quantity,0),Q=z.total_tickets>0?q/z.total_tickets*100:0,te=l.filter(ne=>ne.event_id===z.id),J=te.filter(ne=>ne.check_in_time).length,Y=q>0?J/q*100:0;return{...z,revenue:W,ticketsSold:q,sellOutRate:Q,attendanceRate:Y,avgRating:te.length>0?te.filter(ne=>ne.rating).reduce((ne,se)=>ne+(se.rating||0),0)/te.filter(ne=>ne.rating).length:0}}).sort((z,H)=>H.revenue-z.revenue),P=()=>{const z=new Map;return n.forEach(H=>{const W=H.category||"Other",q=i.filter(Y=>Y.event_id===H.id&&Y.status==="confirmed"),Q=q.reduce((Y,ne)=>Y+ne.total_amount,0),te=q.reduce((Y,ne)=>Y+ne.quantity,0),J=z.get(W)||{revenue:0,tickets:0,events:0};z.set(W,{revenue:J.revenue+Q,tickets:J.tickets+te,events:J.events+1})}),Array.from(z.entries()).map(([H,W])=>({name:H,revenue:W.revenue,tickets:W.tickets,events:W.events,avgRevenue:W.events>0?W.revenue/W.events:0})).sort((H,W)=>W.revenue-H.revenue)},R=()=>{const z=[],H=new Date;for(let W=5;W>=0;W--){const q=new Date(H.getFullYear(),H.getMonth()-W,1),Q=DC(q),te=MC(q),J=n.filter(ne=>{const se=Kr(ne.created_at);return se>=Q&&se<=te}),Y=i.filter(ne=>{const se=Kr(ne.created_at);return se>=Q&&se<=te&&ne.status==="confirmed"});z.push({month:mr(q,"MMM yyyy",{locale:t==="ar"?G0:void 0}),events:J.length,revenue:Y.reduce((ne,se)=>ne+se.total_amount,0),tickets:Y.reduce((ne,se)=>ne+se.quantity,0)})}return z},U=()=>{const z=new Map;i.filter(W=>W.status==="confirmed").forEach(W=>{const q=W.customer_id,Q=z.get(q)||{tickets:0,revenue:0,events:new Set};Q.events.add(W.event_id),z.set(q,{tickets:Q.tickets+W.quantity,revenue:Q.revenue+W.total_amount,events:Q.events})});const H=Array.from(z.entries()).map(([W,q])=>({id:W,tickets:q.tickets,revenue:q.revenue,events:q.events.size,avgSpend:q.tickets>0?q.revenue/q.tickets:0}));return{totalCustomers:H.length,repeatCustomers:H.filter(W=>W.events>1).length,topCustomers:H.sort((W,q)=>q.revenue-W.revenue).slice(0,10),avgSpendPerCustomer:H.length>0?H.reduce((W,q)=>W+q.revenue,0)/H.length:0}},B=()=>{const z=_(),H={metadata:{exportDate:new Date().toISOString(),dateRange:`${p} days`,organizerId:e==null?void 0:e.id,generatedBy:"Tickets Event Analytics"},kpis:z,salesTrend:C(),eventPerformance:M(),categoryAnalysis:P(),monthlyComparison:R(),customerInsights:U(),rawData:{events:n.length,ticketSales:i.length,attendees:l.length}},W=new Blob([JSON.stringify(H,null,2)],{type:"application/json"}),q=URL.createObjectURL(W),Q=document.createElement("a");Q.href=q,Q.download=`event-analytics-${mr(new Date,"yyyy-MM-dd")}.json`,Q.click(),URL.revokeObjectURL(q)},L=_();return m?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Event Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your event performance, ticket sales, and attendee insights"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:p,onChange:z=>v(z.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(_e,{onClick:B,variant:"outline",size:"sm",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(Qr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[L.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[L.revenueGrowth>0?a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}):a.jsx(Bl,{className:"h-3 w-3 text-red-600 mr-1"}),a.jsxs("span",{className:L.revenueGrowth>0?"text-green-600":"text-red-600",children:[Math.abs(L.revenueGrowth).toFixed(1),"% vs last period"]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Tickets Sold"}),a.jsx(fa,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:L.totalTicketsSold}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Avg price: ",L.avgTicketPrice.toLocaleString()," SYP"]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Events"}),a.jsx(ua,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:L.totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[L.upcomingEvents," upcoming • ",L.completedEvents," completed"]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Attendance Rate"}),a.jsx(Xi,{className:"h-4 w-4 text-yellow-600"})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[L.attendanceRate.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:["Rating: ",L.avgRating.toFixed(1),"/5 ⭐"]})]})]})]}),a.jsxs(Jo,{defaultValue:"sales",className:"space-y-4",children:[a.jsxs(el,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Dt,{value:"sales",children:"Sales"}),a.jsx(Dt,{value:"events",children:"Events"}),a.jsx(Dt,{value:"categories",children:"Categories"}),a.jsx(Dt,{value:"customers",children:"Customers"}),a.jsx(Dt,{value:"monthly",children:"Monthly"}),a.jsx(Dt,{value:"insights",children:"Insights"})]}),a.jsx(Lt,{value:"sales",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ke,{children:"Sales Trend"}),a.jsx(lt,{children:"Daily ticket sales revenue and volume over time"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:S==="line"?"default":"outline",size:"sm",onClick:()=>A("line"),children:"Line"}),a.jsx(_e,{variant:S==="area"?"default":"outline",size:"sm",onClick:()=>A("area"),children:"Area"}),a.jsx(_e,{variant:S==="bar"?"default":"outline",size:"sm",onClick:()=>A("bar"),children:"Bar"})]})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:S==="line"?a.jsxs(Y0,{data:C(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),a.jsx(bi,{}),a.jsx(Os,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"tickets",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"events",stroke:"#ffc658",strokeWidth:2})]}):S==="area"?a.jsxs(ny,{data:C(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),a.jsx(bi,{}),a.jsx(Nd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6})]}):a.jsxs(Vo,{data:C(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(z,H)=>[`${z} ${H==="revenue"?"SYP":""}`,H==="revenue"?"Revenue":H==="tickets"?"Tickets":"Events"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Br,{dataKey:"tickets",fill:"#82ca9d"})]})})})})]})}),a.jsx(Lt,{value:"events",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Event Performance"}),a.jsx(lt,{children:"Top performing events by revenue and attendance"})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:M().slice(0,10).map((z,H)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(pt,{variant:"outline",className:"text-sm",children:["#",H+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:z.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[mr(Kr(z.date),"MMM dd, yyyy")," • ",z.location]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[z.ticketsSold,"/",z.total_tickets," tickets •",z.sellOutRate.toFixed(1),"% sold •",z.attendanceRate.toFixed(1),"% attendance"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(T0,{className:"h-3 w-3 text-yellow-500"}),a.jsx("span",{className:"text-sm",children:z.avgRating?z.avgRating.toFixed(1):"N/A"})]})]})]},z.id))})})]})}),a.jsx(Lt,{value:"categories",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Category Analysis"}),a.jsx(lt,{children:"Performance breakdown by event categories"})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:P().map((z,H)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(pt,{variant:"outline",className:"text-sm",children:["#",H+1]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:z.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[z.events," events • ",z.tickets," tickets sold"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Avg: ",z.avgRevenue.toLocaleString()," SYP/event"]})]})]},z.name))})})]})}),a.jsx(Lt,{value:"customers",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Customer Insights"})}),a.jsx(ye,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Customers"}),a.jsx("span",{className:"font-semibold",children:U().totalCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Repeat Customers"}),a.jsx("span",{className:"font-semibold",children:U().repeatCustomers})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Spend per Customer"}),a.jsxs("span",{className:"font-semibold",children:[U().avgSpendPerCustomer.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customer Retention"}),a.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Top Customers"})}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-2",children:U().topCustomers.slice(0,5).map((z,H)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(pt,{variant:"outline",children:["#",H+1]}),a.jsxs("span",{className:"text-sm",children:["Customer ",z.id.slice(-8)]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-semibold",children:[z.revenue.toLocaleString()," SYP"]}),a.jsxs("p",{className:"text-xs text-gray-600",children:[z.tickets," tickets • ",z.events," events"]})]})]},z.id))})})]})]})}),a.jsx(Lt,{value:"monthly",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Monthly Comparison"}),a.jsx(lt,{children:"Compare performance across different months"})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Vo,{data:R(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"month"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(z,H)=>[H==="revenue"?`${z} SYP`:z,H==="revenue"?"Revenue":H==="events"?"Events":"Tickets"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Br,{dataKey:"events",fill:"#82ca9d"}),a.jsx(Br,{dataKey:"tickets",fill:"#ffc658"})]})})})})]})}),a.jsx(Lt,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Business Insights"})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Net Revenue"}),a.jsxs("span",{className:"font-bold text-green-600",children:[L.netRevenue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Avg Ticket Price"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[L.avgTicketPrice.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Fees"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[L.totalFees.toLocaleString()," SYP"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[L.attendanceRate<80&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Gv,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on improving event promotion to boost attendance"})]}),L.avgRating<4&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(T0,{className:"h-4 w-4"}),a.jsx("span",{children:"Work on event quality and customer experience"})]}),L.avgTicketPrice<500&&a.jsxs("div",{className:"flex items-center gap-2 text-blue-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Consider premium event offerings to increase revenue"})]})]})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Performance Summary"})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:L.todayRevenue.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Today's Revenue"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[L.attendanceRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Attendance Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:L.avgRating.toFixed(1)}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Rating"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Best performing category:"}),a.jsx("span",{className:"font-semibold",children:((F=P()[0])==null?void 0:F.name)||"N/A"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue event:"}),a.jsxs("span",{className:"font-semibold",children:[((V=M()[0])==null?void 0:V.title.slice(0,20))||"N/A","..."]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Customer retention rate:"}),a.jsxs("span",{className:"font-semibold",children:[U().totalCustomers>0?(U().repeatCustomers/U().totalCustomers*100).toFixed(1):0,"%"]})]})]})]})]})})]})]})})]})]})};function oEe(){return a.jsx(cg,{userType:"event_admin",children:a.jsxs(Ah,{children:[a.jsx(St,{path:"/",element:a.jsx(Il,{to:"/event-admin/home",replace:!0})}),a.jsx(St,{path:"/home",element:a.jsx(rEe,{})}),a.jsx(St,{path:"/events",element:a.jsx(iEe,{})}),a.jsx(St,{path:"/validation",element:a.jsx(aEe,{})}),a.jsx(St,{path:"/analytics",element:a.jsx(sEe,{})}),a.jsx(St,{path:"/profile",element:a.jsx(Eg,{})}),a.jsx(St,{path:"/settings",element:a.jsx(_g,{})})]})})}function lEe(){const{profile:e}=cn(),{t,language:n}=Yt(),[r,i]=N.useState({totalUsers:0,activeUsers:0,totalTransactions:0,totalRevenue:0,pendingDisputes:0,systemUptime:99.9,recentUsers:[],recentTransactions:[],usersByType:{passengers:0,drivers:0,merchants:0,eventAdmins:0}}),[s,l]=N.useState(!0),[d,m]=N.useState(!0);N.useEffect(()=>{e&&h()},[e]);const h=async()=>{try{l(!0);const{data:A,error:T}=await rt.from("profiles").select("*").order("created_at",{ascending:!1});if(T)throw T;const{data:_,error:C}=await rt.from("transactions").select(`
          *,
          from_profile:profiles!transactions_from_user_id_fkey (
            full_name
          ),
          to_profile:profiles!transactions_to_user_id_fkey (
            full_name
          )
        `).order("created_at",{ascending:!1}).limit(10);if(C)throw C;const M=(A==null?void 0:A.length)||0,P=(A==null?void 0:A.filter(F=>F.is_active).length)||0,R=(_==null?void 0:_.length)||0,U=(_==null?void 0:_.reduce((F,V)=>F+V.amount,0))||0,B={passengers:(A==null?void 0:A.filter(F=>F.user_type==="passenger").length)||0,drivers:(A==null?void 0:A.filter(F=>F.user_type==="driver").length)||0,merchants:(A==null?void 0:A.filter(F=>F.user_type==="merchant").length)||0,eventAdmins:(A==null?void 0:A.filter(F=>F.user_type==="event_admin").length)||0},L=(A==null?void 0:A.slice(0,5))||[];i({totalUsers:M,activeUsers:P,totalTransactions:R,totalRevenue:U,pendingDisputes:0,systemUptime:99.9,recentUsers:L,recentTransactions:(_==null?void 0:_.slice(0,5))||[],usersByType:B})}catch(A){console.error("Error fetching system stats:",A)}finally{l(!1)}},p=A=>new Intl.NumberFormat(n==="ar"?"ar-SY":"en-US",{style:"currency",currency:"SYP",minimumFractionDigits:0}).format(A),v=A=>{switch(A){case"passenger":return"default";case"driver":return"secondary";case"merchant":return"outline";case"event_admin":return"destructive";case"admin":return"destructive";default:return"secondary"}},S=A=>{switch(A){case"completed":return"default";case"pending":return"secondary";case"failed":return"destructive";case"cancelled":return"outline";default:return"secondary"}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:t("systemDashboard")}),a.jsx("p",{className:"text-muted-foreground",children:t("systemOverviewAndManagement")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{variant:"outline",children:[a.jsx(C0,{className:"h-4 w-4 mr-2"}),t("systemSettings")]}),a.jsxs(_e,{variant:"outline",children:[a.jsx(Ta,{className:"h-4 w-4 mr-2"}),t("securityPanel")]})]})]}),a.jsx(ve,{className:"border-green-200 bg-green-50",children:a.jsx(ye,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(WA,{className:"h-5 w-5 text-green-600"}),a.jsx("span",{className:"font-medium text-green-800",children:t("systemOperational")}),a.jsxs(pt,{variant:"outline",className:"bg-green-100 text-green-800",children:[r.systemUptime,"% ",t("uptime")]})]})})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalUsers")}),a.jsx(Xi,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalUsers}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[r.activeUsers," ",t("activeUsers")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalTransactions")}),a.jsx(Ki,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.totalTransactions}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[a.jsx(Xn,{className:"h-3 w-3 inline mr-1"}),t("systemVolume")]})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("totalRevenue")}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Qr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(_e,{variant:"ghost",size:"sm",className:"h-4 w-4 p-0",onClick:()=>m(!d),children:d?a.jsx(Kn,{className:"h-3 w-3"}):a.jsx(da,{className:"h-3 w-3"})})]})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d?p(r.totalRevenue):"••••••"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("systemRevenue")})]})]})}),a.jsx(He.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:t("pendingIssues")}),a.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:r.pendingDisputes}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t("requiresAttention")})]})]})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("userDistribution")}),a.jsx(lt,{children:t("usersByAccountType")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.usersByType.passengers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("passengers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.usersByType.drivers}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("drivers")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.usersByType.merchants}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("merchants")})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:r.usersByType.eventAdmins}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t("eventAdmins")})]})]})})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recentUsers")}),a.jsx(lt,{children:t("latestRegistrations")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.recentUsers.length>0?r.recentUsers.map((A,T)=>a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium",children:A.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:A.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pt,{variant:v(A.user_type),children:t(A.user_type)}),a.jsx(pt,{variant:A.is_active?"default":"secondary",children:A.is_active?t("active"):t("inactive")})]})]},A.id)):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentUsers")})})})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("recentTransactions")}),a.jsx(lt,{children:t("latestSystemActivity")})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:r.recentTransactions.length>0?r.recentTransactions.map((A,T)=>{var _,C;return a.jsxs(He.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h4",{className:"font-medium",children:[(_=A.from_profile)==null?void 0:_.full_name," → ",(C=A.to_profile)==null?void 0:C.full_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[t(A.transaction_type)," • ",A.payment_method]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pt,{variant:S(A.status),children:t(A.status)}),a.jsx("span",{className:"text-sm font-medium",children:p(A.amount)})]})]},A.id)}):a.jsx("p",{className:"text-center text-muted-foreground py-4",children:t("noRecentTransactions")})})})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:t("quickActions")}),a.jsx(lt,{children:t("commonAdministrativeTasks")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Xi,{className:"h-6 w-6"}),a.jsx("span",{children:t("manageUsers")})]})}),a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Xn,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemAnalytics")})]})}),a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(Da,{className:"h-6 w-6"}),a.jsx("span",{children:t("handleDisputes")})]})}),a.jsx(_e,{variant:"outline",className:"h-auto p-4",children:a.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[a.jsx(C0,{className:"h-6 w-6"}),a.jsx("span",{children:t("systemConfig")})]})})]})})]})]})}function cEe(){const{t:e}=Yt();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("userManagement")}),a.jsx("p",{className:"text-muted-foreground",children:e("manageAllSystemUsers")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{variant:"outline",children:[a.jsx(Wl,{className:"h-4 w-4 mr-2"}),e("searchUsers")]}),a.jsxs(_e,{variant:"outline",children:[a.jsx(rg,{className:"h-4 w-4 mr-2"}),e("filterUsers")]}),a.jsxs(_e,{children:[a.jsx(Cs,{className:"h-4 w-4 mr-2"}),e("addUser")]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(Xi,{className:"h-5 w-5"}),a.jsx("span",{children:e("userManagement")})]}),a.jsx(lt,{children:e("featureInDevelopment")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Xi,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:e("userManagementComingSoon")}),a.jsx("p",{className:"text-muted-foreground",children:e("userManagementFeatureDescription")})]})})]})]})}const uEe=()=>{var L;const{user:e}=cn(),{language:t}=Yt(),[n,r]=N.useState(null),[i,s]=N.useState([]),[l,d]=N.useState([]),[m,h]=N.useState([]),[p,v]=N.useState(!0),[S,A]=N.useState("30"),[T,_]=N.useState("line");N.useEffect(()=>{e&&C()},[e,S]);const C=async()=>{if(e){v(!0);try{const F=Ro(new Date,parseInt(S)),V={totalUsers:15420,activeUsers:8930,totalTransactions:45280,totalRevenue:125e4,platformFees:125e3,avgTransactionValue:2760,userGrowthRate:12.5,revenueGrowthRate:18.3},z=[{user_type:"passenger",count:8500,active_count:5200,revenue_generated:68e4},{user_type:"driver",count:2800,active_count:1850,revenue_generated:42e4},{user_type:"merchant",count:3200,active_count:1600,revenue_generated:125e3},{user_type:"event_admin",count:850,active_count:260,revenue_generated:25e3},{user_type:"admin",count:70,active_count:20,revenue_generated:0}],H=[];for(let te=0;te<1e3;te++){const J=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));H.push({id:`tx_${te}`,amount:Math.floor(Math.random()*1e4)+100,fee:Math.floor(Math.random()*100)+10,status:Math.random()>.1?"completed":Math.random()>.5?"pending":"failed",payment_method:["MTN Cash","Syriatel Cash","ShamCash","Card"][Math.floor(Math.random()*4)],user_type:["passenger","driver","merchant","event_admin"][Math.floor(Math.random()*4)],created_at:J.toISOString()})}const W=[],q=["failed_login","suspicious_transaction","fraud_attempt","security_violation"],Q=["low","medium","high","critical"];for(let te=0;te<50;te++){const J=new Date(F.getTime()+Math.random()*(new Date().getTime()-F.getTime()));W.push({id:`sec_${te}`,event_type:q[Math.floor(Math.random()*q.length)],severity:Q[Math.floor(Math.random()*Q.length)],user_id:Math.random()>.3?`user_${Math.floor(Math.random()*1e3)}`:void 0,details:"Security event detected by automated monitoring system",created_at:J.toISOString()})}r(V),s(z),d(H),h(W)}catch(F){console.error("Error fetching system analytics:",F)}finally{v(!1)}}},M=()=>{const F=new Map;return l.filter(V=>V.status==="completed").forEach(V=>{const z=mr(Kr(V.created_at),"yyyy-MM-dd"),H=F.get(z)||{revenue:0,transactions:0,fees:0};F.set(z,{revenue:H.revenue+V.amount,transactions:H.transactions+1,fees:H.fees+V.fee})}),Array.from(F.entries()).map(([V,z])=>({date:mr(Kr(V),"MMM dd",{locale:t==="ar"?G0:void 0}),revenue:z.revenue,transactions:z.transactions,fees:z.fees})).sort((V,z)=>V.date.localeCompare(z.date))},P=()=>{const F={passenger:"#8884d8",driver:"#82ca9d",merchant:"#ffc658",event_admin:"#ff7c7c",admin:"#8dd1e1"};return i.map(V=>({name:V.user_type.charAt(0).toUpperCase()+V.user_type.slice(1),total:V.count,active:V.active_count,revenue:V.revenue_generated,color:F[V.user_type]}))},R=()=>{const F=new Map;return l.forEach(V=>{const z=V.payment_method,H=F.get(z)||{transactions:0,revenue:0};F.set(z,{transactions:H.transactions+1,revenue:H.revenue+(V.status==="completed"?V.amount:0),successRate:0})}),F.forEach((V,z)=>{const H=l.filter(q=>q.payment_method===z),W=H.filter(q=>q.status==="completed").length;V.successRate=H.length>0?W/H.length*100:0}),Array.from(F.entries()).map(([V,z])=>({name:V,transactions:z.transactions,revenue:z.revenue,successRate:z.successRate})).sort((V,z)=>z.revenue-V.revenue)},U=()=>{const F=new Map,V=new Map;m.forEach(W=>{F.set(W.event_type,(F.get(W.event_type)||0)+1),V.set(W.severity,(V.get(W.severity)||0)+1)});const z=m.filter(W=>kv(Kr(W.created_at))),H=m.filter(W=>W.severity==="critical");return{totalEvents:m.length,todayEvents:z.length,criticalEvents:H.length,eventTypes:Array.from(F.entries()).map(([W,q])=>({type:W,count:q})),severityDistribution:Array.from(V.entries()).map(([W,q])=>({severity:W,count:q}))}},B=()=>{const F={metadata:{exportDate:new Date().toISOString(),dateRange:`${S} days`,adminId:e==null?void 0:e.id,generatedBy:"Tickets System Analytics"},platformMetrics:n,userActivity:i,revenueTrend:M(),paymentMethods:R(),securityAnalysis:U(),rawData:{transactions:l.length,securityEvents:m.length}},V=new Blob([JSON.stringify(F,null,2)],{type:"application/json"}),z=URL.createObjectURL(V),H=document.createElement("a");H.href=z,H.download=`system-analytics-${mr(new Date,"yyyy-MM-dd")}.json`,H.click(),URL.revokeObjectURL(z)};return p||!n?a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600"})}):a.jsxs("div",{className:"space-y-6",dir:t==="ar"?"rtl":"ltr",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"System Analytics"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Platform-wide business intelligence and performance monitoring"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("select",{value:S,onChange:F=>A(F.target.value),className:"px-3 py-2 border border-gray-300 rounded-md bg-white dark:bg-gray-800 dark:border-gray-600",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 90 days"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(_e,{onClick:B,variant:"outline",size:"sm",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Export"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Total Users"}),a.jsx(Xi,{className:"h-4 w-4 text-blue-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.totalUsers.toLocaleString()}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.userGrowthRate,"% growth"]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Platform Revenue"}),a.jsx(Qr,{className:"h-4 w-4 text-green-600"})]}),a.jsxs(ye,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n.totalRevenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[a.jsx(Xn,{className:"h-3 w-3 text-green-600 mr-1"}),a.jsxs("span",{className:"text-green-600",children:[n.revenueGrowthRate,"% vs last period"]})]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Active Users"}),a.jsx(WA,{className:"h-4 w-4 text-purple-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n.activeUsers.toLocaleString()}),a.jsxs("p",{className:"text-xs text-gray-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"% of total users"]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ke,{className:"text-sm font-medium",children:"Security Events"}),a.jsx(Ta,{className:"h-4 w-4 text-red-600"})]}),a.jsxs(ye,{children:[a.jsx("div",{className:"text-2xl font-bold",children:U().totalEvents}),a.jsxs("p",{className:"text-xs text-gray-600",children:[U().criticalEvents," critical events"]})]})]})]}),a.jsxs(Jo,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(el,{className:"grid w-full grid-cols-2 lg:grid-cols-6",children:[a.jsx(Dt,{value:"overview",children:"Overview"}),a.jsx(Dt,{value:"users",children:"Users"}),a.jsx(Dt,{value:"revenue",children:"Revenue"}),a.jsx(Dt,{value:"payments",children:"Payments"}),a.jsx(Dt,{value:"security",children:"Security"}),a.jsx(Dt,{value:"insights",children:"Insights"})]}),a.jsx(Lt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Platform Performance"}),a.jsx(lt,{children:"Key metrics overview"})]}),a.jsx(ye,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Transactions"}),a.jsx("span",{className:"font-semibold",children:n.totalTransactions.toLocaleString()})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Transaction Value"}),a.jsxs("span",{className:"font-semibold",children:[n.avgTransactionValue.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Platform Fees Collected"}),a.jsxs("span",{className:"font-semibold",children:[n.platformFees.toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Success Rate"}),a.jsxs("span",{className:"font-semibold",children:[(l.filter(F=>F.status==="completed").length/l.length*100).toFixed(1),"%"]})]})]})})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"User Distribution"})}),a.jsx(ye,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Rv,{children:[a.jsx(vh,{data:P(),cx:"50%",cy:"50%",outerRadius:80,dataKey:"total",label:({name:F,percent:V})=>`${F}: ${((V||0)*100).toFixed(0)}%`,children:P().map((F,V)=>a.jsx(ru,{fill:F.color},`cell-${V}`))}),a.jsx(hr,{})]})})})})]})]})}),a.jsx(Lt,{value:"users",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"User Activity by Type"}),a.jsx(lt,{children:"User counts and activity levels across different user types"})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:a.jsxs(Vo,{data:P(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"name"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(F,V)=>[F,V==="total"?"Total Users":V==="active"?"Active Users":"Revenue Generated"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"total",fill:"#8884d8"}),a.jsx(Br,{dataKey:"active",fill:"#82ca9d"})]})})})})]})}),a.jsx(Lt,{value:"revenue",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ke,{children:"Revenue Trend"}),a.jsx(lt,{children:"Daily platform revenue and transaction volume"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(_e,{variant:T==="line"?"default":"outline",size:"sm",onClick:()=>_("line"),children:"Line"}),a.jsx(_e,{variant:T==="area"?"default":"outline",size:"sm",onClick:()=>_("area"),children:"Area"}),a.jsx(_e,{variant:T==="bar"?"default":"outline",size:"sm",onClick:()=>_("bar"),children:"Bar"})]})]}),a.jsx(ye,{children:a.jsx("div",{className:"h-[400px]",children:a.jsx(aa,{width:"100%",height:"100%",children:T==="line"?a.jsxs(Y0,{data:M(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(bi,{}),a.jsx(Os,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"fees",stroke:"#82ca9d",strokeWidth:2}),a.jsx(Os,{type:"monotone",dataKey:"transactions",stroke:"#ffc658",strokeWidth:2})]}):T==="area"?a.jsxs(ny,{data:M(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(bi,{}),a.jsx(Nd,{type:"monotone",dataKey:"revenue",stackId:"1",stroke:"#8884d8",fill:"#8884d8",fillOpacity:.6}),a.jsx(Nd,{type:"monotone",dataKey:"fees",stackId:"2",stroke:"#82ca9d",fill:"#82ca9d",fillOpacity:.6})]}):a.jsxs(Vo,{data:M(),children:[a.jsx(Xr,{strokeDasharray:"3 3"}),a.jsx(Fr,{dataKey:"date"}),a.jsx(Ur,{}),a.jsx(hr,{formatter:(F,V)=>[`${F} ${V==="revenue"||V==="fees"?"SYP":""}`,V==="revenue"?"Revenue":V==="fees"?"Fees":"Transactions"]}),a.jsx(bi,{}),a.jsx(Br,{dataKey:"revenue",fill:"#8884d8"}),a.jsx(Br,{dataKey:"fees",fill:"#82ca9d"})]})})})})]})}),a.jsx(Lt,{value:"payments",className:"space-y-4",children:a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Payment Methods Performance"}),a.jsx(lt,{children:"Usage and success rates by payment method"})]}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-4",children:R().map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(p0,{className:"h-6 w-6 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold",children:F.name}),a.jsxs("p",{className:"text-sm text-gray-600",children:[F.transactions," transactions • ",F.successRate.toFixed(1),"% success rate"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-semibold",children:[F.revenue.toLocaleString()," SYP"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${F.successRate>=95?"bg-green-500":F.successRate>=90?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.successRate}%`}})}),a.jsxs("span",{className:"text-xs text-gray-600",children:[F.successRate.toFixed(0),"%"]})]})]})]},F.name))})})]})}),a.jsx(Lt,{value:"security",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsx(ke,{children:"Security Events"}),a.jsx(lt,{children:"Recent security incidents and alerts"})]}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:["Total Events (last ",S," days)"]}),a.jsx("span",{className:"font-semibold",children:U().totalEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Today's Events"}),a.jsx("span",{className:"font-semibold",children:U().todayEvents})]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Critical Events"}),a.jsx("span",{className:"font-semibold text-red-600",children:U().criticalEvents})]})]}),U().criticalEvents>0&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 rounded-lg",children:[a.jsx(Da,{className:"h-4 w-4 text-red-500"}),a.jsx("span",{className:"text-sm text-red-700",children:"Immediate attention required for critical security events"})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Event Types"})}),a.jsx(ye,{children:a.jsx("div",{className:"space-y-2",children:U().eventTypes.map((F,V)=>a.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[a.jsx("span",{className:"text-sm capitalize",children:F.type.replace("_"," ")}),a.jsx(pt,{variant:"outline",children:F.count})]},F.type))})})]})]})}),a.jsx(Lt,{value:"insights",className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"Business Intelligence"})}),a.jsxs(ye,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Revenue per Active User"}),a.jsxs("span",{className:"font-bold text-green-600",children:[(n.totalRevenue/n.activeUsers).toLocaleString()," SYP"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"Platform Commission Rate"}),a.jsxs("span",{className:"font-bold text-blue-600",children:[(n.platformFees/n.totalRevenue*100).toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:"User Engagement Rate"}),a.jsxs("span",{className:"font-bold text-purple-600",children:[(n.activeUsers/n.totalUsers*100).toFixed(1),"%"]})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Strategic Insights"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[n.userGrowthRate>10&&a.jsxs("div",{className:"flex items-center gap-2 text-green-600",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{children:"Strong user growth indicates healthy market demand"})]}),n.activeUsers/n.totalUsers*100<60&&a.jsxs("div",{className:"flex items-center gap-2 text-amber-600",children:[a.jsx(Gv,{className:"h-4 w-4"}),a.jsx("span",{children:"Focus on user activation and engagement strategies"})]}),U().criticalEvents>5&&a.jsxs("div",{className:"flex items-center gap-2 text-red-600",children:[a.jsx(Ta,{className:"h-4 w-4"}),a.jsx("span",{children:"Elevated security monitoring recommended"})]})]})]})]})]}),a.jsxs(ve,{children:[a.jsx(Ie,{children:a.jsx(ke,{children:"System Health"})}),a.jsx(ye,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-green-500 to-blue-500 text-white rounded-lg",children:[a.jsx("h3",{className:"text-2xl font-bold",children:n.platformFees.toLocaleString()}),a.jsx("p",{className:"text-green-100",children:"Platform Fees Collected"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsxs("h4",{className:"text-xl font-bold",children:[(l.filter(F=>F.status==="completed").length/l.length*100).toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Success Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[a.jsx("h4",{className:"text-xl font-bold",children:n.avgTransactionValue.toLocaleString()}),a.jsx("p",{className:"text-sm text-gray-600",children:"Avg Transaction"})]})]}),a.jsxs("div",{className:"pt-4 border-t",children:[a.jsx("h4",{className:"font-semibold mb-2",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Most active user type:"}),a.jsx("span",{className:"font-semibold",children:P().reduce((F,V)=>V.active>F.active?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Highest revenue user type:"}),a.jsx("span",{className:"font-semibold",children:P().reduce((F,V)=>V.revenue>F.revenue?V:F).name})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Top payment method:"}),a.jsx("span",{className:"font-semibold",children:((L=R()[0])==null?void 0:L.name)||"N/A"})]})]})]})]})})]})]})})]})]})};function dEe(){const{t:e}=Yt();return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:e("disputeManagement")}),a.jsx("p",{className:"text-muted-foreground",children:e("handleUserDisputesAndComplaints")})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(_e,{variant:"outline",children:[a.jsx(Wl,{className:"h-4 w-4 mr-2"}),e("searchDisputes")]}),a.jsxs(_e,{variant:"outline",children:[a.jsx(rg,{className:"h-4 w-4 mr-2"}),e("filterDisputes")]})]})]}),a.jsxs(ve,{children:[a.jsxs(Ie,{children:[a.jsxs(ke,{className:"flex items-center space-x-2",children:[a.jsx(Da,{className:"h-5 w-5"}),a.jsx("span",{children:e("disputeManagement")})]}),a.jsx(lt,{children:e("featureInDevelopment")})]}),a.jsx(ye,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ree,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium",children:e("disputesComingSoon")}),a.jsx("p",{className:"text-muted-foreground",children:e("disputesFeatureDescription")})]})})]})]})}const fEe=({url:e,title:t,type:n})=>{const r=n.includes("image");return a.jsxs(ha,{children:[a.jsx(Ph,{asChild:!0,children:a.jsxs(_e,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[a.jsx(Kn,{className:"w-4 h-4"}),"View"]})}),a.jsxs(ma,{className:"max-w-3xl max-h-[90vh]",children:[a.jsx(ga,{children:a.jsx(pa,{children:t})}),a.jsx("div",{className:"flex justify-center items-center p-4 max-h-[70vh] overflow-auto",children:r?a.jsx("img",{src:e,alt:t,className:"max-w-full max-h-full object-contain rounded-lg"}):a.jsx("iframe",{src:e,title:t,className:"w-full h-96 border rounded-lg"})})]})]})};function hEe(){const{user:e}=cn(),{t}=Yt(),[n,r]=N.useState([]),[i,s]=N.useState(null),[l,d]=N.useState(!0),[m,h]=N.useState(!1),[p,v]=N.useState("pending"),[S,A]=N.useState(!1),[T,_]=N.useState("approve"),[C,M]=N.useState("");N.useEffect(()=>{P()},[]);const P=async()=>{d(!0);try{const{data:z,error:H}=await rt.from("driver_profiles").select(`
          *,
          profiles!driver_profiles_user_id_fkey (
            full_name,
            email,
            phone_number,
            created_at
          )
        `).neq("verification_status","not_submitted").order("updated_at",{ascending:!1});if(H)throw H;const W=(z==null?void 0:z.map(q=>{var Q,te,J,Y;return{...q,full_name:((Q=q.profiles)==null?void 0:Q.full_name)||"Unknown",email:((te=q.profiles)==null?void 0:te.email)||"",phone_number:(J=q.profiles)==null?void 0:J.phone_number,user_created_at:((Y=q.profiles)==null?void 0:Y.created_at)||q.created_at}}))||[];r(W)}catch(z){console.error("Error fetching submissions:",z),Ge.error(t("common.error"))}finally{d(!1)}},R=async()=>{if(i){h(!0);try{const{error:z}=await rt.from("driver_profiles").update({verification_status:T,updated_at:new Date().toISOString()}).eq("user_id",i.user_id);if(z)throw z;await rt.from("notifications").insert({user_id:i.user_id,notification_type:"system",title:T==="approve"?"Verification Approved":"Verification Rejected",message:T==="approve"?"Congratulations! Your driver verification has been approved. You can now start accepting passengers.":`Your verification was rejected. ${C||"Please review your documents and resubmit."}`,metadata:{verification_status:T,review_notes:C,reviewer_id:e==null?void 0:e.id}}),Ge.success(`Driver verification ${T}d successfully`),A(!1),s(null),M(""),await P()}catch(z){console.error("Error reviewing submission:",z),Ge.error(t("common.error"))}finally{h(!1)}}},U=z=>{switch(z){case"approved":return a.jsx(yi,{className:"w-5 h-5 text-green-500"});case"rejected":return a.jsx(sd,{className:"w-5 h-5 text-red-500"});case"pending":return a.jsx(br,{className:"w-5 h-5 text-yellow-500"});default:return a.jsx(Da,{className:"w-5 h-5 text-gray-500"})}},B=z=>{const H={pending:"default",approved:"default",rejected:"destructive"};return a.jsxs(pt,{variant:H[z],className:"flex items-center gap-1",children:[U(z),t(`driver.verification.status.${z}`)]})},L=n.filter(z=>p==="all"?!0:z.verification_status===p),V={pending:n.filter(z=>z.verification_status==="pending").length,approved:n.filter(z=>z.verification_status==="approved").length,rejected:n.filter(z=>z.verification_status==="rejected").length,all:n.length};return l?a.jsxs("div",{className:"flex justify-center p-8",children:[t("common.loading"),"..."]}):a.jsxs("div",{className:"container mx-auto px-4 py-6 max-w-6xl",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Driver Verification Review"}),a.jsx("p",{className:"text-muted-foreground",children:"Review and approve driver verification submissions"})]}),a.jsxs(Jo,{value:p,onValueChange:v,className:"w-full",children:[a.jsxs(el,{className:"grid w-full grid-cols-4",children:[a.jsxs(Dt,{value:"pending",className:"flex items-center gap-2",children:["Pending ",V.pending>0&&a.jsx(pt,{variant:"outline",children:V.pending})]}),a.jsxs(Dt,{value:"approved",className:"flex items-center gap-2",children:["Approved ",V.approved>0&&a.jsx(pt,{variant:"outline",children:V.approved})]}),a.jsxs(Dt,{value:"rejected",className:"flex items-center gap-2",children:["Rejected ",V.rejected>0&&a.jsx(pt,{variant:"outline",children:V.rejected})]}),a.jsxs(Dt,{value:"all",className:"flex items-center gap-2",children:["All ",V.all>0&&a.jsx(pt,{variant:"outline",children:V.all})]})]}),a.jsx(Lt,{value:p,className:"mt-6",children:L.length===0?a.jsx(ve,{children:a.jsxs(ye,{className:"p-8 text-center",children:[a.jsx(Da,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"No submissions found for this status."})]})}):a.jsx("div",{className:"space-y-4",children:L.map(z=>a.jsxs(ve,{className:"p-6",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(lh,{className:"w-8 h-8 text-primary"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",children:z.full_name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:z.email}),z.phone_number&&a.jsx("p",{className:"text-sm text-muted-foreground",children:z.phone_number})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[B(z.verification_status),a.jsx(_e,{variant:"outline",onClick:()=>s(z),children:"Review Details"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(la,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:[z.vehicle_type," - ",z.vehicle_model]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ua,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs("span",{children:["License: ",z.license_number]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx($o,{className:"w-4 h-4 text-muted-foreground"}),a.jsx("span",{children:z.route_name||"No route specified"})]})]}),a.jsxs("div",{className:"mt-4 text-xs text-muted-foreground",children:["Submitted: ",new Date(z.updated_at).toLocaleDateString()," at ",new Date(z.updated_at).toLocaleTimeString()]})]},z.id))})})]}),i&&a.jsx(ha,{open:!!i,onOpenChange:()=>s(null),children:a.jsxs(ma,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ga,{children:[a.jsxs(pa,{className:"flex items-center gap-2",children:[a.jsx(lh,{className:"w-5 h-5"}),i.full_name," - Verification Review"]}),a.jsx(Ra,{children:"Review driver information and documents for verification approval"})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Driver Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Full Name"}),a.jsx("p",{className:"font-medium",children:i.full_name})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Email"}),a.jsx("p",{className:"font-medium",children:i.email})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:i.phone_number||"Not provided"})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Account Created"}),a.jsx("p",{className:"font-medium",children:new Date(i.user_created_at).toLocaleDateString()})]})]})]}),a.jsx(qo,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Vehicle Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"License Number"}),a.jsx("p",{className:"font-medium",children:i.license_number})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"License Expiry"}),a.jsx("p",{className:"font-medium",children:i.license_expiry})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Vehicle Type"}),a.jsx("p",{className:"font-medium",children:i.vehicle_type})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Vehicle Model"}),a.jsx("p",{className:"font-medium",children:i.vehicle_model})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Vehicle Plate"}),a.jsx("p",{className:"font-medium",children:i.vehicle_plate})]}),a.jsxs("div",{children:[a.jsx(et,{className:"text-muted-foreground",children:"Route"}),a.jsx("p",{className:"font-medium",children:i.route_name||"Not specified"})]})]}),i.route_description&&a.jsxs("div",{className:"mt-3",children:[a.jsx(et,{className:"text-muted-foreground",children:"Route Description"}),a.jsx("p",{className:"text-sm mt-1",children:i.route_description})]})]}),a.jsx(qo,{}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium mb-3",children:"Uploaded Documents"}),i.verification_documents?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(i.verification_documents).map(([z,H])=>{const q=(Q=>Q.includes("license")?Ki:Q.includes("vehicle")?la:XA)(z);return a.jsxs("div",{className:"border rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(q,{className:"w-5 h-5 text-primary"}),a.jsx("span",{className:"font-medium",children:t(`driver.verification.documentTypes.${z}`)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Uploaded: ",new Date(H.uploaded_at).toLocaleDateString()]}),a.jsx(fEe,{url:H.url,title:t(`driver.verification.documentTypes.${z}`),type:H.url.includes(".pdf")?"application/pdf":"image"})]})]},z)})}):a.jsx("p",{className:"text-muted-foreground",children:"No documents uploaded"})]}),i.verification_status==="pending"&&a.jsxs("div",{className:"flex gap-3 pt-4",children:[a.jsxs(_e,{onClick:()=>{_("approve"),A(!0)},className:"flex-1",children:[a.jsx(yi,{className:"w-4 h-4 mr-2"}),"Approve Verification"]}),a.jsxs(_e,{variant:"destructive",onClick:()=>{_("reject"),A(!0)},className:"flex-1",children:[a.jsx(sd,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]})]})}),a.jsx(ha,{open:S,onOpenChange:A,children:a.jsxs(ma,{children:[a.jsxs(ga,{children:[a.jsxs(pa,{children:[T==="approve"?"Approve":"Reject"," Driver Verification"]}),a.jsx(Ra,{children:T==="approve"?"This will approve the driver verification and allow them to start accepting passengers.":"This will reject the driver verification. Please provide feedback for the driver."})]}),T==="reject"&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(et,{htmlFor:"review-notes",children:"Feedback for Driver"}),a.jsx(ay,{id:"review-notes",value:C,onChange:z=>M(z.target.value),placeholder:"Explain why the verification was rejected and what needs to be corrected...",rows:4})]}),a.jsxs(moe,{children:[a.jsx(_e,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsx(_e,{onClick:R,disabled:m||T==="reject"&&!C.trim(),variant:T==="approve"?"default":"destructive",children:m?"Processing...":`${T==="approve"?"Approve":"Reject"} Verification`})]})]})})]})}function mEe(){return rA(["admin"]),a.jsx(cg,{userType:"admin",children:a.jsxs(Ah,{children:[a.jsx(St,{path:"/",element:a.jsx(Il,{to:"/admin/home",replace:!0})}),a.jsx(St,{path:"/home",element:a.jsx(lEe,{})}),a.jsx(St,{path:"/users",element:a.jsx(cEe,{})}),a.jsx(St,{path:"/analytics",element:a.jsx(uEe,{})}),a.jsx(St,{path:"/disputes",element:a.jsx(dEe,{})}),a.jsx(St,{path:"/verification-review",element:a.jsx(hEe,{})}),a.jsx(St,{path:"/profile",element:a.jsx(Eg,{})}),a.jsx(St,{path:"/settings",element:a.jsx(_g,{})})]})})}function Jm({children:e,allowedRoles:t}){const{user:n,profile:r,loading:i}=cn();return i?a.jsx(Qi,{}):n?r?t.includes(r.user_type)?a.jsx(a.Fragment,{children:e}):a.jsx(Il,{to:`/${r.user_type}`,replace:!0}):a.jsx(Qi,{text:"Loading profile..."}):a.jsx(Il,{to:"/login",replace:!0})}function gEe(){const{user:e,profile:t,loading:n}=cn(),{isRTL:r}=Yt();return n?a.jsx(Qi,{}):a.jsx("div",{className:`min-h-screen ${r?"rtl":"ltr"}`,children:a.jsx(uG,{children:a.jsxs(Ah,{children:[a.jsx(St,{path:"/",element:e?a.jsx(yx,{}):a.jsx(Nte,{})}),a.jsx(St,{path:"/login",element:e?a.jsx(yx,{}):a.jsx(Vte,{})}),a.jsx(St,{path:"/register",element:e?a.jsx(yx,{}):a.jsx(Bie,{})}),a.jsx(St,{path:"/forgot-password",element:e?a.jsx(yx,{}):a.jsx(Fie,{})}),a.jsx(St,{path:"/otp-verification",element:a.jsx(tae,{})}),a.jsx(St,{path:"/reset-password",element:a.jsx(nae,{})}),a.jsx(St,{path:"/passenger/*",element:a.jsx(Jm,{allowedRoles:["passenger"],children:a.jsx(kNe,{})})}),a.jsx(St,{path:"/driver/*",element:a.jsx(Jm,{allowedRoles:["driver"],children:a.jsx(_Ae,{})})}),a.jsx(St,{path:"/merchant/*",element:a.jsx(Jm,{allowedRoles:["merchant"],children:a.jsx(nEe,{})})}),a.jsx(St,{path:"/event-admin/*",element:a.jsx(Jm,{allowedRoles:["event_admin"],children:a.jsx(oEe,{})})}),a.jsx(St,{path:"/admin/*",element:a.jsx(Jm,{allowedRoles:["admin"],children:a.jsx(mEe,{})})}),a.jsx(St,{path:"*",element:a.jsx(Il,{to:"/",replace:!0})})]})})})}function yx(){const{profile:e}=cn();return e?a.jsx(Il,{to:`/${e.user_type}`,replace:!0}):a.jsx(Il,{to:"/login",replace:!0})}var pEe=(e,t,n,r,i,s,l,d)=>{let m=document.documentElement,h=["light","dark"];function p(A){(Array.isArray(e)?e:[e]).forEach(T=>{let _=T==="class",C=_&&s?i.map(M=>s[M]||M):i;_?(m.classList.remove(...C),m.classList.add(s&&s[A]?s[A]:A)):m.setAttribute(T,A)}),v(A)}function v(A){d&&h.includes(A)&&(m.style.colorScheme=A)}function S(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(r)p(r);else try{let A=localStorage.getItem(t)||n,T=l&&A==="system"?S():A;p(T)}catch{}},xEe=N.createContext(void 0),vEe={setTheme:e=>{},themes:[]},yEe=()=>{var e;return(e=N.useContext(xEe))!=null?e:vEe};N.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:l,themes:d,nonce:m,scriptProps:h})=>{let p=JSON.stringify([n,t,s,e,d,l,r,i]).slice(1,-1);return N.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?m:"",dangerouslySetInnerHTML:{__html:`(${pEe.toString()})(${p})`}})});const bEe=({...e})=>{const{theme:t="system"}=yEe();return a.jsx(zoe,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};function wEe(){return a.jsx(XY,{children:a.jsx(KY,{children:a.jsx(YY,{children:a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(gEe,{}),a.jsx(bEe,{richColors:!0,position:"top-right"})]})})})})}zH.createRoot(document.getElementById("root")).render(a.jsx(N.StrictMode,{children:a.jsx(wEe,{})}));export{dd as _,Lp as c,Ia as g};
